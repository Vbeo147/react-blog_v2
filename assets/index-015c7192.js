function Nme(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const u=Object.getOwnPropertyDescriptor(o,a);u&&Object.defineProperty(t,a,u.get?u:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=r(a);fetch(a.href,u)}})();var va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={},Rme={get exports(){return Wm},set exports(t){Wm=t}},i_={},q={},Ome={get exports(){return q},set exports(t){q=t}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=Symbol.for("react.element"),Lme=Symbol.for("react.portal"),Bme=Symbol.for("react.fragment"),zme=Symbol.for("react.strict_mode"),Fme=Symbol.for("react.profiler"),jme=Symbol.for("react.provider"),Vme=Symbol.for("react.context"),Ume=Symbol.for("react.forward_ref"),$me=Symbol.for("react.suspense"),Hme=Symbol.for("react.memo"),qme=Symbol.for("react.lazy"),YF=Symbol.iterator;function Wme(t){return t===null||typeof t!="object"?null:(t=YF&&t[YF]||t["@@iterator"],typeof t=="function"?t:null)}var R$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O$=Object.assign,L$={};function _f(t,e,r){this.props=t,this.context=e,this.refs=L$,this.updater=r||R$}_f.prototype.isReactComponent={};_f.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B$(){}B$.prototype=_f.prototype;function mD(t,e,r){this.props=t,this.context=e,this.refs=L$,this.updater=r||R$}var gD=mD.prototype=new B$;gD.constructor=mD;O$(gD,_f.prototype);gD.isPureReactComponent=!0;var QF=Array.isArray,z$=Object.prototype.hasOwnProperty,bD={current:null},F$={key:!0,ref:!0,__self:!0,__source:!0};function j$(t,e,r){var o,a={},u=null,h=null;if(e!=null)for(o in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(u=""+e.key),e)z$.call(e,o)&&!F$.hasOwnProperty(o)&&(a[o]=e[o]);var p=arguments.length-2;if(p===1)a.children=r;else if(1<p){for(var m=Array(p),b=0;b<p;b++)m[b]=arguments[b+2];a.children=m}if(t&&t.defaultProps)for(o in p=t.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:Qg,type:t,key:u,ref:h,props:a,_owner:bD.current}}function Gme(t,e){return{$$typeof:Qg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wD(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qg}function Kme(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ZF=/\/+/g;function ex(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kme(""+t.key):e.toString(36)}function Xk(t,e,r,o,a){var u=typeof t;(u==="undefined"||u==="boolean")&&(t=null);var h=!1;if(t===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case Qg:case Lme:h=!0}}if(h)return h=t,a=a(h),t=o===""?"."+ex(h,0):o,QF(a)?(r="",t!=null&&(r=t.replace(ZF,"$&/")+"/"),Xk(a,e,r,"",function(b){return b})):a!=null&&(wD(a)&&(a=Gme(a,r+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(ZF,"$&/")+"/")+t)),e.push(a)),1;if(h=0,o=o===""?".":o+":",QF(t))for(var p=0;p<t.length;p++){u=t[p];var m=o+ex(u,p);h+=Xk(u,e,r,m,a)}else if(m=Wme(t),typeof m=="function")for(t=m.call(t),p=0;!(u=t.next()).done;)u=u.value,m=o+ex(u,p++),h+=Xk(u,e,r,m,a);else if(u==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function ck(t,e,r){if(t==null)return t;var o=[],a=0;return Xk(t,o,"","",function(u){return e.call(r,u,a++)}),o}function Yme(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ri={current:null},ev={transition:null},Qme={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:ev,ReactCurrentOwner:bD};Et.Children={map:ck,forEach:function(t,e,r){ck(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ck(t,function(){e++}),e},toArray:function(t){return ck(t,function(e){return e})||[]},only:function(t){if(!wD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=_f;Et.Fragment=Bme;Et.Profiler=Fme;Et.PureComponent=mD;Et.StrictMode=zme;Et.Suspense=$me;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qme;Et.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=O$({},t.props),a=t.key,u=t.ref,h=t._owner;if(e!=null){if(e.ref!==void 0&&(u=e.ref,h=bD.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(m in e)z$.call(e,m)&&!F$.hasOwnProperty(m)&&(o[m]=e[m]===void 0&&p!==void 0?p[m]:e[m])}var m=arguments.length-2;if(m===1)o.children=r;else if(1<m){p=Array(m);for(var b=0;b<m;b++)p[b]=arguments[b+2];o.children=p}return{$$typeof:Qg,type:t.type,key:a,ref:u,props:o,_owner:h}};Et.createContext=function(t){return t={$$typeof:Vme,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jme,_context:t},t.Consumer=t};Et.createElement=j$;Et.createFactory=function(t){var e=j$.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:Ume,render:t}};Et.isValidElement=wD;Et.lazy=function(t){return{$$typeof:qme,_payload:{_status:-1,_result:t},_init:Yme}};Et.memo=function(t,e){return{$$typeof:Hme,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=ev.transition;ev.transition={};try{t()}finally{ev.transition=e}};Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.useCallback=function(t,e){return Ri.current.useCallback(t,e)};Et.useContext=function(t){return Ri.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return Ri.current.useDeferredValue(t)};Et.useEffect=function(t,e){return Ri.current.useEffect(t,e)};Et.useId=function(){return Ri.current.useId()};Et.useImperativeHandle=function(t,e,r){return Ri.current.useImperativeHandle(t,e,r)};Et.useInsertionEffect=function(t,e){return Ri.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return Ri.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return Ri.current.useMemo(t,e)};Et.useReducer=function(t,e,r){return Ri.current.useReducer(t,e,r)};Et.useRef=function(t){return Ri.current.useRef(t)};Et.useState=function(t){return Ri.current.useState(t)};Et.useSyncExternalStore=function(t,e,r){return Ri.current.useSyncExternalStore(t,e,r)};Et.useTransition=function(){return Ri.current.useTransition()};Et.version="18.2.0";(function(t){t.exports=Et})(Ome);const rn=pD(q),LS=Nme({__proto__:null,default:rn},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zme=q,Jme=Symbol.for("react.element"),Xme=Symbol.for("react.fragment"),ege=Object.prototype.hasOwnProperty,tge=Zme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nge={key:!0,ref:!0,__self:!0,__source:!0};function V$(t,e,r){var o,a={},u=null,h=null;r!==void 0&&(u=""+r),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(h=e.ref);for(o in e)ege.call(e,o)&&!nge.hasOwnProperty(o)&&(a[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:Jme,type:t,key:u,ref:h,props:a,_owner:tge.current}}i_.Fragment=Xme;i_.jsx=V$;i_.jsxs=V$;(function(t){t.exports=i_})(Rme);const $u=Wm.Fragment,Pe=Wm.jsx,mn=Wm.jsxs;var BS={},Mv={},rge={get exports(){return Mv},set exports(t){Mv=t}},bo={},zS={},ige={get exports(){return zS},set exports(t){zS=t}},U$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(le,se){var W=le.length;le.push(se);e:for(;0<W;){var Ae=W-1>>>1,xe=le[Ae];if(0<a(xe,se))le[Ae]=se,le[W]=xe,W=Ae;else break e}}function r(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var se=le[0],W=le.pop();if(W!==se){le[0]=W;e:for(var Ae=0,xe=le.length,O=xe>>>1;Ae<O;){var Be=2*(Ae+1)-1,rt=le[Be],bt=Be+1,Lt=le[bt];if(0>a(rt,W))bt<xe&&0>a(Lt,rt)?(le[Ae]=Lt,le[bt]=W,Ae=bt):(le[Ae]=rt,le[Be]=W,Ae=Be);else if(bt<xe&&0>a(Lt,W))le[Ae]=Lt,le[bt]=W,Ae=bt;else break e}}return se}function a(le,se){var W=le.sortIndex-se.sortIndex;return W!==0?W:le.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var m=[],b=[],k=1,v=null,_=3,A=!1,E=!1,T=!1,L=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(le){for(var se=r(b);se!==null;){if(se.callback===null)o(b);else if(se.startTime<=le)o(b),se.sortIndex=se.expirationTime,e(m,se);else break;se=r(b)}}function R(le){if(T=!1,I(le),!E)if(r(m)!==null)E=!0,qe(j);else{var se=r(b);se!==null&&ze(R,se.startTime-le)}}function j(le,se){E=!1,T&&(T=!1,M(J),J=-1),A=!0;var W=_;try{for(I(se),v=r(m);v!==null&&(!(v.expirationTime>se)||le&&!Le());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,_=v.priorityLevel;var xe=Ae(v.expirationTime<=se);se=t.unstable_now(),typeof xe=="function"?v.callback=xe:v===r(m)&&o(m),I(se)}else o(m);v=r(m)}if(v!==null)var O=!0;else{var Be=r(b);Be!==null&&ze(R,Be.startTime-se),O=!1}return O}finally{v=null,_=W,A=!1}}var V=!1,H=null,J=-1,oe=5,de=-1;function Le(){return!(t.unstable_now()-de<oe)}function te(){if(H!==null){var le=t.unstable_now();de=le;var se=!0;try{se=H(!0,le)}finally{se?ie():(V=!1,H=null)}}else V=!1}var ie;if(typeof S=="function")ie=function(){S(te)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ee=_e.port2;_e.port1.onmessage=te,ie=function(){Ee.postMessage(null)}}else ie=function(){L(te,0)};function qe(le){H=le,V||(V=!0,ie())}function ze(le,se){J=L(function(){le(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){E||A||(E=!0,qe(j))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(m)},t.unstable_next=function(le){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var W=_;_=se;try{return le()}finally{_=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var W=_;_=le;try{return se()}finally{_=W}},t.unstable_scheduleCallback=function(le,se,W){var Ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ae+W:Ae):W=Ae,le){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,le={id:k++,callback:se,priorityLevel:le,startTime:W,expirationTime:xe,sortIndex:-1},W>Ae?(le.sortIndex=W,e(b,le),r(m)===null&&le===r(b)&&(T?(M(J),J=-1):T=!0,ze(R,W-Ae))):(le.sortIndex=xe,e(m,le),E||A||(E=!0,qe(j))),le},t.unstable_shouldYield=Le,t.unstable_wrapCallback=function(le){var se=_;return function(){var W=_;_=se;try{return le.apply(this,arguments)}finally{_=W}}}})(U$);(function(t){t.exports=U$})(ige);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $$=q,fo=zS;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H$=new Set,Gm={};function dd(t,e){Gh(t,e),Gh(t+"Capture",e)}function Gh(t,e){for(Gm[t]=e,t=0;t<e.length;t++)H$.add(e[t])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FS=Object.prototype.hasOwnProperty,oge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JF={},XF={};function sge(t){return FS.call(XF,t)?!0:FS.call(JF,t)?!1:oge.test(t)?XF[t]=!0:(JF[t]=!0,!1)}function age(t,e,r,o){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cge(t,e,r,o){if(e===null||typeof e>"u"||age(t,e,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,r,o,a,u,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=u,this.removeEmptyString=h}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ri[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ri[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ri[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ri[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ri[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ri[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ri[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ri[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ri[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var kD=/[\-:]([a-z])/g;function vD(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kD,vD);ri[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kD,vD);ri[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kD,vD);ri[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ri[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});ri.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ri[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function yD(t,e,r,o){var a=ri.hasOwnProperty(e)?ri[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cge(e,r,a,o)&&(r=null),o||a===null?sge(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,o=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,o?t.setAttributeNS(o,e,r):t.setAttribute(e,r))))}var Ga=$$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lk=Symbol.for("react.element"),lh=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),_D=Symbol.for("react.strict_mode"),jS=Symbol.for("react.profiler"),q$=Symbol.for("react.provider"),W$=Symbol.for("react.context"),AD=Symbol.for("react.forward_ref"),VS=Symbol.for("react.suspense"),US=Symbol.for("react.suspense_list"),CD=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),G$=Symbol.for("react.offscreen"),e4=Symbol.iterator;function Mp(t){return t===null||typeof t!="object"?null:(t=e4&&t[e4]||t["@@iterator"],typeof t=="function"?t:null)}var $n=Object.assign,tx;function im(t){if(tx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tx=e&&e[1]||""}return`
`+tx+t}var nx=!1;function rx(t,e){if(!t||nx)return"";nx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(b){var o=b}Reflect.construct(t,[],e)}else{try{e.call()}catch(b){o=b}t.call(e.prototype)}else{try{throw Error()}catch(b){o=b}t()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),u=o.stack.split(`
`),h=a.length-1,p=u.length-1;1<=h&&0<=p&&a[h]!==u[p];)p--;for(;1<=h&&0<=p;h--,p--)if(a[h]!==u[p]){if(h!==1||p!==1)do if(h--,p--,0>p||a[h]!==u[p]){var m=`
`+a[h].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=h&&0<=p);break}}}finally{nx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?im(t):""}function lge(t){switch(t.tag){case 5:return im(t.type);case 16:return im("Lazy");case 13:return im("Suspense");case 19:return im("SuspenseList");case 0:case 2:case 15:return t=rx(t.type,!1),t;case 11:return t=rx(t.type.render,!1),t;case 1:return t=rx(t.type,!0),t;default:return""}}function $S(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uh:return"Fragment";case lh:return"Portal";case jS:return"Profiler";case _D:return"StrictMode";case VS:return"Suspense";case US:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W$:return(t.displayName||"Context")+".Consumer";case q$:return(t._context.displayName||"Context")+".Provider";case AD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case CD:return e=t.displayName||null,e!==null?e:$S(t.type)||"Memo";case Ec:e=t._payload,t=t._init;try{return $S(t(e))}catch{}}return null}function uge(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $S(e);case 8:return e===_D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dge(t){var e=K$(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,u=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(h){o=""+h,u.call(this,h)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uk(t){t._valueTracker||(t._valueTracker=dge(t))}function Y$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return t&&(o=K$(t)?t.checked?"true":"false":t.value),t=o,t!==r?(e.setValue(t),!0):!1}function Nv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function HS(t,e){var r=e.checked;return $n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function t4(t,e){var r=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;r=Qc(e.value!=null?e.value:r),t._wrapperState={initialChecked:o,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q$(t,e){e=e.checked,e!=null&&yD(t,"checked",e,!1)}function qS(t,e){Q$(t,e);var r=Qc(e.value),o=e.type;if(r!=null)o==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?WS(t,e.type,r):e.hasOwnProperty("defaultValue")&&WS(t,e.type,Qc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function WS(t,e,r){(e!=="number"||Nv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var om=Array.isArray;function Ph(t,e,r,o){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Qc(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,o&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function GS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return $n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(om(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qc(r)}}function Z$(t,e){var r=Qc(e.value),o=Qc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),o!=null&&(t.defaultValue=""+o)}function i4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function KS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dk,X$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,o,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,o,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dk=dk||document.createElement("div"),dk.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dk.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Km(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hge=["Webkit","ms","Moz","O"];Object.keys(bm).forEach(function(t){hge.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bm[e]=bm[t]})});function e6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bm.hasOwnProperty(t)&&bm[t]?(""+e).trim():e+"px"}function t6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=r.indexOf("--")===0,a=e6(r,e[r],o);r==="float"&&(r="cssFloat"),o?t.setProperty(r,a):t[r]=a}}var fge=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function YS(t,e){if(e){if(fge[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function QS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZS=null;function ED(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var JS=null,Mh=null,Nh=null;function o4(t){if(t=Xg(t)){if(typeof JS!="function")throw Error(we(280));var e=t.stateNode;e&&(e=l_(e),JS(t.stateNode,t.type,e))}}function n6(t){Mh?Nh?Nh.push(t):Nh=[t]:Mh=t}function r6(){if(Mh){var t=Mh,e=Nh;if(Nh=Mh=null,o4(t),e)for(t=0;t<e.length;t++)o4(e[t])}}function i6(t,e){return t(e)}function o6(){}var ix=!1;function s6(t,e,r){if(ix)return t(e,r);ix=!0;try{return i6(t,e,r)}finally{ix=!1,(Mh!==null||Nh!==null)&&(o6(),r6())}}function Ym(t,e){var r=t.stateNode;if(r===null)return null;var o=l_(r);if(o===null)return null;r=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var XS=!1;if(Oa)try{var Np={};Object.defineProperty(Np,"passive",{get:function(){XS=!0}}),window.addEventListener("test",Np,Np),window.removeEventListener("test",Np,Np)}catch{XS=!1}function pge(t,e,r,o,a,u,h,p,m){var b=Array.prototype.slice.call(arguments,3);try{e.apply(r,b)}catch(k){this.onError(k)}}var wm=!1,Rv=null,Ov=!1,eT=null,mge={onError:function(t){wm=!0,Rv=t}};function gge(t,e,r,o,a,u,h,p,m){wm=!1,Rv=null,pge.apply(mge,arguments)}function bge(t,e,r,o,a,u,h,p,m){if(gge.apply(this,arguments),wm){if(wm){var b=Rv;wm=!1,Rv=null}else throw Error(we(198));Ov||(Ov=!0,eT=b)}}function hd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function a6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s4(t){if(hd(t)!==t)throw Error(we(188))}function wge(t){var e=t.alternate;if(!e){if(e=hd(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,o=e;;){var a=r.return;if(a===null)break;var u=a.alternate;if(u===null){if(o=a.return,o!==null){r=o;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===r)return s4(a),t;if(u===o)return s4(a),e;u=u.sibling}throw Error(we(188))}if(r.return!==o.return)r=a,o=u;else{for(var h=!1,p=a.child;p;){if(p===r){h=!0,r=a,o=u;break}if(p===o){h=!0,o=a,r=u;break}p=p.sibling}if(!h){for(p=u.child;p;){if(p===r){h=!0,r=u,o=a;break}if(p===o){h=!0,o=u,r=a;break}p=p.sibling}if(!h)throw Error(we(189))}}if(r.alternate!==o)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function c6(t){return t=wge(t),t!==null?l6(t):null}function l6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l6(t);if(e!==null)return e;t=t.sibling}return null}var u6=fo.unstable_scheduleCallback,a4=fo.unstable_cancelCallback,kge=fo.unstable_shouldYield,vge=fo.unstable_requestPaint,ir=fo.unstable_now,yge=fo.unstable_getCurrentPriorityLevel,xD=fo.unstable_ImmediatePriority,d6=fo.unstable_UserBlockingPriority,Lv=fo.unstable_NormalPriority,_ge=fo.unstable_LowPriority,h6=fo.unstable_IdlePriority,o_=null,Ws=null;function Age(t){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(o_,t,void 0,(t.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:xge,Cge=Math.log,Ege=Math.LN2;function xge(t){return t>>>=0,t===0?32:31-(Cge(t)/Ege|0)|0}var hk=64,fk=4194304;function sm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bv(t,e){var r=t.pendingLanes;if(r===0)return 0;var o=0,a=t.suspendedLanes,u=t.pingedLanes,h=r&268435455;if(h!==0){var p=h&~a;p!==0?o=sm(p):(u&=h,u!==0&&(o=sm(u)))}else h=r&~a,h!==0?o=sm(h):u!==0&&(o=sm(u));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,u=e&-e,a>=u||a===16&&(u&4194240)!==0))return e;if(o&4&&(o|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)r=31-us(e),a=1<<r,o|=t[r],e&=~a;return o}function Sge(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tge(t,e){for(var r=t.suspendedLanes,o=t.pingedLanes,a=t.expirationTimes,u=t.pendingLanes;0<u;){var h=31-us(u),p=1<<h,m=a[h];m===-1?(!(p&r)||p&o)&&(a[h]=Sge(p,e)):m<=e&&(t.expiredLanes|=p),u&=~p}}function tT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f6(){var t=hk;return hk<<=1,!(hk&4194240)&&(hk=64),t}function ox(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-us(e),t[e]=r}function Ige(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-us(r),u=1<<a;e[a]=0,o[a]=-1,t[a]=-1,r&=~u}}function SD(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var o=31-us(r),a=1<<o;a&e|t[o]&e&&(t[o]|=e),r&=~a}}var Kt=0;function p6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m6,TD,g6,b6,w6,nT=!1,pk=[],zc=null,Fc=null,jc=null,Qm=new Map,Zm=new Map,Ic=[],Dge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c4(t,e){switch(t){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Fc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":Qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(e.pointerId)}}function Rp(t,e,r,o,a,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:u,targetContainers:[a]},e!==null&&(e=Xg(e),e!==null&&TD(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Pge(t,e,r,o,a){switch(e){case"focusin":return zc=Rp(zc,t,e,r,o,a),!0;case"dragenter":return Fc=Rp(Fc,t,e,r,o,a),!0;case"mouseover":return jc=Rp(jc,t,e,r,o,a),!0;case"pointerover":var u=a.pointerId;return Qm.set(u,Rp(Qm.get(u)||null,t,e,r,o,a)),!0;case"gotpointercapture":return u=a.pointerId,Zm.set(u,Rp(Zm.get(u)||null,t,e,r,o,a)),!0}return!1}function k6(t){var e=vu(t.target);if(e!==null){var r=hd(e);if(r!==null){if(e=r.tag,e===13){if(e=a6(r),e!==null){t.blockedOn=e,w6(t.priority,function(){g6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);ZS=o,r.target.dispatchEvent(o),ZS=null}else return e=Xg(r),e!==null&&TD(e),t.blockedOn=r,!1;e.shift()}return!0}function l4(t,e,r){tv(t)&&r.delete(e)}function Mge(){nT=!1,zc!==null&&tv(zc)&&(zc=null),Fc!==null&&tv(Fc)&&(Fc=null),jc!==null&&tv(jc)&&(jc=null),Qm.forEach(l4),Zm.forEach(l4)}function Op(t,e){t.blockedOn===e&&(t.blockedOn=null,nT||(nT=!0,fo.unstable_scheduleCallback(fo.unstable_NormalPriority,Mge)))}function Jm(t){function e(a){return Op(a,t)}if(0<pk.length){Op(pk[0],t);for(var r=1;r<pk.length;r++){var o=pk[r];o.blockedOn===t&&(o.blockedOn=null)}}for(zc!==null&&Op(zc,t),Fc!==null&&Op(Fc,t),jc!==null&&Op(jc,t),Qm.forEach(e),Zm.forEach(e),r=0;r<Ic.length;r++)o=Ic[r],o.blockedOn===t&&(o.blockedOn=null);for(;0<Ic.length&&(r=Ic[0],r.blockedOn===null);)k6(r),r.blockedOn===null&&Ic.shift()}var Rh=Ga.ReactCurrentBatchConfig,zv=!0;function Nge(t,e,r,o){var a=Kt,u=Rh.transition;Rh.transition=null;try{Kt=1,ID(t,e,r,o)}finally{Kt=a,Rh.transition=u}}function Rge(t,e,r,o){var a=Kt,u=Rh.transition;Rh.transition=null;try{Kt=4,ID(t,e,r,o)}finally{Kt=a,Rh.transition=u}}function ID(t,e,r,o){if(zv){var a=rT(t,e,r,o);if(a===null)mx(t,e,o,Fv,r),c4(t,o);else if(Pge(a,t,e,r,o))o.stopPropagation();else if(c4(t,o),e&4&&-1<Dge.indexOf(t)){for(;a!==null;){var u=Xg(a);if(u!==null&&m6(u),u=rT(t,e,r,o),u===null&&mx(t,e,o,Fv,r),u===a)break;a=u}a!==null&&o.stopPropagation()}else mx(t,e,o,null,r)}}var Fv=null;function rT(t,e,r,o){if(Fv=null,t=ED(o),t=vu(t),t!==null)if(e=hd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=a6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fv=t,null}function v6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yge()){case xD:return 1;case d6:return 4;case Lv:case _ge:return 16;case h6:return 536870912;default:return 16}default:return 16}}var Nc=null,DD=null,nv=null;function y6(){if(nv)return nv;var t,e=DD,r=e.length,o,a="value"in Nc?Nc.value:Nc.textContent,u=a.length;for(t=0;t<r&&e[t]===a[t];t++);var h=r-t;for(o=1;o<=h&&e[r-o]===a[u-o];o++);return nv=a.slice(t,1<o?1-o:void 0)}function rv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mk(){return!0}function u4(){return!1}function wo(t){function e(r,o,a,u,h){this._reactName=r,this._targetInst=a,this.type=o,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(r=t[p],this[p]=r?r(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?mk:u4,this.isPropagationStopped=u4,this}return $n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mk)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mk)},persist:function(){},isPersistent:mk}),e}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PD=wo(Af),Jg=$n({},Af,{view:0,detail:0}),Oge=wo(Jg),sx,ax,Lp,s_=$n({},Jg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MD,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lp&&(Lp&&t.type==="mousemove"?(sx=t.screenX-Lp.screenX,ax=t.screenY-Lp.screenY):ax=sx=0,Lp=t),sx)},movementY:function(t){return"movementY"in t?t.movementY:ax}}),d4=wo(s_),Lge=$n({},s_,{dataTransfer:0}),Bge=wo(Lge),zge=$n({},Jg,{relatedTarget:0}),cx=wo(zge),Fge=$n({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),jge=wo(Fge),Vge=$n({},Af,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uge=wo(Vge),$ge=$n({},Af,{data:0}),h4=wo($ge),Hge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gge(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wge[t])?!!e[t]:!1}function MD(){return Gge}var Kge=$n({},Jg,{key:function(t){if(t.key){var e=Hge[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qge[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MD,charCode:function(t){return t.type==="keypress"?rv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yge=wo(Kge),Qge=$n({},s_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f4=wo(Qge),Zge=$n({},Jg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MD}),Jge=wo(Zge),Xge=$n({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),ebe=wo(Xge),tbe=$n({},s_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nbe=wo(tbe),rbe=[9,13,27,32],ND=Oa&&"CompositionEvent"in window,km=null;Oa&&"documentMode"in document&&(km=document.documentMode);var ibe=Oa&&"TextEvent"in window&&!km,_6=Oa&&(!ND||km&&8<km&&11>=km),p4=String.fromCharCode(32),m4=!1;function A6(t,e){switch(t){case"keyup":return rbe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dh=!1;function obe(t,e){switch(t){case"compositionend":return C6(e);case"keypress":return e.which!==32?null:(m4=!0,p4);case"textInput":return t=e.data,t===p4&&m4?null:t;default:return null}}function sbe(t,e){if(dh)return t==="compositionend"||!ND&&A6(t,e)?(t=y6(),nv=DD=Nc=null,dh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _6&&e.locale!=="ko"?null:e.data;default:return null}}var abe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!abe[t.type]:e==="textarea"}function E6(t,e,r,o){n6(o),e=jv(e,"onChange"),0<e.length&&(r=new PD("onChange","change",null,r,o),t.push({event:r,listeners:e}))}var vm=null,Xm=null;function cbe(t){L6(t,0)}function a_(t){var e=ph(t);if(Y$(e))return t}function lbe(t,e){if(t==="change")return e}var x6=!1;if(Oa){var lx;if(Oa){var ux="oninput"in document;if(!ux){var b4=document.createElement("div");b4.setAttribute("oninput","return;"),ux=typeof b4.oninput=="function"}lx=ux}else lx=!1;x6=lx&&(!document.documentMode||9<document.documentMode)}function w4(){vm&&(vm.detachEvent("onpropertychange",S6),Xm=vm=null)}function S6(t){if(t.propertyName==="value"&&a_(Xm)){var e=[];E6(e,Xm,t,ED(t)),s6(cbe,e)}}function ube(t,e,r){t==="focusin"?(w4(),vm=e,Xm=r,vm.attachEvent("onpropertychange",S6)):t==="focusout"&&w4()}function dbe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return a_(Xm)}function hbe(t,e){if(t==="click")return a_(e)}function fbe(t,e){if(t==="input"||t==="change")return a_(e)}function pbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:pbe;function eg(t,e){if(hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var a=r[o];if(!FS.call(e,a)||!hs(t[a],e[a]))return!1}return!0}function k4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v4(t,e){var r=k4(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=e&&o>=e)return{node:r,offset:e-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=k4(r)}}function T6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I6(){for(var t=window,e=Nv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Nv(t.document)}return e}function RD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mbe(t){var e=I6(),r=t.focusedElem,o=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&T6(r.ownerDocument.documentElement,r)){if(o!==null&&RD(r)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,u=Math.min(o.start,a);o=o.end===void 0?u:Math.min(o.end,a),!t.extend&&u>o&&(a=o,o=u,u=a),a=v4(r,u);var h=v4(r,o);a&&h&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),u>o?(t.addRange(e),t.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gbe=Oa&&"documentMode"in document&&11>=document.documentMode,hh=null,iT=null,ym=null,oT=!1;function y4(t,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oT||hh==null||hh!==Nv(o)||(o=hh,"selectionStart"in o&&RD(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ym&&eg(ym,o)||(ym=o,o=jv(iT,"onSelect"),0<o.length&&(e=new PD("onSelect","select",null,e,r),t.push({event:e,listeners:o}),e.target=hh)))}function gk(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fh={animationend:gk("Animation","AnimationEnd"),animationiteration:gk("Animation","AnimationIteration"),animationstart:gk("Animation","AnimationStart"),transitionend:gk("Transition","TransitionEnd")},dx={},D6={};Oa&&(D6=document.createElement("div").style,"AnimationEvent"in window||(delete fh.animationend.animation,delete fh.animationiteration.animation,delete fh.animationstart.animation),"TransitionEvent"in window||delete fh.transitionend.transition);function c_(t){if(dx[t])return dx[t];if(!fh[t])return t;var e=fh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in D6)return dx[t]=e[r];return t}var P6=c_("animationend"),M6=c_("animationiteration"),N6=c_("animationstart"),R6=c_("transitionend"),O6=new Map,_4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(t,e){O6.set(t,e),dd(e,[t])}for(var hx=0;hx<_4.length;hx++){var fx=_4[hx],bbe=fx.toLowerCase(),wbe=fx[0].toUpperCase()+fx.slice(1);gl(bbe,"on"+wbe)}gl(P6,"onAnimationEnd");gl(M6,"onAnimationIteration");gl(N6,"onAnimationStart");gl("dblclick","onDoubleClick");gl("focusin","onFocus");gl("focusout","onBlur");gl(R6,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kbe=new Set("cancel close invalid load scroll toggle".split(" ").concat(am));function A4(t,e,r){var o=t.type||"unknown-event";t.currentTarget=r,bge(o,e,void 0,t),t.currentTarget=null}function L6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],a=o.event;o=o.listeners;e:{var u=void 0;if(e)for(var h=o.length-1;0<=h;h--){var p=o[h],m=p.instance,b=p.currentTarget;if(p=p.listener,m!==u&&a.isPropagationStopped())break e;A4(a,p,b),u=m}else for(h=0;h<o.length;h++){if(p=o[h],m=p.instance,b=p.currentTarget,p=p.listener,m!==u&&a.isPropagationStopped())break e;A4(a,p,b),u=m}}}if(Ov)throw t=eT,Ov=!1,eT=null,t}function kn(t,e){var r=e[uT];r===void 0&&(r=e[uT]=new Set);var o=t+"__bubble";r.has(o)||(B6(e,t,2,!1),r.add(o))}function px(t,e,r){var o=0;e&&(o|=4),B6(r,t,o,e)}var bk="_reactListening"+Math.random().toString(36).slice(2);function tg(t){if(!t[bk]){t[bk]=!0,H$.forEach(function(r){r!=="selectionchange"&&(kbe.has(r)||px(r,!1,t),px(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bk]||(e[bk]=!0,px("selectionchange",!1,e))}}function B6(t,e,r,o){switch(v6(e)){case 1:var a=Nge;break;case 4:a=Rge;break;default:a=ID}r=a.bind(null,e,r,t),a=void 0,!XS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function mx(t,e,r,o,a){var u=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(h===4)for(h=o.return;h!==null;){var m=h.tag;if((m===3||m===4)&&(m=h.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;h=h.return}for(;p!==null;){if(h=vu(p),h===null)return;if(m=h.tag,m===5||m===6){o=u=h;continue e}p=p.parentNode}}o=o.return}s6(function(){var b=u,k=ED(r),v=[];e:{var _=O6.get(t);if(_!==void 0){var A=PD,E=t;switch(t){case"keypress":if(rv(r)===0)break e;case"keydown":case"keyup":A=Yge;break;case"focusin":E="focus",A=cx;break;case"focusout":E="blur",A=cx;break;case"beforeblur":case"afterblur":A=cx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=d4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Bge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Jge;break;case P6:case M6:case N6:A=jge;break;case R6:A=ebe;break;case"scroll":A=Oge;break;case"wheel":A=nbe;break;case"copy":case"cut":case"paste":A=Uge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=f4}var T=(e&4)!==0,L=!T&&t==="scroll",M=T?_!==null?_+"Capture":null:_;T=[];for(var S=b,I;S!==null;){I=S;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,M!==null&&(R=Ym(S,M),R!=null&&T.push(ng(S,R,I)))),L)break;S=S.return}0<T.length&&(_=new A(_,E,null,r,k),v.push({event:_,listeners:T}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",_&&r!==ZS&&(E=r.relatedTarget||r.fromElement)&&(vu(E)||E[La]))break e;if((A||_)&&(_=k.window===k?k:(_=k.ownerDocument)?_.defaultView||_.parentWindow:window,A?(E=r.relatedTarget||r.toElement,A=b,E=E?vu(E):null,E!==null&&(L=hd(E),E!==L||E.tag!==5&&E.tag!==6)&&(E=null)):(A=null,E=b),A!==E)){if(T=d4,R="onMouseLeave",M="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(T=f4,R="onPointerLeave",M="onPointerEnter",S="pointer"),L=A==null?_:ph(A),I=E==null?_:ph(E),_=new T(R,S+"leave",A,r,k),_.target=L,_.relatedTarget=I,R=null,vu(k)===b&&(T=new T(M,S+"enter",E,r,k),T.target=I,T.relatedTarget=L,R=T),L=R,A&&E)t:{for(T=A,M=E,S=0,I=T;I;I=Jd(I))S++;for(I=0,R=M;R;R=Jd(R))I++;for(;0<S-I;)T=Jd(T),S--;for(;0<I-S;)M=Jd(M),I--;for(;S--;){if(T===M||M!==null&&T===M.alternate)break t;T=Jd(T),M=Jd(M)}T=null}else T=null;A!==null&&C4(v,_,A,T,!1),E!==null&&L!==null&&C4(v,L,E,T,!0)}}e:{if(_=b?ph(b):window,A=_.nodeName&&_.nodeName.toLowerCase(),A==="select"||A==="input"&&_.type==="file")var j=lbe;else if(g4(_))if(x6)j=fbe;else{j=dbe;var V=ube}else(A=_.nodeName)&&A.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(j=hbe);if(j&&(j=j(t,b))){E6(v,j,r,k);break e}V&&V(t,_,b),t==="focusout"&&(V=_._wrapperState)&&V.controlled&&_.type==="number"&&WS(_,"number",_.value)}switch(V=b?ph(b):window,t){case"focusin":(g4(V)||V.contentEditable==="true")&&(hh=V,iT=b,ym=null);break;case"focusout":ym=iT=hh=null;break;case"mousedown":oT=!0;break;case"contextmenu":case"mouseup":case"dragend":oT=!1,y4(v,r,k);break;case"selectionchange":if(gbe)break;case"keydown":case"keyup":y4(v,r,k)}var H;if(ND)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else dh?A6(t,r)&&(J="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(_6&&r.locale!=="ko"&&(dh||J!=="onCompositionStart"?J==="onCompositionEnd"&&dh&&(H=y6()):(Nc=k,DD="value"in Nc?Nc.value:Nc.textContent,dh=!0)),V=jv(b,J),0<V.length&&(J=new h4(J,t,null,r,k),v.push({event:J,listeners:V}),H?J.data=H:(H=C6(r),H!==null&&(J.data=H)))),(H=ibe?obe(t,r):sbe(t,r))&&(b=jv(b,"onBeforeInput"),0<b.length&&(k=new h4("onBeforeInput","beforeinput",null,r,k),v.push({event:k,listeners:b}),k.data=H))}L6(v,e)})}function ng(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jv(t,e){for(var r=e+"Capture",o=[];t!==null;){var a=t,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=Ym(t,r),u!=null&&o.unshift(ng(t,u,a)),u=Ym(t,e),u!=null&&o.push(ng(t,u,a))),t=t.return}return o}function Jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C4(t,e,r,o,a){for(var u=e._reactName,h=[];r!==null&&r!==o;){var p=r,m=p.alternate,b=p.stateNode;if(m!==null&&m===o)break;p.tag===5&&b!==null&&(p=b,a?(m=Ym(r,u),m!=null&&h.unshift(ng(r,m,p))):a||(m=Ym(r,u),m!=null&&h.push(ng(r,m,p)))),r=r.return}h.length!==0&&t.push({event:e,listeners:h})}var vbe=/\r\n?/g,ybe=/\u0000|\uFFFD/g;function E4(t){return(typeof t=="string"?t:""+t).replace(vbe,`
`).replace(ybe,"")}function wk(t,e,r){if(e=E4(e),E4(t)!==e&&r)throw Error(we(425))}function Vv(){}var sT=null,aT=null;function cT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lT=typeof setTimeout=="function"?setTimeout:void 0,_be=typeof clearTimeout=="function"?clearTimeout:void 0,x4=typeof Promise=="function"?Promise:void 0,Abe=typeof queueMicrotask=="function"?queueMicrotask:typeof x4<"u"?function(t){return x4.resolve(null).then(t).catch(Cbe)}:lT;function Cbe(t){setTimeout(function(){throw t})}function gx(t,e){var r=e,o=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(o===0){t.removeChild(a),Jm(e);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=a}while(r);Jm(e)}function Vc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Cf,rg="__reactProps$"+Cf,La="__reactContainer$"+Cf,uT="__reactEvents$"+Cf,Ebe="__reactListeners$"+Cf,xbe="__reactHandles$"+Cf;function vu(t){var e=t[Ns];if(e)return e;for(var r=t.parentNode;r;){if(e=r[La]||r[Ns]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=S4(t);t!==null;){if(r=t[Ns])return r;t=S4(t)}return e}t=r,r=t.parentNode}return null}function Xg(t){return t=t[Ns]||t[La],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ph(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function l_(t){return t[rg]||null}var dT=[],mh=-1;function bl(t){return{current:t}}function _n(t){0>mh||(t.current=dT[mh],dT[mh]=null,mh--)}function pn(t,e){mh++,dT[mh]=t.current,t.current=e}var Zc={},ki=bl(Zc),Zi=bl(!1),Hu=Zc;function Kh(t,e){var r=t.type.contextTypes;if(!r)return Zc;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in r)a[u]=e[u];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Ji(t){return t=t.childContextTypes,t!=null}function Uv(){_n(Zi),_n(ki)}function T4(t,e,r){if(ki.current!==Zc)throw Error(we(168));pn(ki,e),pn(Zi,r)}function z6(t,e,r){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(we(108,uge(t)||"Unknown",a));return $n({},r,o)}function $v(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zc,Hu=ki.current,pn(ki,t),pn(Zi,Zi.current),!0}function I4(t,e,r){var o=t.stateNode;if(!o)throw Error(we(169));r?(t=z6(t,e,Hu),o.__reactInternalMemoizedMergedChildContext=t,_n(Zi),_n(ki),pn(ki,t)):_n(Zi),pn(Zi,r)}var wa=null,u_=!1,bx=!1;function F6(t){wa===null?wa=[t]:wa.push(t)}function Sbe(t){u_=!0,F6(t)}function wl(){if(!bx&&wa!==null){bx=!0;var t=0,e=Kt;try{var r=wa;for(Kt=1;t<r.length;t++){var o=r[t];do o=o(!0);while(o!==null)}wa=null,u_=!1}catch(a){throw wa!==null&&(wa=wa.slice(t+1)),u6(xD,wl),a}finally{Kt=e,bx=!1}}return null}var gh=[],bh=0,Hv=null,qv=0,Do=[],Po=0,qu=null,ya=1,_a="";function lu(t,e){gh[bh++]=qv,gh[bh++]=Hv,Hv=t,qv=e}function j6(t,e,r){Do[Po++]=ya,Do[Po++]=_a,Do[Po++]=qu,qu=t;var o=ya;t=_a;var a=32-us(o)-1;o&=~(1<<a),r+=1;var u=32-us(e)+a;if(30<u){var h=a-a%5;u=(o&(1<<h)-1).toString(32),o>>=h,a-=h,ya=1<<32-us(e)+a|r<<a|o,_a=u+t}else ya=1<<u|r<<a|o,_a=t}function OD(t){t.return!==null&&(lu(t,1),j6(t,1,0))}function LD(t){for(;t===Hv;)Hv=gh[--bh],gh[bh]=null,qv=gh[--bh],gh[bh]=null;for(;t===qu;)qu=Do[--Po],Do[Po]=null,_a=Do[--Po],Do[Po]=null,ya=Do[--Po],Do[Po]=null}var ho=null,lo=null,Dn=!1,ss=null;function V6(t,e){var r=No(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function D4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ho=t,lo=Vc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ho=t,lo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qu!==null?{id:ya,overflow:_a}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=No(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ho=t,lo=null,!0):!1;default:return!1}}function hT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fT(t){if(Dn){var e=lo;if(e){var r=e;if(!D4(t,e)){if(hT(t))throw Error(we(418));e=Vc(r.nextSibling);var o=ho;e&&D4(t,e)?V6(o,r):(t.flags=t.flags&-4097|2,Dn=!1,ho=t)}}else{if(hT(t))throw Error(we(418));t.flags=t.flags&-4097|2,Dn=!1,ho=t}}}function P4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ho=t}function kk(t){if(t!==ho)return!1;if(!Dn)return P4(t),Dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cT(t.type,t.memoizedProps)),e&&(e=lo)){if(hT(t))throw U6(),Error(we(418));for(;e;)V6(t,e),e=Vc(e.nextSibling)}if(P4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){lo=Vc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}lo=null}}else lo=ho?Vc(t.stateNode.nextSibling):null;return!0}function U6(){for(var t=lo;t;)t=Vc(t.nextSibling)}function Yh(){lo=ho=null,Dn=!1}function BD(t){ss===null?ss=[t]:ss.push(t)}var Tbe=Ga.ReactCurrentBatchConfig;function is(t,e){if(t&&t.defaultProps){e=$n({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Wv=bl(null),Gv=null,wh=null,zD=null;function FD(){zD=wh=Gv=null}function jD(t){var e=Wv.current;_n(Wv),t._currentValue=e}function pT(t,e,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===r)break;t=t.return}}function Oh(t,e){Gv=t,zD=wh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gi=!0),t.firstContext=null)}function Fo(t){var e=t._currentValue;if(zD!==t)if(t={context:t,memoizedValue:e,next:null},wh===null){if(Gv===null)throw Error(we(308));wh=t,Gv.dependencies={lanes:0,firstContext:t}}else wh=wh.next=t;return e}var yu=null;function VD(t){yu===null?yu=[t]:yu.push(t)}function $6(t,e,r,o){var a=e.interleaved;return a===null?(r.next=r,VD(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ba(t,o)}function Ba(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var xc=!1;function UD(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uc(t,e,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Rt&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Ba(t,r)}return a=o.interleaved,a===null?(e.next=e,VD(o)):(e.next=a.next,a.next=e),o.interleaved=e,Ba(t,r)}function iv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,SD(t,r)}}function M4(t,e){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var a=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?a=u=h:u=u.next=h,r=r.next}while(r!==null);u===null?a=u=e:u=u.next=e}else a=u=e;r={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:o.shared,effects:o.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Kv(t,e,r,o){var a=t.updateQueue;xc=!1;var u=a.firstBaseUpdate,h=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var m=p,b=m.next;m.next=null,h===null?u=b:h.next=b,h=m;var k=t.alternate;k!==null&&(k=k.updateQueue,p=k.lastBaseUpdate,p!==h&&(p===null?k.firstBaseUpdate=b:p.next=b,k.lastBaseUpdate=m))}if(u!==null){var v=a.baseState;h=0,k=b=m=null,p=u;do{var _=p.lane,A=p.eventTime;if((o&_)===_){k!==null&&(k=k.next={eventTime:A,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var E=t,T=p;switch(_=e,A=r,T.tag){case 1:if(E=T.payload,typeof E=="function"){v=E.call(A,v,_);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,_=typeof E=="function"?E.call(A,v,_):E,_==null)break e;v=$n({},v,_);break e;case 2:xc=!0}}p.callback!==null&&p.lane!==0&&(t.flags|=64,_=a.effects,_===null?a.effects=[p]:_.push(p))}else A={eventTime:A,lane:_,tag:p.tag,payload:p.payload,callback:p.callback,next:null},k===null?(b=k=A,m=v):k=k.next=A,h|=_;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;_=p,p=_.next,_.next=null,a.lastBaseUpdate=_,a.shared.pending=null}}while(1);if(k===null&&(m=v),a.baseState=m,a.firstBaseUpdate=b,a.lastBaseUpdate=k,e=a.shared.interleaved,e!==null){a=e;do h|=a.lane,a=a.next;while(a!==e)}else u===null&&(a.shared.lanes=0);Gu|=h,t.lanes=h,t.memoizedState=v}}function N4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],a=o.callback;if(a!==null){if(o.callback=null,o=r,typeof a!="function")throw Error(we(191,a));a.call(o)}}}var q6=new $$.Component().refs;function mT(t,e,r,o){e=t.memoizedState,r=r(o,e),r=r==null?e:$n({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var d_={isMounted:function(t){return(t=t._reactInternals)?hd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var o=Pi(),a=Hc(t),u=Sa(o,a);u.payload=e,r!=null&&(u.callback=r),e=Uc(t,u,a),e!==null&&(ds(e,t,a,o),iv(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var o=Pi(),a=Hc(t),u=Sa(o,a);u.tag=1,u.payload=e,r!=null&&(u.callback=r),e=Uc(t,u,a),e!==null&&(ds(e,t,a,o),iv(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pi(),o=Hc(t),a=Sa(r,o);a.tag=2,e!=null&&(a.callback=e),e=Uc(t,a,o),e!==null&&(ds(e,t,o,r),iv(e,t,o))}};function R4(t,e,r,o,a,u,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,u,h):e.prototype&&e.prototype.isPureReactComponent?!eg(r,o)||!eg(a,u):!0}function W6(t,e,r){var o=!1,a=Zc,u=e.contextType;return typeof u=="object"&&u!==null?u=Fo(u):(a=Ji(e)?Hu:ki.current,o=e.contextTypes,u=(o=o!=null)?Kh(t,a):Zc),e=new e(r,u),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=d_,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=u),e}function O4(t,e,r,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==t&&d_.enqueueReplaceState(e,e.state,null)}function gT(t,e,r,o){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs=q6,UD(t);var u=e.contextType;typeof u=="object"&&u!==null?a.context=Fo(u):(u=Ji(e)?Hu:ki.current,a.context=Kh(t,u)),a.state=t.memoizedState,u=e.getDerivedStateFromProps,typeof u=="function"&&(mT(t,e,u,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&d_.enqueueReplaceState(a,a.state,null),Kv(t,r,a,o),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Bp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var o=r.stateNode}if(!o)throw Error(we(147,t));var a=o,u=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===u?e.ref:(e=function(h){var p=a.refs;p===q6&&(p=a.refs={}),h===null?delete p[u]:p[u]=h},e._stringRef=u,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function vk(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L4(t){var e=t._init;return e(t._payload)}function G6(t){function e(M,S){if(t){var I=M.deletions;I===null?(M.deletions=[S],M.flags|=16):I.push(S)}}function r(M,S){if(!t)return null;for(;S!==null;)e(M,S),S=S.sibling;return null}function o(M,S){for(M=new Map;S!==null;)S.key!==null?M.set(S.key,S):M.set(S.index,S),S=S.sibling;return M}function a(M,S){return M=qc(M,S),M.index=0,M.sibling=null,M}function u(M,S,I){return M.index=I,t?(I=M.alternate,I!==null?(I=I.index,I<S?(M.flags|=2,S):I):(M.flags|=2,S)):(M.flags|=1048576,S)}function h(M){return t&&M.alternate===null&&(M.flags|=2),M}function p(M,S,I,R){return S===null||S.tag!==6?(S=Cx(I,M.mode,R),S.return=M,S):(S=a(S,I),S.return=M,S)}function m(M,S,I,R){var j=I.type;return j===uh?k(M,S,I.props.children,R,I.key):S!==null&&(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ec&&L4(j)===S.type)?(R=a(S,I.props),R.ref=Bp(M,S,I),R.return=M,R):(R=uv(I.type,I.key,I.props,null,M.mode,R),R.ref=Bp(M,S,I),R.return=M,R)}function b(M,S,I,R){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Ex(I,M.mode,R),S.return=M,S):(S=a(S,I.children||[]),S.return=M,S)}function k(M,S,I,R,j){return S===null||S.tag!==7?(S=Ou(I,M.mode,R,j),S.return=M,S):(S=a(S,I),S.return=M,S)}function v(M,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Cx(""+S,M.mode,I),S.return=M,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lk:return I=uv(S.type,S.key,S.props,null,M.mode,I),I.ref=Bp(M,null,S),I.return=M,I;case lh:return S=Ex(S,M.mode,I),S.return=M,S;case Ec:var R=S._init;return v(M,R(S._payload),I)}if(om(S)||Mp(S))return S=Ou(S,M.mode,I,null),S.return=M,S;vk(M,S)}return null}function _(M,S,I,R){var j=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return j!==null?null:p(M,S,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case lk:return I.key===j?m(M,S,I,R):null;case lh:return I.key===j?b(M,S,I,R):null;case Ec:return j=I._init,_(M,S,j(I._payload),R)}if(om(I)||Mp(I))return j!==null?null:k(M,S,I,R,null);vk(M,I)}return null}function A(M,S,I,R,j){if(typeof R=="string"&&R!==""||typeof R=="number")return M=M.get(I)||null,p(S,M,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case lk:return M=M.get(R.key===null?I:R.key)||null,m(S,M,R,j);case lh:return M=M.get(R.key===null?I:R.key)||null,b(S,M,R,j);case Ec:var V=R._init;return A(M,S,I,V(R._payload),j)}if(om(R)||Mp(R))return M=M.get(I)||null,k(S,M,R,j,null);vk(S,R)}return null}function E(M,S,I,R){for(var j=null,V=null,H=S,J=S=0,oe=null;H!==null&&J<I.length;J++){H.index>J?(oe=H,H=null):oe=H.sibling;var de=_(M,H,I[J],R);if(de===null){H===null&&(H=oe);break}t&&H&&de.alternate===null&&e(M,H),S=u(de,S,J),V===null?j=de:V.sibling=de,V=de,H=oe}if(J===I.length)return r(M,H),Dn&&lu(M,J),j;if(H===null){for(;J<I.length;J++)H=v(M,I[J],R),H!==null&&(S=u(H,S,J),V===null?j=H:V.sibling=H,V=H);return Dn&&lu(M,J),j}for(H=o(M,H);J<I.length;J++)oe=A(H,M,J,I[J],R),oe!==null&&(t&&oe.alternate!==null&&H.delete(oe.key===null?J:oe.key),S=u(oe,S,J),V===null?j=oe:V.sibling=oe,V=oe);return t&&H.forEach(function(Le){return e(M,Le)}),Dn&&lu(M,J),j}function T(M,S,I,R){var j=Mp(I);if(typeof j!="function")throw Error(we(150));if(I=j.call(I),I==null)throw Error(we(151));for(var V=j=null,H=S,J=S=0,oe=null,de=I.next();H!==null&&!de.done;J++,de=I.next()){H.index>J?(oe=H,H=null):oe=H.sibling;var Le=_(M,H,de.value,R);if(Le===null){H===null&&(H=oe);break}t&&H&&Le.alternate===null&&e(M,H),S=u(Le,S,J),V===null?j=Le:V.sibling=Le,V=Le,H=oe}if(de.done)return r(M,H),Dn&&lu(M,J),j;if(H===null){for(;!de.done;J++,de=I.next())de=v(M,de.value,R),de!==null&&(S=u(de,S,J),V===null?j=de:V.sibling=de,V=de);return Dn&&lu(M,J),j}for(H=o(M,H);!de.done;J++,de=I.next())de=A(H,M,J,de.value,R),de!==null&&(t&&de.alternate!==null&&H.delete(de.key===null?J:de.key),S=u(de,S,J),V===null?j=de:V.sibling=de,V=de);return t&&H.forEach(function(te){return e(M,te)}),Dn&&lu(M,J),j}function L(M,S,I,R){if(typeof I=="object"&&I!==null&&I.type===uh&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case lk:e:{for(var j=I.key,V=S;V!==null;){if(V.key===j){if(j=I.type,j===uh){if(V.tag===7){r(M,V.sibling),S=a(V,I.props.children),S.return=M,M=S;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ec&&L4(j)===V.type){r(M,V.sibling),S=a(V,I.props),S.ref=Bp(M,V,I),S.return=M,M=S;break e}r(M,V);break}else e(M,V);V=V.sibling}I.type===uh?(S=Ou(I.props.children,M.mode,R,I.key),S.return=M,M=S):(R=uv(I.type,I.key,I.props,null,M.mode,R),R.ref=Bp(M,S,I),R.return=M,M=R)}return h(M);case lh:e:{for(V=I.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){r(M,S.sibling),S=a(S,I.children||[]),S.return=M,M=S;break e}else{r(M,S);break}else e(M,S);S=S.sibling}S=Ex(I,M.mode,R),S.return=M,M=S}return h(M);case Ec:return V=I._init,L(M,S,V(I._payload),R)}if(om(I))return E(M,S,I,R);if(Mp(I))return T(M,S,I,R);vk(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(r(M,S.sibling),S=a(S,I),S.return=M,M=S):(r(M,S),S=Cx(I,M.mode,R),S.return=M,M=S),h(M)):r(M,S)}return L}var Qh=G6(!0),K6=G6(!1),eb={},Gs=bl(eb),ig=bl(eb),og=bl(eb);function _u(t){if(t===eb)throw Error(we(174));return t}function $D(t,e){switch(pn(og,e),pn(ig,t),pn(Gs,eb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:KS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=KS(e,t)}_n(Gs),pn(Gs,e)}function Zh(){_n(Gs),_n(ig),_n(og)}function Y6(t){_u(og.current);var e=_u(Gs.current),r=KS(e,t.type);e!==r&&(pn(ig,t),pn(Gs,r))}function HD(t){ig.current===t&&(_n(Gs),_n(ig))}var jn=bl(0);function Yv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wx=[];function qD(){for(var t=0;t<wx.length;t++)wx[t]._workInProgressVersionPrimary=null;wx.length=0}var ov=Ga.ReactCurrentDispatcher,kx=Ga.ReactCurrentBatchConfig,Wu=0,Un=null,mr=null,Nr=null,Qv=!1,_m=!1,sg=0,Ibe=0;function ui(){throw Error(we(321))}function WD(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hs(t[r],e[r]))return!1;return!0}function GD(t,e,r,o,a,u){if(Wu=u,Un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ov.current=t===null||t.memoizedState===null?Nbe:Rbe,t=r(o,a),_m){u=0;do{if(_m=!1,sg=0,25<=u)throw Error(we(301));u+=1,Nr=mr=null,e.updateQueue=null,ov.current=Obe,t=r(o,a)}while(_m)}if(ov.current=Zv,e=mr!==null&&mr.next!==null,Wu=0,Nr=mr=Un=null,Qv=!1,e)throw Error(we(300));return t}function KD(){var t=sg!==0;return sg=0,t}function Ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Un.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function jo(){if(mr===null){var t=Un.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=Nr===null?Un.memoizedState:Nr.next;if(e!==null)Nr=e,mr=t;else{if(t===null)throw Error(we(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Nr===null?Un.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function ag(t,e){return typeof e=="function"?e(t):e}function vx(t){var e=jo(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var o=mr,a=o.baseQueue,u=r.pending;if(u!==null){if(a!==null){var h=a.next;a.next=u.next,u.next=h}o.baseQueue=a=u,r.pending=null}if(a!==null){u=a.next,o=o.baseState;var p=h=null,m=null,b=u;do{var k=b.lane;if((Wu&k)===k)m!==null&&(m=m.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:t(o,b.action);else{var v={lane:k,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};m===null?(p=m=v,h=o):m=m.next=v,Un.lanes|=k,Gu|=k}b=b.next}while(b!==null&&b!==u);m===null?h=o:m.next=p,hs(o,e.memoizedState)||(Gi=!0),e.memoizedState=o,e.baseState=h,e.baseQueue=m,r.lastRenderedState=o}if(t=r.interleaved,t!==null){a=t;do u=a.lane,Un.lanes|=u,Gu|=u,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yx(t){var e=jo(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var o=r.dispatch,a=r.pending,u=e.memoizedState;if(a!==null){r.pending=null;var h=a=a.next;do u=t(u,h.action),h=h.next;while(h!==a);hs(u,e.memoizedState)||(Gi=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),r.lastRenderedState=u}return[u,o]}function Q6(){}function Z6(t,e){var r=Un,o=jo(),a=e(),u=!hs(o.memoizedState,a);if(u&&(o.memoizedState=a,Gi=!0),o=o.queue,YD(e7.bind(null,r,o,t),[t]),o.getSnapshot!==e||u||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,cg(9,X6.bind(null,r,o,a,e),void 0,null),Or===null)throw Error(we(349));Wu&30||J6(r,e,a)}return a}function J6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function X6(t,e,r,o){e.value=r,e.getSnapshot=o,t7(e)&&n7(t)}function e7(t,e,r){return r(function(){t7(e)&&n7(t)})}function t7(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hs(t,r)}catch{return!0}}function n7(t){var e=Ba(t,1);e!==null&&ds(e,t,1,-1)}function B4(t){var e=Ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:t},e.queue=t,t=t.dispatch=Mbe.bind(null,Un,t),[e.memoizedState,t]}function cg(t,e,r,o){return t={tag:t,create:e,destroy:r,deps:o,next:null},e=Un.updateQueue,e===null?(e={lastEffect:null,stores:null},Un.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,e.lastEffect=t)),t}function r7(){return jo().memoizedState}function sv(t,e,r,o){var a=Ps();Un.flags|=t,a.memoizedState=cg(1|e,r,void 0,o===void 0?null:o)}function h_(t,e,r,o){var a=jo();o=o===void 0?null:o;var u=void 0;if(mr!==null){var h=mr.memoizedState;if(u=h.destroy,o!==null&&WD(o,h.deps)){a.memoizedState=cg(e,r,u,o);return}}Un.flags|=t,a.memoizedState=cg(1|e,r,u,o)}function z4(t,e){return sv(8390656,8,t,e)}function YD(t,e){return h_(2048,8,t,e)}function i7(t,e){return h_(4,2,t,e)}function o7(t,e){return h_(4,4,t,e)}function s7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a7(t,e,r){return r=r!=null?r.concat([t]):null,h_(4,4,s7.bind(null,e,t),r)}function QD(){}function c7(t,e){var r=jo();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&WD(e,o[1])?o[0]:(r.memoizedState=[t,e],t)}function l7(t,e){var r=jo();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&WD(e,o[1])?o[0]:(t=t(),r.memoizedState=[t,e],t)}function u7(t,e,r){return Wu&21?(hs(r,e)||(r=f6(),Un.lanes|=r,Gu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gi=!0),t.memoizedState=r)}function Dbe(t,e){var r=Kt;Kt=r!==0&&4>r?r:4,t(!0);var o=kx.transition;kx.transition={};try{t(!1),e()}finally{Kt=r,kx.transition=o}}function d7(){return jo().memoizedState}function Pbe(t,e,r){var o=Hc(t);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},h7(t))f7(e,r);else if(r=$6(t,e,r,o),r!==null){var a=Pi();ds(r,t,o,a),p7(r,e,o)}}function Mbe(t,e,r){var o=Hc(t),a={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(h7(t))f7(e,a);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var h=e.lastRenderedState,p=u(h,r);if(a.hasEagerState=!0,a.eagerState=p,hs(p,h)){var m=e.interleaved;m===null?(a.next=a,VD(e)):(a.next=m.next,m.next=a),e.interleaved=a;return}}catch{}finally{}r=$6(t,e,a,o),r!==null&&(a=Pi(),ds(r,t,o,a),p7(r,e,o))}}function h7(t){var e=t.alternate;return t===Un||e!==null&&e===Un}function f7(t,e){_m=Qv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function p7(t,e,r){if(r&4194240){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,SD(t,r)}}var Zv={readContext:Fo,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},Nbe={readContext:Fo,useCallback:function(t,e){return Ps().memoizedState=[t,e===void 0?null:e],t},useContext:Fo,useEffect:z4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sv(4194308,4,s7.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sv(4194308,4,t,e)},useInsertionEffect:function(t,e){return sv(4,2,t,e)},useMemo:function(t,e){var r=Ps();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var o=Ps();return e=r!==void 0?r(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Pbe.bind(null,Un,t),[o.memoizedState,t]},useRef:function(t){var e=Ps();return t={current:t},e.memoizedState=t},useState:B4,useDebugValue:QD,useDeferredValue:function(t){return Ps().memoizedState=t},useTransition:function(){var t=B4(!1),e=t[0];return t=Dbe.bind(null,t[1]),Ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var o=Un,a=Ps();if(Dn){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),Or===null)throw Error(we(349));Wu&30||J6(o,e,r)}a.memoizedState=r;var u={value:r,getSnapshot:e};return a.queue=u,z4(e7.bind(null,o,u,t),[t]),o.flags|=2048,cg(9,X6.bind(null,o,u,r,e),void 0,null),r},useId:function(){var t=Ps(),e=Or.identifierPrefix;if(Dn){var r=_a,o=ya;r=(o&~(1<<32-us(o)-1)).toString(32)+r,e=":"+e+"R"+r,r=sg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ibe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rbe={readContext:Fo,useCallback:c7,useContext:Fo,useEffect:YD,useImperativeHandle:a7,useInsertionEffect:i7,useLayoutEffect:o7,useMemo:l7,useReducer:vx,useRef:r7,useState:function(){return vx(ag)},useDebugValue:QD,useDeferredValue:function(t){var e=jo();return u7(e,mr.memoizedState,t)},useTransition:function(){var t=vx(ag)[0],e=jo().memoizedState;return[t,e]},useMutableSource:Q6,useSyncExternalStore:Z6,useId:d7,unstable_isNewReconciler:!1},Obe={readContext:Fo,useCallback:c7,useContext:Fo,useEffect:YD,useImperativeHandle:a7,useInsertionEffect:i7,useLayoutEffect:o7,useMemo:l7,useReducer:yx,useRef:r7,useState:function(){return yx(ag)},useDebugValue:QD,useDeferredValue:function(t){var e=jo();return mr===null?e.memoizedState=t:u7(e,mr.memoizedState,t)},useTransition:function(){var t=yx(ag)[0],e=jo().memoizedState;return[t,e]},useMutableSource:Q6,useSyncExternalStore:Z6,useId:d7,unstable_isNewReconciler:!1};function Jh(t,e){try{var r="",o=e;do r+=lge(o),o=o.return;while(o);var a=r}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:t,source:e,stack:a,digest:null}}function _x(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function bT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Lbe=typeof WeakMap=="function"?WeakMap:Map;function m7(t,e,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var o=e.value;return r.callback=function(){Xv||(Xv=!0,ST=o),bT(t,e)},r}function g7(t,e,r){r=Sa(-1,r),r.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;r.payload=function(){return o(a)},r.callback=function(){bT(t,e)}}var u=t.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){bT(t,e),typeof o!="function"&&($c===null?$c=new Set([this]):$c.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),r}function F4(t,e,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Lbe;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(r)||(a.add(r),t=Qbe.bind(null,t,e,r),e.then(t,t))}function j4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V4(t,e,r,o,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sa(-1,1),e.tag=2,Uc(r,e,1))),r.lanes|=1),t)}var Bbe=Ga.ReactCurrentOwner,Gi=!1;function Ei(t,e,r,o){e.child=t===null?K6(e,null,r,o):Qh(e,t.child,r,o)}function U4(t,e,r,o,a){r=r.render;var u=e.ref;return Oh(e,a),o=GD(t,e,r,o,u,a),r=KD(),t!==null&&!Gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,za(t,e,a)):(Dn&&r&&OD(e),e.flags|=1,Ei(t,e,o,a),e.child)}function $4(t,e,r,o,a){if(t===null){var u=r.type;return typeof u=="function"&&!iP(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=u,b7(t,e,u,o,a)):(t=uv(r.type,null,o,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!(t.lanes&a)){var h=u.memoizedProps;if(r=r.compare,r=r!==null?r:eg,r(h,o)&&t.ref===e.ref)return za(t,e,a)}return e.flags|=1,t=qc(u,o),t.ref=e.ref,t.return=e,e.child=t}function b7(t,e,r,o,a){if(t!==null){var u=t.memoizedProps;if(eg(u,o)&&t.ref===e.ref)if(Gi=!1,e.pendingProps=o=u,(t.lanes&a)!==0)t.flags&131072&&(Gi=!0);else return e.lanes=t.lanes,za(t,e,a)}return wT(t,e,r,o,a)}function w7(t,e,r){var o=e.pendingProps,a=o.children,u=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(vh,ao),ao|=r;else{if(!(r&1073741824))return t=u!==null?u.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(vh,ao),ao|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:r,pn(vh,ao),ao|=o}else u!==null?(o=u.baseLanes|r,e.memoizedState=null):o=r,pn(vh,ao),ao|=o;return Ei(t,e,a,r),e.child}function k7(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wT(t,e,r,o,a){var u=Ji(r)?Hu:ki.current;return u=Kh(e,u),Oh(e,a),r=GD(t,e,r,o,u,a),o=KD(),t!==null&&!Gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,za(t,e,a)):(Dn&&o&&OD(e),e.flags|=1,Ei(t,e,r,a),e.child)}function H4(t,e,r,o,a){if(Ji(r)){var u=!0;$v(e)}else u=!1;if(Oh(e,a),e.stateNode===null)av(t,e),W6(e,r,o),gT(e,r,o,a),o=!0;else if(t===null){var h=e.stateNode,p=e.memoizedProps;h.props=p;var m=h.context,b=r.contextType;typeof b=="object"&&b!==null?b=Fo(b):(b=Ji(r)?Hu:ki.current,b=Kh(e,b));var k=r.getDerivedStateFromProps,v=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function";v||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==o||m!==b)&&O4(e,h,o,b),xc=!1;var _=e.memoizedState;h.state=_,Kv(e,o,h,a),m=e.memoizedState,p!==o||_!==m||Zi.current||xc?(typeof k=="function"&&(mT(e,r,k,o),m=e.memoizedState),(p=xc||R4(e,r,p,o,_,m,b))?(v||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=m),h.props=o,h.state=m,h.context=b,o=p):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,H6(t,e),p=e.memoizedProps,b=e.type===e.elementType?p:is(e.type,p),h.props=b,v=e.pendingProps,_=h.context,m=r.contextType,typeof m=="object"&&m!==null?m=Fo(m):(m=Ji(r)?Hu:ki.current,m=Kh(e,m));var A=r.getDerivedStateFromProps;(k=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==v||_!==m)&&O4(e,h,o,m),xc=!1,_=e.memoizedState,h.state=_,Kv(e,o,h,a);var E=e.memoizedState;p!==v||_!==E||Zi.current||xc?(typeof A=="function"&&(mT(e,r,A,o),E=e.memoizedState),(b=xc||R4(e,r,b,o,_,E,m)||!1)?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,E,m),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,E,m)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),h.props=o,h.state=E,h.context=m,o=b):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),o=!1)}return kT(t,e,r,o,u,a)}function kT(t,e,r,o,a,u){k7(t,e);var h=(e.flags&128)!==0;if(!o&&!h)return a&&I4(e,r,!1),za(t,e,u);o=e.stateNode,Bbe.current=e;var p=h&&typeof r.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&h?(e.child=Qh(e,t.child,null,u),e.child=Qh(e,null,p,u)):Ei(t,e,p,u),e.memoizedState=o.state,a&&I4(e,r,!0),e.child}function v7(t){var e=t.stateNode;e.pendingContext?T4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T4(t,e.context,!1),$D(t,e.containerInfo)}function q4(t,e,r,o,a){return Yh(),BD(a),e.flags|=256,Ei(t,e,r,o),e.child}var vT={dehydrated:null,treeContext:null,retryLane:0};function yT(t){return{baseLanes:t,cachePool:null,transitions:null}}function y7(t,e,r){var o=e.pendingProps,a=jn.current,u=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(a&2)!==0),p?(u=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),pn(jn,a&1),t===null)return fT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=o.children,t=o.fallback,u?(o=e.mode,u=e.child,h={mode:"hidden",children:h},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=m_(h,o,0,null),t=Ou(t,o,r,null),u.return=e,t.return=e,u.sibling=t,e.child=u,e.child.memoizedState=yT(r),e.memoizedState=vT,t):ZD(e,h));if(a=t.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return zbe(t,e,h,o,p,a,r);if(u){u=o.fallback,h=e.mode,a=t.child,p=a.sibling;var m={mode:"hidden",children:o.children};return!(h&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=m,e.deletions=null):(o=qc(a,m),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?u=qc(p,u):(u=Ou(u,h,r,null),u.flags|=2),u.return=e,o.return=e,o.sibling=u,e.child=o,o=u,u=e.child,h=t.child.memoizedState,h=h===null?yT(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=t.childLanes&~r,e.memoizedState=vT,o}return u=t.child,t=u.sibling,o=qc(u,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=r),o.return=e,o.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=o,e.memoizedState=null,o}function ZD(t,e){return e=m_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yk(t,e,r,o){return o!==null&&BD(o),Qh(e,t.child,null,r),t=ZD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zbe(t,e,r,o,a,u,h){if(r)return e.flags&256?(e.flags&=-257,o=_x(Error(we(422))),yk(t,e,h,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(u=o.fallback,a=e.mode,o=m_({mode:"visible",children:o.children},a,0,null),u=Ou(u,a,h,null),u.flags|=2,o.return=e,u.return=e,o.sibling=u,e.child=o,e.mode&1&&Qh(e,t.child,null,h),e.child.memoizedState=yT(h),e.memoizedState=vT,u);if(!(e.mode&1))return yk(t,e,h,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,u=Error(we(419)),o=_x(u,o,void 0),yk(t,e,h,o)}if(p=(h&t.childLanes)!==0,Gi||p){if(o=Or,o!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|h)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,Ba(t,a),ds(o,t,a,-1))}return rP(),o=_x(Error(we(421))),yk(t,e,h,o)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Zbe.bind(null,t),a._reactRetry=e,null):(t=u.treeContext,lo=Vc(a.nextSibling),ho=e,Dn=!0,ss=null,t!==null&&(Do[Po++]=ya,Do[Po++]=_a,Do[Po++]=qu,ya=t.id,_a=t.overflow,qu=e),e=ZD(e,o.children),e.flags|=4096,e)}function W4(t,e,r){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),pT(t.return,e,r)}function Ax(t,e,r,o,a){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:a}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=r,u.tailMode=a)}function _7(t,e,r){var o=e.pendingProps,a=o.revealOrder,u=o.tail;if(Ei(t,e,o.children,r),o=jn.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W4(t,r,e);else if(t.tag===19)W4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(pn(jn,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Yv(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Ax(e,!1,a,r,u);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Yv(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Ax(e,!0,r,null,u);break;case"together":Ax(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function av(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function za(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=qc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Fbe(t,e,r){switch(e.tag){case 3:v7(e),Yh();break;case 5:Y6(e);break;case 1:Ji(e.type)&&$v(e);break;case 4:$D(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;pn(Wv,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(pn(jn,jn.current&1),e.flags|=128,null):r&e.child.childLanes?y7(t,e,r):(pn(jn,jn.current&1),t=za(t,e,r),t!==null?t.sibling:null);pn(jn,jn.current&1);break;case 19:if(o=(r&e.childLanes)!==0,t.flags&128){if(o)return _7(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pn(jn,jn.current),o)break;return null;case 22:case 23:return e.lanes=0,w7(t,e,r)}return za(t,e,r)}var A7,_T,C7,E7;A7=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_T=function(){};C7=function(t,e,r,o){var a=t.memoizedProps;if(a!==o){t=e.stateNode,_u(Gs.current);var u=null;switch(r){case"input":a=HS(t,a),o=HS(t,o),u=[];break;case"select":a=$n({},a,{value:void 0}),o=$n({},o,{value:void 0}),u=[];break;case"textarea":a=GS(t,a),o=GS(t,o),u=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Vv)}YS(r,o);var h;r=null;for(b in a)if(!o.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var p=a[b];for(h in p)p.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(Gm.hasOwnProperty(b)?u||(u=[]):(u=u||[]).push(b,null));for(b in o){var m=o[b];if(p=a!=null?a[b]:void 0,o.hasOwnProperty(b)&&m!==p&&(m!=null||p!=null))if(b==="style")if(p){for(h in p)!p.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in m)m.hasOwnProperty(h)&&p[h]!==m[h]&&(r||(r={}),r[h]=m[h])}else r||(u||(u=[]),u.push(b,r)),r=m;else b==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,p=p?p.__html:void 0,m!=null&&p!==m&&(u=u||[]).push(b,m)):b==="children"?typeof m!="string"&&typeof m!="number"||(u=u||[]).push(b,""+m):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(Gm.hasOwnProperty(b)?(m!=null&&b==="onScroll"&&kn("scroll",t),u||p===m||(u=[])):(u=u||[]).push(b,m))}r&&(u=u||[]).push("style",r);var b=u;(e.updateQueue=b)&&(e.flags|=4)}};E7=function(t,e,r,o){r!==o&&(e.flags|=4)};function zp(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function di(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=o,t.childLanes=r,e}function jbe(t,e,r){var o=e.pendingProps;switch(LD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(e),null;case 1:return Ji(e.type)&&Uv(),di(e),null;case 3:return o=e.stateNode,Zh(),_n(Zi),_n(ki),qD(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(kk(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ss!==null&&(DT(ss),ss=null))),_T(t,e),di(e),null;case 5:HD(e);var a=_u(og.current);if(r=e.type,t!==null&&e.stateNode!=null)C7(t,e,r,o,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(we(166));return di(e),null}if(t=_u(Gs.current),kk(e)){o=e.stateNode,r=e.type;var u=e.memoizedProps;switch(o[Ns]=e,o[rg]=u,t=(e.mode&1)!==0,r){case"dialog":kn("cancel",o),kn("close",o);break;case"iframe":case"object":case"embed":kn("load",o);break;case"video":case"audio":for(a=0;a<am.length;a++)kn(am[a],o);break;case"source":kn("error",o);break;case"img":case"image":case"link":kn("error",o),kn("load",o);break;case"details":kn("toggle",o);break;case"input":t4(o,u),kn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},kn("invalid",o);break;case"textarea":r4(o,u),kn("invalid",o)}YS(r,u),a=null;for(var h in u)if(u.hasOwnProperty(h)){var p=u[h];h==="children"?typeof p=="string"?o.textContent!==p&&(u.suppressHydrationWarning!==!0&&wk(o.textContent,p,t),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(u.suppressHydrationWarning!==!0&&wk(o.textContent,p,t),a=["children",""+p]):Gm.hasOwnProperty(h)&&p!=null&&h==="onScroll"&&kn("scroll",o)}switch(r){case"input":uk(o),n4(o,u,!0);break;case"textarea":uk(o),i4(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Vv)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J$(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=h.createElement(r,{is:o.is}):(t=h.createElement(r),r==="select"&&(h=t,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):t=h.createElementNS(t,r),t[Ns]=e,t[rg]=o,A7(t,e,!1,!1),e.stateNode=t;e:{switch(h=QS(r,o),r){case"dialog":kn("cancel",t),kn("close",t),a=o;break;case"iframe":case"object":case"embed":kn("load",t),a=o;break;case"video":case"audio":for(a=0;a<am.length;a++)kn(am[a],t);a=o;break;case"source":kn("error",t),a=o;break;case"img":case"image":case"link":kn("error",t),kn("load",t),a=o;break;case"details":kn("toggle",t),a=o;break;case"input":t4(t,o),a=HS(t,o),kn("invalid",t);break;case"option":a=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},a=$n({},o,{value:void 0}),kn("invalid",t);break;case"textarea":r4(t,o),a=GS(t,o),kn("invalid",t);break;default:a=o}YS(r,a),p=a;for(u in p)if(p.hasOwnProperty(u)){var m=p[u];u==="style"?t6(t,m):u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&X$(t,m)):u==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Km(t,m):typeof m=="number"&&Km(t,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gm.hasOwnProperty(u)?m!=null&&u==="onScroll"&&kn("scroll",t):m!=null&&yD(t,u,m,h))}switch(r){case"input":uk(t),n4(t,o,!1);break;case"textarea":uk(t),i4(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Qc(o.value));break;case"select":t.multiple=!!o.multiple,u=o.value,u!=null?Ph(t,!!o.multiple,u,!1):o.defaultValue!=null&&Ph(t,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Vv)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return di(e),null;case 6:if(t&&e.stateNode!=null)E7(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(we(166));if(r=_u(og.current),_u(Gs.current),kk(e)){if(o=e.stateNode,r=e.memoizedProps,o[Ns]=e,(u=o.nodeValue!==r)&&(t=ho,t!==null))switch(t.tag){case 3:wk(o.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wk(o.nodeValue,r,(t.mode&1)!==0)}u&&(e.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Ns]=e,e.stateNode=o}return di(e),null;case 13:if(_n(jn),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dn&&lo!==null&&e.mode&1&&!(e.flags&128))U6(),Yh(),e.flags|=98560,u=!1;else if(u=kk(e),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(we(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(we(317));u[Ns]=e}else Yh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;di(e),u=!1}else ss!==null&&(DT(ss),ss=null),u=!0;if(!u)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?br===0&&(br=3):rP())),e.updateQueue!==null&&(e.flags|=4),di(e),null);case 4:return Zh(),_T(t,e),t===null&&tg(e.stateNode.containerInfo),di(e),null;case 10:return jD(e.type._context),di(e),null;case 17:return Ji(e.type)&&Uv(),di(e),null;case 19:if(_n(jn),u=e.memoizedState,u===null)return di(e),null;if(o=(e.flags&128)!==0,h=u.rendering,h===null)if(o)zp(u,!1);else{if(br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(h=Yv(t),h!==null){for(e.flags|=128,zp(u,!1),o=h.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=r,r=e.child;r!==null;)u=r,t=o,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=t,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,t=h.dependencies,u.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pn(jn,jn.current&1|2),e.child}t=t.sibling}u.tail!==null&&ir()>Xh&&(e.flags|=128,o=!0,zp(u,!1),e.lanes=4194304)}else{if(!o)if(t=Yv(h),t!==null){if(e.flags|=128,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),zp(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Dn)return di(e),null}else 2*ir()-u.renderingStartTime>Xh&&r!==1073741824&&(e.flags|=128,o=!0,zp(u,!1),e.lanes=4194304);u.isBackwards?(h.sibling=e.child,e.child=h):(r=u.last,r!==null?r.sibling=h:e.child=h,u.last=h)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ir(),e.sibling=null,r=jn.current,pn(jn,o?r&1|2:r&1),e):(di(e),null);case 22:case 23:return nP(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ao&1073741824&&(di(e),e.subtreeFlags&6&&(e.flags|=8192)):di(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function Vbe(t,e){switch(LD(e),e.tag){case 1:return Ji(e.type)&&Uv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zh(),_n(Zi),_n(ki),qD(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HD(e),null;case 13:if(_n(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Yh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _n(jn),null;case 4:return Zh(),null;case 10:return jD(e.type._context),null;case 22:case 23:return nP(),null;case 24:return null;default:return null}}var _k=!1,fi=!1,Ube=typeof WeakSet=="function"?WeakSet:Set,He=null;function kh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Zn(t,e,o)}else r.current=null}function AT(t,e,r){try{r()}catch(o){Zn(t,e,o)}}var G4=!1;function $be(t,e){if(sT=zv,t=I6(),RD(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var a=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var h=0,p=-1,m=-1,b=0,k=0,v=t,_=null;t:for(;;){for(var A;v!==r||a!==0&&v.nodeType!==3||(p=h+a),v!==u||o!==0&&v.nodeType!==3||(m=h+o),v.nodeType===3&&(h+=v.nodeValue.length),(A=v.firstChild)!==null;)_=v,v=A;for(;;){if(v===t)break t;if(_===r&&++b===a&&(p=h),_===u&&++k===o&&(m=h),(A=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=A}r=p===-1||m===-1?null:{start:p,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(aT={focusedElem:t,selectionRange:r},zv=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,L=E.memoizedState,M=e.stateNode,S=M.getSnapshotBeforeUpdate(e.elementType===e.type?T:is(e.type,T),L);M.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(R){Zn(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return E=G4,G4=!1,E}function Am(t,e,r){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&t)===t){var u=a.destroy;a.destroy=void 0,u!==void 0&&AT(e,r,u)}a=a.next}while(a!==o)}}function f_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}}function CT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function x7(t){var e=t.alternate;e!==null&&(t.alternate=null,x7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[rg],delete e[uT],delete e[Ebe],delete e[xbe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S7(t){return t.tag===5||t.tag===3||t.tag===4}function K4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ET(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vv));else if(o!==4&&(t=t.child,t!==null))for(ET(t,e,r),t=t.sibling;t!==null;)ET(t,e,r),t=t.sibling}function xT(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(xT(t,e,r),t=t.sibling;t!==null;)xT(t,e,r),t=t.sibling}var Qr=null,os=!1;function bc(t,e,r){for(r=r.child;r!==null;)T7(t,e,r),r=r.sibling}function T7(t,e,r){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(o_,r)}catch{}switch(r.tag){case 5:fi||kh(r,e);case 6:var o=Qr,a=os;Qr=null,bc(t,e,r),Qr=o,os=a,Qr!==null&&(os?(t=Qr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Qr.removeChild(r.stateNode));break;case 18:Qr!==null&&(os?(t=Qr,r=r.stateNode,t.nodeType===8?gx(t.parentNode,r):t.nodeType===1&&gx(t,r),Jm(t)):gx(Qr,r.stateNode));break;case 4:o=Qr,a=os,Qr=r.stateNode.containerInfo,os=!0,bc(t,e,r),Qr=o,os=a;break;case 0:case 11:case 14:case 15:if(!fi&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var u=a,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&AT(r,e,h),a=a.next}while(a!==o)}bc(t,e,r);break;case 1:if(!fi&&(kh(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(p){Zn(r,e,p)}bc(t,e,r);break;case 21:bc(t,e,r);break;case 22:r.mode&1?(fi=(o=fi)||r.memoizedState!==null,bc(t,e,r),fi=o):bc(t,e,r);break;default:bc(t,e,r)}}function Y4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ube),e.forEach(function(o){var a=Jbe.bind(null,t,o);r.has(o)||(r.add(o),o.then(a,a))})}}function ts(t,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];try{var u=t,h=e,p=h;e:for(;p!==null;){switch(p.tag){case 5:Qr=p.stateNode,os=!1;break e;case 3:Qr=p.stateNode.containerInfo,os=!0;break e;case 4:Qr=p.stateNode.containerInfo,os=!0;break e}p=p.return}if(Qr===null)throw Error(we(160));T7(u,h,a),Qr=null,os=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(b){Zn(a,e,b)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I7(e,t),e=e.sibling}function I7(t,e){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ts(e,t),Ds(t),o&4){try{Am(3,t,t.return),f_(3,t)}catch(T){Zn(t,t.return,T)}try{Am(5,t,t.return)}catch(T){Zn(t,t.return,T)}}break;case 1:ts(e,t),Ds(t),o&512&&r!==null&&kh(r,r.return);break;case 5:if(ts(e,t),Ds(t),o&512&&r!==null&&kh(r,r.return),t.flags&32){var a=t.stateNode;try{Km(a,"")}catch(T){Zn(t,t.return,T)}}if(o&4&&(a=t.stateNode,a!=null)){var u=t.memoizedProps,h=r!==null?r.memoizedProps:u,p=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{p==="input"&&u.type==="radio"&&u.name!=null&&Q$(a,u),QS(p,h);var b=QS(p,u);for(h=0;h<m.length;h+=2){var k=m[h],v=m[h+1];k==="style"?t6(a,v):k==="dangerouslySetInnerHTML"?X$(a,v):k==="children"?Km(a,v):yD(a,k,v,b)}switch(p){case"input":qS(a,u);break;case"textarea":Z$(a,u);break;case"select":var _=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var A=u.value;A!=null?Ph(a,!!u.multiple,A,!1):_!==!!u.multiple&&(u.defaultValue!=null?Ph(a,!!u.multiple,u.defaultValue,!0):Ph(a,!!u.multiple,u.multiple?[]:"",!1))}a[rg]=u}catch(T){Zn(t,t.return,T)}}break;case 6:if(ts(e,t),Ds(t),o&4){if(t.stateNode===null)throw Error(we(162));a=t.stateNode,u=t.memoizedProps;try{a.nodeValue=u}catch(T){Zn(t,t.return,T)}}break;case 3:if(ts(e,t),Ds(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Jm(e.containerInfo)}catch(T){Zn(t,t.return,T)}break;case 4:ts(e,t),Ds(t);break;case 13:ts(e,t),Ds(t),a=t.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(eP=ir())),o&4&&Y4(t);break;case 22:if(k=r!==null&&r.memoizedState!==null,t.mode&1?(fi=(b=fi)||k,ts(e,t),fi=b):ts(e,t),Ds(t),o&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!k&&t.mode&1)for(He=t,k=t.child;k!==null;){for(v=He=k;He!==null;){switch(_=He,A=_.child,_.tag){case 0:case 11:case 14:case 15:Am(4,_,_.return);break;case 1:kh(_,_.return);var E=_.stateNode;if(typeof E.componentWillUnmount=="function"){o=_,r=_.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(T){Zn(o,r,T)}}break;case 5:kh(_,_.return);break;case 22:if(_.memoizedState!==null){Z4(v);continue}}A!==null?(A.return=_,He=A):Z4(v)}k=k.sibling}e:for(k=null,v=t;;){if(v.tag===5){if(k===null){k=v;try{a=v.stateNode,b?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(p=v.stateNode,m=v.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null,p.style.display=e6("display",h))}catch(T){Zn(t,t.return,T)}}}else if(v.tag===6){if(k===null)try{v.stateNode.nodeValue=b?"":v.memoizedProps}catch(T){Zn(t,t.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;k===v&&(k=null),v=v.return}k===v&&(k=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ts(e,t),Ds(t),o&4&&Y4(t);break;case 21:break;default:ts(e,t),Ds(t)}}function Ds(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(S7(r)){var o=r;break e}r=r.return}throw Error(we(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(Km(a,""),o.flags&=-33);var u=K4(t);xT(t,u,a);break;case 3:case 4:var h=o.stateNode.containerInfo,p=K4(t);ET(t,p,h);break;default:throw Error(we(161))}}catch(m){Zn(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hbe(t,e,r){He=t,D7(t)}function D7(t,e,r){for(var o=(t.mode&1)!==0;He!==null;){var a=He,u=a.child;if(a.tag===22&&o){var h=a.memoizedState!==null||_k;if(!h){var p=a.alternate,m=p!==null&&p.memoizedState!==null||fi;p=_k;var b=fi;if(_k=h,(fi=m)&&!b)for(He=a;He!==null;)h=He,m=h.child,h.tag===22&&h.memoizedState!==null?J4(a):m!==null?(m.return=h,He=m):J4(a);for(;u!==null;)He=u,D7(u),u=u.sibling;He=a,_k=p,fi=b}Q4(t)}else a.subtreeFlags&8772&&u!==null?(u.return=a,He=u):Q4(t)}}function Q4(t){for(;He!==null;){var e=He;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fi||f_(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!fi)if(r===null)o.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:is(e.type,r.memoizedProps);o.componentDidUpdate(a,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=e.updateQueue;u!==null&&N4(e,u,o);break;case 3:var h=e.updateQueue;if(h!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}N4(e,h,r)}break;case 5:var p=e.stateNode;if(r===null&&e.flags&4){r=p;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var b=e.alternate;if(b!==null){var k=b.memoizedState;if(k!==null){var v=k.dehydrated;v!==null&&Jm(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}fi||e.flags&512&&CT(e)}catch(_){Zn(e,e.return,_)}}if(e===t){He=null;break}if(r=e.sibling,r!==null){r.return=e.return,He=r;break}He=e.return}}function Z4(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var r=e.sibling;if(r!==null){r.return=e.return,He=r;break}He=e.return}}function J4(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{f_(4,e)}catch(m){Zn(e,r,m)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(m){Zn(e,a,m)}}var u=e.return;try{CT(e)}catch(m){Zn(e,u,m)}break;case 5:var h=e.return;try{CT(e)}catch(m){Zn(e,h,m)}}}catch(m){Zn(e,e.return,m)}if(e===t){He=null;break}var p=e.sibling;if(p!==null){p.return=e.return,He=p;break}He=e.return}}var qbe=Math.ceil,Jv=Ga.ReactCurrentDispatcher,JD=Ga.ReactCurrentOwner,Lo=Ga.ReactCurrentBatchConfig,Rt=0,Or=null,fr=null,ei=0,ao=0,vh=bl(0),br=0,lg=null,Gu=0,p_=0,XD=0,Cm=null,Wi=null,eP=0,Xh=1/0,ga=null,Xv=!1,ST=null,$c=null,Ak=!1,Rc=null,ey=0,Em=0,TT=null,cv=-1,lv=0;function Pi(){return Rt&6?ir():cv!==-1?cv:cv=ir()}function Hc(t){return t.mode&1?Rt&2&&ei!==0?ei&-ei:Tbe.transition!==null?(lv===0&&(lv=f6()),lv):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:v6(t.type)),t):1}function ds(t,e,r,o){if(50<Em)throw Em=0,TT=null,Error(we(185));Zg(t,r,o),(!(Rt&2)||t!==Or)&&(t===Or&&(!(Rt&2)&&(p_|=r),br===4&&Dc(t,ei)),Xi(t,o),r===1&&Rt===0&&!(e.mode&1)&&(Xh=ir()+500,u_&&wl()))}function Xi(t,e){var r=t.callbackNode;Tge(t,e);var o=Bv(t,t===Or?ei:0);if(o===0)r!==null&&a4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(r!=null&&a4(r),e===1)t.tag===0?Sbe(X4.bind(null,t)):F6(X4.bind(null,t)),Abe(function(){!(Rt&6)&&wl()}),r=null;else{switch(p6(o)){case 1:r=xD;break;case 4:r=d6;break;case 16:r=Lv;break;case 536870912:r=h6;break;default:r=Lv}r=z7(r,P7.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function P7(t,e){if(cv=-1,lv=0,Rt&6)throw Error(we(327));var r=t.callbackNode;if(Lh()&&t.callbackNode!==r)return null;var o=Bv(t,t===Or?ei:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=ty(t,o);else{e=o;var a=Rt;Rt|=2;var u=N7();(Or!==t||ei!==e)&&(ga=null,Xh=ir()+500,Ru(t,e));do try{Kbe();break}catch(p){M7(t,p)}while(1);FD(),Jv.current=u,Rt=a,fr!==null?e=0:(Or=null,ei=0,e=br)}if(e!==0){if(e===2&&(a=tT(t),a!==0&&(o=a,e=IT(t,a))),e===1)throw r=lg,Ru(t,0),Dc(t,o),Xi(t,ir()),r;if(e===6)Dc(t,o);else{if(a=t.current.alternate,!(o&30)&&!Wbe(a)&&(e=ty(t,o),e===2&&(u=tT(t),u!==0&&(o=u,e=IT(t,u))),e===1))throw r=lg,Ru(t,0),Dc(t,o),Xi(t,ir()),r;switch(t.finishedWork=a,t.finishedLanes=o,e){case 0:case 1:throw Error(we(345));case 2:uu(t,Wi,ga);break;case 3:if(Dc(t,o),(o&130023424)===o&&(e=eP+500-ir(),10<e)){if(Bv(t,0)!==0)break;if(a=t.suspendedLanes,(a&o)!==o){Pi(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=lT(uu.bind(null,t,Wi,ga),e);break}uu(t,Wi,ga);break;case 4:if(Dc(t,o),(o&4194240)===o)break;for(e=t.eventTimes,a=-1;0<o;){var h=31-us(o);u=1<<h,h=e[h],h>a&&(a=h),o&=~u}if(o=a,o=ir()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*qbe(o/1960))-o,10<o){t.timeoutHandle=lT(uu.bind(null,t,Wi,ga),o);break}uu(t,Wi,ga);break;case 5:uu(t,Wi,ga);break;default:throw Error(we(329))}}}return Xi(t,ir()),t.callbackNode===r?P7.bind(null,t):null}function IT(t,e){var r=Cm;return t.current.memoizedState.isDehydrated&&(Ru(t,e).flags|=256),t=ty(t,e),t!==2&&(e=Wi,Wi=r,e!==null&&DT(e)),t}function DT(t){Wi===null?Wi=t:Wi.push.apply(Wi,t)}function Wbe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var a=r[o],u=a.getSnapshot;a=a.value;try{if(!hs(u(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dc(t,e){for(e&=~XD,e&=~p_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-us(e),o=1<<r;t[r]=-1,e&=~o}}function X4(t){if(Rt&6)throw Error(we(327));Lh();var e=Bv(t,0);if(!(e&1))return Xi(t,ir()),null;var r=ty(t,e);if(t.tag!==0&&r===2){var o=tT(t);o!==0&&(e=o,r=IT(t,o))}if(r===1)throw r=lg,Ru(t,0),Dc(t,e),Xi(t,ir()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uu(t,Wi,ga),Xi(t,ir()),null}function tP(t,e){var r=Rt;Rt|=1;try{return t(e)}finally{Rt=r,Rt===0&&(Xh=ir()+500,u_&&wl())}}function Ku(t){Rc!==null&&Rc.tag===0&&!(Rt&6)&&Lh();var e=Rt;Rt|=1;var r=Lo.transition,o=Kt;try{if(Lo.transition=null,Kt=1,t)return t()}finally{Kt=o,Lo.transition=r,Rt=e,!(Rt&6)&&wl()}}function nP(){ao=vh.current,_n(vh)}function Ru(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_be(r)),fr!==null)for(r=fr.return;r!==null;){var o=r;switch(LD(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Uv();break;case 3:Zh(),_n(Zi),_n(ki),qD();break;case 5:HD(o);break;case 4:Zh();break;case 13:_n(jn);break;case 19:_n(jn);break;case 10:jD(o.type._context);break;case 22:case 23:nP()}r=r.return}if(Or=t,fr=t=qc(t.current,null),ei=ao=e,br=0,lg=null,XD=p_=Gu=0,Wi=Cm=null,yu!==null){for(e=0;e<yu.length;e++)if(r=yu[e],o=r.interleaved,o!==null){r.interleaved=null;var a=o.next,u=r.pending;if(u!==null){var h=u.next;u.next=a,o.next=h}r.pending=o}yu=null}return t}function M7(t,e){do{var r=fr;try{if(FD(),ov.current=Zv,Qv){for(var o=Un.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Qv=!1}if(Wu=0,Nr=mr=Un=null,_m=!1,sg=0,JD.current=null,r===null||r.return===null){br=1,lg=e,fr=null;break}e:{var u=t,h=r.return,p=r,m=e;if(e=ei,p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var b=m,k=p,v=k.tag;if(!(k.mode&1)&&(v===0||v===11||v===15)){var _=k.alternate;_?(k.updateQueue=_.updateQueue,k.memoizedState=_.memoizedState,k.lanes=_.lanes):(k.updateQueue=null,k.memoizedState=null)}var A=j4(h);if(A!==null){A.flags&=-257,V4(A,h,p,u,e),A.mode&1&&F4(u,b,e),e=A,m=b;var E=e.updateQueue;if(E===null){var T=new Set;T.add(m),e.updateQueue=T}else E.add(m);break e}else{if(!(e&1)){F4(u,b,e),rP();break e}m=Error(we(426))}}else if(Dn&&p.mode&1){var L=j4(h);if(L!==null){!(L.flags&65536)&&(L.flags|=256),V4(L,h,p,u,e),BD(Jh(m,p));break e}}u=m=Jh(m,p),br!==4&&(br=2),Cm===null?Cm=[u]:Cm.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,e&=-e,u.lanes|=e;var M=m7(u,m,e);M4(u,M);break e;case 1:p=m;var S=u.type,I=u.stateNode;if(!(u.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&($c===null||!$c.has(I)))){u.flags|=65536,e&=-e,u.lanes|=e;var R=g7(u,p,e);M4(u,R);break e}}u=u.return}while(u!==null)}O7(r)}catch(j){e=j,fr===r&&r!==null&&(fr=r=r.return);continue}break}while(1)}function N7(){var t=Jv.current;return Jv.current=Zv,t===null?Zv:t}function rP(){(br===0||br===3||br===2)&&(br=4),Or===null||!(Gu&268435455)&&!(p_&268435455)||Dc(Or,ei)}function ty(t,e){var r=Rt;Rt|=2;var o=N7();(Or!==t||ei!==e)&&(ga=null,Ru(t,e));do try{Gbe();break}catch(a){M7(t,a)}while(1);if(FD(),Rt=r,Jv.current=o,fr!==null)throw Error(we(261));return Or=null,ei=0,br}function Gbe(){for(;fr!==null;)R7(fr)}function Kbe(){for(;fr!==null&&!kge();)R7(fr)}function R7(t){var e=B7(t.alternate,t,ao);t.memoizedProps=t.pendingProps,e===null?O7(t):fr=e,JD.current=null}function O7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Vbe(r,e),r!==null){r.flags&=32767,fr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{br=6,fr=null;return}}else if(r=jbe(r,e,ao),r!==null){fr=r;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=t}while(e!==null);br===0&&(br=5)}function uu(t,e,r){var o=Kt,a=Lo.transition;try{Lo.transition=null,Kt=1,Ybe(t,e,r,o)}finally{Lo.transition=a,Kt=o}return null}function Ybe(t,e,r,o){do Lh();while(Rc!==null);if(Rt&6)throw Error(we(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var u=r.lanes|r.childLanes;if(Ige(t,u),t===Or&&(fr=Or=null,ei=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ak||(Ak=!0,z7(Lv,function(){return Lh(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=Lo.transition,Lo.transition=null;var h=Kt;Kt=1;var p=Rt;Rt|=4,JD.current=null,$be(t,r),I7(r,t),mbe(aT),zv=!!sT,aT=sT=null,t.current=r,Hbe(r),vge(),Rt=p,Kt=h,Lo.transition=u}else t.current=r;if(Ak&&(Ak=!1,Rc=t,ey=a),u=t.pendingLanes,u===0&&($c=null),Age(r.stateNode),Xi(t,ir()),e!==null)for(o=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],o(a.value,{componentStack:a.stack,digest:a.digest});if(Xv)throw Xv=!1,t=ST,ST=null,t;return ey&1&&t.tag!==0&&Lh(),u=t.pendingLanes,u&1?t===TT?Em++:(Em=0,TT=t):Em=0,wl(),null}function Lh(){if(Rc!==null){var t=p6(ey),e=Lo.transition,r=Kt;try{if(Lo.transition=null,Kt=16>t?16:t,Rc===null)var o=!1;else{if(t=Rc,Rc=null,ey=0,Rt&6)throw Error(we(331));var a=Rt;for(Rt|=4,He=t.current;He!==null;){var u=He,h=u.child;if(He.flags&16){var p=u.deletions;if(p!==null){for(var m=0;m<p.length;m++){var b=p[m];for(He=b;He!==null;){var k=He;switch(k.tag){case 0:case 11:case 15:Am(8,k,u)}var v=k.child;if(v!==null)v.return=k,He=v;else for(;He!==null;){k=He;var _=k.sibling,A=k.return;if(x7(k),k===b){He=null;break}if(_!==null){_.return=A,He=_;break}He=A}}}var E=u.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var L=T.sibling;T.sibling=null,T=L}while(T!==null)}}He=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,He=h;else e:for(;He!==null;){if(u=He,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Am(9,u,u.return)}var M=u.sibling;if(M!==null){M.return=u.return,He=M;break e}He=u.return}}var S=t.current;for(He=S;He!==null;){h=He;var I=h.child;if(h.subtreeFlags&2064&&I!==null)I.return=h,He=I;else e:for(h=S;He!==null;){if(p=He,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:f_(9,p)}}catch(j){Zn(p,p.return,j)}if(p===h){He=null;break e}var R=p.sibling;if(R!==null){R.return=p.return,He=R;break e}He=p.return}}if(Rt=a,wl(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(o_,t)}catch{}o=!0}return o}finally{Kt=r,Lo.transition=e}}return!1}function e3(t,e,r){e=Jh(r,e),e=m7(t,e,1),t=Uc(t,e,1),e=Pi(),t!==null&&(Zg(t,1,e),Xi(t,e))}function Zn(t,e,r){if(t.tag===3)e3(t,t,r);else for(;e!==null;){if(e.tag===3){e3(e,t,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($c===null||!$c.has(o))){t=Jh(r,t),t=g7(e,t,1),e=Uc(e,t,1),t=Pi(),e!==null&&(Zg(e,1,t),Xi(e,t));break}}e=e.return}}function Qbe(t,e,r){var o=t.pingCache;o!==null&&o.delete(e),e=Pi(),t.pingedLanes|=t.suspendedLanes&r,Or===t&&(ei&r)===r&&(br===4||br===3&&(ei&130023424)===ei&&500>ir()-eP?Ru(t,0):XD|=r),Xi(t,e)}function L7(t,e){e===0&&(t.mode&1?(e=fk,fk<<=1,!(fk&130023424)&&(fk=4194304)):e=1);var r=Pi();t=Ba(t,e),t!==null&&(Zg(t,e,r),Xi(t,r))}function Zbe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),L7(t,r)}function Jbe(t,e){var r=0;switch(t.tag){case 13:var o=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(we(314))}o!==null&&o.delete(e),L7(t,r)}var B7;B7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zi.current)Gi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gi=!1,Fbe(t,e,r);Gi=!!(t.flags&131072)}else Gi=!1,Dn&&e.flags&1048576&&j6(e,qv,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;av(t,e),t=e.pendingProps;var a=Kh(e,ki.current);Oh(e,r),a=GD(null,e,o,t,a,r);var u=KD();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ji(o)?(u=!0,$v(e)):u=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,UD(e),a.updater=d_,e.stateNode=a,a._reactInternals=e,gT(e,o,t,r),e=kT(null,e,o,!0,u,r)):(e.tag=0,Dn&&u&&OD(e),Ei(null,e,a,r),e=e.child),e;case 16:o=e.elementType;e:{switch(av(t,e),t=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=ewe(o),t=is(o,t),a){case 0:e=wT(null,e,o,t,r);break e;case 1:e=H4(null,e,o,t,r);break e;case 11:e=U4(null,e,o,t,r);break e;case 14:e=$4(null,e,o,is(o.type,t),r);break e}throw Error(we(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:is(o,a),wT(t,e,o,a,r);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:is(o,a),H4(t,e,o,a,r);case 3:e:{if(v7(e),t===null)throw Error(we(387));o=e.pendingProps,u=e.memoizedState,a=u.element,H6(t,e),Kv(e,o,null,r);var h=e.memoizedState;if(o=h.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){a=Jh(Error(we(423)),e),e=q4(t,e,o,r,a);break e}else if(o!==a){a=Jh(Error(we(424)),e),e=q4(t,e,o,r,a);break e}else for(lo=Vc(e.stateNode.containerInfo.firstChild),ho=e,Dn=!0,ss=null,r=K6(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yh(),o===a){e=za(t,e,r);break e}Ei(t,e,o,r)}e=e.child}return e;case 5:return Y6(e),t===null&&fT(e),o=e.type,a=e.pendingProps,u=t!==null?t.memoizedProps:null,h=a.children,cT(o,a)?h=null:u!==null&&cT(o,u)&&(e.flags|=32),k7(t,e),Ei(t,e,h,r),e.child;case 6:return t===null&&fT(e),null;case 13:return y7(t,e,r);case 4:return $D(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Qh(e,null,o,r):Ei(t,e,o,r),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:is(o,a),U4(t,e,o,a,r);case 7:return Ei(t,e,e.pendingProps,r),e.child;case 8:return Ei(t,e,e.pendingProps.children,r),e.child;case 12:return Ei(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,u=e.memoizedProps,h=a.value,pn(Wv,o._currentValue),o._currentValue=h,u!==null)if(hs(u.value,h)){if(u.children===a.children&&!Zi.current){e=za(t,e,r);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var p=u.dependencies;if(p!==null){h=u.child;for(var m=p.firstContext;m!==null;){if(m.context===o){if(u.tag===1){m=Sa(-1,r&-r),m.tag=2;var b=u.updateQueue;if(b!==null){b=b.shared;var k=b.pending;k===null?m.next=m:(m.next=k.next,k.next=m),b.pending=m}}u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),pT(u.return,r,e),p.lanes|=r;break}m=m.next}}else if(u.tag===10)h=u.type===e.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(we(341));h.lanes|=r,p=h.alternate,p!==null&&(p.lanes|=r),pT(h,r,e),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Ei(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Oh(e,r),a=Fo(a),o=o(a),e.flags|=1,Ei(t,e,o,r),e.child;case 14:return o=e.type,a=is(o,e.pendingProps),a=is(o.type,a),$4(t,e,o,a,r);case 15:return b7(t,e,e.type,e.pendingProps,r);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:is(o,a),av(t,e),e.tag=1,Ji(o)?(t=!0,$v(e)):t=!1,Oh(e,r),W6(e,o,a),gT(e,o,a,r),kT(null,e,o,!0,t,r);case 19:return _7(t,e,r);case 22:return w7(t,e,r)}throw Error(we(156,e.tag))};function z7(t,e){return u6(t,e)}function Xbe(t,e,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(t,e,r,o){return new Xbe(t,e,r,o)}function iP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ewe(t){if(typeof t=="function")return iP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===AD)return 11;if(t===CD)return 14}return 2}function qc(t,e){var r=t.alternate;return r===null?(r=No(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uv(t,e,r,o,a,u){var h=2;if(o=t,typeof t=="function")iP(t)&&(h=1);else if(typeof t=="string")h=5;else e:switch(t){case uh:return Ou(r.children,a,u,e);case _D:h=8,a|=8;break;case jS:return t=No(12,r,e,a|2),t.elementType=jS,t.lanes=u,t;case VS:return t=No(13,r,e,a),t.elementType=VS,t.lanes=u,t;case US:return t=No(19,r,e,a),t.elementType=US,t.lanes=u,t;case G$:return m_(r,a,u,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q$:h=10;break e;case W$:h=9;break e;case AD:h=11;break e;case CD:h=14;break e;case Ec:h=16,o=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=No(h,r,e,a),e.elementType=t,e.type=o,e.lanes=u,e}function Ou(t,e,r,o){return t=No(7,t,o,e),t.lanes=r,t}function m_(t,e,r,o){return t=No(22,t,o,e),t.elementType=G$,t.lanes=r,t.stateNode={isHidden:!1},t}function Cx(t,e,r){return t=No(6,t,null,e),t.lanes=r,t}function Ex(t,e,r){return e=No(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function twe(t,e,r,o,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ox(0),this.expirationTimes=ox(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ox(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oP(t,e,r,o,a,u,h,p,m){return t=new twe(t,e,r,p,m),e===1?(e=1,u===!0&&(e|=8)):e=0,u=No(3,null,null,e),t.current=u,u.stateNode=t,u.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UD(u),t}function nwe(t,e,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:o==null?null:""+o,children:t,containerInfo:e,implementation:r}}function F7(t){if(!t)return Zc;t=t._reactInternals;e:{if(hd(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ji(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Ji(r))return z6(t,r,e)}return e}function j7(t,e,r,o,a,u,h,p,m){return t=oP(r,o,!0,t,a,u,h,p,m),t.context=F7(null),r=t.current,o=Pi(),a=Hc(r),u=Sa(o,a),u.callback=e??null,Uc(r,u,a),t.current.lanes=a,Zg(t,a,o),Xi(t,o),t}function g_(t,e,r,o){var a=e.current,u=Pi(),h=Hc(a);return r=F7(r),e.context===null?e.context=r:e.pendingContext=r,e=Sa(u,h),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Uc(a,e,h),t!==null&&(ds(t,a,h,u),iv(t,a,h)),h}function ny(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sP(t,e){t3(t,e),(t=t.alternate)&&t3(t,e)}function rwe(){return null}var V7=typeof reportError=="function"?reportError:function(t){console.error(t)};function aP(t){this._internalRoot=t}b_.prototype.render=aP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));g_(t,e,null,null)};b_.prototype.unmount=aP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ku(function(){g_(null,t,null,null)}),e[La]=null}};function b_(t){this._internalRoot=t}b_.prototype.unstable_scheduleHydration=function(t){if(t){var e=b6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ic.length&&e!==0&&e<Ic[r].priority;r++);Ic.splice(r,0,t),r===0&&k6(t)}};function cP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function w_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n3(){}function iwe(t,e,r,o,a){if(a){if(typeof o=="function"){var u=o;o=function(){var b=ny(h);u.call(b)}}var h=j7(e,o,t,0,null,!1,!1,"",n3);return t._reactRootContainer=h,t[La]=h.current,tg(t.nodeType===8?t.parentNode:t),Ku(),h}for(;a=t.lastChild;)t.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var b=ny(m);p.call(b)}}var m=oP(t,0,!1,null,null,!1,!1,"",n3);return t._reactRootContainer=m,t[La]=m.current,tg(t.nodeType===8?t.parentNode:t),Ku(function(){g_(e,m,r,o)}),m}function k_(t,e,r,o,a){var u=r._reactRootContainer;if(u){var h=u;if(typeof a=="function"){var p=a;a=function(){var m=ny(h);p.call(m)}}g_(e,h,t,a)}else h=iwe(r,e,t,a,o);return ny(h)}m6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=sm(e.pendingLanes);r!==0&&(SD(e,r|1),Xi(e,ir()),!(Rt&6)&&(Xh=ir()+500,wl()))}break;case 13:Ku(function(){var o=Ba(t,1);if(o!==null){var a=Pi();ds(o,t,1,a)}}),sP(t,1)}};TD=function(t){if(t.tag===13){var e=Ba(t,134217728);if(e!==null){var r=Pi();ds(e,t,134217728,r)}sP(t,134217728)}};g6=function(t){if(t.tag===13){var e=Hc(t),r=Ba(t,e);if(r!==null){var o=Pi();ds(r,t,e,o)}sP(t,e)}};b6=function(){return Kt};w6=function(t,e){var r=Kt;try{return Kt=t,e()}finally{Kt=r}};JS=function(t,e,r){switch(e){case"input":if(qS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==t&&o.form===t.form){var a=l_(o);if(!a)throw Error(we(90));Y$(o),qS(o,a)}}}break;case"textarea":Z$(t,r);break;case"select":e=r.value,e!=null&&Ph(t,!!r.multiple,e,!1)}};i6=tP;o6=Ku;var owe={usingClientEntryPoint:!1,Events:[Xg,ph,l_,n6,r6,tP]},Fp={findFiberByHostInstance:vu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},swe={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c6(t),t===null?null:t.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||rwe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ck=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ck.isDisabled&&Ck.supportsFiber)try{o_=Ck.inject(swe),Ws=Ck}catch{}}bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=owe;bo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cP(e))throw Error(we(200));return nwe(t,e,null,r)};bo.createRoot=function(t,e){if(!cP(t))throw Error(we(299));var r=!1,o="",a=V7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=oP(t,1,!1,null,null,r,!1,o,a),t[La]=e.current,tg(t.nodeType===8?t.parentNode:t),new aP(e)};bo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=c6(e),t=t===null?null:t.stateNode,t};bo.flushSync=function(t){return Ku(t)};bo.hydrate=function(t,e,r){if(!w_(e))throw Error(we(200));return k_(null,t,e,!0,r)};bo.hydrateRoot=function(t,e,r){if(!cP(t))throw Error(we(405));var o=r!=null&&r.hydratedSources||null,a=!1,u="",h=V7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),e=j7(e,null,t,1,r??null,a,!1,u,h),t[La]=e.current,tg(t),o)for(t=0;t<o.length;t++)r=o[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new b_(e)};bo.render=function(t,e,r){if(!w_(e))throw Error(we(200));return k_(null,t,e,!1,r)};bo.unmountComponentAtNode=function(t){if(!w_(t))throw Error(we(40));return t._reactRootContainer?(Ku(function(){k_(null,null,t,!1,function(){t._reactRootContainer=null,t[La]=null})}),!0):!1};bo.unstable_batchedUpdates=tP;bo.unstable_renderSubtreeIntoContainer=function(t,e,r,o){if(!w_(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return k_(t,e,r,!1,o)};bo.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=bo})(rge);var r3=Mv;BS.createRoot=r3.createRoot,BS.hydrateRoot=r3.hydrateRoot;var PT={},awe={get exports(){return PT},set exports(t){PT=t}},U7={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=q;function cwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lwe=typeof Object.is=="function"?Object.is:cwe,uwe=ef.useState,dwe=ef.useEffect,hwe=ef.useLayoutEffect,fwe=ef.useDebugValue;function pwe(t,e){var r=e(),o=uwe({inst:{value:r,getSnapshot:e}}),a=o[0].inst,u=o[1];return hwe(function(){a.value=r,a.getSnapshot=e,xx(a)&&u({inst:a})},[t,r,e]),dwe(function(){return xx(a)&&u({inst:a}),t(function(){xx(a)&&u({inst:a})})},[t]),fwe(r),r}function xx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lwe(t,r)}catch{return!0}}function mwe(t,e){return e()}var gwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mwe:pwe;U7.useSyncExternalStore=ef.useSyncExternalStore!==void 0?ef.useSyncExternalStore:gwe;(function(t){t.exports=U7})(awe);var MT={},bwe={get exports(){return MT},set exports(t){MT=t}},$7={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=q,wwe=PT;function kwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vwe=typeof Object.is=="function"?Object.is:kwe,ywe=wwe.useSyncExternalStore,_we=v_.useRef,Awe=v_.useEffect,Cwe=v_.useMemo,Ewe=v_.useDebugValue;$7.useSyncExternalStoreWithSelector=function(t,e,r,o,a){var u=_we(null);if(u.current===null){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=Cwe(function(){function m(A){if(!b){if(b=!0,k=A,A=o(A),a!==void 0&&h.hasValue){var E=h.value;if(a(E,A))return v=E}return v=A}if(E=v,vwe(k,A))return E;var T=o(A);return a!==void 0&&a(E,T)?E:(k=A,v=T)}var b=!1,k,v,_=r===void 0?null:r;return[function(){return m(e())},_===null?void 0:function(){return m(_())}]},[e,r,o,a]);var p=ywe(t,u[0],u[1]);return Awe(function(){h.hasValue=!0,h.value=p},[p]),Ewe(p),p};(function(t){t.exports=$7})(bwe);function xwe(t){t()}let H7=xwe;const Swe=t=>H7=t,Twe=()=>H7,Jc=q.createContext(null);function q7(){return q.useContext(Jc)}const Iwe=()=>{throw new Error("uSES not initialized!")};let W7=Iwe;const Dwe=t=>{W7=t},Pwe=(t,e)=>t===e;function Mwe(t=Jc){const e=t===Jc?q7:()=>q.useContext(t);return function(o,a=Pwe){const{store:u,subscription:h,getServerState:p}=e(),m=W7(h.addNestedSub,u.getState,p||u.getState,o,a);return q.useDebugValue(m),m}}const Nwe=Mwe();var NT={},Rwe={get exports(){return NT},set exports(t){NT=t}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=typeof Symbol=="function"&&Symbol.for,lP=Fr?Symbol.for("react.element"):60103,uP=Fr?Symbol.for("react.portal"):60106,y_=Fr?Symbol.for("react.fragment"):60107,__=Fr?Symbol.for("react.strict_mode"):60108,A_=Fr?Symbol.for("react.profiler"):60114,C_=Fr?Symbol.for("react.provider"):60109,E_=Fr?Symbol.for("react.context"):60110,dP=Fr?Symbol.for("react.async_mode"):60111,x_=Fr?Symbol.for("react.concurrent_mode"):60111,S_=Fr?Symbol.for("react.forward_ref"):60112,T_=Fr?Symbol.for("react.suspense"):60113,Owe=Fr?Symbol.for("react.suspense_list"):60120,I_=Fr?Symbol.for("react.memo"):60115,D_=Fr?Symbol.for("react.lazy"):60116,Lwe=Fr?Symbol.for("react.block"):60121,Bwe=Fr?Symbol.for("react.fundamental"):60117,zwe=Fr?Symbol.for("react.responder"):60118,Fwe=Fr?Symbol.for("react.scope"):60119;function ko(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lP:switch(t=t.type,t){case dP:case x_:case y_:case A_:case __:case T_:return t;default:switch(t=t&&t.$$typeof,t){case E_:case S_:case D_:case I_:case C_:return t;default:return e}}case uP:return e}}}function G7(t){return ko(t)===x_}Yt.AsyncMode=dP;Yt.ConcurrentMode=x_;Yt.ContextConsumer=E_;Yt.ContextProvider=C_;Yt.Element=lP;Yt.ForwardRef=S_;Yt.Fragment=y_;Yt.Lazy=D_;Yt.Memo=I_;Yt.Portal=uP;Yt.Profiler=A_;Yt.StrictMode=__;Yt.Suspense=T_;Yt.isAsyncMode=function(t){return G7(t)||ko(t)===dP};Yt.isConcurrentMode=G7;Yt.isContextConsumer=function(t){return ko(t)===E_};Yt.isContextProvider=function(t){return ko(t)===C_};Yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lP};Yt.isForwardRef=function(t){return ko(t)===S_};Yt.isFragment=function(t){return ko(t)===y_};Yt.isLazy=function(t){return ko(t)===D_};Yt.isMemo=function(t){return ko(t)===I_};Yt.isPortal=function(t){return ko(t)===uP};Yt.isProfiler=function(t){return ko(t)===A_};Yt.isStrictMode=function(t){return ko(t)===__};Yt.isSuspense=function(t){return ko(t)===T_};Yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===y_||t===x_||t===A_||t===__||t===T_||t===Owe||typeof t=="object"&&t!==null&&(t.$$typeof===D_||t.$$typeof===I_||t.$$typeof===C_||t.$$typeof===E_||t.$$typeof===S_||t.$$typeof===Bwe||t.$$typeof===zwe||t.$$typeof===Fwe||t.$$typeof===Lwe)};Yt.typeOf=ko;(function(t){t.exports=Yt})(Rwe);var K7=NT,jwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vwe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y7={};Y7[K7.ForwardRef]=jwe;Y7[K7.Memo]=Vwe;var i3={},Uwe={get exports(){return i3},set exports(t){i3=t}},Qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP=Symbol.for("react.element"),fP=Symbol.for("react.portal"),P_=Symbol.for("react.fragment"),M_=Symbol.for("react.strict_mode"),N_=Symbol.for("react.profiler"),R_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),$we=Symbol.for("react.server_context"),L_=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),z_=Symbol.for("react.suspense_list"),F_=Symbol.for("react.memo"),j_=Symbol.for("react.lazy"),Hwe=Symbol.for("react.offscreen"),Q7;Q7=Symbol.for("react.module.reference");function Ho(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hP:switch(t=t.type,t){case P_:case N_:case M_:case B_:case z_:return t;default:switch(t=t&&t.$$typeof,t){case $we:case O_:case L_:case j_:case F_:case R_:return t;default:return e}}case fP:return e}}}Qt.ContextConsumer=O_;Qt.ContextProvider=R_;Qt.Element=hP;Qt.ForwardRef=L_;Qt.Fragment=P_;Qt.Lazy=j_;Qt.Memo=F_;Qt.Portal=fP;Qt.Profiler=N_;Qt.StrictMode=M_;Qt.Suspense=B_;Qt.SuspenseList=z_;Qt.isAsyncMode=function(){return!1};Qt.isConcurrentMode=function(){return!1};Qt.isContextConsumer=function(t){return Ho(t)===O_};Qt.isContextProvider=function(t){return Ho(t)===R_};Qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hP};Qt.isForwardRef=function(t){return Ho(t)===L_};Qt.isFragment=function(t){return Ho(t)===P_};Qt.isLazy=function(t){return Ho(t)===j_};Qt.isMemo=function(t){return Ho(t)===F_};Qt.isPortal=function(t){return Ho(t)===fP};Qt.isProfiler=function(t){return Ho(t)===N_};Qt.isStrictMode=function(t){return Ho(t)===M_};Qt.isSuspense=function(t){return Ho(t)===B_};Qt.isSuspenseList=function(t){return Ho(t)===z_};Qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===P_||t===N_||t===M_||t===B_||t===z_||t===Hwe||typeof t=="object"&&t!==null&&(t.$$typeof===j_||t.$$typeof===F_||t.$$typeof===R_||t.$$typeof===O_||t.$$typeof===L_||t.$$typeof===Q7||t.getModuleId!==void 0)};Qt.typeOf=Ho;(function(t){t.exports=Qt})(Uwe);function qwe(){const t=Twe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let o=e;for(;o;)o.callback(),o=o.next})},get(){let o=[],a=e;for(;a;)o.push(a),a=a.next;return o},subscribe(o){let a=!0,u=r={callback:o,next:null,prev:r};return u.prev?u.prev.next=u:e=u,function(){!a||e===null||(a=!1,u.next?u.next.prev=u.prev:r=u.prev,u.prev?u.prev.next=u.next:e=u.next)}}}}const o3={notify(){},get:()=>[]};function Wwe(t,e){let r,o=o3;function a(v){return m(),o.subscribe(v)}function u(){o.notify()}function h(){k.onStateChange&&k.onStateChange()}function p(){return Boolean(r)}function m(){r||(r=e?e.addNestedSub(h):t.subscribe(h),o=qwe())}function b(){r&&(r(),r=void 0,o.clear(),o=o3)}const k={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:p,trySubscribe:m,tryUnsubscribe:b,getListeners:()=>o};return k}const Gwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kwe=Gwe?q.useLayoutEffect:q.useEffect;function Ywe({store:t,context:e,children:r,serverState:o}){const a=q.useMemo(()=>{const p=Wwe(t);return{store:t,subscription:p,getServerState:o?()=>o:void 0}},[t,o]),u=q.useMemo(()=>t.getState(),[t]);Kwe(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==t.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,u]);const h=e||Jc;return rn.createElement(h.Provider,{value:a},r)}function Z7(t=Jc){const e=t===Jc?q7:()=>q.useContext(t);return function(){const{store:o}=e();return o}}const Qwe=Z7();function Zwe(t=Jc){const e=t===Jc?Qwe:Z7(t);return function(){return e().dispatch}}const Jwe=Zwe();Dwe(MT.useSyncExternalStoreWithSelector);Swe(Mv.unstable_batchedUpdates);function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function Xwe(t,e){if(ug(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(ug(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eke(t){var e=Xwe(t,"string");return ug(e)==="symbol"?e:String(e)}function tke(t,e,r){return e=eke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function a3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(r),!0).forEach(function(o){tke(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function hi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var c3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Sx=function(){return Math.random().toString(36).substring(7).split("").join(".")},ry={INIT:"@@redux/INIT"+Sx(),REPLACE:"@@redux/REPLACE"+Sx(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Sx()}};function nke(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function J7(t,e,r){var o;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hi(1));return r(J7)(t,e)}if(typeof t!="function")throw new Error(hi(2));var a=t,u=e,h=[],p=h,m=!1;function b(){p===h&&(p=h.slice())}function k(){if(m)throw new Error(hi(3));return u}function v(T){if(typeof T!="function")throw new Error(hi(4));if(m)throw new Error(hi(5));var L=!0;return b(),p.push(T),function(){if(L){if(m)throw new Error(hi(6));L=!1,b();var S=p.indexOf(T);p.splice(S,1),h=null}}}function _(T){if(!nke(T))throw new Error(hi(7));if(typeof T.type>"u")throw new Error(hi(8));if(m)throw new Error(hi(9));try{m=!0,u=a(u,T)}finally{m=!1}for(var L=h=p,M=0;M<L.length;M++){var S=L[M];S()}return T}function A(T){if(typeof T!="function")throw new Error(hi(10));a=T,_({type:ry.REPLACE})}function E(){var T,L=v;return T={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(hi(11));function I(){S.next&&S.next(k())}I();var R=L(I);return{unsubscribe:R}}},T[c3]=function(){return this},T}return _({type:ry.INIT}),o={dispatch:_,subscribe:v,getState:k,replaceReducer:A},o[c3]=E,o}var rke=J7;function ike(t){Object.keys(t).forEach(function(e){var r=t[e],o=r(void 0,{type:ry.INIT});if(typeof o>"u")throw new Error(hi(12));if(typeof r(void 0,{type:ry.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hi(13))})}function oke(t){for(var e=Object.keys(t),r={},o=0;o<e.length;o++){var a=e[o];typeof t[a]=="function"&&(r[a]=t[a])}var u=Object.keys(r),h;try{ike(r)}catch(p){h=p}return function(m,b){if(m===void 0&&(m={}),h)throw h;for(var k=!1,v={},_=0;_<u.length;_++){var A=u[_],E=r[A],T=m[A],L=E(T,b);if(typeof L>"u")throw b&&b.type,new Error(hi(14));v[A]=L,k=k||L!==T}return k=k||u.length!==Object.keys(m).length,k?v:m}}function ske(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(o){return o}:e.length===1?e[0]:e.reduce(function(o,a){return function(){return o(a.apply(void 0,arguments))}})}function ake(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(o){return function(){var a=o.apply(void 0,arguments),u=function(){throw new Error(hi(15))},h={getState:a.getState,dispatch:function(){return u.apply(void 0,arguments)}},p=e.map(function(m){return m(h)});return u=ske.apply(void 0,p)(a.dispatch),a3(a3({},a),{},{dispatch:u})}}}function X7(t){var e=function(o){var a=o.dispatch,u=o.getState;return function(h){return function(p){return typeof p=="function"?p(a,u,t):h(p)}}};return e}var eH=X7();eH.withExtraArgument=X7;const cke=eH;function pP(t){return t==null}function mP(t){throw new Error("Argument "+t+" is empty.")}function tH(t){return typeof t=="function"&&"getType"in t}function lke(t){throw new Error("Argument "+t+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function nH(t){return typeof t=="string"||typeof t=="symbol"}function rH(t){return!nH(t)}function iH(t){throw new Error("Argument "+t+" is invalid, it should be an action type of type: string | symbol")}function uke(t,e){return pP(t)&&mP(1),rH(t)&&iH(1),Object.assign(function(){var r=e!=null?e.apply(void 0,arguments):void 0;return Object.assign({type:t},r)},{getType:function(){return t},toString:function(){return t}})}function Fa(t,e,r){return pP(t)&&mP(1),rH(t)&&iH(1),function(){return uke(t,function(){var o=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1];return e==null&&r==null||(o=e!=null?e.apply(void 0,arguments):void 0,a=r!=null?r.apply(void 0,arguments):void 0),Object.assign({},o!==void 0&&{payload:o},{},a!==void 0&&{meta:a})})}}function oH(t,e,r,o){return function(){var a=[t,e,r,o].map(function(u,h){return Array.isArray(u)?Fa(u[0],u[1],u[2])():typeof u=="string"||typeof u=="symbol"?Fa(u)():void(h<3&&function(p){throw new Error("Argument "+p+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(h))});return{request:a[0],success:a[1],failure:a[2],cancel:a[3]}}}function dke(t){return pP(t)&&mP(1),tH(t)||lke(1),t.getType()}function tb(t,e){e===void 0&&(e={});var r=Object.assign({},e),o=function(a,u){var h=Array.isArray(a)?a:[a],p={};return h.map(function(m,b){return tH(m)?dke(m):nH(m)?m:function(k){throw new Error("Argument "+k+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(b+1)}).forEach(function(m){return p[m]=u}),tb(t,Object.assign({},r,{},p))};return Object.assign(function(a,u){if(a===void 0&&(a=t),r.hasOwnProperty(u.type)){var h=r[u.type];if(typeof h!="function")throw Error('Reducer under "'+u.type+'" key is not a valid reducer');return h(a,u)}return a},{handlers:Object.assign({},r),handleAction:o,handleType:o})}function sH(t,e){return function(){return t.apply(e,arguments)}}const{toString:aH}=Object.prototype,{getPrototypeOf:gP}=Object,bP=(t=>e=>{const r=aH.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ka=t=>(t=t.toLowerCase(),e=>bP(e)===t),V_=t=>e=>typeof e===t,{isArray:Ef}=Array,dg=V_("undefined");function hke(t){return t!==null&&!dg(t)&&t.constructor!==null&&!dg(t.constructor)&&Xc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cH=Ka("ArrayBuffer");function fke(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&cH(t.buffer),e}const pke=V_("string"),Xc=V_("function"),lH=V_("number"),wP=t=>t!==null&&typeof t=="object",mke=t=>t===!0||t===!1,dv=t=>{if(bP(t)!=="object")return!1;const e=gP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gke=Ka("Date"),bke=Ka("File"),wke=Ka("Blob"),kke=Ka("FileList"),vke=t=>wP(t)&&Xc(t.pipe),yke=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||aH.call(t)===e||Xc(t.toString)&&t.toString()===e)},_ke=Ka("URLSearchParams"),Ake=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nb(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Ef(t))for(o=0,a=t.length;o<a;o++)e.call(null,t[o],o,t);else{const u=r?Object.getOwnPropertyNames(t):Object.keys(t),h=u.length;let p;for(o=0;o<h;o++)p=u[o],e.call(null,t[p],p,t)}}function uH(t,e){e=e.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const dH=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hH=t=>!dg(t)&&t!==dH;function RT(){const{caseless:t}=hH(this)&&this||{},e={},r=(o,a)=>{const u=t&&uH(e,a)||a;dv(e[u])&&dv(o)?e[u]=RT(e[u],o):dv(o)?e[u]=RT({},o):Ef(o)?e[u]=o.slice():e[u]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&nb(arguments[o],r);return e}const Cke=(t,e,r,{allOwnKeys:o}={})=>(nb(e,(a,u)=>{r&&Xc(a)?t[u]=sH(a,r):t[u]=a},{allOwnKeys:o}),t),Eke=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xke=(t,e,r,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ske=(t,e,r,o)=>{let a,u,h;const p={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),u=a.length;u-- >0;)h=a[u],(!o||o(h,t,e))&&!p[h]&&(e[h]=t[h],p[h]=!0);t=r!==!1&&gP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Tke=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const o=t.indexOf(e,r);return o!==-1&&o===r},Ike=t=>{if(!t)return null;if(Ef(t))return t;let e=t.length;if(!lH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Dke=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gP(Uint8Array)),Pke=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=o.next())&&!a.done;){const u=a.value;e.call(t,u[0],u[1])}},Mke=(t,e)=>{let r;const o=[];for(;(r=t.exec(e))!==null;)o.push(r);return o},Nke=Ka("HTMLFormElement"),Rke=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),l3=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Oke=Ka("RegExp"),fH=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),o={};nb(r,(a,u)=>{e(a,u,t)!==!1&&(o[u]=a)}),Object.defineProperties(t,o)},Lke=t=>{fH(t,(e,r)=>{if(Xc(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(Xc(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Bke=(t,e)=>{const r={},o=a=>{a.forEach(u=>{r[u]=!0})};return Ef(t)?o(t):o(String(t).split(e)),r},zke=()=>{},Fke=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Tx="abcdefghijklmnopqrstuvwxyz",u3="0123456789",pH={DIGIT:u3,ALPHA:Tx,ALPHA_DIGIT:Tx+Tx.toUpperCase()+u3},jke=(t=16,e=pH.ALPHA_DIGIT)=>{let r="";const{length:o}=e;for(;t--;)r+=e[Math.random()*o|0];return r};function Vke(t){return!!(t&&Xc(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Uke=t=>{const e=new Array(10),r=(o,a)=>{if(wP(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const u=Ef(o)?[]:{};return nb(o,(h,p)=>{const m=r(h,a+1);!dg(m)&&(u[p]=m)}),e[a]=void 0,u}}return o};return r(t,0)},ce={isArray:Ef,isArrayBuffer:cH,isBuffer:hke,isFormData:yke,isArrayBufferView:fke,isString:pke,isNumber:lH,isBoolean:mke,isObject:wP,isPlainObject:dv,isUndefined:dg,isDate:gke,isFile:bke,isBlob:wke,isRegExp:Oke,isFunction:Xc,isStream:vke,isURLSearchParams:_ke,isTypedArray:Dke,isFileList:kke,forEach:nb,merge:RT,extend:Cke,trim:Ake,stripBOM:Eke,inherits:xke,toFlatObject:Ske,kindOf:bP,kindOfTest:Ka,endsWith:Tke,toArray:Ike,forEachEntry:Pke,matchAll:Mke,isHTMLForm:Nke,hasOwnProperty:l3,hasOwnProp:l3,reduceDescriptors:fH,freezeMethods:Lke,toObjectSet:Bke,toCamelCase:Rke,noop:zke,toFiniteNumber:Fke,findKey:uH,global:dH,isContextDefined:hH,ALPHABET:pH,generateString:jke,isSpecCompliantForm:Vke,toJSONObject:Uke};function Nt(t,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a)}ce.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mH=Nt.prototype,gH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gH[t]={value:t}});Object.defineProperties(Nt,gH);Object.defineProperty(mH,"isAxiosError",{value:!0});Nt.from=(t,e,r,o,a,u)=>{const h=Object.create(mH);return ce.toFlatObject(t,h,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),Nt.call(h,t.message,e,r,o,a),h.cause=t,h.name=t.name,u&&Object.assign(h,u),h};const $ke=null;function OT(t){return ce.isPlainObject(t)||ce.isArray(t)}function bH(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function d3(t,e,r){return t?t.concat(e).map(function(a,u){return a=bH(a),!r&&u?"["+a+"]":a}).join(r?".":""):e}function Hke(t){return ce.isArray(t)&&!t.some(OT)}const qke=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function U_(t,e,r){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,L){return!ce.isUndefined(L[T])});const o=r.metaTokens,a=r.visitor||k,u=r.dots,h=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(a))throw new TypeError("visitor must be a function");function b(E){if(E===null)return"";if(ce.isDate(E))return E.toISOString();if(!m&&ce.isBlob(E))throw new Nt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(E)||ce.isTypedArray(E)?m&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function k(E,T,L){let M=E;if(E&&!L&&typeof E=="object"){if(ce.endsWith(T,"{}"))T=o?T:T.slice(0,-2),E=JSON.stringify(E);else if(ce.isArray(E)&&Hke(E)||(ce.isFileList(E)||ce.endsWith(T,"[]"))&&(M=ce.toArray(E)))return T=bH(T),M.forEach(function(I,R){!(ce.isUndefined(I)||I===null)&&e.append(h===!0?d3([T],R,u):h===null?T:T+"[]",b(I))}),!1}return OT(E)?!0:(e.append(d3(L,T,u),b(E)),!1)}const v=[],_=Object.assign(qke,{defaultVisitor:k,convertValue:b,isVisitable:OT});function A(E,T){if(!ce.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));v.push(E),ce.forEach(E,function(M,S){(!(ce.isUndefined(M)||M===null)&&a.call(e,M,ce.isString(S)?S.trim():S,T,_))===!0&&A(M,T?T.concat(S):[S])}),v.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return A(t),e}function h3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function kP(t,e){this._pairs=[],t&&U_(t,this,e)}const wH=kP.prototype;wH.append=function(e,r){this._pairs.push([e,r])};wH.toString=function(e){const r=e?function(o){return e.call(this,o,h3)}:h3;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Wke(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kH(t,e,r){if(!e)return t;const o=r&&r.encode||Wke,a=r&&r.serialize;let u;if(a?u=a(e,r):u=ce.isURLSearchParams(e)?e.toString():new kP(e,r).toString(o),u){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class Gke{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(o){o!==null&&e(o)})}}const f3=Gke,vH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kke=typeof URLSearchParams<"u"?URLSearchParams:kP,Yke=FormData,Qke=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Zke=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),js={isBrowser:!0,classes:{URLSearchParams:Kke,FormData:Yke,Blob},isStandardBrowserEnv:Qke,isStandardBrowserWebWorkerEnv:Zke,protocols:["http","https","file","blob","url","data"]};function Jke(t,e){return U_(t,new js.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,u){return js.isNode&&ce.isBuffer(r)?(this.append(o,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function Xke(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eve(t){const e={},r=Object.keys(t);let o;const a=r.length;let u;for(o=0;o<a;o++)u=r[o],e[u]=t[u];return e}function yH(t){function e(r,o,a,u){let h=r[u++];const p=Number.isFinite(+h),m=u>=r.length;return h=!h&&ce.isArray(a)?a.length:h,m?(ce.hasOwnProp(a,h)?a[h]=[a[h],o]:a[h]=o,!p):((!a[h]||!ce.isObject(a[h]))&&(a[h]=[]),e(r,o,a[h],u)&&ce.isArray(a[h])&&(a[h]=eve(a[h])),!p)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const r={};return ce.forEachEntry(t,(o,a)=>{e(Xke(o),a,r,0)}),r}return null}const tve={"Content-Type":void 0};function nve(t,e,r){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const $_={transitional:vH,adapter:["xhr","http"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,u=ce.isObject(e);if(u&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return a&&a?JSON.stringify(yH(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Jke(e,this.formSerializer).toString();if((p=ce.isFileList(e))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return U_(p?{"files[]":e}:e,m&&new m,this.formSerializer)}}return u||a?(r.setContentType("application/json",!1),nve(e)):e}],transformResponse:[function(e){const r=this.transitional||$_.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(e&&ce.isString(e)&&(o&&!this.responseType||a)){const h=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(p){if(h)throw p.name==="SyntaxError"?Nt.from(p,Nt.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ce.forEach(["delete","get","head"],function(e){$_.headers[e]={}});ce.forEach(["post","put","patch"],function(e){$_.headers[e]=ce.merge(tve)});const vP=$_,rve=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ive=t=>{const e={};let r,o,a;return t&&t.split(`
`).forEach(function(h){a=h.indexOf(":"),r=h.substring(0,a).trim().toLowerCase(),o=h.substring(a+1).trim(),!(!r||e[r]&&rve[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},p3=Symbol("internals");function jp(t){return t&&String(t).trim().toLowerCase()}function hv(t){return t===!1||t==null?t:ce.isArray(t)?t.map(hv):String(t)}function ove(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)e[o[1]]=o[2];return e}function sve(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function Ix(t,e,r,o){if(ce.isFunction(o))return o.call(this,e,r);if(ce.isString(e)){if(ce.isString(o))return e.indexOf(o)!==-1;if(ce.isRegExp(o))return o.test(e)}}function ave(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function cve(t,e){const r=ce.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,u,h){return this[o].call(this,e,a,u,h)},configurable:!0})})}class H_{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function u(p,m,b){const k=jp(m);if(!k)throw new Error("header name must be a non-empty string");const v=ce.findKey(a,k);(!v||a[v]===void 0||b===!0||b===void 0&&a[v]!==!1)&&(a[v||m]=hv(p))}const h=(p,m)=>ce.forEach(p,(b,k)=>u(b,k,m));return ce.isPlainObject(e)||e instanceof this.constructor?h(e,r):ce.isString(e)&&(e=e.trim())&&!sve(e)?h(ive(e),r):e!=null&&u(r,e,o),this}get(e,r){if(e=jp(e),e){const o=ce.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return ove(a);if(ce.isFunction(r))return r.call(this,a,o);if(ce.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=jp(e),e){const o=ce.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||Ix(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function u(h){if(h=jp(h),h){const p=ce.findKey(o,h);p&&(!r||Ix(o,o[p],p,r))&&(delete o[p],a=!0)}}return ce.isArray(e)?e.forEach(u):u(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const u=r[o];(!e||Ix(this,this[u],u,e))&&(delete this[u],a=!0)}return a}normalize(e){const r=this,o={};return ce.forEach(this,(a,u)=>{const h=ce.findKey(o,u);if(h){r[h]=hv(a),delete r[u];return}const p=e?ave(u):String(u).trim();p!==u&&delete r[u],r[p]=hv(a),o[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ce.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&ce.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[p3]=this[p3]={accessors:{}}).accessors,a=this.prototype;function u(h){const p=jp(h);o[p]||(cve(a,h),o[p]=!0)}return ce.isArray(e)?e.forEach(u):u(e),this}}H_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.freezeMethods(H_.prototype);ce.freezeMethods(H_);const Ta=H_;function Dx(t,e){const r=this||vP,o=e||r,a=Ta.from(o.headers);let u=o.data;return ce.forEach(t,function(p){u=p.call(r,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function _H(t){return!!(t&&t.__CANCEL__)}function rb(t,e,r){Nt.call(this,t??"canceled",Nt.ERR_CANCELED,e,r),this.name="CanceledError"}ce.inherits(rb,Nt,{__CANCEL__:!0});function lve(t,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):e(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const uve=js.isStandardBrowserEnv?function(){return{write:function(r,o,a,u,h,p){const m=[];m.push(r+"="+encodeURIComponent(o)),ce.isNumber(a)&&m.push("expires="+new Date(a).toGMTString()),ce.isString(u)&&m.push("path="+u),ce.isString(h)&&m.push("domain="+h),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function dve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hve(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function AH(t,e){return t&&!dve(e)?hve(t,e):e}const fve=js.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function a(u){let h=u;return e&&(r.setAttribute("href",h),h=r.href),r.setAttribute("href",h),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=a(window.location.href),function(h){const p=ce.isString(h)?a(h):h;return p.protocol===o.protocol&&p.host===o.host}}():function(){return function(){return!0}}();function pve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function mve(t,e){t=t||10;const r=new Array(t),o=new Array(t);let a=0,u=0,h;return e=e!==void 0?e:1e3,function(m){const b=Date.now(),k=o[u];h||(h=b),r[a]=m,o[a]=b;let v=u,_=0;for(;v!==a;)_+=r[v++],v=v%t;if(a=(a+1)%t,a===u&&(u=(u+1)%t),b-h<e)return;const A=k&&b-k;return A?Math.round(_*1e3/A):void 0}}function m3(t,e){let r=0;const o=mve(50,250);return a=>{const u=a.loaded,h=a.lengthComputable?a.total:void 0,p=u-r,m=o(p),b=u<=h;r=u;const k={loaded:u,total:h,progress:h?u/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&b?(h-u)/m:void 0,event:a};k[e?"download":"upload"]=!0,t(k)}}const gve=typeof XMLHttpRequest<"u",bve=gve&&function(t){return new Promise(function(r,o){let a=t.data;const u=Ta.from(t.headers).normalize(),h=t.responseType;let p;function m(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}ce.isFormData(a)&&(js.isStandardBrowserEnv||js.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let b=new XMLHttpRequest;if(t.auth){const A=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.set("Authorization","Basic "+btoa(A+":"+E))}const k=AH(t.baseURL,t.url);b.open(t.method.toUpperCase(),kH(k,t.params,t.paramsSerializer),!0),b.timeout=t.timeout;function v(){if(!b)return;const A=Ta.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!h||h==="text"||h==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};lve(function(M){r(M),m()},function(M){o(M),m()},T),b=null}if("onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(o(new Nt("Request aborted",Nt.ECONNABORTED,t,b)),b=null)},b.onerror=function(){o(new Nt("Network Error",Nt.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const T=t.transitional||vH;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),o(new Nt(E,T.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,t,b)),b=null},js.isStandardBrowserEnv){const A=(t.withCredentials||fve(k))&&t.xsrfCookieName&&uve.read(t.xsrfCookieName);A&&u.set(t.xsrfHeaderName,A)}a===void 0&&u.setContentType(null),"setRequestHeader"in b&&ce.forEach(u.toJSON(),function(E,T){b.setRequestHeader(T,E)}),ce.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),h&&h!=="json"&&(b.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&b.addEventListener("progress",m3(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",m3(t.onUploadProgress)),(t.cancelToken||t.signal)&&(p=A=>{b&&(o(!A||A.type?new rb(null,t,b):A),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p)));const _=pve(k);if(_&&js.protocols.indexOf(_)===-1){o(new Nt("Unsupported protocol "+_+":",Nt.ERR_BAD_REQUEST,t));return}b.send(a||null)})},fv={http:$ke,xhr:bve};ce.forEach(fv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const wve={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let r,o;for(let a=0;a<e&&(r=t[a],!(o=ce.isString(r)?fv[r.toLowerCase()]:r));a++);if(!o)throw o===!1?new Nt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ce.hasOwnProp(fv,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!ce.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:fv};function Px(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rb(null,t)}function g3(t){return Px(t),t.headers=Ta.from(t.headers),t.data=Dx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wve.getAdapter(t.adapter||vP.adapter)(t).then(function(o){return Px(t),o.data=Dx.call(t,t.transformResponse,o),o.headers=Ta.from(o.headers),o},function(o){return _H(o)||(Px(t),o&&o.response&&(o.response.data=Dx.call(t,t.transformResponse,o.response),o.response.headers=Ta.from(o.response.headers))),Promise.reject(o)})}const b3=t=>t instanceof Ta?t.toJSON():t;function tf(t,e){e=e||{};const r={};function o(b,k,v){return ce.isPlainObject(b)&&ce.isPlainObject(k)?ce.merge.call({caseless:v},b,k):ce.isPlainObject(k)?ce.merge({},k):ce.isArray(k)?k.slice():k}function a(b,k,v){if(ce.isUndefined(k)){if(!ce.isUndefined(b))return o(void 0,b,v)}else return o(b,k,v)}function u(b,k){if(!ce.isUndefined(k))return o(void 0,k)}function h(b,k){if(ce.isUndefined(k)){if(!ce.isUndefined(b))return o(void 0,b)}else return o(void 0,k)}function p(b,k,v){if(v in e)return o(b,k);if(v in t)return o(void 0,b)}const m={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(b,k)=>a(b3(b),b3(k),!0)};return ce.forEach(Object.keys(t).concat(Object.keys(e)),function(k){const v=m[k]||a,_=v(t[k],e[k],k);ce.isUndefined(_)&&v!==p||(r[k]=_)}),r}const CH="1.3.2",yP={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yP[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const w3={};yP.transitional=function(e,r,o){function a(u,h){return"[Axios v"+CH+"] Transitional option '"+u+"'"+h+(o?". "+o:"")}return(u,h,p)=>{if(e===!1)throw new Nt(a(h," has been removed"+(r?" in "+r:"")),Nt.ERR_DEPRECATED);return r&&!w3[h]&&(w3[h]=!0,console.warn(a(h," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(u,h,p):!0}};function kve(t,e,r){if(typeof t!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const u=o[a],h=e[u];if(h){const p=t[u],m=p===void 0||h(p,u,t);if(m!==!0)throw new Nt("option "+u+" must be "+m,Nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Nt("Unknown option "+u,Nt.ERR_BAD_OPTION)}}const LT={assertOptions:kve,validators:yP},wc=LT.validators;class iy{constructor(e){this.defaults=e,this.interceptors={request:new f3,response:new f3}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=tf(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:u}=r;o!==void 0&&LT.assertOptions(o,{silentJSONParsing:wc.transitional(wc.boolean),forcedJSONParsing:wc.transitional(wc.boolean),clarifyTimeoutError:wc.transitional(wc.boolean)},!1),a!==void 0&&LT.assertOptions(a,{encode:wc.function,serialize:wc.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h;h=u&&ce.merge(u.common,u[r.method]),h&&ce.forEach(["delete","get","head","post","put","patch","common"],E=>{delete u[E]}),r.headers=Ta.concat(h,u);const p=[];let m=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(m=m&&T.synchronous,p.unshift(T.fulfilled,T.rejected))});const b=[];this.interceptors.response.forEach(function(T){b.push(T.fulfilled,T.rejected)});let k,v=0,_;if(!m){const E=[g3.bind(this),void 0];for(E.unshift.apply(E,p),E.push.apply(E,b),_=E.length,k=Promise.resolve(r);v<_;)k=k.then(E[v++],E[v++]);return k}_=p.length;let A=r;for(v=0;v<_;){const E=p[v++],T=p[v++];try{A=E(A)}catch(L){T.call(this,L);break}}try{k=g3.call(this,A)}catch(E){return Promise.reject(E)}for(v=0,_=b.length;v<_;)k=k.then(b[v++],b[v++]);return k}getUri(e){e=tf(this.defaults,e);const r=AH(e.baseURL,e.url);return kH(r,e.params,e.paramsSerializer)}}ce.forEach(["delete","get","head","options"],function(e){iy.prototype[e]=function(r,o){return this.request(tf(o||{},{method:e,url:r,data:(o||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function r(o){return function(u,h,p){return this.request(tf(p||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}iy.prototype[e]=r(),iy.prototype[e+"Form"]=r(!0)});const pv=iy;class _P{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const o=this;this.promise.then(a=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](a);o._listeners=null}),this.promise.then=a=>{let u;const h=new Promise(p=>{o.subscribe(p),u=p}).then(a);return h.cancel=function(){o.unsubscribe(u)},h},e(function(u,h,p){o.reason||(o.reason=new rb(u,h,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new _P(function(a){e=a}),cancel:e}}}const vve=_P;function yve(t){return function(r){return t.apply(null,r)}}function _ve(t){return ce.isObject(t)&&t.isAxiosError===!0}const BT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BT).forEach(([t,e])=>{BT[e]=t});const Ave=BT;function EH(t){const e=new pv(t),r=sH(pv.prototype.request,e);return ce.extend(r,pv.prototype,e,{allOwnKeys:!0}),ce.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return EH(tf(t,a))},r}const wr=EH(vP);wr.Axios=pv;wr.CanceledError=rb;wr.CancelToken=vve;wr.isCancel=_H;wr.VERSION=CH;wr.toFormData=U_;wr.AxiosError=Nt;wr.Cancel=wr.CanceledError;wr.all=function(e){return Promise.all(e)};wr.spread=yve;wr.isAxiosError=_ve;wr.mergeConfig=tf;wr.AxiosHeaders=Ta;wr.formToJSON=t=>yH(ce.isHTMLForm(t)?new FormData(t):t);wr.HttpStatusCode=Ave;wr.default=wr;const Cve=wr;async function Eve(t){return(await Cve.get(`https://api.github.com/user/${t}`)).data}const Mo={initial:t=>({loading:!0,data:t||null,error:null}),loading:t=>({loading:!0,data:t||null,error:null}),success:t=>({loading:!1,data:t,error:null}),error:t=>({loading:!1,data:null,error:t}),null:t=>({loading:!1,data:t||null,error:null})},xH="github/GET_GITHUB_PROFILE",SH="github/GET_GITHUB_PROFILE_SUCCESS",TH="github/GET_GITHUB_PROFILE_ERROR",IH="github/GET_GITHUB_PROFILE_NULL",xve=oH(xH,SH,TH,IH)();function Sve(t){return async(e,r)=>{const{request:o,success:a,failure:u,cancel:h}=xve;if(e(o()),r().authReducer.auth.data)try{const p=await Eve(t);e(a(p))}catch(p){e(u(p))}else e(h())}}const Tve={github:Mo.initial()},Ive=tb(Tve,{[xH]:t=>({...t,github:Mo.loading()}),[SH]:(t,e)=>({...t,github:Mo.success(e.payload)}),[TH]:(t,e)=>({...t,github:Mo.error(e.payload)}),[IH]:t=>({...t,github:Mo.null()})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=function(t){const e=[];let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++o)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Dve=function(t){const e=[];let r=0,o=0;for(;r<t.length;){const a=t[r++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=t[r++];e[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=t[r++],h=t[r++],p=t[r++],m=((a&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[o++]=String.fromCharCode(55296+(m>>10)),e[o++]=String.fromCharCode(56320+(m&1023))}else{const u=t[r++],h=t[r++];e[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},PH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<t.length;a+=3){const u=t[a],h=a+1<t.length,p=h?t[a+1]:0,m=a+2<t.length,b=m?t[a+2]:0,k=u>>2,v=(u&3)<<4|p>>4;let _=(p&15)<<2|b>>6,A=b&63;m||(A=64,h||(_=64)),o.push(r[k],r[v],r[_],r[A])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dve(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<t.length;){const u=r[t.charAt(a++)],p=a<t.length?r[t.charAt(a)]:0;++a;const b=a<t.length?r[t.charAt(a)]:64;++a;const v=a<t.length?r[t.charAt(a)]:64;if(++a,u==null||p==null||b==null||v==null)throw Error();const _=u<<2|p>>4;if(o.push(_),b!==64){const A=p<<4&240|b>>2;if(o.push(A),v!==64){const E=b<<6&192|v;o.push(E)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pve=function(t){const e=DH(t);return PH.encodeByteArray(e,!0)},oy=function(t){return Pve(t).replace(/\./g,"")},MH=function(t){try{return PH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Mve(r)||(t[r]=sy(t[r],e[r]));return t}function Mve(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rve=()=>Nve().__FIREBASE_DEFAULTS__,Ove=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lve=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MH(t[1]);return e&&JSON.parse(e)},AP=()=>{try{return Rve()||Ove()||Lve()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bve=()=>{var t;return(t=AP())===null||t===void 0?void 0:t.config},zve=t=>{var e;return(e=AP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",a=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),p="";return[oy(JSON.stringify(r)),oy(JSON.stringify(h)),p].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function q_(){var t;const e=(t=AP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vve(){return typeof self=="object"&&self.self===self}function RH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OH(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Uve(){return!q_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hg(){try{return typeof indexedDB=="object"}catch{return!1}}function $ve(){return new Promise((t,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hve="FirebaseError";class mi extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=Hve,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?qve(u,o):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new mi(a,p,o)}}function qve(t,e){return t.replace(Wve,(r,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const Wve=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gve(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zT(t,e){if(t===e)return!0;const r=Object.keys(t),o=Object.keys(e);for(const a of r){if(!o.includes(a))return!1;const u=t[a],h=e[a];if(v3(u)&&v3(h)){if(!zT(u,h))return!1}else if(u!==h)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function v3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[r,o]of Object.entries(t))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[a,u]=o.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function cm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function LH(t,e){const r=new Kve(t,e);return r.subscribe.bind(r)}class Kve{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,o){let a;if(e===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");Yve(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:o},a.next===void 0&&(a.next=Mx),a.error===void 0&&(a.error=Mx),a.complete===void 0&&(a.complete=Mx);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yve(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Mx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Vo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qve{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new Fve;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jve(e))try{this.getOrInitializeService({instanceIdentifier:du})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(e=du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=du){return this.instances.has(e)}getOptions(e=du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);o===p&&h.resolve(a)}return a}onInit(e,r){var o;const a=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Zve(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=du){return this.component?this.component.multipleInstances?e:du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zve(t){return t===du?void 0:t}function Jve(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Qve(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=[];var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const BH={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},eye=Mt.INFO,tye={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},nye=(t,e,...r)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),a=tye[e];if(a)console[a](`[${o}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W_{constructor(e){this.name=e,this._logLevel=eye,this._logHandler=nye,this._userLogHandler=null,EP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}function rye(t){EP.forEach(e=>{e.setLogLevel(t)})}function iye(t,e){for(const r of EP){let o=null;e&&e.level&&(o=BH[e.level]),t===null?r.userLogHandler=null:r.userLogHandler=(a,u,...h)=>{const p=h.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");u>=(o??a.logLevel)&&t({level:Mt[u].toLowerCase(),message:p,args:h,type:a.name})}}}const oye=(t,e)=>e.some(r=>t instanceof r);let y3,_3;function sye(){return y3||(y3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aye(){return _3||(_3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zH=new WeakMap,FT=new WeakMap,FH=new WeakMap,Nx=new WeakMap,xP=new WeakMap;function cye(t){const e=new Promise((r,o)=>{const a=()=>{t.removeEventListener("success",u),t.removeEventListener("error",h)},u=()=>{r(Wc(t.result)),a()},h=()=>{o(t.error),a()};t.addEventListener("success",u),t.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&zH.set(r,t)}).catch(()=>{}),xP.set(e,t),e}function lye(t){if(FT.has(t))return;const e=new Promise((r,o)=>{const a=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",h),t.removeEventListener("abort",h)},u=()=>{r(),a()},h=()=>{o(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",u),t.addEventListener("error",h),t.addEventListener("abort",h)});FT.set(t,e)}let jT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return FT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FH.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uye(t){jT=t(jT)}function dye(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=t.call(Rx(this),e,...r);return FH.set(o,e.sort?e.sort():[e]),Wc(o)}:aye().includes(t)?function(...e){return t.apply(Rx(this),e),Wc(zH.get(this))}:function(...e){return Wc(t.apply(Rx(this),e))}}function hye(t){return typeof t=="function"?dye(t):(t instanceof IDBTransaction&&lye(t),oye(t,sye())?new Proxy(t,jT):t)}function Wc(t){if(t instanceof IDBRequest)return cye(t);if(Nx.has(t))return Nx.get(t);const e=hye(t);return e!==t&&(Nx.set(t,e),xP.set(e,t)),e}const Rx=t=>xP.get(t);function fye(t,e,{blocked:r,upgrade:o,blocking:a,terminated:u}={}){const h=indexedDB.open(t,e),p=Wc(h);return o&&h.addEventListener("upgradeneeded",m=>{o(Wc(h.result),m.oldVersion,m.newVersion,Wc(h.transaction))}),r&&h.addEventListener("blocked",()=>r()),p.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",()=>a())}).catch(()=>{}),p}const pye=["get","getKey","getAll","getAllKeys","count"],mye=["put","add","delete","clear"],Ox=new Map;function A3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ox.get(e))return Ox.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,a=mye.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||pye.includes(r)))return;const u=async function(h,...p){const m=this.transaction(h,a?"readwrite":"readonly");let b=m.store;return o&&(b=b.index(p.shift())),(await Promise.all([b[r](...p),a&&m.done]))[0]};return Ox.set(e,u),u}uye(t=>({...t,get:(e,r,o)=>A3(e,r)||t.get(e,r,o),has:(e,r)=>!!A3(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bye(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function bye(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const VT="@firebase/app",C3="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new W_("@firebase/app"),wye="@firebase/app-compat",kye="@firebase/analytics-compat",vye="@firebase/analytics",yye="@firebase/app-check-compat",_ye="@firebase/app-check",Aye="@firebase/auth",Cye="@firebase/auth-compat",Eye="@firebase/database",xye="@firebase/database-compat",Sye="@firebase/functions",Tye="@firebase/functions-compat",Iye="@firebase/installations",Dye="@firebase/installations-compat",Pye="@firebase/messaging",Mye="@firebase/messaging-compat",Nye="@firebase/performance",Rye="@firebase/performance-compat",Oye="@firebase/remote-config",Lye="@firebase/remote-config-compat",Bye="@firebase/storage",zye="@firebase/storage-compat",Fye="@firebase/firestore",jye="@firebase/firestore-compat",Vye="firebase",Uye="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]",$ye={[VT]:"fire-core",[wye]:"fire-core-compat",[vye]:"fire-analytics",[kye]:"fire-analytics-compat",[_ye]:"fire-app-check",[yye]:"fire-app-check-compat",[Aye]:"fire-auth",[Cye]:"fire-auth-compat",[Eye]:"fire-rtdb",[xye]:"fire-rtdb-compat",[Sye]:"fire-fn",[Tye]:"fire-fn-compat",[Iye]:"fire-iid",[Dye]:"fire-iid-compat",[Pye]:"fire-fcm",[Mye]:"fire-fcm-compat",[Nye]:"fire-perf",[Rye]:"fire-perf-compat",[Oye]:"fire-rc",[Lye]:"fire-rc-compat",[Bye]:"fire-gcs",[zye]:"fire-gcs-compat",[Fye]:"fire-fst",[jye]:"fire-fst-compat","fire-js":"fire-js",[Vye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Map,fg=new Map;function ay(t,e){try{t.container.addComponent(e)}catch(r){Yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function jH(t,e){t.container.addOrOverwriteComponent(e)}function ja(t){const e=t.name;if(fg.has(e))return Yu.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(const r of tl.values())ay(r,t);return!0}function VH(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Hye(t,e,r=el){VH(t,e).clearInstance(r)}function qye(){fg.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wye={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ia=new fd("app","Firebase",Wye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gye=class{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=Uye;function SP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:el,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw Ia.create("bad-app-name",{appName:String(a)});if(r||(r=Bve()),!r)throw Ia.create("no-options");const u=tl.get(a);if(u){if(zT(r,u.options)&&zT(o,u.config))return u;throw Ia.create("duplicate-app",{appName:a})}const h=new Xve(a);for(const m of fg.values())h.addComponent(m);const p=new Gye(r,o,h);return tl.set(a,p),p}function Kye(t=el){const e=tl.get(t);if(!e&&t===el)return SP();if(!e)throw Ia.create("no-app",{appName:t});return e}function Yye(){return Array.from(tl.values())}async function UH(t){const e=t.name;tl.has(e)&&(tl.delete(e),await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Bo(t,e,r){var o;let a=(o=$ye[t])!==null&&o!==void 0?o:t;r&&(a+=`-${r}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${a}" with version "${e}":`];u&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yu.warn(p.join(" "));return}ja(new Vo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function $H(t,e){if(t!==null&&typeof t!="function")throw Ia.create("invalid-log-argument");iye(t,e)}function HH(t){rye(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qye="firebase-heartbeat-database",Zye=1,pg="firebase-heartbeat-store";let Lx=null;function qH(){return Lx||(Lx=fye(Qye,Zye,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pg)}}}).catch(t=>{throw Ia.create("idb-open",{originalErrorMessage:t.message})})),Lx}async function Jye(t){try{return(await qH()).transaction(pg).objectStore(pg).get(WH(t))}catch(e){if(e instanceof mi)Yu.warn(e.message);else{const r=Ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yu.warn(r.message)}}}async function E3(t,e){try{const o=(await qH()).transaction(pg,"readwrite");return await o.objectStore(pg).put(e,WH(t)),o.done}catch(r){if(r instanceof mi)Yu.warn(r.message);else{const o=Ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yu.warn(o.message)}}}function WH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xye=1024,e_e=30*24*60*60*1e3;class t_e{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new r_e(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=x3();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=e_e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x3(),{heartbeatsToSend:r,unsentEntries:o}=n_e(this._heartbeatsCache.heartbeats),a=oy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function x3(){return new Date().toISOString().substring(0,10)}function n_e(t,e=Xye){const r=[];let o=t.slice();for(const a of t){const u=r.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),S3(r)>e){u.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),S3(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class r_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hg()?$ve().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Jye(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return E3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return E3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function S3(t){return oy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_e(t){ja(new Vo("platform-logger",e=>new gye(e),"PRIVATE")),ja(new Vo("heartbeat",e=>new t_e(e),"PRIVATE")),Bo(VT,C3,t),Bo(VT,C3,"esm2017"),Bo("fire-js","")}i_e("");const o_e=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:mi,SDK_VERSION:kl,_DEFAULT_ENTRY_NAME:el,_addComponent:ay,_addOrOverwriteComponent:jH,_apps:tl,_clearComponents:qye,_components:fg,_getProvider:VH,_registerComponent:ja,_removeServiceInstance:Hye,deleteApp:UH,getApp:Kye,getApps:Yye,initializeApp:SP,onLog:$H,registerVersion:Bo,setLogLevel:HH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_e{constructor(e,r){this._delegate=e,this.firebase=r,ay(e,new Vo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),UH(this._delegate)))}_getService(e,r=el){var o;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((o=a.getComponent())===null||o===void 0?void 0:o.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:r})}_removeServiceInstance(e,r=el){this._delegate.container.getProvider(e).clearInstance(r)}_addComponent(e){ay(this._delegate,e)}_addOrOverwriteComponent(e){jH(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},T3=new fd("app-compat","Firebase",a_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_e(t){const e={},r={__esModule:!0,initializeApp:u,app:a,registerVersion:Bo,setLogLevel:HH,onLog:$H,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:p,removeApp:o,useAsService:m,modularAPIs:o_e}};r.default=r,Object.defineProperty(r,"apps",{get:h});function o(b){delete e[b]}function a(b){if(b=b||el,!k3(e,b))throw T3.create("no-app",{appName:b});return e[b]}a.App=t;function u(b,k={}){const v=SP(b,k);if(k3(e,v.name))return e[v.name];const _=new t(v,r);return e[v.name]=_,_}function h(){return Object.keys(e).map(b=>e[b])}function p(b){const k=b.name,v=k.replace("-compat","");if(ja(b)&&b.type==="PUBLIC"){const _=(A=a())=>{if(typeof A[v]!="function")throw T3.create("invalid-app-argument",{appName:k});return A[v]()};b.serviceProps!==void 0&&sy(_,b.serviceProps),r[v]=_,t.prototype[v]=function(...A){return this._getService.bind(this,k).apply(this,b.multipleInstances?A:[])}}return b.type==="PUBLIC"?r[v]:null}function m(b,k){return k==="serverAuth"?null:k}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){const t=c_e(s_e);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:GH,extendNamespace:e,createSubscribe:LH,ErrorFactory:fd,deepExtend:sy});function e(r){sy(t,r)}return t}const l_e=GH();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new W_("@firebase/app-compat"),u_e="@firebase/app-compat",d_e="0.2.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_e(t){Bo(u_e,d_e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Vve()&&self.firebase!==void 0){I3.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&I3.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ms=l_e;h_e();var f_e="firebase",p_e="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms.registerVersion(f_e,p_e,"app-compat");function TP(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(r[o[a]]=t[o[a]]);return r}const Vp={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_e(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function KH(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g_e=m_e,b_e=KH,YH=new fd("auth","Firebase",KH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new W_("@firebase/auth");function mv(t,...e){D3.logLevel<=Mt.ERROR&&D3.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw IP(t,...e)}function ti(t,...e){return IP(t,...e)}function QH(t,e,r){const o=Object.assign(Object.assign({},b_e()),{[e]:r});return new fd("auth","Firebase",o).create(e,{appName:t.name})}function Sf(t,e,r){const o=r;if(!(e instanceof o))throw o.name!==e.constructor.name&&ii(t,"argument-error"),QH(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function IP(t,...e){if(typeof t!="string"){const r=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=t.name),t._errorFactory.create(r,...o)}return YH.create(t,...e)}function ye(t,e,...r){if(!t)throw IP(e,...r)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mv(e),new Error(e)}function fs(t,e){t||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new Map;function uo(t){fs(t instanceof Function,"Expected a class definition");let e=P3.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P3.set(t,e),e)}function w_e(t,e){const r=(e==null?void 0:e.persistence)||[],o=(Array.isArray(r)?r:[r]).map(uo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DP(){return M3()==="http:"||M3()==="https:"}function M3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DP()||RH()||"connection"in navigator)?navigator.onLine:!0}function v_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,r){this.shortDelay=e,this.longDelay=r,fs(r>e,"Short delay should be less than long delay!"),this.isMobile=jve()||CP()}get(){return k_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t,e){fs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{static initialize(e,r,o){this.fetchImpl=e,r&&(this.headersImpl=r),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __e=new ib(3e4,6e4);function _r(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jr(t,e,r,o,a={}){return JH(t,a,async()=>{let u={},h={};o&&(e==="GET"?h=o:u={body:JSON.stringify(o)});const p=xf(Object.assign({key:t.config.apiKey},h)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),ZH.fetch()(XH(t,t.config.apiHost,r,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))})}async function JH(t,e,r){t._canInitEmulator=!1;const o=Object.assign(Object.assign({},y_e),e);try{const a=new A_e(t),u=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw lm(t,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,b]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lm(t,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw lm(t,"email-already-in-use",h);if(m==="USER_DISABLED")throw lm(t,"user-disabled",h);const k=o[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw QH(t,k,b);ii(t,k)}}catch(a){if(a instanceof mi)throw a;ii(t,"network-request-failed")}}async function Ya(t,e,r,o,a={}){const u=await jr(t,e,r,o,a);return"mfaPendingCredential"in u&&ii(t,"multi-factor-auth-required",{_serverResponse:u}),u}function XH(t,e,r,o){const a=`${e}${r}?${o}`;return t.config.emulator?PP(t.config,a):`${t.config.apiScheme}://${a}`}class A_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,o)=>{this.timer=setTimeout(()=>o(ti(this.auth,"network-request-failed")),__e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lm(t,e,r){const o={appName:t.name};r.email&&(o.email=r.email),r.phoneNumber&&(o.phoneNumber=r.phoneNumber);const a=ti(t,e,o);return a.customData._tokenResponse=r,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_e(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function E_e(t,e){return jr(t,"POST","/v1/accounts:update",e)}async function x_e(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S_e(t,e=!1){const r=Ke(t),o=await r.getIdToken(e),a=G_(o);ye(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:a,token:o,authTime:xm(Bx(a.auth_time)),issuedAtTime:xm(Bx(a.iat)),expirationTime:xm(Bx(a.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Bx(t){return Number(t)*1e3}function G_(t){const[e,r,o]=t.split(".");if(e===void 0||r===void 0||o===void 0)return mv("JWT malformed, contained fewer than 3 sections"),null;try{const a=MH(r);return a?JSON.parse(a):(mv("Failed to decode base64 JWT payload"),null)}catch(a){return mv("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function T_e(t){const e=G_(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,r=!1){if(r)return e;try{return await e}catch(o){throw o instanceof mi&&I_e(o)&&t.auth.currentUser===t&&await t.auth.signOut(),o}}function I_e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=xm(this.lastLoginAt),this.creationTime=xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){var e;const r=t.auth,o=await t.getIdToken(),a=await Va(t,x_e(r,{idToken:o}));ye(a==null?void 0:a.users.length,r,"internal-error");const u=a.users[0];t._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?N_e(u.providerUserInfo):[],p=M_e(t.providerData,h),m=t.isAnonymous,b=!(t.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?b:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new e8(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(t,v)}async function P_e(t){const e=Ke(t);await gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M_e(t,e){return[...t.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function N_e(t){return t.map(e=>{var{providerId:r}=e,o=TP(e,["providerId"]);return{providerId:r,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_e(t,e){const r=await JH(t,{},async()=>{const o=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=t.config,h=XH(t,a,"/v1/token",`key=${u}`),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",ZH.fetch()(h,{method:"POST",headers:p,body:o})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_e(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return ye(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:o,refreshToken:a,expiresIn:u}=await R_e(e,r);this.updateTokensAndExpiration(o,a,Number(u))}updateTokensAndExpiration(e,r,o){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,r){const{refreshToken:o,accessToken:a,expirationTime:u}=r,h=new bg;return o&&(ye(typeof o=="string","internal-error",{appName:e}),h.refreshToken=o),a&&(ye(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bg,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lu{constructor(e){var{uid:r,auth:o,stsTokenManager:a}=e,u=TP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new e8(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const r=await Va(this,this.stsTokenManager.getToken(this.auth,e));return ye(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return S_e(this,e)}reload(){return P_e(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Lu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),r&&await gg(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Va(this,C_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var o,a,u,h,p,m,b,k;const v=(o=r.displayName)!==null&&o!==void 0?o:void 0,_=(a=r.email)!==null&&a!==void 0?a:void 0,A=(u=r.phoneNumber)!==null&&u!==void 0?u:void 0,E=(h=r.photoURL)!==null&&h!==void 0?h:void 0,T=(p=r.tenantId)!==null&&p!==void 0?p:void 0,L=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,M=(b=r.createdAt)!==null&&b!==void 0?b:void 0,S=(k=r.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:I,emailVerified:R,isAnonymous:j,providerData:V,stsTokenManager:H}=r;ye(I&&H,e,"internal-error");const J=bg.fromJSON(this.name,H);ye(typeof I=="string",e,"internal-error"),kc(v,e.name),kc(_,e.name),ye(typeof R=="boolean",e,"internal-error"),ye(typeof j=="boolean",e,"internal-error"),kc(A,e.name),kc(E,e.name),kc(T,e.name),kc(L,e.name),kc(M,e.name),kc(S,e.name);const oe=new Lu({uid:I,auth:e,email:_,emailVerified:R,displayName:v,isAnonymous:j,photoURL:E,phoneNumber:A,tenantId:T,stsTokenManager:J,createdAt:M,lastLoginAt:S});return V&&Array.isArray(V)&&(oe.providerData=V.map(de=>Object.assign({},de))),L&&(oe._redirectEventId=L),oe}static async _fromIdTokenResponse(e,r,o=!1){const a=new bg;a.updateFromServerResponse(r);const u=new Lu({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await gg(u),u}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}t8.type="NONE";const nf=t8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e,r){return`firebase:${t}:${e}:${r}`}class Bh{constructor(e,r,o){this.persistence=e,this.auth=r,this.userKey=o;const{config:a,name:u}=this.auth;this.fullUserKey=Bu(this.userKey,a.apiKey,u),this.fullPersistenceKey=Bu("persistence",a.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,o="authUser"){if(!r.length)return new Bh(uo(nf),e,o);const a=(await Promise.all(r.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let u=a[0]||uo(nf);const h=Bu(o,e.config.apiKey,e.name);let p=null;for(const b of r)try{const k=await b._get(h);if(k){const v=Lu._fromJSON(e,k);b!==u&&(p=v),u=b;break}}catch{}const m=a.filter(b=>b._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Bh(u,e,o):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(r.map(async b=>{if(b!==u)try{await b._remove(h)}catch{}})),new Bh(u,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o8(e))return"Blackberry";if(s8(e))return"Webos";if(MP(e))return"Safari";if((e.includes("chrome/")||r8(e))&&!e.includes("edge/"))return"Chrome";if(ob(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=t.match(r);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function n8(t=Hn()){return/firefox\//i.test(t)}function MP(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r8(t=Hn()){return/crios\//i.test(t)}function i8(t=Hn()){return/iemobile/i.test(t)}function ob(t=Hn()){return/android/i.test(t)}function o8(t=Hn()){return/blackberry/i.test(t)}function s8(t=Hn()){return/webos/i.test(t)}function Tf(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O_e(t=Hn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function L_e(t=Hn()){var e;return Tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B_e(){return OH()&&document.documentMode===10}function a8(t=Hn()){return Tf(t)||ob(t)||s8(t)||o8(t)||/windows phone/i.test(t)||i8(t)}function z_e(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e=[]){let r;switch(t){case"Browser":r=N3(Hn());break;case"Worker":r=`${N3(Hn())}-${t}`;break;default:r=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${kl}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const o=u=>new Promise((h,p)=>{try{const m=e(u);h(m)}catch(m){p(m)}});o.onAbort=r,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const o of this.queue)await o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(e,r,o){this.app=e,this.heartbeatServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R3(this),this.idTokenSubscription=new R3(this),this.beforeStateQueue=new F_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YH,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=uo(r)),this._initializationPromise=this.queue(async()=>{var o,a;if(!this._deleted&&(this.persistenceManager=await Bh.create(this,e),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var r;const o=await this.assertedPersistence.getCurrentUser();let a=o,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,p=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===p)&&(m!=null&&m.user)&&(a=m.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await gg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?Ke(e):null;return r&&ye(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(uo(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,r,o){return this.registerStateListener(this.authStateSubscription,e,r,o)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,o){return this.registerStateListener(this.idTokenSubscription,e,r,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const o=await this.getOrInitRedirectPersistenceManager(r);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&uo(e)||this._popupRedirectResolver;ye(r,this,"argument-error"),this.redirectPersistenceManager=await Bh.create(this,[uo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,o;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,o,a){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r),h=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(h,this,"internal-error"),h.then(()=>u(this.currentUser)),typeof r=="function"?e.addObserver(r,o,a):e.addObserver(r)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return o&&(r["X-Firebase-Client"]=o),r}}function Br(t){return Ke(t)}class R3{constructor(e){this.auth=e,this.observer=null,this.addObserver=LH(r=>this.observer=r)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function V_e(t,e,r){const o=Br(t);ye(o._canInitEmulator,o,"emulator-config-failed"),ye(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!!(r!=null&&r.disableWarnings),u=l8(e),{host:h,port:p}=U_e(e),m=p===null?"":`:${p}`;o.config.emulator={url:`${u}//${h}${m}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||$_e()}function l8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U_e(t){const e=l8(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const o=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const u=a[1];return{host:u,port:O3(o.substr(u.length+1))}}else{const[u,h]=o.split(":");return{host:u,port:O3(h)}}}function O3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $_e(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,r){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e){return jr(t,"POST","/v1/accounts:resetPassword",_r(t,e))}async function d8(t,e){return jr(t,"POST","/v1/accounts:update",e)}async function H_e(t,e){return jr(t,"POST","/v1/accounts:update",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_e(t,e){return Ya(t,"POST","/v1/accounts:signInWithPassword",_r(t,e))}async function K_(t,e){return jr(t,"POST","/v1/accounts:sendOobCode",_r(t,e))}async function W_e(t,e){return K_(t,e)}async function G_e(t,e){return K_(t,e)}async function K_e(t,e){return K_(t,e)}async function Y_e(t,e){return K_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_e(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}async function Z_e(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends If{constructor(e,r,o,a=null){super("password",o),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new wg(e,r,"password")}static _fromEmailAndCode(e,r,o=null){return new wg(e,r,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return q_e(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Q_e(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":return d8(e,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Z_e(e,{idToken:r,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Ya(t,"POST","/v1/accounts:signInWithIdp",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_e="http://localhost";class Xs extends If{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ii("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=r,u=TP(r,["providerId","signInMethod"]);if(!o||!a)return null;const h=new Xs(o,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const r=this.buildRequest();return Da(e,r)}_linkToIdToken(e,r){const o=this.buildRequest();return o.idToken=r,Da(e,o)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Da(e,r)}buildRequest(){const e={requestUri:J_e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=xf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_e(t,e){return jr(t,"POST","/v1/accounts:sendVerificationCode",_r(t,e))}async function e0e(t,e){return Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",_r(t,e))}async function t0e(t,e){const r=await Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",_r(t,e));if(r.temporaryProof)throw lm(t,"account-exists-with-different-credential",r);return r}const n0e={USER_NOT_FOUND:"user-not-found"};async function r0e(t,e){const r=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",_r(t,r),n0e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends If{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new zu({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new zu({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return e0e(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return t0e(e,Object.assign({idToken:r},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return r0e(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:o,verificationCode:a}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:o,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:o,phoneNumber:a,temporaryProof:u}=e;return!o&&!r&&!a&&!u?null:new zu({verificationId:r,verificationCode:o,phoneNumber:a,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o0e(t){const e=yh(cm(t)).link,r=e?yh(cm(e)).deep_link_id:null,o=yh(cm(t)).deep_link_id;return(o?yh(cm(o)).link:null)||o||r||e||t}class Y_{constructor(e){var r,o,a,u,h,p;const m=yh(cm(e)),b=(r=m.apiKey)!==null&&r!==void 0?r:null,k=(o=m.oobCode)!==null&&o!==void 0?o:null,v=i0e((a=m.mode)!==null&&a!==void 0?a:null);ye(b&&k&&v,"argument-error"),this.apiKey=b,this.operation=v,this.code=k,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const r=o0e(e);try{return new Y_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,r){return wg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const o=Y_.parseLink(r);return ye(o,"argument-error"),wg._fromEmailAndCode(e,o.code,o.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Qa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zh extends Df{static credentialFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in r&&"signInMethod"in r,"argument-error"),Xs._fromParams(r)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),Xs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return zh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return zh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:u,nonce:h,providerId:p}=e;if(!o&&!a&&!r&&!u||!p)return null;try{return new zh(p)._credential({idToken:r,accessToken:o,nonce:h,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Df{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Xs._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:o}=e;if(!r&&!o)return null;try{return Os.credential(r,o)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Df{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0e="http://localhost";class rf extends If{constructor(e,r){super(e,e),this.pendingToken=r}_getIdTokenResponse(e){const r=this.buildRequest();return Da(e,r)}_linkToIdToken(e,r){const o=this.buildRequest();return o.idToken=r,Da(e,o)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Da(e,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a,pendingToken:u}=r;return!o||!a||!u||o!==a?null:new rf(o,u)}static _create(e,r){return new rf(e,r)}buildRequest(){return{requestUri:s0e,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0e="saml.";class cy extends Qa{constructor(e){ye(e.startsWith(a0e),"argument-error"),super(e)}static credentialFromResult(e){return cy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return cy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const r=rf.fromJSON(e);return ye(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:r,providerId:o}=e;if(!r||!o)return null;try{return rf._create(o,r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Df{constructor(){super("twitter.com")}static credential(e,r){return Xs._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=e;if(!r||!o)return null;try{return Bs.credential(r,o)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(t,e){return Ya(t,"POST","/v1/accounts:signUp",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,o,a=!1){const u=await Lu._fromIdTokenResponse(e,o,a),h=L3(o);return new Uo({user:u,providerId:h,_tokenResponse:o,operationType:r})}static async _forOperation(e,r,o){await e._updateTokensIfNecessary(o,!0);const a=L3(o);return new Uo({user:e,providerId:a,_tokenResponse:o,operationType:r})}}function L3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0e(t){var e;const r=Br(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new Uo({user:r.currentUser,providerId:null,operationType:"signIn"});const o=await h8(r,{returnSecureToken:!0}),a=await Uo._fromIdTokenResponse(r,"signIn",o,!0);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends mi{constructor(e,r,o,a){var u;super(r.code,r.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,ly.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:r.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,r,o,a){return new ly(e,r,o,a)}}function f8(t,e,r,o){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ly._fromErrorAndOperation(t,u,e,o):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0e(t,e){const r=Ke(t);await Q_(!0,r,e);const{providerUserInfo:o}=await E_e(r.auth,{idToken:await r.getIdToken(),deleteProvider:[e]}),a=p8(o||[]);return r.providerData=r.providerData.filter(u=>a.has(u.providerId)),a.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function NP(t,e,r=!1){const o=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Uo._forOperation(t,"link",o)}async function Q_(t,e,r){await gg(e);const o=p8(e.providerData),a=t===!1?"provider-already-linked":"no-such-provider";ye(o.has(r)===t,e.auth,a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e,r=!1){const{auth:o}=t,a="reauthenticate";try{const u=await Va(t,f8(o,a,e,t),r);ye(u.idToken,o,"internal-error");const h=G_(u.idToken);ye(h,o,"internal-error");const{sub:p}=h;return ye(t.uid===p,o,"user-mismatch"),Uo._forOperation(t,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(o,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e,r=!1){const o="signIn",a=await f8(t,o,e),u=await Uo._fromIdTokenResponse(t,o,a);return r||await t._updateCurrentUser(u.user),u}async function Z_(t,e){return g8(Br(t),e)}async function b8(t,e){const r=Ke(t);return await Q_(!1,r,e.providerId),NP(r,e)}async function w8(t,e){return m8(Ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0e(t,e){return Ya(t,"POST","/v1/accounts:signInWithCustomToken",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0e(t,e){const r=Br(t),o=await u0e(r,{token:e,returnSecureToken:!0}),a=await Uo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?RP._fromServerResponse(e,r):ii(e,"internal-error")}}class RP extends J_{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new RP(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e,r){var o;ye(((o=r.url)===null||o===void 0?void 0:o.length)>0,t,"invalid-continue-uri"),ye(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(ye(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(ye(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0e(t,e,r){const o=Ke(t),a={requestType:"PASSWORD_RESET",email:e};r&&X_(o,a,r),await G_e(o,a)}async function f0e(t,e,r){await u8(Ke(t),{oobCode:e,newPassword:r})}async function p0e(t,e){await H_e(Ke(t),{oobCode:e})}async function k8(t,e){const r=Ke(t),o=await u8(r,{oobCode:e}),a=o.requestType;switch(ye(a,r,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(o.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(o.mfaInfo,r,"internal-error");default:ye(o.email,r,"internal-error")}let u=null;return o.mfaInfo&&(u=J_._fromServerResponse(Br(r),o.mfaInfo)),{data:{email:(o.requestType==="VERIFY_AND_CHANGE_EMAIL"?o.newEmail:o.email)||null,previousEmail:(o.requestType==="VERIFY_AND_CHANGE_EMAIL"?o.email:o.newEmail)||null,multiFactorInfo:u},operation:a}}async function m0e(t,e){const{data:r}=await k8(Ke(t),e);return r.email}async function g0e(t,e,r){const o=Br(t),a=await h8(o,{returnSecureToken:!0,email:e,password:r}),u=await Uo._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(u.user),u}function b0e(t,e,r){return Z_(Ke(t),vl.credential(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0e(t,e,r){const o=Ke(t),a={requestType:"EMAIL_SIGNIN",email:e};ye(r.handleCodeInApp,o,"argument-error"),r&&X_(o,a,r),await K_e(o,a)}function k0e(t,e){const r=Y_.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function v0e(t,e,r){const o=Ke(t),a=vl.credentialWithLink(e,r||mg());return ye(a._tenantId===(o.tenantId||null),o,"tenant-id-mismatch"),Z_(o,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0e(t,e){return jr(t,"POST","/v1/accounts:createAuthUri",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0e(t,e){const r=DP()?mg():"http://localhost",o={identifier:e,continueUri:r},{signinMethods:a}=await y0e(Ke(t),o);return a||[]}async function A0e(t,e){const r=Ke(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&X_(r.auth,a,e);const{email:u}=await W_e(r.auth,a);u!==t.email&&await t.reload()}async function C0e(t,e,r){const o=Ke(t),u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};r&&X_(o.auth,u,r);const{email:h}=await Y_e(o.auth,u);h!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0e(t,e){return jr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0e(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const o=Ke(t),u={idToken:await o.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},h=await Va(o,E0e(o.auth,u));o.displayName=h.displayName||null,o.photoURL=h.photoUrl||null;const p=o.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=o.displayName,p.photoURL=o.photoURL),await o._updateTokensIfNecessary(h)}function S0e(t,e){return v8(Ke(t),e,null)}function T0e(t,e){return v8(Ke(t),null,e)}async function v8(t,e,r){const{auth:o}=t,u={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(u.email=e),r&&(u.password=r);const h=await Va(t,d8(o,u));await t._updateTokensIfNecessary(h,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0e(t){var e,r;if(!t)return null;const{providerId:o}=t,a=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},u=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!o&&(t!=null&&t.idToken)){const h=(r=(e=G_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||r===void 0?void 0:r.sign_in_provider;if(h){const p=h!=="anonymous"&&h!=="custom"?h:null;return new Fh(u,p)}}if(!o)return null;switch(o){case"facebook.com":return new D0e(u,a);case"github.com":return new P0e(u,a);case"google.com":return new M0e(u,a);case"twitter.com":return new N0e(u,a,t.screenName||null);case"custom":case"anonymous":return new Fh(u,null);default:return new Fh(u,o,a)}}class Fh{constructor(e,r,o={}){this.isNewUser=e,this.providerId=r,this.profile=o}}class y8 extends Fh{constructor(e,r,o,a){super(e,r,o),this.username=a}}class D0e extends Fh{constructor(e,r){super(e,"facebook.com",r)}}class P0e extends y8{constructor(e,r){super(e,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)}}class M0e extends Fh{constructor(e,r){super(e,"google.com",r)}}class N0e extends y8{constructor(e,r,o){super(e,"twitter.com",r,o)}}function R0e(t){const{user:e,_tokenResponse:r}=t;return e.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:I0e(r)}class Au{constructor(e,r,o){this.type=e,this.credential=r,this.auth=o}static _fromIdtoken(e,r){return new Au("enroll",e,r)}static _fromMfaPendingCredential(e){return new Au("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var r,o;if(e!=null&&e.multiFactorSession){if(!((r=e.multiFactorSession)===null||r===void 0)&&r.pendingCredential)return Au._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((o=e.multiFactorSession)===null||o===void 0)&&o.idToken)return Au._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,r,o){this.session=e,this.hints=r,this.signInResolver=o}static _fromError(e,r){const o=Br(e),a=r.customData._serverResponse,u=(a.mfaInfo||[]).map(p=>J_._fromServerResponse(o,p));ye(a.mfaPendingCredential,o,"internal-error");const h=Au._fromMfaPendingCredential(a.mfaPendingCredential);return new OP(h,u,async p=>{const m=await p._process(o,h);delete a.mfaInfo,delete a.mfaPendingCredential;const b=Object.assign(Object.assign({},a),{idToken:m.idToken,refreshToken:m.refreshToken});switch(r.operationType){case"signIn":const k=await Uo._fromIdTokenResponse(o,r.operationType,b);return await o._updateCurrentUser(k.user),k;case"reauthenticate":return ye(r.user,o,"internal-error"),Uo._forOperation(r.user,r.operationType,b);default:ii(o,"internal-error")}})}async resolveSignIn(e){const r=e;return this.signInResolver(r)}}function O0e(t,e){var r;const o=Ke(t),a=e;return ye(e.customData.operationType,o,"argument-error"),ye((r=a.customData._serverResponse)===null||r===void 0?void 0:r.mfaPendingCredential,o,"argument-error"),OP._fromError(o,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(t,e){return jr(t,"POST","/v2/accounts/mfaEnrollment:start",_r(t,e))}function B0e(t,e){return jr(t,"POST","/v2/accounts/mfaEnrollment:finalize",_r(t,e))}function z0e(t,e){return jr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",_r(t,e))}class LP{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(o=>J_._fromServerResponse(e.auth,o)))})}static _fromUser(e){return new LP(e)}async getSession(){return Au._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,r){const o=e,a=await this.getSession(),u=await Va(this.user,o._process(this.user.auth,a,r));return await this.user._updateTokensIfNecessary(u),this.user.reload()}async unenroll(e){const r=typeof e=="string"?e:e.uid,o=await this.user.getIdToken(),a=await Va(this.user,z0e(this.user.auth,{idToken:o,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:u})=>u!==r),await this.user._updateTokensIfNecessary(a);try{await this.user.reload()}catch(u){if((u==null?void 0:u.code)!=="auth/user-token-expired")throw u}}}const zx=new WeakMap;function F0e(t){const e=Ke(t);return zx.has(e)||zx.set(e,LP._fromUser(e)),zx.get(e)}const uy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(uy,"1"),this.storage.removeItem(uy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0e(){const t=Hn();return MP(t)||Tf(t)}const V0e=1e3,U0e=10;class A8 extends _8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=j0e()&&z_e(),this.fallbackToPolling=a8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),a=this.localCache[r];o!==a&&e(r,a,o)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const o=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(o);if(e.newValue!==h)e.newValue!==null?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!r)return}const a=()=>{const h=this.storage.getItem(o);!r&&this.localCache[o]===h||this.notifyListeners(o,h)},u=this.storage.getItem(o);B_e()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,U0e):a()}notifyListeners(e,r){this.localCache[e]=r;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:o}),!0)})},V0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}A8.type="LOCAL";const BP=A8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8 extends _8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}C8.type="SESSION";const Qu=C8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const o=new e0(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:o,eventType:a,data:u}=r.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const p=Array.from(h).map(async b=>b(r.origin,u)),m=await $0e(p);r.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t="",e=10){let r="";for(let o=0;o<e;o++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const b=sb("",20);a.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},o);h={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===b)switch(_.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(_.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:b,data:r},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function q0e(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function W0e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G0e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K0e(){return zP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="firebaseLocalStorageDb",Y0e=1,dy="firebaseLocalStorage",x8="fbase_key";class ab{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function t0(t,e){return t.transaction([dy],e?"readwrite":"readonly").objectStore(dy)}function Q0e(){const t=indexedDB.deleteDatabase(E8);return new ab(t).toPromise()}function UT(){const t=indexedDB.open(E8,Y0e);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const o=t.result;try{o.createObjectStore(dy,{keyPath:x8})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const o=t.result;o.objectStoreNames.contains(dy)?e(o):(o.close(),await Q0e(),e(await UT()))})})}async function B3(t,e,r){const o=t0(t,!0).put({[x8]:e,value:r});return new ab(o).toPromise()}async function Z0e(t,e){const r=t0(t,!1).get(e),o=await new ab(r).toPromise();return o===void 0?null:o.value}function z3(t,e){const r=t0(t,!0).delete(e);return new ab(r).toPromise()}const J0e=800,X0e=3;class S8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await UT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(r++>X0e)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e0._getInstance(K0e()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await W0e(),!this.activeServiceWorker)return;this.sender=new H0e(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((e=o[0])===null||e===void 0)&&e.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G0e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await UT();return await B3(e,uy,"1"),await z3(e,uy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(o=>B3(o,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(o=>Z0e(o,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>z3(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=t0(a,!1).getAll();return new ab(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],o=new Set;for(const{fbase_key:a,value:u}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S8.type="LOCAL";const kg=S8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eAe(t,e){return jr(t,"POST","/v2/accounts/mfaSignIn:start",_r(t,e))}function tAe(t,e){return jr(t,"POST","/v2/accounts/mfaSignIn:finalize",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nAe(t){return(await jr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rAe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function T8(t){return new Promise((e,r)=>{const o=document.createElement("script");o.setAttribute("src",t),o.onload=e,o.onerror=a=>{const u=ti("internal-error");u.customData=a,r(u)},o.type="text/javascript",o.charset="UTF-8",rAe().appendChild(o)})}function I8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iAe=500,oAe=6e4,Ek=1e12;class sAe{constructor(e){this.auth=e,this.counter=Ek,this._widgets=new Map}render(e,r){const o=this.counter;return this._widgets.set(o,new aAe(e,this.auth.name,r||{})),this.counter++,o}reset(e){var r;const o=e||Ek;(r=this._widgets.get(o))===null||r===void 0||r.delete(),this._widgets.delete(o)}getResponse(e){var r;const o=e||Ek;return((r=this._widgets.get(o))===null||r===void 0?void 0:r.getResponse())||""}async execute(e){var r;const o=e||Ek;return(r=this._widgets.get(o))===null||r===void 0||r.execute(),""}}class aAe{constructor(e,r,o){this.params=o,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;ye(a,"argument-error",{appName:r}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=cAe(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},oAe)},iAe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function cAe(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let o=0;o<t;o++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=I8("rcb"),lAe=new ib(3e4,6e4),uAe="https://www.google.com/recaptcha/api.js?";class dAe{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=gr().grecaptcha)===null||e===void 0)&&e.render)}load(e,r=""){return ye(hAe(r),e,"argument-error"),this.shouldResolveImmediately(r)?Promise.resolve(gr().grecaptcha):new Promise((o,a)=>{const u=gr().setTimeout(()=>{a(ti(e,"network-request-failed"))},lAe.get());gr()[Fx]=()=>{gr().clearTimeout(u),delete gr()[Fx];const p=gr().grecaptcha;if(!p){a(ti(e,"internal-error"));return}const m=p.render;p.render=(b,k)=>{const v=m(b,k);return this.counter++,v},this.hostLanguage=r,o(p)};const h=`${uAe}?${xf({onload:Fx,render:"explicit",hl:r})}`;T8(h).catch(()=>{clearTimeout(u),a(ti(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!(!((r=gr().grecaptcha)===null||r===void 0)&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function hAe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class fAe{async load(e){return new sAe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="recaptcha",pAe={theme:"light",type:"image"};let mAe=class{constructor(e,r=Object.assign({},pAe),o){this.parameters=r,this.type=D8,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Br(o),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof e=="string"?document.getElementById(e):e;ye(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fAe:new dAe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),o=r.getResponse(e);return o||new Promise(a=>{const u=h=>{h&&(this.tokenChangeListeners.delete(u),a(h))};this.tokenChangeListeners.add(u),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(o=>o(r)),typeof e=="function")e(r);else if(typeof e=="string"){const o=gr()[e];typeof o=="function"&&o(r)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(DP()&&!zP(),this.auth,"internal-error"),await gAe(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await nAe(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function gAe(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=zu._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function bAe(t,e,r){const o=Br(t),a=await n0(o,e,Ke(r));return new FP(a,u=>Z_(o,u))}async function wAe(t,e,r){const o=Ke(t);await Q_(!1,o,"phone");const a=await n0(o.auth,e,Ke(r));return new FP(a,u=>b8(o,u))}async function kAe(t,e,r){const o=Ke(t),a=await n0(o.auth,e,Ke(r));return new FP(a,u=>w8(o,u))}async function n0(t,e,r){var o;const a=await r.verify();try{ye(typeof a=="string",t,"argument-error"),ye(r.type===D8,t,"argument-error");let u;if(typeof e=="string"?u={phoneNumber:e}:u=e,"session"in u){const h=u.session;if("phoneNumber"in u)return ye(h.type==="enroll",t,"internal-error"),(await L0e(t,{idToken:h.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:a}})).phoneSessionInfo.sessionInfo;{ye(h.type==="signin",t,"internal-error");const p=((o=u.multiFactorHint)===null||o===void 0?void 0:o.uid)||u.multiFactorUid;return ye(p,t,"missing-multi-factor-info"),(await eAe(t,{mfaPendingCredential:h.credential,mfaEnrollmentId:p,phoneSignInInfo:{recaptchaToken:a}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:h}=await X_e(t,{phoneNumber:u.phoneNumber,recaptchaToken:a});return h}}finally{r._reset()}}async function vAe(t,e){await NP(Ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks=class{constructor(e){this.providerId=Ks.PROVIDER_ID,this.auth=Br(e)}verifyPhoneNumber(e,r){return n0(this.auth,e,Ke(r))}static credential(e,r){return zu._fromVerification(e,r)}static credentialFromResult(e){const r=e;return Ks.credentialFromTaggedObject(r)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:o}=e;return r&&o?zu._fromTokenResponse(r,o):null}};Ks.PROVIDER_ID="phone";Ks.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e){return e?uo(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends If{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Da(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function yAe(t){return g8(t.auth,new jP(t),t.bypassAuthState)}function _Ae(t){const{auth:e,user:r}=t;return ye(r,e,"internal-error"),m8(r,new jP(t),t.bypassAuthState)}async function AAe(t){const{auth:e,user:r}=t;return ye(r,e,"internal-error"),NP(r,new jP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,r,o,a,u=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:o,postBody:a,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:r,sessionId:o,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(b){this.reject(b)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yAe;case"linkViaPopup":case"linkViaRedirect":return AAe;case"reauthViaPopup":case"reauthViaRedirect":return _Ae;default:ii(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CAe=new ib(2e3,1e4);async function EAe(t,e,r){const o=Br(t);Sf(t,e,Qa);const a=pd(o,r);return new Aa(o,"signInViaPopup",e,a).executeNotNull()}async function xAe(t,e,r){const o=Ke(t);Sf(o.auth,e,Qa);const a=pd(o.auth,r);return new Aa(o.auth,"reauthViaPopup",e,a,o).executeNotNull()}async function SAe(t,e,r){const o=Ke(t);Sf(o.auth,e,Qa);const a=pd(o.auth,r);return new Aa(o.auth,"linkViaPopup",e,a,o).executeNotNull()}class Aa extends P8{constructor(e,r,o,a,u){super(e,r,a,u),this.provider=o,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,o;if(!((o=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,CAe.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TAe="pendingRedirect",Sm=new Map;class IAe extends P8{constructor(e,r,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),this.eventId=null}async execute(){let e=Sm.get(this.auth._key());if(!e){try{const o=await DAe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(r){e=()=>Promise.reject(r)}Sm.set(this.auth._key(),e)}return this.bypassAuthState||Sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DAe(t,e){const r=N8(e),o=M8(t);if(!await o._isAvailable())return!1;const a=await o._get(r)==="true";return await o._remove(r),a}async function VP(t,e){return M8(t)._set(N8(e),"true")}function PAe(){Sm.clear()}function UP(t,e){Sm.set(t._key(),e)}function M8(t){return uo(t._redirectPersistence)}function N8(t){return Bu(TAe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MAe(t,e,r){return NAe(t,e,r)}async function NAe(t,e,r){const o=Br(t);Sf(t,e,Qa),await o._initializationPromise;const a=pd(o,r);return await VP(a,o),a._openRedirect(o,e,"signInViaRedirect")}function RAe(t,e,r){return OAe(t,e,r)}async function OAe(t,e,r){const o=Ke(t);Sf(o.auth,e,Qa),await o.auth._initializationPromise;const a=pd(o.auth,r);await VP(a,o.auth);const u=await R8(o);return a._openRedirect(o.auth,e,"reauthViaRedirect",u)}function LAe(t,e,r){return BAe(t,e,r)}async function BAe(t,e,r){const o=Ke(t);Sf(o.auth,e,Qa),await o.auth._initializationPromise;const a=pd(o.auth,r);await Q_(!1,o,e.providerId),await VP(a,o.auth);const u=await R8(o);return a._openRedirect(o.auth,e,"linkViaRedirect",u)}async function zAe(t,e){return await Br(t)._initializationPromise,r0(t,e,!1)}async function r0(t,e,r=!1){const o=Br(t),a=pd(o,e),h=await new IAe(o,a,r).execute();return h&&!r&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,e)),h}async function R8(t){const e=sb(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FAe=10*60*1e3;class O8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(r=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jAe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var o;if(e.error&&!L8(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";r.onError(ti(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const o=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FAe&&this.cachedEventUids.clear(),this.cachedEventUids.has(F3(e))}saveEventToCache(e){this.cachedEventUids.add(F3(e)),this.lastProcessedEventTime=Date.now()}}function F3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jAe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VAe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UAe=/^https?/;async function $Ae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B8(t);for(const r of e)try{if(HAe(r))return}catch{}ii(t,"unauthorized-domain")}function HAe(t){const e=mg(),{protocol:r,hostname:o}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&o===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&h.hostname===o}if(!UAe.test(r))return!1;if(VAe.test(t))return o===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qAe=new ib(3e4,6e4);function j3(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function WAe(t){return new Promise((e,r)=>{var o,a,u;function h(){j3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j3(),r(ti(t,"network-request-failed"))},timeout:qAe.get()})}if(!((a=(o=gr().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=gr().gapi)===null||u===void 0)&&u.load)h();else{const p=I8("iframefcb");return gr()[p]=()=>{gapi.load?h():r(ti(t,"network-request-failed"))},T8(`https://apis.google.com/js/api.js?onload=${p}`).catch(m=>r(m))}}).catch(e=>{throw gv=null,e})}let gv=null;function GAe(t){return gv=gv||WAe(t),gv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KAe=new ib(5e3,15e3),YAe="__/auth/iframe",QAe="emulator/auth/iframe",ZAe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JAe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XAe(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?PP(e,QAe):`https://${t.config.authDomain}/${YAe}`,o={apiKey:e.apiKey,appName:t.name,v:kl},a=JAe.get(t.config.apiHost);a&&(o.eid=a);const u=t._getFrameworks();return u.length&&(o.fw=u.join(",")),`${r}?${xf(o).slice(1)}`}async function eCe(t){const e=await GAe(t),r=gr().gapi;return ye(r,t,"internal-error"),e.open({where:document.body,url:XAe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZAe,dontclear:!0},o=>new Promise(async(a,u)=>{await o.restyle({setHideOnLeave:!1});const h=ti(t,"network-request-failed"),p=gr().setTimeout(()=>{u(h)},KAe.get());function m(){gr().clearTimeout(p),a(o)}o.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tCe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nCe=500,rCe=600,iCe="_blank",oCe="http://localhost";class V3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sCe(t,e,r,o=nCe,a=rCe){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let p="";const m=Object.assign(Object.assign({},tCe),{width:o.toString(),height:a.toString(),top:u,left:h}),b=Hn().toLowerCase();r&&(p=r8(b)?iCe:r),n8(b)&&(e=e||oCe,m.scrollbars="yes");const k=Object.entries(m).reduce((_,[A,E])=>`${_}${A}=${E},`,"");if(L_e(b)&&p!=="_self")return aCe(e||"",p),new V3(null);const v=window.open(e||"",p,k);ye(v,t,"popup-blocked");try{v.focus()}catch{}return new V3(v)}function aCe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cCe="__/auth/handler",lCe="emulator/auth/handler";function $T(t,e,r,o,a,u){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:o,v:kl,eventId:a};if(e instanceof Qa){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",Gve(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,b]of Object.entries(u||{}))h[m]=b}if(e instanceof Df){const m=e.getScopes().filter(b=>b!=="");m.length>0&&(h.scopes=m.join(","))}t.tenantId&&(h.tid=t.tenantId);const p=h;for(const m of Object.keys(p))p[m]===void 0&&delete p[m];return`${uCe(t)}?${xf(p).slice(1)}`}function uCe({config:t}){return t.emulator?PP(t,lCe):`https://${t.authDomain}/${cCe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="webStorageSupport";class dCe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qu,this._completeRedirectFn=r0,this._overrideRedirectResult=UP}async _openPopup(e,r,o,a){var u;fs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=$T(e,r,o,mg(),a);return sCe(e,h,sb())}async _openRedirect(e,r,o,a){return await this._originValidation(e),q0e($T(e,r,o,mg(),a)),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:u}=this.eventManagers[r];return a?Promise.resolve(a):(fs(u,"If manager is not set, promise should be"),u)}const o=this.initAndGetManager(e);return this.eventManagers[r]={promise:o},o.catch(()=>{delete this.eventManagers[r]}),o}async initAndGetManager(e){const r=await eCe(e),o=new O8(e);return r.register("authEvent",a=>(ye(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=r,o}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(jx,{type:jx},a=>{var u;const h=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[jx];h!==void 0&&r(!!h),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=$Ae(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return a8()||MP()||Tf()}}const hCe=dCe;class fCe{constructor(e){this.factorId=e}_process(e,r,o){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,o);case"signin":return this._finalizeSignIn(e,r.credential);default:return Vs("unexpected MultiFactorSessionType")}}}class $P extends fCe{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new $P(e)}_finalizeEnroll(e,r,o){return B0e(e,{idToken:r,displayName:o,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return tAe(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class z8{constructor(){}static assertion(e){return $P._fromCredential(e)}}z8.FACTOR_ID="phone";var U3="@firebase/auth",$3="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pCe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(o=>{e((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mCe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function gCe(t){ja(new Vo("auth",(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:u,authDomain:h}=o.options;return((p,m)=>{ye(u&&!u.includes(":"),"invalid-api-key",{appName:p.name}),ye(!(h!=null&&h.includes(":")),"argument-error",{appName:p.name});const b={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c8(t)},k=new j_e(p,m,b);return w_e(k,r),k})(o,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,o)=>{e.getProvider("auth-internal").initialize()})),ja(new Vo("auth-internal",e=>{const r=Br(e.getProvider("auth").getImmediate());return(o=>new pCe(o))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bo(U3,$3,mCe(t)),Bo(U3,$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bCe=5*60;zve("authIdTokenMaxAge");gCe("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wCe=2e3;async function kCe(t,e,r){var o;const{BuildInfo:a}=Zu();fs(e.sessionId,"AuthEvent did not contain a session ID");const u=await CCe(e.sessionId),h={};return Tf()?h.ibi=a.packageName:ob()?h.apn=a.packageName:ii(t,"operation-not-supported-in-this-environment"),a.displayName&&(h.appDisplayName=a.displayName),h.sessionId=u,$T(t,r,e.type,void 0,(o=e.eventId)!==null&&o!==void 0?o:void 0,h)}async function vCe(t){const{BuildInfo:e}=Zu(),r={};Tf()?r.iosBundleId=e.packageName:ob()?r.androidPackageName=e.packageName:ii(t,"operation-not-supported-in-this-environment"),await B8(t,r)}function yCe(t){const{cordova:e}=Zu();return new Promise(r=>{e.plugins.browsertab.isAvailable(o=>{let a=null;o?e.plugins.browsertab.openUrl(t):a=e.InAppBrowser.open(t,O_e()?"_blank":"_system","location=yes"),r(a)})})}async function _Ce(t,e,r){const{cordova:o}=Zu();let a=()=>{};try{await new Promise((u,h)=>{let p=null;function m(){var v;u();const _=(v=o.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof _=="function"&&_(),typeof(r==null?void 0:r.close)=="function"&&r.close()}function b(){p||(p=window.setTimeout(()=>{h(ti(t,"redirect-cancelled-by-user"))},wCe))}function k(){(document==null?void 0:document.visibilityState)==="visible"&&b()}e.addPassiveListener(m),document.addEventListener("resume",b,!1),ob()&&document.addEventListener("visibilitychange",k,!1),a=()=>{e.removePassiveListener(m),document.removeEventListener("resume",b,!1),document.removeEventListener("visibilitychange",k,!1),p&&window.clearTimeout(p)}})}finally{a()}}function ACe(t){var e,r,o,a,u,h,p,m,b,k;const v=Zu();ye(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((r=v==null?void 0:v.BuildInfo)===null||r===void 0?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((u=(a=(o=v==null?void 0:v.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((m=(p=(h=v==null?void 0:v.cordova)===null||h===void 0?void 0:h.plugins)===null||p===void 0?void 0:p.browsertab)===null||m===void 0?void 0:m.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((k=(b=v==null?void 0:v.cordova)===null||b===void 0?void 0:b.InAppBrowser)===null||k===void 0?void 0:k.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function CCe(t){const e=ECe(t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")}function ECe(t){if(fs(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xCe=20;class SCe extends O8{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(r=>r(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function TCe(t,e,r=null){return{type:e,eventId:r,urlResponse:null,sessionId:PCe(),postBody:null,tenantId:t.tenantId,error:ti(t,"no-auth-event")}}function ICe(t,e){return HT()._set(qT(t),e)}async function H3(t){const e=await HT()._get(qT(t));return e&&await HT()._remove(qT(t)),e}function DCe(t,e){var r,o;const a=NCe(e);if(a.includes("/__/auth/callback")){const u=bv(a),h=u.firebaseError?MCe(decodeURIComponent(u.firebaseError)):null,p=(o=(r=h==null?void 0:h.code)===null||r===void 0?void 0:r.split("auth/"))===null||o===void 0?void 0:o[1],m=p?ti(p):null;return m?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:m,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:a,postBody:null}}return null}function PCe(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<xCe;r++){const o=Math.floor(Math.random()*e.length);t.push(e.charAt(o))}return t.join("")}function HT(){return uo(BP)}function qT(t){return Bu("authEvent",t.config.apiKey,t.name)}function MCe(t){try{return JSON.parse(t)}catch{return null}}function NCe(t){const e=bv(t),r=e.link?decodeURIComponent(e.link):void 0,o=bv(r).link,a=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return bv(a).link||a||o||r||t}function bv(t){if(!(t!=null&&t.includes("?")))return{};const[e,...r]=t.split("?");return yh(r.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RCe=500;class OCe{constructor(){this._redirectPersistence=Qu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r0,this._overrideRedirectResult=UP}async _initialize(e){const r=e._key();let o=this.eventManagers.get(r);return o||(o=new SCe(e),this.eventManagers.set(r,o),this.attachCallbackListeners(e,o)),o}_openPopup(e){ii(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,r,o,a){ACe(e);const u=await this._initialize(e);await u.initialized(),u.resetRedirect(),PAe(),await this._originValidation(e);const h=TCe(e,o,a);await ICe(e,h);const p=await kCe(e,h,r),m=await yCe(p);return _Ce(e,u,m)}_isIframeWebStorageSupported(e,r){throw new Error("Method not implemented.")}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vCe(e)),this.originValidationPromises[r]}attachCallbackListeners(e,r){const{universalLinks:o,handleOpenURL:a,BuildInfo:u}=Zu(),h=setTimeout(async()=>{await H3(e),r.onEvent(q3())},RCe),p=async k=>{clearTimeout(h);const v=await H3(e);let _=null;v&&(k!=null&&k.url)&&(_=DCe(v,k.url)),r.onEvent(_||q3())};typeof o<"u"&&typeof o.subscribe=="function"&&o.subscribe(null,p);const m=a,b=`${u.packageName.toLowerCase()}://`;Zu().handleOpenURL=async k=>{if(k.toLowerCase().startsWith(b)&&p({url:k}),typeof m=="function")try{m(k)}catch(v){console.error(v)}}}}const LCe=OCe;function q3(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ti("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BCe(t,e){Br(t)._logFramework(e)}var zCe="@firebase/auth-compat",FCe="0.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jCe=1e3;function Tm(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function VCe(){return Tm()==="http:"||Tm()==="https:"}function F8(t=Hn()){return!!((Tm()==="file:"||Tm()==="ionic:"||Tm()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function UCe(){return CP()||q_()}function $Ce(){return OH()&&(document==null?void 0:document.documentMode)===11}function HCe(t=Hn()){return/Edge\/\d+/.test(t)}function qCe(t=Hn()){return $Ce()||HCe(t)}function j8(){try{const t=self.localStorage,e=sb();if(t)return t.setItem(e,"1"),t.removeItem(e),qCe()?hg():!0}catch{return HP()&&hg()}return!1}function HP(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vx(){return(VCe()||RH()||F8())&&!UCe()&&j8()&&!HP()}function V8(){return F8()&&typeof document<"u"}async function WCe(){return V8()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},jCe);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function GCe(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co={LOCAL:"local",NONE:"none",SESSION:"session"},Up=ye,U8="persistence";function KCe(t,e){if(Up(Object.values(co).includes(e),t,"invalid-persistence-type"),CP()){Up(e!==co.SESSION,t,"unsupported-persistence-type");return}if(q_()){Up(e===co.NONE,t,"unsupported-persistence-type");return}if(HP()){Up(e===co.NONE||e===co.LOCAL&&hg(),t,"unsupported-persistence-type");return}Up(e===co.NONE||j8(),t,"unsupported-persistence-type")}async function WT(t){await t._initializationPromise;const e=$8(),r=Bu(U8,t.config.apiKey,t.name);e&&e.setItem(r,t._getPersistence())}function YCe(t,e){const r=$8();if(!r)return[];const o=Bu(U8,t,e);switch(r.getItem(o)){case co.NONE:return[nf];case co.LOCAL:return[kg,Qu];case co.SESSION:return[Qu];default:return[]}}function $8(){var t;try{return((t=GCe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QCe=ye;class Oc{constructor(){this.browserResolver=uo(hCe),this.cordovaResolver=uo(LCe),this.underlyingResolver=null,this._redirectPersistence=Qu,this._completeRedirectFn=r0,this._overrideRedirectResult=UP}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,r,o,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,r,o,a)}async _openRedirect(e,r,o,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,r,o,a)}_isIframeWebStorageSupported(e,r){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,r)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return V8()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return QCe(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await WCe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){return t.unwrap()}function ZCe(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JCe(t){return q8(t)}function XCe(t,e){var r;const o=(r=e.customData)===null||r===void 0?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const a=e;a.resolver=new e1e(t,O0e(t,e))}else if(o){const a=q8(e),u=e;a&&(u.credential=a,u.tenantId=o.tenantId||void 0,u.email=o.email||void 0,u.phoneNumber=o.phoneNumber||void 0)}}function q8(t){const{_tokenResponse:e}=t instanceof mi?t.customData:t;if(!e)return null;if(!(t instanceof mi)&&"temporaryProof"in e&&"phoneNumber"in e)return Ks.credentialFromResult(t);const r=e.providerId;if(!r||r===Vp.PASSWORD)return null;let o;switch(r){case Vp.GOOGLE:o=Os;break;case Vp.FACEBOOK:o=Rs;break;case Vp.GITHUB:o=Ls;break;case Vp.TWITTER:o=Bs;break;default:const{oauthIdToken:a,oauthAccessToken:u,oauthTokenSecret:h,pendingToken:p,nonce:m}=e;return!u&&!h&&!a&&!p?null:p?r.startsWith("saml.")?rf._create(r,p):Xs._fromParams({providerId:r,signInMethod:r,pendingToken:p,idToken:a,accessToken:u}):new zh(r).credential({idToken:a,accessToken:u,rawNonce:m})}return t instanceof mi?o.credentialFromError(t):o.credentialFromResult(t)}function Hi(t,e){return e.catch(r=>{throw r instanceof mi&&XCe(t,r),r}).then(r=>{const o=r.operationType,a=r.user;return{operationType:o,credential:JCe(r),additionalUserInfo:R0e(r),user:Ca.getOrCreate(a)}})}async function GT(t,e){const r=await e;return{verificationId:r.verificationId,confirm:o=>Hi(t,r.confirm(o))}}class e1e{constructor(e,r){this.resolver=r,this.auth=ZCe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hi(H8(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._delegate=e,this.multiFactor=F0e(e)}static getOrCreate(e){return Ca.USER_MAP.has(e)||Ca.USER_MAP.set(e,new Ca(e)),Ca.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hi(this.auth,b8(this._delegate,e))}async linkWithPhoneNumber(e,r){return GT(this.auth,wAe(this._delegate,e,r))}async linkWithPopup(e){return Hi(this.auth,SAe(this._delegate,e,Oc))}async linkWithRedirect(e){return await WT(Br(this.auth)),LAe(this._delegate,e,Oc)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hi(this.auth,w8(this._delegate,e))}reauthenticateWithPhoneNumber(e,r){return GT(this.auth,kAe(this._delegate,e,r))}reauthenticateWithPopup(e){return Hi(this.auth,xAe(this._delegate,e,Oc))}async reauthenticateWithRedirect(e){return await WT(Br(this.auth)),RAe(this._delegate,e,Oc)}sendEmailVerification(e){return A0e(this._delegate,e)}async unlink(e){return await l0e(this._delegate,e),this}updateEmail(e){return S0e(this._delegate,e)}updatePassword(e){return T0e(this._delegate,e)}updatePhoneNumber(e){return vAe(this._delegate,e)}updateProfile(e){return x0e(this._delegate,e)}verifyBeforeUpdateEmail(e,r){return C0e(this._delegate,e,r)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=ye;class KT{constructor(e,r){if(this.app=e,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:o}=e.options;$p(o,"invalid-api-key",{appName:e.name}),$p(o,"invalid-api-key",{appName:e.name});const a=typeof window<"u"?Oc:void 0;this._delegate=r.initialize({options:{persistence:t1e(o,e.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(g_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,r){V_e(this._delegate,e,r)}applyActionCode(e){return p0e(this._delegate,e)}checkActionCode(e){return k8(this._delegate,e)}confirmPasswordReset(e,r){return f0e(this._delegate,e,r)}async createUserWithEmailAndPassword(e,r){return Hi(this._delegate,g0e(this._delegate,e,r))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return _0e(this._delegate,e)}isSignInWithEmailLink(e){return k0e(this._delegate,e)}async getRedirectResult(){$p(Vx(),this._delegate,"operation-not-supported-in-this-environment");const e=await zAe(this._delegate,Oc);return e?Hi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){BCe(this._delegate,e)}onAuthStateChanged(e,r,o){const{next:a,error:u,complete:h}=W3(e,r,o);return this._delegate.onAuthStateChanged(a,u,h)}onIdTokenChanged(e,r,o){const{next:a,error:u,complete:h}=W3(e,r,o);return this._delegate.onIdTokenChanged(a,u,h)}sendSignInLinkToEmail(e,r){return w0e(this._delegate,e,r)}sendPasswordResetEmail(e,r){return h0e(this._delegate,e,r||void 0)}async setPersistence(e){KCe(this._delegate,e);let r;switch(e){case co.SESSION:r=Qu;break;case co.LOCAL:r=await uo(kg)._isAvailable()?kg:BP;break;case co.NONE:r=nf;break;default:return ii("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hi(this._delegate,c0e(this._delegate))}signInWithCredential(e){return Hi(this._delegate,Z_(this._delegate,e))}signInWithCustomToken(e){return Hi(this._delegate,d0e(this._delegate,e))}signInWithEmailAndPassword(e,r){return Hi(this._delegate,b0e(this._delegate,e,r))}signInWithEmailLink(e,r){return Hi(this._delegate,v0e(this._delegate,e,r))}signInWithPhoneNumber(e,r){return GT(this._delegate,bAe(this._delegate,e,r))}async signInWithPopup(e){return $p(Vx(),this._delegate,"operation-not-supported-in-this-environment"),Hi(this._delegate,EAe(this._delegate,e,Oc))}async signInWithRedirect(e){return $p(Vx(),this._delegate,"operation-not-supported-in-this-environment"),await WT(this._delegate),MAe(this._delegate,e,Oc)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return m0e(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}KT.Persistence=co;function W3(t,e,r){let o=t;typeof t!="function"&&({next:o,error:e,complete:r}=t);const a=o;return{next:h=>a(h&&Ca.getOrCreate(h)),error:e,complete:r}}function t1e(t,e){const r=YCe(t,e);if(typeof self<"u"&&!r.includes(kg)&&r.push(kg),typeof window<"u")for(const o of[BP,Qu])r.includes(o)||r.push(o);return r.includes(nf)||r.push(nf),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.providerId="phone",this._delegate=new Ks(H8(ms.auth()))}static credential(e,r){return Ks.credential(e,r)}verifyPhoneNumber(e,r){return this._delegate.verifyPhoneNumber(e,r)}unwrap(){return this._delegate}}qP.PHONE_SIGN_IN_METHOD=Ks.PHONE_SIGN_IN_METHOD;qP.PROVIDER_ID=Ks.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1e=ye;class r1e{constructor(e,r,o=ms.app()){var a;n1e((a=o.options)===null||a===void 0?void 0:a.apiKey,"invalid-api-key",{appName:o.name}),this._delegate=new mAe(e,r,o.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1e="auth-compat";function o1e(t){t.INTERNAL.registerComponent(new Vo(i1e,e=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("auth");return new KT(r,o)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xd.EMAIL_SIGNIN,PASSWORD_RESET:Xd.PASSWORD_RESET,RECOVER_EMAIL:Xd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Xd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Xd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Xd.VERIFY_EMAIL}},EmailAuthProvider:vl,FacebookAuthProvider:Rs,GithubAuthProvider:Ls,GoogleAuthProvider:Os,OAuthProvider:zh,SAMLAuthProvider:cy,PhoneAuthProvider:qP,PhoneMultiFactorGenerator:z8,RecaptchaVerifier:r1e,TwitterAuthProvider:Bs,Auth:KT,AuthCredential:If,Error:mi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(zCe,FCe)}o1e(ms);var s1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qe,WP=WP||{},ut=s1e||self;function hy(){}function i0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cb(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function a1e(t){return Object.prototype.hasOwnProperty.call(t,Ux)&&t[Ux]||(t[Ux]=++c1e)}var Ux="closure_uid_"+(1e9*Math.random()>>>0),c1e=0;function l1e(t,e,r){return t.call.apply(t.bind,arguments)}function u1e(t,e,r){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function gi(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gi=l1e:gi=u1e,gi.apply(null,arguments)}function xk(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function si(t,e){function r(){}r.prototype=e.prototype,t.X=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Wb=function(o,a,u){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[a].apply(o,h)}}function yl(){this.s=this.s,this.o=this.o}var d1e=0;yl.prototype.s=!1;yl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),d1e!=0)&&a1e(this)};yl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const W8=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function GP(t){const e=t.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=t[o];return r}return[]}function G3(t,e){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(i0(o)){const a=t.length||0,u=o.length||0;t.length=a+u;for(let h=0;h<u;h++)t[a+h]=o[h]}else t.push(o)}}function bi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bi.prototype.h=function(){this.defaultPrevented=!0};var h1e=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ut.addEventListener("test",hy,e),ut.removeEventListener("test",hy,e)}catch{}return t}();function fy(t){return/^[\s\xa0]*$/.test(t)}var K3=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $x(t,e){return t<e?-1:t>e?1:0}function o0(){var t=ut.navigator;return t&&(t=t.userAgent)?t:""}function zs(t){return o0().indexOf(t)!=-1}function KP(t){return KP[" "](t),t}KP[" "]=hy;function f1e(t){var e=g1e;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var p1e=zs("Opera"),of=zs("Trident")||zs("MSIE"),G8=zs("Edge"),YT=G8||of,K8=zs("Gecko")&&!(o0().toLowerCase().indexOf("webkit")!=-1&&!zs("Edge"))&&!(zs("Trident")||zs("MSIE"))&&!zs("Edge"),m1e=o0().toLowerCase().indexOf("webkit")!=-1&&!zs("Edge");function Y8(){var t=ut.document;return t?t.documentMode:void 0}var py;e:{var Hx="",qx=function(){var t=o0();if(K8)return/rv:([^\);]+)(\)|;)/.exec(t);if(G8)return/Edge\/([\d\.]+)/.exec(t);if(of)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m1e)return/WebKit\/(\S+)/.exec(t);if(p1e)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qx&&(Hx=qx?qx[1]:""),of){var Wx=Y8();if(Wx!=null&&Wx>parseFloat(Hx)){py=String(Wx);break e}}py=Hx}var g1e={};function b1e(){return f1e(function(){let t=0;const e=K3(String(py)).split("."),r=K3("9").split("."),o=Math.max(e.length,r.length);for(let h=0;t==0&&h<o;h++){var a=e[h]||"",u=r[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a[0].length==0&&u[0].length==0)break;t=$x(a[1].length==0?0:parseInt(a[1],10),u[1].length==0?0:parseInt(u[1],10))||$x(a[2].length==0,u[2].length==0)||$x(a[2],u[2]),a=a[3],u=u[3]}while(t==0)}return 0<=t})}var QT;if(ut.document&&of){var Y3=Y8();QT=Y3||parseInt(py,10)||void 0}else QT=void 0;var w1e=QT;function vg(t,e){if(bi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(K8){e:{try{KP(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:k1e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vg.X.h.call(this)}}si(vg,bi);var k1e={2:"touch",3:"pen",4:"mouse"};vg.prototype.h=function(){vg.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lb="closure_listenable_"+(1e6*Math.random()|0),v1e=0;function y1e(t,e,r,o,a){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ha=a,this.key=++v1e,this.ba=this.ea=!1}function s0(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function YP(t,e,r){for(const o in t)e.call(r,t[o],o,t)}function Q8(t){const e={};for(const r in t)e[r]=t[r];return e}const Q3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z8(t,e){let r,o;for(let a=1;a<arguments.length;a++){o=arguments[a];for(r in o)t[r]=o[r];for(let u=0;u<Q3.length;u++)r=Q3[u],Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}}function a0(t){this.src=t,this.g={},this.h=0}a0.prototype.add=function(t,e,r,o,a){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var h=JT(t,e,o,a);return-1<h?(e=t[h],r||(e.ea=!1)):(e=new y1e(e,this.src,u,!!o,a),e.ea=r,t.push(e)),e};function ZT(t,e){var r=e.type;if(r in t.g){var o=t.g[r],a=W8(o,e),u;(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(s0(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function JT(t,e,r,o){for(var a=0;a<t.length;++a){var u=t[a];if(!u.ba&&u.listener==e&&u.capture==!!r&&u.ha==o)return a}return-1}var QP="closure_lm_"+(1e6*Math.random()|0),Gx={};function J8(t,e,r,o,a){if(o&&o.once)return e9(t,e,r,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)J8(t,e[u],r,o,a);return null}return r=XP(r),t&&t[lb]?t.N(e,r,cb(o)?!!o.capture:!!o,a):X8(t,e,r,!1,o,a)}function X8(t,e,r,o,a,u){if(!e)throw Error("Invalid event type");var h=cb(a)?!!a.capture:!!a,p=JP(t);if(p||(t[QP]=p=new a0(t)),r=p.add(e,r,o,h,u),r.proxy)return r;if(o=_1e(),r.proxy=o,o.src=t,o.listener=r,t.addEventListener)h1e||(a=h),a===void 0&&(a=!1),t.addEventListener(e.toString(),o,a);else if(t.attachEvent)t.attachEvent(n9(e.toString()),o);else if(t.addListener&&t.removeListener)t.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function _1e(){function t(r){return e.call(t.src,t.listener,r)}const e=A1e;return t}function e9(t,e,r,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)e9(t,e[u],r,o,a);return null}return r=XP(r),t&&t[lb]?t.O(e,r,cb(o)?!!o.capture:!!o,a):X8(t,e,r,!0,o,a)}function t9(t,e,r,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)t9(t,e[u],r,o,a);else o=cb(o)?!!o.capture:!!o,r=XP(r),t&&t[lb]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],r=JT(u,r,o,a),-1<r&&(s0(u[r]),Array.prototype.splice.call(u,r,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=JP(t))&&(e=t.g[e.toString()],t=-1,e&&(t=JT(e,r,o,a)),(r=-1<t?e[t]:null)&&ZP(r))}function ZP(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[lb])ZT(e.i,t);else{var r=t.type,o=t.proxy;e.removeEventListener?e.removeEventListener(r,o,t.capture):e.detachEvent?e.detachEvent(n9(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=JP(e))?(ZT(r,t),r.h==0&&(r.src=null,e[QP]=null)):s0(t)}}}function n9(t){return t in Gx?Gx[t]:Gx[t]="on"+t}function A1e(t,e){if(t.ba)t=!0;else{e=new vg(e,this);var r=t.listener,o=t.ha||t.src;t.ea&&ZP(t),t=r.call(o,e)}return t}function JP(t){return t=t[QP],t instanceof a0?t:null}var Kx="__closure_events_fn_"+(1e9*Math.random()>>>0);function XP(t){return typeof t=="function"?t:(t[Kx]||(t[Kx]=function(e){return t.handleEvent(e)}),t[Kx])}function zr(){yl.call(this),this.i=new a0(this),this.P=this,this.I=null}si(zr,yl);zr.prototype[lb]=!0;zr.prototype.removeEventListener=function(t,e,r,o){t9(this,t,e,r,o)};function ni(t,e){var r,o=t.I;if(o)for(r=[];o;o=o.I)r.push(o);if(t=t.P,o=e.type||e,typeof e=="string")e=new bi(e,t);else if(e instanceof bi)e.target=e.target||t;else{var a=e;e=new bi(o,t),Z8(e,a)}if(a=!0,r)for(var u=r.length-1;0<=u;u--){var h=e.g=r[u];a=Sk(h,o,!0,e)&&a}if(h=e.g=t,a=Sk(h,o,!0,e)&&a,a=Sk(h,o,!1,e)&&a,r)for(u=0;u<r.length;u++)h=e.g=r[u],a=Sk(h,o,!1,e)&&a}zr.prototype.M=function(){if(zr.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],o=0;o<r.length;o++)s0(r[o]);delete t.g[e],t.h--}}this.I=null};zr.prototype.N=function(t,e,r,o){return this.i.add(String(t),e,!1,r,o)};zr.prototype.O=function(t,e,r,o){return this.i.add(String(t),e,!0,r,o)};function Sk(t,e,r,o){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ba&&h.capture==r){var p=h.listener,m=h.ha||h.src;h.ea&&ZT(t.i,h),a=p.call(m,o)!==!1&&a}}return a&&!o.defaultPrevented}var eM=ut.JSON.stringify;function C1e(){var t=o9;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class E1e{constructor(){this.h=this.g=null}add(e,r){const o=r9.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}}var r9=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new x1e,t=>t.reset());class x1e{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function S1e(t){ut.setTimeout(()=>{throw t},0)}function i9(t,e){XT||T1e(),eI||(XT(),eI=!0),o9.add(t,e)}var XT;function T1e(){var t=ut.Promise.resolve(void 0);XT=function(){t.then(I1e)}}var eI=!1,o9=new E1e;function I1e(){for(var t;t=C1e();){try{t.h.call(t.g)}catch(r){S1e(r)}var e=r9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}eI=!1}function c0(t,e){zr.call(this),this.h=t||1,this.g=e||ut,this.j=gi(this.lb,this),this.l=Date.now()}si(c0,zr);Qe=c0.prototype;Qe.ca=!1;Qe.R=null;Qe.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ni(this,"tick"),this.ca&&(tM(this),this.start()))}};Qe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tM(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Qe.M=function(){c0.X.M.call(this),tM(this),delete this.g};function nM(t,e,r){if(typeof t=="function")r&&(t=gi(t,r));else if(t&&typeof t.handleEvent=="function")t=gi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ut.setTimeout(t,e||0)}function s9(t){t.g=nM(()=>{t.g=null,t.i&&(t.i=!1,s9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class D1e extends yl{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:s9(this)}M(){super.M(),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yg(t){yl.call(this),this.h=t,this.g={}}si(yg,yl);var Z3=[];function a9(t,e,r,o){Array.isArray(r)||(r&&(Z3[0]=r.toString()),r=Z3);for(var a=0;a<r.length;a++){var u=J8(e,r[a],o||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function c9(t){YP(t.g,function(e,r){this.g.hasOwnProperty(r)&&ZP(e)},t),t.g={}}yg.prototype.M=function(){yg.X.M.call(this),c9(this)};yg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function l0(){this.g=!0}l0.prototype.Aa=function(){this.g=!1};function P1e(t,e,r,o,a,u){t.info(function(){if(t.g)if(u)for(var h="",p=u.split("&"),m=0;m<p.length;m++){var b=p[m].split("=");if(1<b.length){var k=b[0];b=b[1];var v=k.split("_");h=2<=v.length&&v[1]=="type"?h+(k+"="+b+"&"):h+(k+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+`
`+r+`
`+h})}function M1e(t,e,r,o,a,u,h){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+`
`+r+`
`+u+" "+h})}function _h(t,e,r,o){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+R1e(t,r)+(o?" "+o:"")})}function N1e(t,e){t.info(function(){return"TIMEOUT: "+e})}l0.prototype.info=function(){};function R1e(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var o=r[t];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if(u!="noop"&&u!="stop"&&u!="close")for(var h=1;h<a.length;h++)a[h]=""}}}}return eM(r)}catch{return e}}var md={},J3=null;function u0(){return J3=J3||new zr}md.Pa="serverreachability";function l9(t){bi.call(this,md.Pa,t)}si(l9,bi);function _g(t){const e=u0();ni(e,new l9(e))}md.STAT_EVENT="statevent";function u9(t,e){bi.call(this,md.STAT_EVENT,t),this.stat=e}si(u9,bi);function Di(t){const e=u0();ni(e,new u9(e,t))}md.Qa="timingevent";function d9(t,e){bi.call(this,md.Qa,t),this.size=e}si(d9,bi);function ub(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){t()},e)}var d0={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},h9={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function rM(){}rM.prototype.h=null;function X3(t){return t.h||(t.h=t.i())}function f9(){}var db={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function iM(){bi.call(this,"d")}si(iM,bi);function oM(){bi.call(this,"c")}si(oM,bi);var tI;function h0(){}si(h0,rM);h0.prototype.g=function(){return new XMLHttpRequest};h0.prototype.i=function(){return{}};tI=new h0;function hb(t,e,r,o){this.l=t,this.j=e,this.m=r,this.U=o||1,this.S=new yg(this),this.O=O1e,t=YT?125:void 0,this.T=new c0(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new p9}function p9(){this.i=null,this.g="",this.h=!1}var O1e=45e3,nI={},my={};Qe=hb.prototype;Qe.setTimeout=function(t){this.O=t};function rI(t,e,r){t.K=1,t.v=p0(Ua(e)),t.s=r,t.P=!0,m9(t,null)}function m9(t,e){t.F=Date.now(),fb(t),t.A=Ua(t.v);var r=t.A,o=t.U;Array.isArray(o)||(o=[String(o)]),A9(r.i,"t",o),t.C=0,r=t.l.H,t.h=new p9,t.g=H9(t.l,r?e:null,!t.s),0<t.N&&(t.L=new D1e(gi(t.La,t,t.g),t.N)),a9(t.S,t.g,"readystatechange",t.ib),e=t.H?Q8(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),_g(),P1e(t.j,t.u,t.A,t.m,t.U,t.s)}Qe.ib=function(t){t=t.target;const e=this.L;e&&Ea(t)==3?e.l():this.La(t)};Qe.La=function(t){try{if(t==this.g)e:{const k=Ea(this.g);var e=this.g.Ea();const v=this.g.aa();if(!(3>k)&&(k!=3||YT||this.g&&(this.h.h||this.g.fa()||rj(this.g)))){this.I||k!=4||e==7||(e==8||0>=v?_g(3):_g(2)),f0(this);var r=this.g.aa();this.Y=r;t:if(g9(this)){var o=rj(this.g);t="";var a=o.length,u=Ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cu(this),Im(this);var h="";break t}this.h.i=new ut.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=t,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=r==200,M1e(this.j,this.u,this.A,this.m,this.U,k,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fy(p)){var b=p;break t}}b=null}if(r=b)_h(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iI(this,r);else{this.i=!1,this.o=3,Di(12),Cu(this),Im(this);break e}}this.P?(b9(this,k,h),YT&&this.i&&k==3&&(a9(this.S,this.T,"tick",this.hb),this.T.start())):(_h(this.j,this.m,h,null),iI(this,h)),k==4&&Cu(this),this.i&&!this.I&&(k==4?j9(this.l,this):(this.i=!1,fb(this)))}else r==400&&0<h.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),Cu(this),Im(this)}}}catch{}finally{}};function g9(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function b9(t,e,r){let o=!0,a;for(;!t.I&&t.C<r.length;)if(a=L1e(t,r),a==my){e==4&&(t.o=4,Di(14),o=!1),_h(t.j,t.m,null,"[Incomplete Response]");break}else if(a==nI){t.o=4,Di(15),_h(t.j,t.m,r,"[Invalid Chunk]"),o=!1;break}else _h(t.j,t.m,a,null),iI(t,a);g9(t)&&a!=my&&a!=nI&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,Di(16),o=!1),t.i=t.i&&o,o?0<r.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),hM(e),e.K=!0,Di(11))):(_h(t.j,t.m,r,"[Invalid Chunked Response]"),Cu(t),Im(t))}Qe.hb=function(){if(this.g){var t=Ea(this.g),e=this.g.fa();this.C<e.length&&(f0(this),b9(this,t,e),this.i&&t!=4&&fb(this))}};function L1e(t,e){var r=t.C,o=e.indexOf(`
`,r);return o==-1?my:(r=Number(e.substring(r,o)),isNaN(r)?nI:(o+=1,o+r>e.length?my:(e=e.substr(o,r),t.C=o+r,e)))}Qe.cancel=function(){this.I=!0,Cu(this)};function fb(t){t.V=Date.now()+t.O,w9(t,t.O)}function w9(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ub(gi(t.gb,t),e)}function f0(t){t.B&&(ut.clearTimeout(t.B),t.B=null)}Qe.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(N1e(this.j,this.A),this.K!=2&&(_g(),Di(17)),Cu(this),this.o=2,Im(this)):w9(this,this.V-t)};function Im(t){t.l.G==0||t.I||j9(t.l,t)}function Cu(t){f0(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,tM(t.T),c9(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function iI(t,e){try{var r=t.l;if(r.G!=0&&(r.g==t||oI(r.h,t))){if(!t.J&&oI(r.h,t)&&r.G==3){try{var o=r.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&o.length==3){var a=o;if(a[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)wy(r),b0(r);else break e;dM(r),Di(18)}}else r.Ba=a[1],0<r.Ba-r.T&&37500>a[2]&&r.L&&r.A==0&&!r.v&&(r.v=ub(gi(r.cb,r),6e3));if(1>=x9(r.h)&&r.ja){try{r.ja()}catch{}r.ja=void 0}}else Eu(r,11)}else if((t.J||r.g==t)&&wy(r),!fy(e))for(a=r.Fa.g.parse(e),e=0;e<a.length;e++){let b=a[e];if(r.T=b[0],b=b[1],r.G==2)if(b[0]=="c"){r.I=b[1],r.ka=b[2];const k=b[3];k!=null&&(r.ma=k,r.j.info("VER="+r.ma));const v=b[4];v!=null&&(r.Ca=v,r.j.info("SVER="+r.Ca));const _=b[5];_!=null&&typeof _=="number"&&0<_&&(o=1.5*_,r.J=o,r.j.info("backChannelRequestTimeoutMs_="+o)),o=r;const A=t.g;if(A){const E=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var u=o.h;u.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(sM(u,u.h),u.h=null))}if(o.D){const T=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(o.za=T,Pn(o.F,o.D,T))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-t.F,r.j.info("Handshake RTT: "+r.P+"ms")),o=r;var h=t;if(o.sa=$9(o,o.H?o.ka:null,o.V),h.J){S9(o.h,h);var p=h,m=o.J;m&&p.setTimeout(m),p.B&&(f0(p),fb(p)),o.g=h}else z9(o);0<r.i.length&&w0(r)}else b[0]!="stop"&&b[0]!="close"||Eu(r,7);else r.G==3&&(b[0]=="stop"||b[0]=="close"?b[0]=="stop"?Eu(r,7):uM(r):b[0]!="noop"&&r.l&&r.l.wa(b),r.A=0)}}_g(4)}catch{}}function B1e(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(i0(t)){for(var e=[],r=t.length,o=0;o<r;o++)e.push(t[o]);return e}e=[],r=0;for(o in t)e[r++]=t[o];return e}function z1e(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(i0(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const o in t)e[r++]=o;return e}}}function k9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(i0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=z1e(t),o=B1e(t),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],r&&r[u],t)}var v9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F1e(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var o=t[r].indexOf("="),a=null;if(0<=o){var u=t[r].substring(0,o);a=t[r].substring(o+1)}else u=t[r];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function Fu(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fu){this.h=e!==void 0?e:t.h,gy(this,t.j),this.s=t.s,this.g=t.g,by(this,t.m),this.l=t.l,e=t.i;var r=new Ag;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),ej(this,r),this.o=t.o}else t&&(r=String(t).match(v9))?(this.h=!!e,gy(this,r[1]||"",!0),this.s=um(r[2]||""),this.g=um(r[3]||"",!0),by(this,r[4]),this.l=um(r[5]||"",!0),ej(this,r[6]||"",!0),this.o=um(r[7]||"")):(this.h=!!e,this.i=new Ag(null,this.h))}Fu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dm(e,tj,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dm(e,tj,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(dm(r,r.charAt(0)=="/"?U1e:V1e,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",dm(r,H1e)),t.join("")};function Ua(t){return new Fu(t)}function gy(t,e,r){t.j=r?um(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function by(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ej(t,e,r){e instanceof Ag?(t.i=e,q1e(t.i,t.h)):(r||(e=dm(e,$1e)),t.i=new Ag(e,t.h))}function Pn(t,e,r){t.i.set(e,r)}function p0(t){return Pn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function um(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dm(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,j1e),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function j1e(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tj=/[#\/\?@]/g,V1e=/[#\?:]/g,U1e=/[#\?]/g,$1e=/[#\?@]/g,H1e=/#/g;function Ag(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _l(t){t.g||(t.g=new Map,t.h=0,t.i&&F1e(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}Qe=Ag.prototype;Qe.add=function(t,e){_l(this),this.i=null,t=Pf(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function y9(t,e){_l(t),e=Pf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _9(t,e){return _l(t),e=Pf(t,e),t.g.has(e)}Qe.forEach=function(t,e){_l(this),this.g.forEach(function(r,o){r.forEach(function(a){t.call(e,a,o,this)},this)},this)};Qe.oa=function(){_l(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let o=0;o<e.length;o++){const a=t[o];for(let u=0;u<a.length;u++)r.push(e[o])}return r};Qe.W=function(t){_l(this);let e=[];if(typeof t=="string")_9(this,t)&&(e=e.concat(this.g.get(Pf(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};Qe.set=function(t,e){return _l(this),this.i=null,t=Pf(this,t),_9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Qe.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function A9(t,e,r){y9(t,e),0<r.length&&(t.i=null,t.g.set(Pf(t,e),GP(r)),t.h+=r.length)}Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var o=e[r];const u=encodeURIComponent(String(o)),h=this.W(o);for(o=0;o<h.length;o++){var a=u;h[o]!==""&&(a+="="+encodeURIComponent(String(h[o]))),t.push(a)}}return this.i=t.join("&")};function Pf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q1e(t,e){e&&!t.j&&(_l(t),t.i=null,t.g.forEach(function(r,o){var a=o.toLowerCase();o!=a&&(y9(this,o),A9(this,a,r))},t)),t.j=e}var W1e=class{constructor(e,r){this.h=e,this.g=r}};function C9(t){this.l=t||G1e,ut.PerformanceNavigationTiming?(t=ut.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ut.g&&ut.g.Ga&&ut.g.Ga()&&ut.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var G1e=10;function E9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function x9(t){return t.h?1:t.g?t.g.size:0}function oI(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sM(t,e){t.g?t.g.add(e):t.h=e}function S9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}C9.prototype.cancel=function(){if(this.i=T9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function T9(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return GP(t.i)}function aM(){}aM.prototype.stringify=function(t){return ut.JSON.stringify(t,void 0)};aM.prototype.parse=function(t){return ut.JSON.parse(t,void 0)};function K1e(){this.g=new aM}function Y1e(t,e,r){const o=r||"";try{k9(t,function(a,u){let h=a;cb(a)&&(h=eM(a)),e.push(o+u+"="+encodeURIComponent(h))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function Q1e(t,e){const r=new l0;if(ut.Image){const o=new Image;o.onload=xk(Tk,r,o,"TestLoadImage: loaded",!0,e),o.onerror=xk(Tk,r,o,"TestLoadImage: error",!1,e),o.onabort=xk(Tk,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=xk(Tk,r,o,"TestLoadImage: timeout",!1,e),ut.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else e(!1)}function Tk(t,e,r,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function pb(t){this.l=t.ac||null,this.j=t.jb||!1}si(pb,rM);pb.prototype.g=function(){return new m0(this.l,this.j)};pb.prototype.i=function(t){return function(){return t}}({});function m0(t,e){zr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=cM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}si(m0,zr);var cM=0;Qe=m0.prototype;Qe.open=function(t,e){if(this.readyState!=cM)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cg(this)};Qe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ut).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mb(this)),this.readyState=cM};Qe.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cg(this)),this.g&&(this.readyState=3,Cg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ut.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I9(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function I9(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Qe.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mb(this):Cg(this),this.readyState==3&&I9(this)}};Qe.Va=function(t){this.g&&(this.response=this.responseText=t,mb(this))};Qe.Ua=function(t){this.g&&(this.response=t,mb(this))};Qe.ga=function(){this.g&&mb(this)};function mb(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cg(t)}Qe.setRequestHeader=function(t,e){this.v.append(t,e)};Qe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Qe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Cg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(m0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Z1e=ut.JSON.parse;function er(t){zr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=D9,this.K=this.L=!1}si(er,zr);var D9="",J1e=/^https?$/i,X1e=["POST","PUT"];Qe=er.prototype;Qe.Ka=function(t){this.L=t};Qe.da=function(t,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tI.g(),this.C=this.u?X3(this.u):X3(tI),this.g.onreadystatechange=gi(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){nj(this,u);return}if(t=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)r.set(a,o[a]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const u of o.keys())r.set(u,o.get(u));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(u=>u.toLowerCase()=="content-type"),a=ut.FormData&&t instanceof ut.FormData,!(0<=W8(X1e,e))||o||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of r)this.g.setRequestHeader(u,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{N9(this),0<this.B&&((this.K=eEe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.qa,this)):this.A=nM(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){nj(this,u)}};function eEe(t){return of&&b1e()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Qe.qa=function(){typeof WP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))};function nj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,P9(t),g0(t)}function P9(t){t.D||(t.D=!0,ni(t,"complete"),ni(t,"error"))}Qe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ni(this,"complete"),ni(this,"abort"),g0(this))};Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),g0(this,!0)),er.X.M.call(this)};Qe.Ha=function(){this.s||(this.F||this.v||this.l?M9(this):this.fb())};Qe.fb=function(){M9(this)};function M9(t){if(t.h&&typeof WP<"u"&&(!t.C[1]||Ea(t)!=4||t.aa()!=2)){if(t.v&&Ea(t)==4)nM(t.Ha,0,t);else if(ni(t,"readystatechange"),Ea(t)==4){t.h=!1;try{const p=t.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=p===0){var a=String(t.H).match(v9)[1]||null;if(!a&&ut.self&&ut.self.location){var u=ut.self.location.protocol;a=u.substr(0,u.length-1)}o=!J1e.test(a?a.toLowerCase():"")}r=o}if(r)ni(t,"complete"),ni(t,"success");else{t.m=6;try{var h=2<Ea(t)?t.g.statusText:""}catch{h=""}t.j=h+" ["+t.aa()+"]",P9(t)}}finally{g0(t)}}}}function g0(t,e){if(t.g){N9(t);const r=t.g,o=t.C[0]?hy:null;t.g=null,t.C=null,e||ni(t,"ready");try{r.onreadystatechange=o}catch{}}}function N9(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ut.clearTimeout(t.A),t.A=null)}function Ea(t){return t.g?t.g.readyState:0}Qe.aa=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}};Qe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Qe.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Z1e(e)}};function rj(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case D9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Qe.Ea=function(){return this.m};Qe.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function R9(t){let e="";return YP(t,function(r,o){e+=o,e+=":",e+=r,e+=`\r
`}),e}function lM(t,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=R9(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):Pn(t,e,r))}function Hp(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function O9(t){this.Ca=0,this.i=[],this.j=new l0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Hp("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Hp("baseRetryDelayMs",5e3,t),this.bb=Hp("retryDelaySeedMs",1e4,t),this.$a=Hp("forwardChannelMaxRetries",2,t),this.ta=Hp("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new C9(t&&t.concurrentRequestLimit),this.Fa=new K1e,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Qe=O9.prototype;Qe.ma=8;Qe.G=1;function uM(t){if(L9(t),t.G==3){var e=t.U++,r=Ua(t.F);Pn(r,"SID",t.I),Pn(r,"RID",e),Pn(r,"TYPE","terminate"),gb(t,r),e=new hb(t,t.j,e,void 0),e.K=2,e.v=p0(Ua(r)),r=!1,ut.navigator&&ut.navigator.sendBeacon&&(r=ut.navigator.sendBeacon(e.v.toString(),"")),!r&&ut.Image&&(new Image().src=e.v,r=!0),r||(e.g=H9(e.l,null),e.g.da(e.v)),e.F=Date.now(),fb(e)}U9(t)}function b0(t){t.g&&(hM(t),t.g.cancel(),t.g=null)}function L9(t){b0(t),t.u&&(ut.clearTimeout(t.u),t.u=null),wy(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ut.clearTimeout(t.m),t.m=null)}function w0(t){E9(t.h)||t.m||(t.m=!0,i9(t.Ja,t),t.C=0)}function tEe(t,e){return x9(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ub(gi(t.Ja,t,e),V9(t,t.C)),t.C++,!0)}Qe.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const a=new hb(this,this.j,t,void 0);let u=this.s;if(this.S&&(u?(u=Q8(u),Z8(u,this.S)):u=this.S),this.o!==null||this.N||(a.H=u,u=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){t:{var o=this.i[r];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(e+=o,4096<e){e=r;break e}if(e===4096||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=B9(this,a,e),r=Ua(this.F),Pn(r,"RID",t),Pn(r,"CVER",22),this.D&&Pn(r,"X-HTTP-Session-Id",this.D),gb(this,r),u&&(this.N?e="headers="+encodeURIComponent(String(R9(u)))+"&"+e:this.o&&lM(r,this.o,u)),sM(this.h,a),this.Ya&&Pn(r,"TYPE","init"),this.O?(Pn(r,"$req",e),Pn(r,"SID","null"),a.Z=!0,rI(a,r,null)):rI(a,r,e),this.G=2}}else this.G==3&&(t?ij(this,t):this.i.length==0||E9(this.h)||ij(this))};function ij(t,e){var r;e?r=e.m:r=t.U++;const o=Ua(t.F);Pn(o,"SID",t.I),Pn(o,"RID",r),Pn(o,"AID",t.T),gb(t,o),t.o&&t.s&&lM(o,t.o,t.s),r=new hb(t,t.j,r,t.C+1),t.o===null&&(r.H=t.s),e&&(t.i=e.D.concat(t.i)),e=B9(t,r,1e3),r.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),sM(t.h,r),rI(r,o,e)}function gb(t,e){t.ia&&YP(t.ia,function(r,o){Pn(e,o,r)}),t.l&&k9({},function(r,o){Pn(e,o,r)})}function B9(t,e,r){r=Math.min(t.i.length,r);var o=t.l?gi(t.l.Ra,t.l,t):null;e:{var a=t.i;let u=-1;for(;;){const h=["count="+r];u==-1?0<r?(u=a[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let p=!0;for(let m=0;m<r;m++){let b=a[m].h;const k=a[m].g;if(b-=u,0>b)u=Math.max(0,a[m].h-100),p=!1;else try{Y1e(k,h,"req"+b+"_")}catch{o&&o(k)}}if(p){o=h.join("&");break e}}}return t=t.i.splice(0,r),e.D=t,o}function z9(t){t.g||t.u||(t.Z=1,i9(t.Ia,t),t.A=0)}function dM(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ub(gi(t.Ia,t),V9(t,t.A)),t.A++,!0)}Qe.Ia=function(){if(this.u=null,F9(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ub(gi(this.eb,this),t)}};Qe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Di(10),b0(this),F9(this))};function hM(t){t.B!=null&&(ut.clearTimeout(t.B),t.B=null)}function F9(t){t.g=new hb(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ua(t.sa);Pn(e,"RID","rpc"),Pn(e,"SID",t.I),Pn(e,"CI",t.L?"0":"1"),Pn(e,"AID",t.T),Pn(e,"TYPE","xmlhttp"),gb(t,e),t.o&&t.s&&lM(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var r=t.g;t=t.ka,r.K=1,r.v=p0(Ua(e)),r.s=null,r.P=!0,m9(r,t)}Qe.cb=function(){this.v!=null&&(this.v=null,b0(this),dM(this),Di(19))};function wy(t){t.v!=null&&(ut.clearTimeout(t.v),t.v=null)}function j9(t,e){var r=null;if(t.g==e){wy(t),hM(t),t.g=null;var o=2}else if(oI(t.h,e))r=e.D,S9(t.h,e),o=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(o==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var a=t.C;o=u0(),ni(o,new d9(o,r)),w0(t)}else z9(t);else if(a=e.o,a==3||a==0&&0<t.pa||!(o==1&&tEe(t,e)||o==2&&dM(t)))switch(r&&0<r.length&&(e=t.h,e.i=e.i.concat(r)),a){case 1:Eu(t,5);break;case 4:Eu(t,10);break;case 3:Eu(t,6);break;default:Eu(t,2)}}}function V9(t,e){let r=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(r*=2),r*e}function Eu(t,e){if(t.j.info("Error code "+e),e==2){var r=null;t.l&&(r=null);var o=gi(t.kb,t);r||(r=new Fu("//www.google.com/images/cleardot.gif"),ut.location&&ut.location.protocol=="http"||gy(r,"https"),p0(r)),Q1e(r.toString(),o)}else Di(2);t.G=0,t.l&&t.l.va(e),U9(t),L9(t)}Qe.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Di(2)):(this.j.info("Failed to ping google.com"),Di(1))};function U9(t){if(t.G=0,t.la=[],t.l){const e=T9(t.h);(e.length!=0||t.i.length!=0)&&(G3(t.la,e),G3(t.la,t.i),t.h.i.length=0,GP(t.i),t.i.length=0),t.l.ua()}}function $9(t,e,r){var o=r instanceof Fu?Ua(r):new Fu(r,void 0);if(o.g!="")e&&(o.g=e+"."+o.g),by(o,o.m);else{var a=ut.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new Fu(null,void 0);o&&gy(u,o),e&&(u.g=e),a&&by(u,a),r&&(u.l=r),o=u}return r=t.D,e=t.za,r&&e&&Pn(o,r,e),Pn(o,"VER",t.ma),gb(t,o),o}function H9(t,e,r){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Da&&!t.ra?new er(new pb({jb:!0})):new er(t.ra),e.Ka(t.H),e}function q9(){}Qe=q9.prototype;Qe.xa=function(){};Qe.wa=function(){};Qe.va=function(){};Qe.ua=function(){};Qe.Ra=function(){};function ky(){if(of&&!(10<=Number(w1e)))throw Error("Environmental error: no available transport.")}ky.prototype.g=function(t,e){return new po(t,e)};function po(t,e){zr.call(this),this.g=new O9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!fy(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fy(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mf(this)}si(po,zr);po.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,r=this.h||void 0;Di(0),t.V=e,t.ia=r||{},t.L=t.Y,t.F=$9(t,null,t.V),w0(t)};po.prototype.close=function(){uM(this.g)};po.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=eM(t),t=r);e.i.push(new W1e(e.ab++,t)),e.G==3&&w0(e)};po.prototype.M=function(){this.g.l=null,delete this.j,uM(this.g),delete this.g,po.X.M.call(this)};function W9(t){iM.call(this);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}si(W9,iM);function G9(){oM.call(this),this.status=1}si(G9,oM);function Mf(t){this.g=t}si(Mf,q9);Mf.prototype.xa=function(){ni(this.g,"a")};Mf.prototype.wa=function(t){ni(this.g,new W9(t))};Mf.prototype.va=function(t){ni(this.g,new G9)};Mf.prototype.ua=function(){ni(this.g,"b")};ky.prototype.createWebChannel=ky.prototype.g;po.prototype.send=po.prototype.u;po.prototype.open=po.prototype.m;po.prototype.close=po.prototype.close;d0.NO_ERROR=0;d0.TIMEOUT=8;d0.HTTP_ERROR=6;h9.COMPLETE="complete";f9.EventType=db;db.OPEN="a";db.CLOSE="b";db.ERROR="c";db.MESSAGE="d";zr.prototype.listen=zr.prototype.N;er.prototype.listenOnce=er.prototype.O;er.prototype.getLastError=er.prototype.Oa;er.prototype.getLastErrorCode=er.prototype.Ea;er.prototype.getStatus=er.prototype.aa;er.prototype.getResponseJson=er.prototype.Sa;er.prototype.getResponseText=er.prototype.fa;er.prototype.send=er.prototype.da;er.prototype.setWithCredentials=er.prototype.Ka;var nEe=function(){return new ky},rEe=function(){return u0()},Yx=d0,iEe=h9,oEe=md,oj={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},sEe=pb,Ik=f9,aEe=er;const sj="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new W_("@firebase/firestore");function sI(){return nl.logLevel}function cEe(t){nl.setLogLevel(t)}function ge(t,...e){if(nl.logLevel<=Mt.DEBUG){const r=e.map(fM);nl.debug(`Firestore (${Nf}): ${t}`,...r)}}function or(t,...e){if(nl.logLevel<=Mt.ERROR){const r=e.map(fM);nl.error(`Firestore (${Nf}): ${t}`,...r)}}function sf(t,...e){if(nl.logLevel<=Mt.WARN){const r=e.map(fM);nl.warn(`Firestore (${Nf}): ${t}`,...r)}}function fM(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${Nf}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Ze(t,e){t||Ue()}function lEe(t,e){t||Ue()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends mi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Rr.UNAUTHENTICATED))}shutdown(){}}class dEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class hEe{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let o=this.i;const a=m=>this.i!==o?(o=this.i,r(m)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},p=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ze(typeof o.accessToken=="string"),new K9(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Rr(e)}}class fEe{constructor(e,r,o,a){this.h=e,this.l=r,this.m=o,this.g=a,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ze(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class pEe{constructor(e,r,o,a){this.h=e,this.l=r,this.m=o,this.g=a}getToken(){return Promise.resolve(new fEe(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mEe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gEe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const o=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.A;return this.A=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?a(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ze(typeof r.token=="string"),this.A=r.token,new mEe(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<t;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=bEe(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<r&&(o+=e.charAt(a[u]%e.length))}return o}}function pt(t,e){return t<e?-1:t>e?1:0}function af(t,e,r){return t.length===e.length&&t.every((o,a)=>r(o,e[a]))}function Q9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Nn(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Nn(0,0))}static max(){return new Xe(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,r,o){r===void 0?r=0:r>e.length&&Ue(),o===void 0?o=e.length-r:o>e.length-r&&Ue(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Eg.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Eg?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let a=0;a<o;a++){const u=e.get(a),h=r.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dt extends Eg{construct(e,r,o){return new Dt(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const wEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Eg{construct(e,r,o){return new sr(e,r,o)}static isValidIdentifier(e){return wEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const r=[];let o="",a=0;const u=()=>{if(o.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let h=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=m,a+=2}else p==="`"?(h=!h,a++):p!=="."||h?(o+=p,a++):(u(),a++)}if(u(),h)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(r)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Dt.fromString(e))}static fromName(e){return new Ie(Dt.fromString(e).popFirst(5))}static empty(){return new Ie(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,r,o,a){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=a}}function aI(t){return t.fields.find(e=>e.kind===2)}function hu(t){return t.fields.filter(e=>e.kind!==2)}Z9.UNKNOWN_ID=-1;class kEe{constructor(e,r){this.fieldPath=e,this.kind=r}}class vy{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new vy(0,mo.min())}}function J9(t,e){const r=t.toTimestamp().seconds,o=t.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(o===1e9?new Nn(r+1,0):new Nn(r,o));return new mo(a,Ie.empty(),e)}function X9(t){return new mo(t.readTime,t.key,-1)}class mo{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new mo(Xe.min(),Ie.empty(),-1)}static max(){return new mo(Xe.max(),Ie.empty(),-1)}}function pM(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ie.comparator(t.documentKey,e.documentKey),r!==0?r:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==eq)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Q((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(r,u).next(o,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Q?r:Q.resolve(r)}catch(r){return Q.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Q.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Q.reject(r)}static resolve(e){return new Q((r,o)=>{r(e)})}static reject(e){return new Q((r,o)=>{o(e)})}static waitFor(e){return new Q((r,o)=>{let a=0,u=0,h=!1;e.forEach(p=>{++a,p.next(()=>{++u,h&&u===a&&r()},m=>o(m))}),h=!0,u===a&&r()})}static or(e){let r=Q.resolve(!1);for(const o of e)r=r.next(a=>a?Q.resolve(a):o());return r}static forEach(e,r){const o=[];return e.forEach((a,u)=>{o.push(r.call(this,a,u))}),this.waitFor(o)}static mapArray(e,r){return new Q((o,a)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const b=m;r(e[b]).next(k=>{h[b]=k,++p,p===u&&o(h)},k=>a(k))}})}static doWhile(e,r){return new Q((o,a)=>{const u=()=>{e()===!0?r().next(()=>{u()},a):o()};u()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.P=new Lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{r.error?this.P.reject(new Dm(e,r.error)):this.P.resolve()},this.transaction.onerror=o=>{const a=mM(o.target.error);this.P.reject(new Dm(e,a))}}static open(e,r,o,a){try{return new k0(r,e.transaction(a,o))}catch(u){throw new Dm(r,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new yEe(r)}}class cs{constructor(e,r,o){this.name=e,this.version=r,this.S=o,cs.D(Hn())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),mu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!hg())return!1;if(cs.N())return!0;const e=Hn(),r=cs.D(e),o=0<r&&r<10,a=cs.k(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,r){return e.store(r)}static D(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}async F(e){return this.db||(ge("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,o)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=u=>{const h=u.target.result;r(h)},a.onblocked=()=>{o(new Dm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;h.name==="VersionError"?o(new me(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):h.name==="InvalidStateError"?o(new me(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h)):o(new Dm(e,h))},a.onupgradeneeded=u=>{ge("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const h=u.target.result;this.S.$(h,a.transaction,u.oldVersion,this.version).next(()=>{ge("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=r=>this.B(r)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,o,a){const u=r==="readonly";let h=0;for(;;){++h;try{this.db=await this.F(e);const p=k0.open(this.db,e,u?"readonly":"readwrite",o),m=a(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),Q.reject(b))).toPromise();return m.catch(()=>{}),await p.v,m}catch(p){const m=p,b=m.name!=="FirebaseError"&&h<3;if(ge("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),this.close(),!b)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}class vEe{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return mu(this.q.delete())}}class Dm extends me{constructor(e,r){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Cl(t){return t.name==="IndexedDbTransactionError"}class yEe{constructor(e){this.store=e}put(e,r){let o;return r!==void 0?(ge("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),mu(o)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),mu(this.store.add(e))}get(e){return mu(this.store.get(e)).next(r=>(r===void 0&&(r=null),ge("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),mu(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),mu(this.store.count())}W(e,r){const o=this.options(e,r);if(o.index||typeof this.store.getAll!="function"){const a=this.cursor(o),u=[];return this.H(a,(h,p)=>{u.push(p)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Q((u,h)=>{a.onerror=p=>{h(p.target.error)},a.onsuccess=p=>{u(p.target.result)}})}}J(e,r){const o=this.store.getAll(e,r===null?void 0:r);return new Q((a,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{a(h.target.result)}})}Y(e,r){ge("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.X=!1;const a=this.cursor(o);return this.H(a,(u,h,p)=>p.delete())}Z(e,r){let o;r?o=e:(o={},r=e);const a=this.cursor(o);return this.H(a,r)}tt(e){const r=this.cursor({});return new Q((o,a)=>{r.onerror=u=>{const h=mM(u.target.error);a(h)},r.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(p=>{p?h.continue():o()}):o()}})}H(e,r){const o=[];return new Q((a,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const p=h.target.result;if(!p)return void a();const m=new vEe(p),b=r(p.primaryKey,p.value,m);if(b instanceof Q){const k=b.catch(v=>(m.done(),Q.reject(v)));o.push(k)}m.isDone?a():m.G===null?p.continue():p.continue(m.G)}}).next(()=>Q.waitFor(o))}options(e,r){let o;return e!==void 0&&(typeof e=="string"?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function mu(t){return new Q((e,r)=>{t.onsuccess=o=>{const a=o.target.result;e(a)},t.onerror=o=>{const a=mM(o.target.error);r(a)}})}let aj=!1;function mM(t){const e=cs.D(Hn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const o=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aj||(aj=!0,setTimeout(()=>{throw o},0)),o}}return t}class _Ee{constructor(e,r){this.asyncQueue=e,this.et=r,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ge("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(r){Cl(r)?ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):await Al(r)}await this.nt(6e4)})}}class AEe{constructor(e,r){this.localStore=e,this.persistence=r}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.it(r,e))}it(e,r){const o=new Set;let a=r,u=!0;return Q.doWhile(()=>u===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(h!==null&&!o.has(h))return ge("IndexBackiller",`Processing collection: ${h}`),this.rt(e,h,a).next(p=>{a-=p,o.add(h)});u=!1})).next(()=>r-a)}rt(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(a=>this.localStore.localDocuments.getNextDocuments(e,r,a,o).next(u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ot(a,u)).next(p=>(ge("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,r,p))).next(()=>h.size)}))}ot(e,r){let o=e;return r.changes.forEach((a,u)=>{const h=X9(u);pM(h,o)>0&&(o=h)}),new mo(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>r.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Ki.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CEe{constructor(e,r,o,a,u,h,p,m){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=m}}class rl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function nq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){return t==null}function xg(t){return t===0&&1/t==-1/0}function rq(t){return typeof t=="number"&&Number.isInteger(t)&&!xg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EEe(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new kr(r)}static fromUint8Array(e){const r=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new kr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const xEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(Ze(!!t),typeof t=="string"){let e=0;const r=xEe.exec(t);if(Ze(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Jn(t.seconds),nanos:Jn(t.nanos)}}function Jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ju(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function iq(t){const e=t.mapValue.fields.__previous_value__;return gM(e)?iq(e):e}function Sg(t){const e=il(t.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wv={nullValue:"NULL_VALUE"};function Xu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gM(t)?4:oq(t)?9007199254740991:10:Ue()}function ea(t,e){if(t===e)return!0;const r=Xu(t);if(r!==Xu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sg(t).isEqual(Sg(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=il(o.timestampValue),h=il(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Ju(o.bytesValue).isEqual(Ju(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return Jn(o.geoPointValue.latitude)===Jn(a.geoPointValue.latitude)&&Jn(o.geoPointValue.longitude)===Jn(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Jn(o.integerValue)===Jn(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Jn(o.doubleValue),h=Jn(a.doubleValue);return u===h?xg(u)===xg(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return af(t.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(cj(u)!==cj(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!ea(u[p],h[p])))return!1;return!0}(t,e);default:return Ue()}}function Tg(t,e){return(t.values||[]).find(r=>ea(r,e))!==void 0}function ol(t,e){if(t===e)return 0;const r=Xu(t),o=Xu(e);if(r!==o)return pt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Jn(a.integerValue||a.doubleValue),p=Jn(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(t,e);case 3:return lj(t.timestampValue,e.timestampValue);case 4:return lj(Sg(t),Sg(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(a,u){const h=Ju(a),p=Ju(u);return h.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const b=pt(h[m],p[m]);if(b!==0)return b}return pt(h.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=pt(Jn(a.latitude),Jn(u.latitude));return h!==0?h:pt(Jn(a.longitude),Jn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,u){const h=a.values||[],p=u.values||[];for(let m=0;m<h.length&&m<p.length;++m){const b=ol(h[m],p[m]);if(b)return b}return pt(h.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===Lc.mapValue&&u===Lc.mapValue)return 0;if(a===Lc.mapValue)return 1;if(u===Lc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),m=u.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let k=0;k<p.length&&k<b.length;++k){const v=pt(p[k],b[k]);if(v!==0)return v;const _=ol(h[p[k]],m[b[k]]);if(_!==0)return _}return pt(p.length,b.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function lj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const r=il(t),o=il(e),a=pt(r.seconds,o.seconds);return a!==0?a:pt(r.nanos,o.nanos)}function cf(t){return cI(t)}function cI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(o){const a=il(o);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ju(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Ie.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(o){let a="[",u=!0;for(const h of o.values||[])u?u=!1:a+=",",a+=cI(h);return a+"]"}(t.arrayValue):"mapValue"in t?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",h=!0;for(const p of a)h?h=!1:u+=",",u+=`${p}:${cI(o.fields[p])}`;return u+"}"}(t.mapValue):Ue();var e,r}function ed(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lI(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function uj(t){return!!t&&"nullValue"in t}function dj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kv(t){return!!t&&"mapValue"in t}function Pm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gd(t.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Pm(o)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Pm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function oq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function SEe(t){return"nullValue"in t?wv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ed(rl.empty(),Ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ue()}function TEe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ed(rl.empty(),Ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Lc:Ue()}function hj(t,e){const r=ol(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function fj(t,e){const r=ol(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,r){this.position=e,this.inclusive=r}}function pj(t,e,r){let o=0;for(let a=0;a<t.position.length;a++){const u=e[a],h=t.position[a];if(u.field.isKeyField()?o=Ie.comparator(Ie.fromName(h.referenceValue),r.key):o=ol(h,r.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function mj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ea(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{}class Ct extends sq{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new IEe(e,r,o):r==="array-contains"?new MEe(e,o):r==="in"?new hq(e,o):r==="not-in"?new NEe(e,o):r==="array-contains-any"?new REe(e,o):new Ct(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new DEe(e,o):new PEe(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ol(r,this.value)):r!==null&&Xu(this.value)===Xu(r)&&this.matchesComparison(ol(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gt extends sq{constructor(e,r){super(),this.filters=e,this.op=r,this.ht=null}static create(e,r){return new Gt(e,r)}matches(e){return lf(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(r=>r.isInequality());return e!==null?e.field:null}lt(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function lf(t){return t.op==="and"}function uI(t){return t.op==="or"}function bM(t){return aq(t)&&lf(t)}function aq(t){for(const e of t.filters)if(e instanceof Gt)return!1;return!0}function dI(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+cf(t.value);if(bM(t))return t.filters.map(e=>dI(e)).join(",");{const e=t.filters.map(r=>dI(r)).join(",");return`${t.op}(${e})`}}function cq(t,e){return t instanceof Ct?function(r,o){return o instanceof Ct&&r.op===o.op&&r.field.isEqual(o.field)&&ea(r.value,o.value)}(t,e):t instanceof Gt?function(r,o){return o instanceof Gt&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&cq(u,o.filters[h]),!0):!1}(t,e):void Ue()}function lq(t,e){const r=t.filters.concat(e);return Gt.create(r,t.op)}function uq(t){return t instanceof Ct?function(e){return`${e.field.canonicalString()} ${e.op} ${cf(e.value)}`}(t):t instanceof Gt?function(e){return e.op.toString()+" {"+e.getFilters().map(uq).join(" ,")+"}"}(t):"Filter"}class IEe extends Ct{constructor(e,r,o){super(e,r,o),this.key=Ie.fromName(o.referenceValue)}matches(e){const r=Ie.comparator(e.key,this.key);return this.matchesComparison(r)}}class DEe extends Ct{constructor(e,r){super(e,"in",r),this.keys=dq("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class PEe extends Ct{constructor(e,r){super(e,"not-in",r),this.keys=dq("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function dq(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>Ie.fromName(o.referenceValue))}class MEe extends Ct{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ig(r)&&Tg(r.arrayValue,this.value)}}class hq extends Ct{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Tg(this.value.arrayValue,r)}}class NEe extends Ct{constructor(e,r){super(e,"not-in",r)}matches(e){if(Tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Tg(this.value.arrayValue,r)}}class REe extends Ct{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ig(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Tg(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,r="asc"){this.field=e,this.dir=r}}function OEe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r){this.comparator=e,this.root=r||Zr.EMPTY}insert(e,r){return new tr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dk(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dk(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dk(this.root,e,this.comparator,!0)}}class Dk{constructor(e,r,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?o(e.key,r):1,r&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,r,o,a,u){this.key=e,this.value=r,this.color=o??Zr.RED,this.left=a??Zr.EMPTY,this.right=u??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,a,u){return new Zr(e??this.key,r??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,r,o),null):u===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Zr.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(t,e,r,o,a){return this}insert(t,e,r){return new Zr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new gj(this.data.getIterator())}getIteratorFrom(e){return new gj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new on(this.comparator);return r.data=e,r}}class gj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new Yi([])}unionWith(e){let r=new on(sr.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Yi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!kv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pm(r)}setAll(e){let r=sr.emptyPath(),o={},a=[];e.forEach((h,p)=>{if(!r.isImmediateParentOf(p)){const m=this.getFieldsMap(r);this.applyChanges(m,o,a),o={},a=[],r=p.popLast()}h?o[p.lastSegment()]=Pm(h):a.push(p.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,o,a)}delete(e){const r=this.field(e.popLast());kv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=r.mapValue.fields[e.get(o)];kv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,o){gd(r,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new Xr(Pm(this.value))}}function fq(t){const e=[];return gd(t.fields,(r,o)=>{const a=new sr([r]);if(kv(o)){const u=fq(o.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r,o,a,u,h,p){this.key=e,this.documentType=r,this.version=o,this.readTime=a,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new yn(e,0,Xe.min(),Xe.min(),Xe.min(),Xr.empty(),0)}static newFoundDocument(e,r,o,a){return new yn(e,1,r,Xe.min(),o,a,0)}static newNoDocument(e,r){return new yn(e,2,r,Xe.min(),Xe.min(),Xr.empty(),0)}static newUnknownDocument(e,r){return new yn(e,3,r,Xe.min(),Xe.min(),Xr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe{constructor(e,r=null,o=[],a=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=h,this.endAt=p,this.ft=null}}function hI(t,e=null,r=[],o=[],a=null,u=null,h=null){return new LEe(t,e,r,o,a,u,h)}function td(t){const e=Ne(t);if(e.ft===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>dI(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(a){return a.field.canonicalString()+a.dir}(o)).join(","),bb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>cf(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>cf(o)).join(",")),e.ft=r}return e.ft}function wb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!OEe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!cq(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mj(t.startAt,e.startAt)&&mj(t.endAt,e.endAt)}function yy(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _y(t,e){return t.filters.filter(r=>r instanceof Ct&&r.field.isEqual(e))}function bj(t,e,r){let o=wv,a=!0;for(const u of _y(t,e)){let h=wv,p=!0;switch(u.op){case"<":case"<=":h=SEe(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,p=!1;break;case"!=":case"not-in":h=wv}hj({value:o,inclusive:a},{value:h,inclusive:p})<0&&(o=h,a=p)}if(r!==null){for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const h=r.position[u];hj({value:o,inclusive:a},{value:h,inclusive:r.inclusive})<0&&(o=h,a=r.inclusive);break}}return{value:o,inclusive:a}}function wj(t,e,r){let o=Lc,a=!0;for(const u of _y(t,e)){let h=Lc,p=!0;switch(u.op){case">=":case">":h=TEe(u.value),p=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,p=!1;break;case"!=":case"not-in":h=Lc}fj({value:o,inclusive:a},{value:h,inclusive:p})>0&&(o=h,a=p)}if(r!==null){for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const h=r.position[u];fj({value:o,inclusive:a},{value:h,inclusive:r.inclusive})>0&&(o=h,a=r.inclusive);break}}return{value:o,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,r=null,o=[],a=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.dt=null,this._t=null,this.startAt,this.endAt}}function pq(t,e,r,o,a,u,h,p){return new Za(t,e,r,o,a,u,h,p)}function Rf(t){return new Za(t)}function kj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function v0(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function kM(t){return t.collectionGroup!==null}function ju(t){const e=Ne(t);if(e.dt===null){e.dt=[];const r=v0(e),o=wM(e);if(r!==null&&o===null)r.isKeyField()||e.dt.push(new jh(r)),e.dt.push(new jh(sr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new jh(sr.keyField(),u))}}}return e.dt}function eo(t){const e=Ne(t);if(!e._t)if(e.limitType==="F")e._t=hI(e.path,e.collectionGroup,ju(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const u of ju(e)){const h=u.dir==="desc"?"asc":"desc";r.push(new jh(u.field,h))}const o=e.endAt?new sl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new sl(e.startAt.position,e.startAt.inclusive):null;e._t=hI(e.path,e.collectionGroup,r,e.filters,e.limit,o,a)}return e._t}function fI(t,e){e.getFirstInequalityField(),v0(t);const r=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ay(t,e,r){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function kb(t,e){return wb(eo(t),eo(e))&&t.limitType===e.limitType}function mq(t){return`${td(eo(t))}|lt:${t.limitType}`}function pI(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>uq(o)).join(", ")}]`),bb(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>cf(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>cf(o)).join(",")),`Target(${r})`}(eo(t))}; limitType=${t.limitType})`}function vM(t,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,o){for(const a of ju(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(a,u,h){const p=pj(a,u,h);return a.inclusive?p<=0:p<0}(r.startAt,ju(r),o)||r.endAt&&!function(a,u,h){const p=pj(a,u,h);return a.inclusive?p>=0:p>0}(r.endAt,ju(r),o))}(t,e)}function gq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bq(t){return(e,r)=>{let o=!1;for(const a of ju(t)){const u=BEe(a,e,r);if(u!==0)return u;o=o||a.field.isKeyField()}return 0}}function BEe(t,e,r){const o=t.field.isKeyField()?Ie.comparator(e.key,r.key):function(a,u,h){const p=u.data.field(a),m=h.data.field(a);return p!==null&&m!==null?ol(p,m):Ue()}(t.field,e,r);switch(t.dir){case"asc":return o;case"desc":return-1*o;default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(e)?"-0":e}}function kq(t){return{integerValue:""+t}}function vq(t,e){return rq(e)?kq(e):wq(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this._=void 0}}function zEe(t,e,r){return t instanceof uf?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(u.fields.__previous_value__=a),{mapValue:u}}(r,e):t instanceof nd?_q(t,e):t instanceof rd?Aq(t,e):function(o,a){const u=yq(o,a),h=vj(u)+vj(o.gt);return lI(u)&&lI(o.gt)?kq(h):wq(o.yt,h)}(t,e)}function FEe(t,e,r){return t instanceof nd?_q(t,e):t instanceof rd?Aq(t,e):r}function yq(t,e){return t instanceof df?lI(r=e)||function(o){return!!o&&"doubleValue"in o}(r)?e:{integerValue:0}:null;var r}class uf extends y0{}class nd extends y0{constructor(e){super(),this.elements=e}}function _q(t,e){const r=Cq(e);for(const o of t.elements)r.some(a=>ea(a,o))||r.push(o);return{arrayValue:{values:r}}}class rd extends y0{constructor(e){super(),this.elements=e}}function Aq(t,e){let r=Cq(e);for(const o of t.elements)r=r.filter(a=>!ea(a,o));return{arrayValue:{values:r}}}class df extends y0{constructor(e,r){super(),this.yt=e,this.gt=r}}function vj(t){return Jn(t.integerValue||t.doubleValue)}function Cq(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,r){this.field=e,this.transform=r}}function jEe(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof nd&&o instanceof nd||r instanceof rd&&o instanceof rd?af(r.elements,o.elements,ea):r instanceof df&&o instanceof df?ea(r.gt,o.gt):r instanceof uf&&o instanceof uf}(t.transform,e.transform)}class VEe{constructor(e,r){this.version=e,this.transformResults=r}}class Mn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _0{}function Eq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lf(t.key,Mn.none()):new Of(t.key,t.data,Mn.none());{const r=t.data,o=Xr.empty();let a=new on(sr.comparator);for(let u of e.fields)if(!a.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?o.delete(u):o.set(u,h),a=a.add(u)}return new Ja(t.key,o,new Yi(a.toArray()),Mn.none())}}function UEe(t,e,r){t instanceof Of?function(o,a,u){const h=o.value.clone(),p=_j(o.fieldTransforms,a,u.transformResults);h.setAll(p),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,r):t instanceof Ja?function(o,a,u){if(!vv(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=_j(o.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(xq(o)),p.setAll(h),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(t,e,r):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,r)}function Mm(t,e,r,o){return t instanceof Of?function(a,u,h,p){if(!vv(a.precondition,u))return h;const m=a.value.clone(),b=Aj(a.fieldTransforms,p,u);return m.setAll(b),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,r,o):t instanceof Ja?function(a,u,h,p){if(!vv(a.precondition,u))return h;const m=Aj(a.fieldTransforms,p,u),b=u.data;return b.setAll(xq(a)),b.setAll(m),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(k=>k.field))}(t,e,r,o):function(a,u,h){return vv(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,r)}function $Ee(t,e){let r=null;for(const o of t.fieldTransforms){const a=e.data.field(o.field),u=yq(o.transform,a||null);u!=null&&(r===null&&(r=Xr.empty()),r.set(o.field,u))}return r||null}function yj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&af(r,o,(a,u)=>jEe(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends _0{constructor(e,r,o,a=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ja extends _0{constructor(e,r,o,a,u=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xq(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=t.data.field(r);e.set(r,o)}}),e}function _j(t,e,r){const o=new Map;Ze(t.length===r.length);for(let a=0;a<r.length;a++){const u=t[a],h=u.transform,p=e.data.field(u.field);o.set(u.field,FEe(h,p,r[a]))}return o}function Aj(t,e,r){const o=new Map;for(const a of t){const u=a.transform,h=r.data.field(a.field);o.set(a.field,zEe(u,h,e))}return o}let Lf=class extends _0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};class yM extends _0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HEe{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr,It;function Sq(t){switch(t){default:return Ue();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function Tq(t){if(t===void 0)return or("GRPC error has no .code"),ee.UNKNOWN;switch(t){case lr.OK:return ee.OK;case lr.CANCELLED:return ee.CANCELLED;case lr.UNKNOWN:return ee.UNKNOWN;case lr.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case lr.INTERNAL:return ee.INTERNAL;case lr.UNAVAILABLE:return ee.UNAVAILABLE;case lr.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case lr.NOT_FOUND:return ee.NOT_FOUND;case lr.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case lr.ABORTED:return ee.ABORTED;case lr.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case lr.DATA_LOSS:return ee.DATA_LOSS;default:return Ue()}}(It=lr||(lr={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[a,u]of o)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){gd(this.inner,(r,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return nq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qEe=new tr(Ie.comparator);function Qi(){return qEe}const Iq=new tr(Ie.comparator);function hm(...t){let e=Iq;for(const r of t)e=e.insert(r.key,r);return e}function Dq(t){let e=Iq;return t.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Us(){return Nm()}function Pq(){return Nm()}function Nm(){return new El(t=>t.toString(),(t,e)=>t.isEqual(e))}const WEe=new tr(Ie.comparator),GEe=new on(Ie.comparator);function gt(...t){let e=GEe;for(const r of t)e=e.add(r);return e}const KEe=new on(pt);function A0(){return KEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,r,o,a,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const a=new Map;return a.set(e,_b.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new yb(Xe.min(),a,A0(),Qi(),gt())}}class _b{constructor(e,r,o,a,u){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new _b(o,r,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,r,o,a){this.It=e,this.removedTargetIds=r,this.key=o,this.Tt=a}}class Mq{constructor(e,r){this.targetId=e,this.Et=r}}class Nq{constructor(e,r,o=kr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=a}}class Cj{constructor(){this.At=0,this.Rt=xj(),this.bt=kr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=gt(),r=gt(),o=gt();return this.Rt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:Ue()}}),new _b(this.bt,this.Pt,e,r,o)}xt(){this.vt=!1,this.Rt=xj()}Nt(e,r){this.vt=!0,this.Rt=this.Rt.insert(e,r)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class YEe{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Qi(),this.qt=Ej(),this.Ut=new on(pt)}Kt(e){for(const r of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt);for(const r of e.removedTargetIds)this.Qt(r,e.key,e.Tt)}jt(e){this.forEachTarget(e,r=>{const o=this.Wt(r);switch(e.state){case 0:this.zt(r)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(r);break;case 3:this.zt(r)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(r)&&(this.Ht(r),o.Dt(e.resumeToken));break;default:Ue()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Bt.forEach((o,a)=>{this.zt(a)&&r(a)})}Jt(e){const r=e.targetId,o=e.Et.count,a=this.Yt(r);if(a){const u=a.target;if(yy(u))if(o===0){const h=new Ie(u.path);this.Qt(r,h,yn.newNoDocument(h,Xe.min()))}else Ze(o===1);else this.Xt(r)!==o&&(this.Ht(r),this.Ut=this.Ut.add(r))}}Zt(e){const r=new Map;this.Bt.forEach((u,h)=>{const p=this.Yt(h);if(p){if(u.current&&yy(p.target)){const m=new Ie(p.target.path);this.Lt.get(m)!==null||this.te(h,m)||this.Qt(h,m,yn.newNoDocument(m,e))}u.St&&(r.set(h,u.Ct()),u.xt())}});let o=gt();this.qt.forEach((u,h)=>{let p=!0;h.forEachWhile(m=>{const b=this.Yt(m);return!b||b.purpose===2||(p=!1,!1)}),p&&(o=o.add(u))}),this.Lt.forEach((u,h)=>h.setReadTime(e));const a=new yb(e,r,this.Ut,this.Lt,o);return this.Lt=Qi(),this.qt=Ej(),this.Ut=new on(pt),a}Gt(e,r){if(!this.zt(e))return;const o=this.te(e,r.key)?2:0;this.Wt(e).Nt(r.key,o),this.Lt=this.Lt.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ee(r.key).add(e))}Qt(e,r,o){if(!this.zt(e))return;const a=this.Wt(e);this.te(e,r)?a.Nt(r,1):a.kt(r),this.qt=this.qt.insert(r,this.ee(r).delete(e)),o&&(this.Lt=this.Lt.insert(r,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const r=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let r=this.Bt.get(e);return r||(r=new Cj,this.Bt.set(e,r)),r}ee(e){let r=this.qt.get(e);return r||(r=new on(pt),this.qt=this.qt.insert(e,r)),r}zt(e){const r=this.Yt(e)!==null;return r||ge("WatchChangeAggregator","Detected inactive target",e),r}Yt(e){const r=this.Bt.get(e);return r&&r.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Cj),this.$t.getRemoteKeysForTarget(e).forEach(r=>{this.Qt(e,r,null)})}te(e,r){return this.$t.getRemoteKeysForTarget(e).has(r)}}function Ej(){return new tr(Ie.comparator)}function xj(){return new tr(Ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QEe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ZEe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),JEe=(()=>({and:"AND",or:"OR"}))();class XEe{constructor(e,r){this.databaseId=e,this.wt=r}}function hf(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rq(t,e){return t.wt?e.toBase64():e.toUint8Array()}function exe(t,e){return hf(t,e.toTimestamp())}function ar(t){return Ze(!!t),Xe.fromTimestamp(function(e){const r=il(e);return new Nn(r.seconds,r.nanos)}(t))}function _M(t,e){return function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Oq(t){const e=Dt.fromString(t);return Ze(Hq(e)),e}function Dg(t,e){return _M(t.databaseId,e.path)}function Ys(t,e){const r=Oq(e);if(r.get(1)!==t.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ie(Bq(r))}function mI(t,e){return _M(t.databaseId,e)}function Lq(t){const e=Oq(t);return e.length===4?Dt.emptyPath():Bq(e)}function Pg(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bq(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sj(t,e,r){return{name:Dg(t,e),fields:r.value.mapValue.fields}}function zq(t,e,r){const o=Ys(t,e.name),a=ar(e.updateTime),u=e.createTime?ar(e.createTime):Xe.min(),h=new Xr({mapValue:{fields:e.fields}}),p=yn.newFoundDocument(o,a,u,h);return r&&p.setHasCommittedMutations(),r?p.setHasCommittedMutations():p}function txe(t,e){return"found"in e?function(r,o){Ze(!!o.found),o.found.name,o.found.updateTime;const a=Ys(r,o.found.name),u=ar(o.found.updateTime),h=o.found.createTime?ar(o.found.createTime):Xe.min(),p=new Xr({mapValue:{fields:o.found.fields}});return yn.newFoundDocument(a,u,h,p)}(t,e):"missing"in e?function(r,o){Ze(!!o.missing),Ze(!!o.readTime);const a=Ys(r,o.missing),u=ar(o.readTime);return yn.newNoDocument(a,u)}(t,e):Ue()}function nxe(t,e){let r;if("targetChange"in e){e.targetChange;const o=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(m,b){return m.wt?(Ze(b===void 0||typeof b=="string"),kr.fromBase64String(b||"")):(Ze(b===void 0||b instanceof Uint8Array),kr.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(m){const b=m.code===void 0?ee.UNKNOWN:Tq(m.code);return new me(b,m.message||"")}(h);r=new Nq(o,a,u,p||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=Ys(t,o.document.name),u=ar(o.document.updateTime),h=o.document.createTime?ar(o.document.createTime):Xe.min(),p=new Xr({mapValue:{fields:o.document.fields}}),m=yn.newFoundDocument(a,u,h,p),b=o.targetIds||[],k=o.removedTargetIds||[];r=new yv(b,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=Ys(t,o.document),u=o.readTime?ar(o.readTime):Xe.min(),h=yn.newNoDocument(a,u),p=o.removedTargetIds||[];r=new yv([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=Ys(t,o.document),u=o.removedTargetIds||[];r=new yv([],u,a,null)}else{if(!("filter"in e))return Ue();{e.filter;const o=e.filter;o.targetId;const a=o.count||0,u=new HEe(a),h=o.targetId;r=new Mq(h,u)}}return r}function Mg(t,e){let r;if(e instanceof Of)r={update:Sj(t,e.key,e.value)};else if(e instanceof Lf)r={delete:Dg(t,e.key)};else if(e instanceof Ja)r={update:Sj(t,e.key,e.data),updateMask:cxe(e.fieldMask)};else{if(!(e instanceof yM))return Ue();r={verify:Dg(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const h=u.transform;if(h instanceof uf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof rd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof df)return{fieldPath:u.field.canonicalString(),increment:h.gt};throw Ue()}(0,o))),e.precondition.isNone||(r.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:exe(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(t,e.precondition)),r}function gI(t,e){const r=e.currentDocument?function(a){return a.updateTime!==void 0?Mn.updateTime(ar(a.updateTime)):a.exists!==void 0?Mn.exists(a.exists):Mn.none()}(e.currentDocument):Mn.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,h){let p=null;if("setToServerValue"in h)Ze(h.setToServerValue==="REQUEST_TIME"),p=new uf;else if("appendMissingElements"in h){const b=h.appendMissingElements.values||[];p=new nd(b)}else if("removeAllFromArray"in h){const b=h.removeAllFromArray.values||[];p=new rd(b)}else"increment"in h?p=new df(u,h.increment):Ue();const m=sr.fromServerFormat(h.fieldPath);return new vb(m,p)}(t,a)):[];if(e.update){e.update.name;const a=Ys(t,e.update.name),u=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=function(p){const m=p.fieldPaths||[];return new Yi(m.map(b=>sr.fromServerFormat(b)))}(e.updateMask);return new Ja(a,u,h,r,o)}return new Of(a,u,r,o)}if(e.delete){const a=Ys(t,e.delete);return new Lf(a,r)}if(e.verify){const a=Ys(t,e.verify);return new yM(a,r)}return Ue()}function rxe(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(r=>function(o,a){let u=o.updateTime?ar(o.updateTime):ar(a);return u.isEqual(Xe.min())&&(u=ar(a)),new VEe(u,o.transformResults||[])}(r,e))):[]}function Fq(t,e){return{documents:[mI(t,e.path)]}}function jq(t,e){const r={structuredQuery:{}},o=e.path;e.collectionGroup!==null?(r.parent=mI(t,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=mI(t,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(m){if(m.length!==0)return $q(Gt.create(m,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(b=>function(k){return{field:oh(k.field),direction:oxe(k.dir)}}(b))}(e.orderBy);u&&(r.structuredQuery.orderBy=u);const h=function(m,b){return m.wt||bb(b)?b:{value:b}}(t,e.limit);var p;return h!==null&&(r.structuredQuery.limit=h),e.startAt&&(r.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(r.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),r}function Vq(t){let e=Lq(t.parent);const r=t.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ze(o===1);const k=r.from[0];k.allDescendants?a=k.collectionId:e=e.child(k.collectionId)}let u=[];r.where&&(u=function(k){const v=Uq(k);return v instanceof Gt&&bM(v)?v.getFilters():[v]}(r.where));let h=[];r.orderBy&&(h=r.orderBy.map(k=>function(v){return new jh(sh(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(k)));let p=null;r.limit&&(p=function(k){let v;return v=typeof k=="object"?k.value:k,bb(v)?null:v}(r.limit));let m=null;r.startAt&&(m=function(k){const v=!!k.before,_=k.values||[];return new sl(_,v)}(r.startAt));let b=null;return r.endAt&&(b=function(k){const v=!k.before,_=k.values||[];return new sl(_,v)}(r.endAt)),pq(e,a,h,u,p,"F",m,b)}function ixe(t,e){const r=function(o,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ue()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function Uq(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=sh(e.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=sh(e.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sh(e.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sh(e.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(e){return Ct.create(sh(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Gt.create(e.compositeFilter.filters.map(r=>Uq(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ue()}}(e.compositeFilter.op))}(t):Ue()}function oxe(t){return QEe[t]}function sxe(t){return ZEe[t]}function axe(t){return JEe[t]}function oh(t){return{fieldPath:t.canonicalString()}}function sh(t){return sr.fromServerFormat(t.fieldPath)}function $q(t){return t instanceof Ct?function(e){if(e.op==="=="){if(dj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(uj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(uj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:sxe(e.op),value:e.value}}}(t):t instanceof Gt?function(e){const r=e.getFilters().map(o=>$q(o));return r.length===1?r[0]:{compositeFilter:{op:axe(e.op),filters:r}}}(t):Ue()}function cxe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Hq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Tj(e)),e=lxe(t.get(r),e);return Tj(e)}function lxe(t,e){let r=e;const o=t.length;for(let a=0;a<o;a++){const u=t.charAt(a);switch(u){case"\0":r+="";break;case"":r+="";break;default:r+=u}}return r}function Tj(t){return t+""}function $s(t){const e=t.length;if(Ze(e>=2),e===2)return Ze(t.charAt(0)===""&&t.charAt(1)===""),Dt.emptyPath();const r=e-2,o=[];let a="";for(let u=0;u<e;){const h=t.indexOf("",u);switch((h<0||h>r)&&Ue(),t.charAt(h+1)){case"":const p=t.substring(u,h);let m;a.length===0?m=p:(a+=p,m=a,a=""),o.push(m);break;case"":a+=t.substring(u,h),a+="\0";break;case"":a+=t.substring(u,h+1);break;default:Ue()}u=h+2}return new Dt(o)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){return[t,Mi(e)]}function qq(t,e,r){return[t,Mi(e),r]}const uxe={},dxe=["prefixPath","collectionGroup","readTime","documentId"],hxe=["prefixPath","collectionGroup","documentId"],fxe=["collectionGroup","readTime","prefixPath","documentId"],pxe=["canonicalId","targetId"],mxe=["targetId","path"],gxe=["path","targetId"],bxe=["collectionId","parent"],wxe=["indexId","uid"],kxe=["uid","sequenceNumber"],vxe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yxe=["indexId","uid","orderedDocumentKey"],_xe=["userId","collectionPath","documentId"],Axe=["userId","collectionPath","largestBatchId"],Cxe=["userId","collectionGroup","largestBatchId"],Wq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Exe=[...Wq,"documentOverlays"],Gq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Kq=Gq,xxe=[...Kq,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI extends tq{constructor(e,r){super(),this.se=e,this.currentSequenceNumber=r}}function Vr(t,e){const r=Ne(t);return cs.M(r.se,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,r,o,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&UEe(u,e,o[a])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Mm(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Mm(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Pq();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=r.has(a.key)?null:p;const m=Eq(h,p);m!==null&&o.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(Xe.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),gt())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,(r,o)=>yj(r,o))&&af(this.baseMutations,e.baseMutations,(r,o)=>yj(r,o))}}class CM{constructor(e,r,o,a){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(e,r,o){Ze(e.mutations.length===o.length);let a=WEe;const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,o[h].version);return new CM(e,r,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r,o,a,u=Xe.min(),h=Xe.min(),p=kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new Gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.ie=e}}function Sxe(t,e){let r;if(e.document)r=zq(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ie.fromSegments(e.noDocument.path),a=od(e.noDocument.readTime);r=yn.newNoDocument(o,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ue();{const o=Ie.fromSegments(e.unknownDocument.path),a=od(e.unknownDocument.version);r=yn.newUnknownDocument(o,a)}}return e.readTime&&r.setReadTime(function(o){const a=new Nn(o[0],o[1]);return Xe.fromTimestamp(a)}(e.readTime)),r}function Dj(t,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Cy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document=function(a,u){return{name:Dg(a,u.key),fields:u.data.value.mapValue.fields,updateTime:hf(a,u.version.toTimestamp()),createTime:hf(a,u.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:id(e.version)};else{if(!e.isUnknownDocument())return Ue();o.unknownDocument={path:r.path.toArray(),version:id(e.version)}}return o}function Cy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function id(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function od(t){const e=new Nn(t.seconds,t.nanoseconds);return Xe.fromTimestamp(e)}function gu(t,e){const r=(e.baseMutations||[]).map(u=>gI(t.ie,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];if(u+1<e.mutations.length&&e.mutations[u+1].transform!==void 0){const p=e.mutations[u+1];h.updateTransforms=p.transform.fieldTransforms,e.mutations.splice(u+1,1),++u}}const o=e.mutations.map(u=>gI(t.ie,u)),a=Nn.fromMillis(e.localWriteTimeMs);return new AM(e.batchId,a,r,o)}function fm(t){const e=od(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?od(t.lastLimboFreeSnapshotVersion):Xe.min();let o;var a;return t.query.documents!==void 0?(Ze((a=t.query).documents.length===1),o=eo(Rf(Lq(a.documents[0])))):o=function(u){return eo(Vq(u))}(t.query),new Gc(o,t.targetId,0,t.lastListenSequenceNumber,e,r,kr.fromBase64String(t.resumeToken))}function Qq(t,e){const r=id(e.snapshotVersion),o=id(e.lastLimboFreeSnapshotVersion);let a;a=yy(e.target)?Fq(t.ie,e.target):jq(t.ie,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:td(e.target),readTime:r,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function xM(t){const e=Vq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ay(e,e.limit,"L"):e}function Qx(t,e){return new EM(e.largestBatchId,gI(t.ie,e.overlayMutation))}function Pj(t,e){const r=e.path.lastSegment();return[t,Mi(e.path.popLast()),r]}function Mj(t,e,r,o){return{indexId:t,uid:e.uid||"",sequenceNumber:r,readTime:id(o.readTime),documentKey:Mi(o.documentKey.path),largestBatchId:o.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{getBundleMetadata(e,r){return Nj(e).get(r).next(o=>{if(o)return{id:(a=o).bundleId,createTime:od(a.createTime),version:a.version};var a})}saveBundleMetadata(e,r){return Nj(e).put({bundleId:(o=r).id,createTime:id(ar(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Rj(e).get(r).next(o=>{if(o)return{name:(a=o).name,query:xM(a.bundledQuery),readTime:od(a.readTime)};var a})}saveNamedQuery(e,r){return Rj(e).put(function(o){return{name:o.name,readTime:id(ar(o.readTime)),bundledQuery:o.bundledQuery}}(r))}}function Nj(t){return Vr(t,"bundles")}function Rj(t){return Vr(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r){this.yt=e,this.userId=r}static re(e,r){const o=r.uid||"";return new C0(e,o)}getOverlay(e,r){return qp(e).get(Pj(this.userId,r)).next(o=>o?Qx(this.yt,o):null)}getOverlays(e,r){const o=Us();return Q.forEach(r,a=>this.getOverlay(e,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(e,r,o){const a=[];return o.forEach((u,h)=>{const p=new EM(r,h);a.push(this.oe(e,p))}),Q.waitFor(a)}removeOverlaysForBatchId(e,r,o){const a=new Set;r.forEach(h=>a.add(Mi(h.getCollectionPath())));const u=[];return a.forEach(h=>{const p=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,o+1],!1,!0);u.push(qp(e).Y("collectionPathOverlayIndex",p))}),Q.waitFor(u)}getOverlaysForCollection(e,r,o){const a=Us(),u=Mi(r),h=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qp(e).W("collectionPathOverlayIndex",h).next(p=>{for(const m of p){const b=Qx(this.yt,m);a.set(b.getKey(),b)}return a})}getOverlaysForCollectionGroup(e,r,o,a){const u=Us();let h;const p=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qp(e).Z({index:"collectionGroupOverlayIndex",range:p},(m,b,k)=>{const v=Qx(this.yt,b);u.size()<a||v.largestBatchId===h?(u.set(v.getKey(),v),h=v.largestBatchId):k.done()}).next(()=>u)}oe(e,r){return qp(e).put(function(o,a,u){const[h,p,m]=Pj(a,u.mutation.key);return{userId:a,collectionPath:p,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Mg(o.ie,u.mutation)}}(this.yt,this.userId,r))}}function qp(t){return Vr(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){}ue(e,r){this.ce(e,r),r.ae()}ce(e,r){if("nullValue"in e)this.he(r,5);else if("booleanValue"in e)this.he(r,10),r.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(r,15),r.le(Jn(e.integerValue));else if("doubleValue"in e){const o=Jn(e.doubleValue);isNaN(o)?this.he(r,13):(this.he(r,15),xg(o)?r.le(0):r.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(r,20),typeof o=="string"?r.fe(o):(r.fe(`${o.seconds||""}`),r.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,r),this._e(r);else if("bytesValue"in e)this.he(r,30),r.we(Ju(e.bytesValue)),this._e(r);else if("referenceValue"in e)this.me(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(r,45),r.le(o.latitude||0),r.le(o.longitude||0)}else"mapValue"in e?oq(e)?this.he(r,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,r),this._e(r)):"arrayValue"in e?(this.ye(e.arrayValue,r),this._e(r)):Ue()}de(e,r){this.he(r,25),this.pe(e,r)}pe(e,r){r.fe(e)}ge(e,r){const o=e.fields||{};this.he(r,55);for(const a of Object.keys(o))this.de(a,r),this.ce(o[a],r)}ye(e,r){const o=e.values||[];this.he(r,50);for(const a of o)this.ce(a,r)}me(e,r){this.he(r,37),Ie.fromName(e).path.forEach(o=>{this.he(r,60),this.pe(o,r)})}he(e,r){e.le(r)}_e(e){e.le(2)}}bu.Ie=new bu;function Ixe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Oj(t){const e=64-function(r){let o=0;for(let a=0;a<8;++a){const u=Ixe(255&r[a]);if(o+=u,u!==8)break}return o}(t);return Math.ceil(e/8)}class Dxe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ee(o.value),o=r.next();this.Ae()}Re(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.be(o.value),o=r.next();this.Pe()}ve(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(r<"\uD800"||"\uDBFF"<r)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}this.Ae()}Ve(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(r<"\uD800"||"\uDBFF"<r)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Pe()}Se(e){const r=this.De(e),o=Oj(r);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let a=r.length-o;a<r.length;++a)this.buffer[this.position++]=255&r[a]}xe(e){const r=this.De(e),o=Oj(r);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let a=r.length-o;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const r=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=(128&r[0])!=0;r[0]^=o?255:128;for(let a=1;a<r.length;++a)r[a]^=o?255:0;return r}Ee(e){const r=255&e;r===0?(this.ke(0),this.ke(255)):r===255?(this.ke(255),this.ke(0)):this.ke(r)}be(e){const r=255&e;r===0?(this.Me(0),this.Me(255)):r===255?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class Pxe{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Mxe{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Wp{constructor(){this.$e=new Dxe,this.Be=new Pxe(this.$e),this.Le=new Mxe(this.$e)}seed(e){this.$e.seed(e)}qe(e){return e===0?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,r,o,a){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=a}Ue(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new wu(this.indexId,this.documentKey,this.arrayValue,o)}}function vc(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=Lj(t.arrayValue,e.arrayValue),r!==0?r:(r=Lj(t.directionalValue,e.directionalValue),r!==0?r:Ie.comparator(t.documentKey,e.documentKey)))}function Lj(t,e){for(let r=0;r<t.length&&r<e.length;++r){const o=t[r]-e[r];if(o!==0)return o}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const r of e.filters){const o=r;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){Ze(e.collectionGroup===this.collectionId);const r=aI(e);if(r!==void 0&&!this.We(r))return!1;const o=hu(e);let a=0,u=0;for(;a<o.length&&this.We(o[a]);++a);if(a===o.length)return!0;if(this.Qe!==void 0){const h=o[a];if(!this.ze(this.Qe,h)||!this.He(this.Ke[u++],h))return!1;++a}for(;a<o.length;++a){const h=o[a];if(u>=this.Ke.length||!this.He(this.Ke[u++],h))return!1}return!0}We(e){for(const r of this.Ge)if(this.ze(r,e))return!0;return!1}ze(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const o=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===o}He(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t){var e,r;if(Ze(t instanceof Ct||t instanceof Gt),t instanceof Ct){if(t instanceof hq){const a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(u=>Ct.create(t.field,"==",u)))||[];return Gt.create(a,"or")}return t}const o=t.filters.map(a=>Zq(a));return Gt.create(o,t.op)}function Rxe(t){if(t.getFilters().length===0)return[];const e=vI(Zq(t));return Ze(Jq(e)),wI(e)||kI(e)?[e]:e.getFilters()}function wI(t){return t instanceof Ct}function kI(t){return t instanceof Gt&&bM(t)}function Jq(t){return wI(t)||kI(t)||function(e){if(e instanceof Gt&&uI(e)){for(const r of e.getFilters())if(!wI(r)&&!kI(r))return!1;return!0}return!1}(t)}function vI(t){if(Ze(t instanceof Ct||t instanceof Gt),t instanceof Ct)return t;if(t.filters.length===1)return vI(t.filters[0]);const e=t.filters.map(o=>vI(o));let r=Gt.create(e,t.op);return r=Ey(r),Jq(r)?r:(Ze(r instanceof Gt),Ze(lf(r)),Ze(r.filters.length>1),r.filters.reduce((o,a)=>SM(o,a)))}function SM(t,e){let r;return Ze(t instanceof Ct||t instanceof Gt),Ze(e instanceof Ct||e instanceof Gt),r=t instanceof Ct?e instanceof Ct?function(o,a){return Gt.create([o,a],"and")}(t,e):Bj(t,e):e instanceof Ct?Bj(e,t):function(o,a){if(Ze(o.filters.length>0&&a.filters.length>0),lf(o)&&lf(a))return lq(o,a.getFilters());const u=uI(o)?o:a,h=uI(o)?a:o,p=u.filters.map(m=>SM(m,h));return Gt.create(p,"or")}(t,e),Ey(r)}function Bj(t,e){if(lf(e))return lq(e,t.getFilters());{const r=e.filters.map(o=>SM(t,o));return Gt.create(r,"or")}}function Ey(t){if(Ze(t instanceof Ct||t instanceof Gt),t instanceof Ct)return t;const e=t.getFilters();if(e.length===1)return Ey(e[0]);if(aq(t))return t;const r=e.map(a=>Ey(a)),o=[];return r.forEach(a=>{a instanceof Ct?o.push(a):a instanceof Gt&&(a.op===t.op?o.push(...a.filters):o.push(a))}),o.length===1?o[0]:Gt.create(o,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(){this.Je=new TM}addToCollectionParentIndex(e,r){return this.Je.add(r),Q.resolve()}getCollectionParents(e,r){return Q.resolve(this.Je.getEntries(r))}addFieldIndex(e,r){return Q.resolve()}deleteFieldIndex(e,r){return Q.resolve()}getDocumentsMatchingTarget(e,r){return Q.resolve(null)}getIndexType(e,r){return Q.resolve(0)}getFieldIndexes(e,r){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,r){return Q.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,r){return Q.resolve(mo.min())}updateCollectionGroup(e,r,o){return Q.resolve()}updateIndexEntries(e,r){return Q.resolve()}}class TM{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r]||new on(Dt.comparator),u=!a.has(o);return this.index[r]=a.add(o),u}has(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(e){return(this.index[e]||new on(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Uint8Array(0);class Lxe{constructor(e,r){this.user=e,this.databaseId=r,this.Ye=new TM,this.Xe=new El(o=>td(o),(o,a)=>wb(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Ye.has(r)){const o=r.lastSegment(),a=r.popLast();e.addOnCommittedListener(()=>{this.Ye.add(r)});const u={collectionId:o,parent:Mi(a)};return zj(e).put(u)}return Q.resolve()}getCollectionParents(e,r){const o=[],a=IDBKeyRange.bound([r,""],[Q9(r),""],!1,!0);return zj(e).W(a).next(u=>{for(const h of u){if(h.collectionId!==r)break;o.push($s(h.parent))}return o})}addFieldIndex(e,r){const o=Mk(e),a=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])}}(r);delete a.indexId;const u=o.add(a);if(r.indexState){const h=Kp(e);return u.next(p=>{h.put(Mj(p,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return u.next()}deleteFieldIndex(e,r){const o=Mk(e),a=Kp(e),u=Gp(e);return o.delete(r.indexId).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const o=Gp(e);let a=!0;const u=new Map;return Q.forEach(this.Ze(r),h=>this.tn(e,h).next(p=>{a&&(a=!!p),u.set(h,p)})).next(()=>{if(a){let h=gt();const p=[];return Q.forEach(u,(m,b)=>{var k;ge("IndexedDbIndexManager",`Using index ${k=m,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`} to execute ${td(r)}`);const v=function(I,R){const j=aI(R);if(j===void 0)return null;for(const V of _y(I,j.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null}(b,m),_=function(I,R){const j=new Map;for(const V of hu(R))for(const H of _y(I,V.fieldPath))switch(H.op){case"==":case"in":j.set(V.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return j.set(V.fieldPath.canonicalString(),H.value),Array.from(j.values())}return null}(b,m),A=function(I,R){const j=[];let V=!0;for(const H of hu(R)){const J=H.kind===0?bj(I,H.fieldPath,I.startAt):wj(I,H.fieldPath,I.startAt);j.push(J.value),V&&(V=J.inclusive)}return new sl(j,V)}(b,m),E=function(I,R){const j=[];let V=!0;for(const H of hu(R)){const J=H.kind===0?wj(I,H.fieldPath,I.endAt):bj(I,H.fieldPath,I.endAt);j.push(J.value),V&&(V=J.inclusive)}return new sl(j,V)}(b,m),T=this.en(m,b,A),L=this.en(m,b,E),M=this.nn(m,b,_),S=this.sn(m.indexId,v,T,A.inclusive,L,E.inclusive,M);return Q.forEach(S,I=>o.J(I,r.limit).next(R=>{R.forEach(j=>{const V=Ie.fromSegments(j.documentKey);h.has(V)||(h=h.add(V),p.push(V))})}))}).next(()=>p)}return Q.resolve(null)})}Ze(e){let r=this.Xe.get(e);return r||(e.filters.length===0?r=[e]:r=Rxe(Gt.create(e.filters,"and")).map(o=>hI(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,r),r)}sn(e,r,o,a,u,h,p){const m=(r!=null?r.length:1)*Math.max(o.length,u.length),b=m/(r!=null?r.length:1),k=[];for(let v=0;v<m;++v){const _=r?this.rn(r[v/b]):Pk,A=this.on(e,_,o[v%b],a),E=this.un(e,_,u[v%b],h),T=p.map(L=>this.on(e,_,L,!0));k.push(...this.createRange(A,E,T))}return k}on(e,r,o,a){const u=new wu(e,Ie.empty(),r,o);return a?u:u.Ue()}un(e,r,o,a){const u=new wu(e,Ie.empty(),r,o);return a?u.Ue():u}tn(e,r){const o=new Nxe(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let h=null;for(const p of u)o.je(p)&&(!h||p.fields.length>h.fields.length)&&(h=p);return h})}getIndexType(e,r){let o=2;const a=this.Ze(r);return Q.forEach(a,u=>this.tn(e,u).next(h=>{h?o!==0&&h.fields.length<function(p){let m=new on(sr.comparator),b=!1;for(const k of p.filters)for(const v of k.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?b=!0:m=m.add(v.field));for(const k of p.orderBy)k.field.isKeyField()||(m=m.add(k.field));return m.size+(b?1:0)}(u)&&(o=1):o=0})).next(()=>function(u){return u.limit!==null}(r)&&a.length>1&&o===2?1:o)}cn(e,r){const o=new Wp;for(const a of hu(e)){const u=r.data.field(a.fieldPath);if(u==null)return null;const h=o.qe(a.kind);bu.Ie.ue(u,h)}return o.Fe()}rn(e){const r=new Wp;return bu.Ie.ue(e,r.qe(0)),r.Fe()}an(e,r){const o=new Wp;return bu.Ie.ue(ed(this.databaseId,r),o.qe(function(a){const u=hu(a);return u.length===0?0:u[u.length-1].kind}(e))),o.Fe()}nn(e,r,o){if(o===null)return[];let a=[];a.push(new Wp);let u=0;for(const h of hu(e)){const p=o[u++];for(const m of a)if(this.hn(r,h.fieldPath)&&Ig(p))a=this.ln(a,h,p);else{const b=m.qe(h.kind);bu.Ie.ue(p,b)}}return this.fn(a)}en(e,r,o){return this.nn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Fe();return r}ln(e,r,o){const a=[...e],u=[];for(const h of o.arrayValue.values||[])for(const p of a){const m=new Wp;m.seed(p.Fe()),bu.Ie.ue(h,m.qe(r.kind)),u.push(m)}return u}hn(e,r){return!!e.filters.find(o=>o instanceof Ct&&o.field.isEqual(r)&&(o.op==="in"||o.op==="not-in"))}getFieldIndexes(e,r){const o=Mk(e),a=Kp(e);return(r?o.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.W()).next(u=>{const h=[];return Q.forEach(u,p=>a.get([p.indexId,this.uid]).next(m=>{h.push(function(b,k){const v=k?new vy(k.sequenceNumber,new mo(od(k.readTime),new Ie($s(k.documentKey)),k.largestBatchId)):vy.empty(),_=b.fields.map(([A,E])=>new kEe(sr.fromServerFormat(A),E));return new Z9(b.indexId,b.collectionGroup,_,v)}(p,m))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return u!==0?u:pt(o.collectionGroup,a.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const a=Mk(e),u=Kp(e);return this.dn(e).next(h=>a.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(p=>Q.forEach(p,m=>u.put(Mj(m.indexId,this.user,h,o)))))}updateIndexEntries(e,r){const o=new Map;return Q.forEach(r,(a,u)=>{const h=o.get(a.collectionGroup);return(h?Q.resolve(h):this.getFieldIndexes(e,a.collectionGroup)).next(p=>(o.set(a.collectionGroup,p),Q.forEach(p,m=>this._n(e,a,m).next(b=>{const k=this.wn(u,m);return b.isEqual(k)?Q.resolve():this.mn(e,u,m,b,k)}))))})}gn(e,r,o,a){return Gp(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.an(o,r.key),documentKey:r.key.path.toArray()})}yn(e,r,o,a){return Gp(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.an(o,r.key),r.key.path.toArray()])}_n(e,r,o){const a=Gp(e);let u=new on(vc);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,r)])},(h,p)=>{u=u.add(new wu(o.indexId,r,p.arrayValue,p.directionalValue))}).next(()=>u)}wn(e,r){let o=new on(vc);const a=this.cn(r,e);if(a==null)return o;const u=aI(r);if(u!=null){const h=e.data.field(u.fieldPath);if(Ig(h))for(const p of h.arrayValue.values||[])o=o.add(new wu(r.indexId,e.key,this.rn(p),a))}else o=o.add(new wu(r.indexId,e.key,Pk,a));return o}mn(e,r,o,a,u){ge("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const h=[];return function(p,m,b,k,v){const _=p.getIterator(),A=m.getIterator();let E=eh(_),T=eh(A);for(;E||T;){let L=!1,M=!1;if(E&&T){const S=b(E,T);S<0?M=!0:S>0&&(L=!0)}else E!=null?M=!0:L=!0;L?(k(T),T=eh(A)):M?(v(E),E=eh(_)):(E=eh(_),T=eh(A))}}(a,u,vc,p=>{h.push(this.gn(e,r,o,p))},p=>{h.push(this.yn(e,r,o,p))}),Q.waitFor(h)}dn(e){let r=1;return Kp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),r=a.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((h,p)=>vc(h,p)).filter((h,p,m)=>!p||vc(h,m[p-1])!==0);const a=[];a.push(e);for(const h of o){const p=vc(h,e),m=vc(h,r);if(p===0)a[0]=e.Ue();else if(p>0&&m<0)a.push(h),a.push(h.Ue());else if(m>0)break}a.push(r);const u=[];for(let h=0;h<a.length;h+=2){if(this.pn(a[h],a[h+1]))return[];const p=[a[h].indexId,this.uid,a[h].arrayValue,a[h].directionalValue,Pk,[]],m=[a[h+1].indexId,this.uid,a[h+1].arrayValue,a[h+1].directionalValue,Pk,[]];u.push(IDBKeyRange.bound(p,m))}return u}pn(e,r){return vc(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Fj)}getMinOffset(e,r){return Q.mapArray(this.Ze(r),o=>this.tn(e,o).next(a=>a||Ue())).next(Fj)}}function zj(t){return Vr(t,"collectionParents")}function Gp(t){return Vr(t,"indexEntries")}function Mk(t){return Vr(t,"indexConfiguration")}function Kp(t){return Vr(t,"indexState")}function Fj(t){Ze(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<t.length;o++){const a=t[o].indexState.offset;pM(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new mo(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t,e,r){const o=t.store("mutations"),a=t.store("documentMutations"),u=[],h=IDBKeyRange.only(r.batchId);let p=0;const m=o.Z({range:h},(k,v,_)=>(p++,_.delete()));u.push(m.next(()=>{Ze(p===1)}));const b=[];for(const k of r.mutations){const v=qq(e,k.key.path,r.batchId);u.push(a.delete(v)),b.push(k.key)}return Q.waitFor(u).next(()=>b)}function xy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ue();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class E0{constructor(e,r,o,a){this.userId=e,this.yt=r,this.indexManager=o,this.referenceDelegate=a,this.In={}}static re(e,r,o,a){Ze(e.uid!=="");const u=e.isAuthenticated()?e.uid:"";return new E0(u,r,o,a)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).Z({index:"userMutationsIndex",range:o},(a,u,h)=>{r=!1,h.done()}).next(()=>r)}addMutationBatch(e,r,o,a){const u=ah(e),h=yc(e);return h.add({}).next(p=>{Ze(typeof p=="number");const m=new AM(p,r,o,a),b=function(_,A,E){const T=E.baseMutations.map(M=>Mg(_.ie,M)),L=E.mutations.map(M=>Mg(_.ie,M));return{userId:A,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:T,mutations:L}}(this.yt,this.userId,m),k=[];let v=new on((_,A)=>pt(_.canonicalString(),A.canonicalString()));for(const _ of a){const A=qq(this.userId,_.key.path,p);v=v.add(_.key.path.popLast()),k.push(h.put(b)),k.push(u.put(A,uxe))}return v.forEach(_=>{k.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.In[p]=m.keys()}),Q.waitFor(k).next(()=>m)})}lookupMutationBatch(e,r){return yc(e).get(r).next(o=>o?(Ze(o.userId===this.userId),gu(this.yt,o)):null)}Tn(e,r){return this.In[r]?Q.resolve(this.In[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const a=o.keys();return this.In[r]=a,a}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return yc(e).Z({index:"userMutationsIndex",range:a},(h,p,m)=>{p.userId===this.userId&&(Ze(p.batchId>=o),u=gu(this.yt,p)),m.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return yc(e).Z({index:"userMutationsIndex",range:r,reverse:!0},(a,u,h)=>{o=u.batchId,h.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).W("userMutationsIndex",r).next(o=>o.map(a=>gu(this.yt,a)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=_v(this.userId,r.path),a=IDBKeyRange.lowerBound(o),u=[];return ah(e).Z({range:a},(h,p,m)=>{const[b,k,v]=h,_=$s(k);if(b===this.userId&&r.path.isEqual(_))return yc(e).get(v).next(A=>{if(!A)throw Ue();Ze(A.userId===this.userId),u.push(gu(this.yt,A))});m.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new on(pt);const a=[];return r.forEach(u=>{const h=_v(this.userId,u.path),p=IDBKeyRange.lowerBound(h),m=ah(e).Z({range:p},(b,k,v)=>{const[_,A,E]=b,T=$s(A);_===this.userId&&u.path.isEqual(T)?o=o.add(E):v.done()});a.push(m)}),Q.waitFor(a).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1,u=_v(this.userId,o),h=IDBKeyRange.lowerBound(u);let p=new on(pt);return ah(e).Z({range:h},(m,b,k)=>{const[v,_,A]=m,E=$s(_);v===this.userId&&o.isPrefixOf(E)?E.length===a&&(p=p.add(A)):k.done()}).next(()=>this.En(e,p))}En(e,r){const o=[],a=[];return r.forEach(u=>{a.push(yc(e).get(u).next(h=>{if(h===null)throw Ue();Ze(h.userId===this.userId),o.push(gu(this.yt,h))}))}),Q.waitFor(a).next(()=>o)}removeMutationBatch(e,r){return Xq(e.se,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.An(r.batchId)}),Q.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Q.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return ah(e).Z({range:o},(u,h,p)=>{if(u[0]===this.userId){const m=$s(u[1]);a.push(m)}else p.done()}).next(()=>{Ze(a.length===0)})})}containsKey(e,r){return eW(e,this.userId,r)}Rn(e){return tW(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eW(t,e,r){const o=_v(e,r.path),a=o[1],u=IDBKeyRange.lowerBound(o);let h=!1;return ah(t).Z({range:u,X:!0},(p,m,b)=>{const[k,v,_]=p;k===e&&v===a&&(h=!0),b.done()}).next(()=>h)}function yc(t){return Vr(t,"mutations")}function ah(t){return Vr(t,"documentMutations")}function tW(t){return Vr(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sd(0)}static vn(){return new sd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bxe{constructor(e,r){this.referenceDelegate=e,this.yt=r}allocateTargetId(e){return this.Vn(e).next(r=>{const o=new sd(r.highestTargetId);return r.highestTargetId=o.next(),this.Sn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(r=>Xe.fromTimestamp(new Nn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=r,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Sn(e,a)))}addTargetData(e,r){return this.Dn(e,r).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(r,o),this.Sn(e,o))))}updateTargetData(e,r){return this.Dn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>th(e).delete(r.targetId)).next(()=>this.Vn(e)).next(o=>(Ze(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,r,o){let a=0;const u=[];return th(e).Z((h,p)=>{const m=fm(p);m.sequenceNumber<=r&&o.get(m.targetId)===null&&(a++,u.push(this.removeTargetData(e,m)))}).next(()=>Q.waitFor(u)).next(()=>a)}forEachTarget(e,r){return th(e).Z((o,a)=>{const u=fm(a);r(u)})}Vn(e){return Vj(e).get("targetGlobalKey").next(r=>(Ze(r!==null),r))}Sn(e,r){return Vj(e).put("targetGlobalKey",r)}Dn(e,r){return th(e).put(Qq(this.yt,r))}Cn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=td(r),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return th(e).Z({range:a,index:"queryTargetsIndex"},(h,p,m)=>{const b=fm(p);wb(r,b.target)&&(u=b,m.done())}).next(()=>u)}addMatchingKeys(e,r,o){const a=[],u=Pc(e);return r.forEach(h=>{const p=Mi(h.path);a.push(u.put({targetId:o,path:p})),a.push(this.referenceDelegate.addReference(e,o,h))}),Q.waitFor(a)}removeMatchingKeys(e,r,o){const a=Pc(e);return Q.forEach(r,u=>{const h=Mi(u.path);return Q.waitFor([a.delete([o,h]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,r){const o=Pc(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),a=Pc(e);let u=gt();return a.Z({range:o,X:!0},(h,p,m)=>{const b=$s(h[1]),k=new Ie(b);u=u.add(k)}).next(()=>u)}containsKey(e,r){const o=Mi(r.path),a=IDBKeyRange.bound([o],[Q9(o)],!1,!0);let u=0;return Pc(e).Z({index:"documentTargetsIndex",X:!0,range:a},([h,p],m,b)=>{h!==0&&(u++,b.done())}).next(()=>u>0)}ne(e,r){return th(e).get(r).next(o=>o?fm(o):null)}}function th(t){return Vr(t,"targets")}function Vj(t){return Vr(t,"targetGlobal")}function Pc(t){return Vr(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj([t,e],[r,o]){const a=pt(t,r);return a===0?pt(e,o):a}class zxe{constructor(e){this.xn=e,this.buffer=new on(Uj),this.Nn=0}kn(){return++this.Nn}On(e){const r=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Uj(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Fxe{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Cl(r)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Al(r)}await this.Fn(3e5)})}}class jxe{constructor(e,r){this.$n=e,this.params=r}calculateTargetCount(e,r){return this.$n.Bn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return Q.resolve(Ki.at);const o=new zxe(r);return this.$n.forEachTarget(e,a=>o.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>o.On(a))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.$n.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.$n.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(jj)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jj):this.qn(e,r))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,r){let o,a,u,h,p,m,b;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,h=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(o=v,p=Date.now(),this.removeTargets(e,o,r))).next(v=>(u=v,m=Date.now(),this.removeOrphanedDocuments(e,o))).next(v=>(b=Date.now(),sI()<=Mt.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-k}ms
	Determined least recently used ${a} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${v} documents in `+(b-m)+`ms
Total Duration: ${b-k}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:v})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vxe{constructor(e,r){this.db=e,this.garbageCollector=function(o,a){return new jxe(o,a)}(this,r)}Bn(e){const r=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(a=>o+a))}Un(e){let r=0;return this.Ln(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Ln(e,r){return this.Kn(e,(o,a)=>r(a))}addReference(e,r,o){return Nk(e,o)}removeReference(e,r,o){return Nk(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Nk(e,r)}Gn(e,r){return function(o,a){let u=!1;return tW(o).tt(h=>eW(o,h,a).next(p=>(p&&(u=!0),Q.resolve(!p)))).next(()=>u)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Kn(e,(h,p)=>{if(p<=r){const m=this.Gn(e,h).next(b=>{if(!b)return u++,o.getEntry(e,h).next(()=>(o.removeEntry(h,Xe.min()),Pc(e).delete([0,Mi(h.path)])))});a.push(m)}}).next(()=>Q.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Nk(e,r)}Kn(e,r){const o=Pc(e);let a,u=Ki.at;return o.Z({index:"documentTargetsIndex"},([h,p],{path:m,sequenceNumber:b})=>{h===0?(u!==Ki.at&&r(new Ie($s(a)),u),u=b,a=m):u=Ki.at}).next(()=>{u!==Ki.at&&r(new Ie($s(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nk(t,e){return Pc(t).put(function(r,o){return{targetId:0,path:Mi(r.path),sequenceNumber:o}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this.changes=new El(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?Q.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uxe{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return au(e).put(o)}removeEntry(e,r,o){return au(e).delete(function(a,u){const h=a.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Cy(u),h[h.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Qn(e,o)))}getEntry(e,r){let o=yn.newInvalidDocument(r);return au(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yp(r))},(a,u)=>{o=this.jn(r,u)}).next(()=>o)}Wn(e,r){let o={size:0,document:yn.newInvalidDocument(r)};return au(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yp(r))},(a,u)=>{o={document:this.jn(r,u),size:xy(u)}}).next(()=>o)}getEntries(e,r){let o=Qi();return this.zn(e,r,(a,u)=>{const h=this.jn(a,u);o=o.insert(a,h)}).next(()=>o)}Hn(e,r){let o=Qi(),a=new tr(Ie.comparator);return this.zn(e,r,(u,h)=>{const p=this.jn(u,h);o=o.insert(u,p),a=a.insert(u,xy(h))}).next(()=>({documents:o,Jn:a}))}zn(e,r,o){if(r.isEmpty())return Q.resolve();let a=new on(qj);r.forEach(m=>a=a.add(m));const u=IDBKeyRange.bound(Yp(a.first()),Yp(a.last())),h=a.getIterator();let p=h.getNext();return au(e).Z({index:"documentKeyIndex",range:u},(m,b,k)=>{const v=Ie.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&qj(p,v)<0;)o(p,null),p=h.getNext();p&&p.isEqual(v)&&(o(p,b),p=h.hasNext()?h.getNext():null),p?k.j(Yp(p)):k.done()}).next(()=>{for(;p;)o(p,null),p=h.hasNext()?h.getNext():null})}getAllFromCollection(e,r,o){const a=[r.popLast().toArray(),r.lastSegment(),Cy(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],u=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return au(e).W(IDBKeyRange.bound(a,u,!0)).next(h=>{let p=Qi();for(const m of h){const b=this.jn(Ie.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,r,o,a){let u=Qi();const h=Hj(r,o),p=Hj(r,mo.max());return au(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,p,!0)},(m,b,k)=>{const v=this.jn(Ie.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(v.key,v),u.size===a&&k.done()}).next(()=>u)}newChangeBuffer(e){return new $xe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return $j(e).get("remoteDocumentGlobalKey").next(r=>(Ze(!!r),r))}Qn(e,r){return $j(e).put("remoteDocumentGlobalKey",r)}jn(e,r){if(r){const o=Sxe(this.yt,r);if(!(o.isNoDocument()&&o.version.isEqual(Xe.min())))return o}return yn.newInvalidDocument(e)}}function rW(t){return new Uxe(t)}class $xe extends nW{constructor(e,r){super(),this.Yn=e,this.trackRemovals=r,this.Xn=new El(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const r=[];let o=0,a=new on((u,h)=>pt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const p=this.Xn.get(u);if(r.push(this.Yn.removeEntry(e,u,p.readTime)),h.isValidDocument()){const m=Dj(this.Yn.yt,h);a=a.add(u.path.popLast());const b=xy(m);o+=b-p.size,r.push(this.Yn.addEntry(e,u,m))}else if(o-=p.size,this.trackRemovals){const m=Dj(this.Yn.yt,h.convertToNoDocument(Xe.min()));r.push(this.Yn.addEntry(e,u,m))}}),a.forEach(u=>{r.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),r.push(this.Yn.updateMetadata(e,o)),Q.waitFor(r)}getFromCache(e,r){return this.Yn.Wn(e,r).next(o=>(this.Xn.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.Yn.Hn(e,r).next(({documents:o,Jn:a})=>(a.forEach((u,h)=>{this.Xn.set(u,{size:h,readTime:o.get(u).readTime})}),o))}}function $j(t){return Vr(t,"remoteDocumentGlobal")}function au(t){return Vr(t,"remoteDocumentsV14")}function Yp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hj(t,e){const r=e.documentKey.path.toArray();return[t,Cy(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function qj(t,e){const r=t.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<r.length-2&&u<o.length-2;++u)if(a=pt(r[u],o[u]),a)return a;return a=pt(r.length,o.length),a||(a=pt(r[r.length-2],o[o.length-2]),a||pt(r[r.length-1],o[o.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hxe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,r,o,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(o!==null&&Mm(o.mutation,a,Yi.empty(),Nn.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,gt()).next(()=>o))}getLocalViewOfDocuments(e,r,o=gt()){const a=Us();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,o).next(u=>{let h=hm();return u.forEach((p,m)=>{h=h.insert(p,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,r){const o=Us();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,gt()))}populateOverlays(e,r,o){const a=[];return o.forEach(u=>{r.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,p)=>{r.set(h,p)})})}computeViews(e,r,o,a){let u=Qi();const h=Nm(),p=Nm();return r.forEach((m,b)=>{const k=o.get(b.key);a.has(b.key)&&(k===void 0||k.mutation instanceof Ja)?u=u.insert(b.key,b):k!==void 0?(h.set(b.key,k.mutation.getFieldMask()),Mm(k.mutation,b,k.mutation.getFieldMask(),Nn.now())):h.set(b.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((b,k)=>h.set(b,k)),r.forEach((b,k)=>{var v;return p.set(b,new Hxe(k,(v=h.get(b))!==null&&v!==void 0?v:null))}),p))}recalculateAndSaveOverlays(e,r){const o=Nm();let a=new tr((h,p)=>h-p),u=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(h=>{for(const p of h)p.keys().forEach(m=>{const b=r.get(m);if(b===null)return;let k=o.get(m)||Yi.empty();k=p.applyToLocalView(b,k),o.set(m,k);const v=(a.get(p.batchId)||gt()).add(m);a=a.insert(p.batchId,v)})}).next(()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),b=m.key,k=m.value,v=Pq();k.forEach(_=>{if(!u.has(_)){const A=Eq(r.get(_),o.get(_));A!==null&&v.set(_,A),u=u.add(_)}}),h.push(this.documentOverlayCache.saveOverlays(e,b,v))}return Q.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o){return function(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):kM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o):this.getDocumentsMatchingCollectionQuery(e,r,o)}getNextDocuments(e,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,a-u.size):Q.resolve(Us());let p=-1,m=u;return h.next(b=>Q.forEach(b,(k,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),u.get(k)?Q.resolve():this.remoteDocumentCache.getEntry(e,k).next(_=>{m=m.insert(k,_)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,m,b,gt())).next(k=>({batchId:p,changes:Dq(k)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ie(r)).next(o=>{let a=hm();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,o){const a=r.collectionGroup;let u=hm();return this.indexManager.getCollectionParents(e,a).next(h=>Q.forEach(h,p=>{const m=function(b,k){return new Za(k,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(r,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,o).next(b=>{b.forEach((k,v)=>{u=u.insert(k,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,r,o){let a;return this.remoteDocumentCache.getAllFromCollection(e,r.path,o).next(u=>(a=u,this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId))).next(u=>{u.forEach((p,m)=>{const b=m.getKey();a.get(b)===null&&(a=a.insert(b,yn.newInvalidDocument(b)))});let h=hm();return a.forEach((p,m)=>{const b=u.get(p);b!==void 0&&Mm(b.mutation,m,Yi.empty(),Nn.now()),vM(r,m)&&(h=h.insert(p,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qxe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return Q.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var o;return this.Zn.set(r.id,{id:(o=r).id,version:o.version,createTime:ar(o.createTime)}),Q.resolve()}getNamedQuery(e,r){return Q.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,function(o){return{name:o.name,query:xM(o.bundledQuery),readTime:ar(o.readTime)}}(r)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wxe{constructor(){this.overlays=new tr(Ie.comparator),this.es=new Map}getOverlay(e,r){return Q.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Us();return Q.forEach(r,a=>this.getOverlay(e,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((a,u)=>{this.oe(e,r,u)}),Q.resolve()}removeOverlaysForBatchId(e,r,o){const a=this.es.get(o);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(o)),Q.resolve()}getOverlaysForCollection(e,r,o){const a=Us(),u=r.length+1,h=new Ie(r.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,b=m.getKey();if(!r.isPrefixOf(b.path))break;b.path.length===u&&m.largestBatchId>o&&a.set(m.getKey(),m)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,r,o,a){let u=new tr((b,k)=>b-k);const h=this.overlays.getIterator();for(;h.hasNext();){const b=h.getNext().value;if(b.getKey().getCollectionGroup()===r&&b.largestBatchId>o){let k=u.get(b.largestBatchId);k===null&&(k=Us(),u=u.insert(b.largestBatchId,k)),k.set(b.getKey(),b)}}const p=Us(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((b,k)=>p.set(b,k)),!(p.size()>=a)););return Q.resolve(p)}oe(e,r,o){const a=this.overlays.get(o.key);if(a!==null){const h=this.es.get(a.largestBatchId).delete(o.key);this.es.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new EM(r,o));let u=this.es.get(r);u===void 0&&(u=gt(),this.es.set(r,u)),this.es.set(r,u.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.ns=new on(Mr.ss),this.rs=new on(Mr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const o=new Mr(e,r);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.cs(new Mr(e,r))}hs(e,r){e.forEach(o=>this.removeReference(o,r))}ls(e){const r=new Ie(new Dt([])),o=new Mr(r,e),a=new Mr(r,e+1),u=[];return this.rs.forEachInRange([o,a],h=>{this.cs(h),u.push(h.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new Ie(new Dt([])),o=new Mr(r,e),a=new Mr(r,e+1);let u=gt();return this.rs.forEachInRange([o,a],h=>{u=u.add(h.key)}),u}containsKey(e){const r=new Mr(e,0),o=this.ns.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class Mr{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return Ie.comparator(e.key,r.key)||pt(e._s,r._s)}static os(e,r){return pt(e._s,r._s)||Ie.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gxe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new on(Mr.ss)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,a){const u=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new AM(u,r,o,a);this.mutationQueue.push(h);for(const p of a)this.gs=this.gs.add(new Mr(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,r){return Q.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=this.ps(o),u=a<0?0:a;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Mr(r,0),a=new Mr(r,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([o,a],h=>{const p=this.ys(h._s);u.push(p)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new on(pt);return r.forEach(a=>{const u=new Mr(a,0),h=new Mr(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,h],p=>{o=o.add(p._s)})}),Q.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1;let u=o;Ie.isDocumentKey(u)||(u=u.child(""));const h=new Mr(new Ie(u),0);let p=new on(pt);return this.gs.forEachWhile(m=>{const b=m.key.path;return!!o.isPrefixOf(b)&&(b.length===a&&(p=p.add(m._s)),!0)},h),Q.resolve(this.Is(p))}Is(e){const r=[];return e.forEach(o=>{const a=this.ys(o);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Ze(this.Ts(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.gs;return Q.forEach(r.mutations,a=>{const u=new Mr(a.key,r.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,r){const o=new Mr(r,0),a=this.gs.firstAfterOrEqual(o);return Q.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Ts(e,r){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kxe{constructor(e){this.Es=e,this.docs=new tr(Ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,a=this.docs.get(o),u=a?a.size:0,h=this.Es(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Q.resolve(o?o.document.mutableCopy():yn.newInvalidDocument(r))}getEntries(e,r){let o=Qi();return r.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():yn.newInvalidDocument(a))}),Q.resolve(o)}getAllFromCollection(e,r,o){let a=Qi();const u=new Ie(r.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!r.isPrefixOf(p.path))break;p.path.length>r.length+1||pM(X9(m),o)<=0||(a=a.insert(m.key,m.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,r,o,a){Ue()}As(e,r){return Q.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Yxe(this)}getSize(e){return Q.resolve(this.size)}}class Yxe extends nW{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(o)}),Q.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{constructor(e){this.persistence=e,this.Rs=new El(r=>td(r),wb),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.bs=0,this.Ps=new IM,this.targetCount=0,this.vs=sd.Pn()}forEachTarget(e,r){return this.Rs.forEach((o,a)=>r(a)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.bs&&(this.bs=r),Q.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new sd(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,Q.resolve()}updateTargetData(e,r){return this.Dn(r),Q.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,r,o){let a=0;const u=[];return this.Rs.forEach((h,p)=>{p.sequenceNumber<=r&&o.get(p.targetId)===null&&(this.Rs.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),Q.waitFor(u).next(()=>a)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,r){const o=this.Rs.get(r)||null;return Q.resolve(o)}addMatchingKeys(e,r,o){return this.Ps.us(r,o),Q.resolve()}removeMatchingKeys(e,r,o){this.Ps.hs(r,o);const a=this.persistence.referenceDelegate,u=[];return a&&r.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),Q.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Ps.ds(r);return Q.resolve(o)}containsKey(e,r){return Q.resolve(this.Ps.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new Ki(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Qxe(this),this.indexManager=new Oxe,this.remoteDocumentCache=function(o){return new Kxe(o)}(o=>this.referenceDelegate.xs(o)),this.yt=new Yq(r),this.Ns=new qxe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Wxe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Vs[e.toKey()];return o||(o=new Gxe(r,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,o){ge("MemoryPersistence","Starting transaction:",e);const a=new Zxe(this.Ss.next());return this.referenceDelegate.ks(),o(a).next(u=>this.referenceDelegate.Os(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ms(e,r){return Q.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,r)))}}class Zxe extends tq{constructor(e){super(),this.currentSequenceNumber=e}}class x0{constructor(e){this.persistence=e,this.Fs=new IM,this.$s=null}static Bs(e){return new x0(e)}get Ls(){if(this.$s)return this.$s;throw Ue()}addReference(e,r,o){return this.Fs.addReference(o,r),this.Ls.delete(o.toString()),Q.resolve()}removeReference(e,r,o){return this.Fs.removeReference(o,r),this.Ls.add(o.toString()),Q.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),Q.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(a=>this.Ls.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(u=>this.Ls.add(u.toString()))}).next(()=>o.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Ls,o=>{const a=Ie.fromPath(o);return this.qs(e,a).next(u=>{u||r.removeEntry(a,Xe.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.qs(e,r).next(o=>{o?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}qs(e,r){return Q.or([()=>Q.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jxe{constructor(e){this.yt=e}$(e,r,o,a){const u=new k0("createOrUpgrade",r);o<1&&a>=1&&(function(p){p.createObjectStore("owner")}(e),function(p){p.createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ij,{unique:!0}),p.createObjectStore("documentMutations")}(e),Wj(e),function(p){p.createObjectStore("remoteDocuments")}(e));let h=Q.resolve();return o<3&&a>=3&&(o!==0&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Wj(e)),h=h.next(()=>function(p){const m=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xe.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",b)}(u))),o<4&&a>=4&&(o!==0&&(h=h.next(()=>function(p,m){return m.store("mutations").W().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ij,{unique:!0});const k=m.store("mutations"),v=b.map(_=>k.put(_));return Q.waitFor(v)})}(e,u))),h=h.next(()=>{(function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),o<5&&a>=5&&(h=h.next(()=>this.Us(u))),o<6&&a>=6&&(h=h.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),o<7&&a>=7&&(h=h.next(()=>this.Gs(u))),o<8&&a>=8&&(h=h.next(()=>this.Qs(e,u))),o<9&&a>=9&&(h=h.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)})),o<10&&a>=10&&(h=h.next(()=>this.js(u))),o<11&&a>=11&&(h=h.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(h=h.next(()=>{(function(p){const m=p.createObjectStore("documentOverlays",{keyPath:_xe});m.createIndex("collectionPathOverlayIndex",Axe,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",Cxe,{unique:!1})})(e)})),o<13&&a>=13&&(h=h.next(()=>function(p){const m=p.createObjectStore("remoteDocumentsV14",{keyPath:dxe});m.createIndex("documentKeyIndex",hxe),m.createIndex("collectionGroupIndex",fxe)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(h=h.next(()=>this.zs(e,u))),o<15&&a>=15&&(h=h.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:wxe}).createIndex("sequenceNumberIndex",kxe,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:vxe}).createIndex("documentKeyIndex",yxe,{unique:!1})}(e))),h}Ks(e){let r=0;return e.store("remoteDocuments").Z((o,a)=>{r+=xy(a)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.W().next(a=>Q.forEach(a,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",h).next(p=>Q.forEach(p,m=>{Ze(m.userId===u.userId);const b=gu(this.yt,m);return Xq(e,u.userId,b).next(()=>{})}))}))}Gs(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.Z((h,p)=>{const m=new Dt(h),b=function(k){return[0,Mi(k)]}(m);u.push(r.get(b).next(k=>k?Q.resolve():(v=>r.put({targetId:0,path:Mi(v),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>Q.waitFor(u))})}Qs(e,r){e.createObjectStore("collectionParents",{keyPath:bxe});const o=r.store("collectionParents"),a=new TM,u=h=>{if(a.add(h)){const p=h.lastSegment(),m=h.popLast();return o.put({collectionId:p,parent:Mi(m)})}};return r.store("remoteDocuments").Z({X:!0},(h,p)=>{const m=new Dt(h);return u(m.popLast())}).next(()=>r.store("documentMutations").Z({X:!0},([h,p,m],b)=>{const k=$s(p);return u(k.popLast())}))}js(e){const r=e.store("targets");return r.Z((o,a)=>{const u=fm(a),h=Qq(this.yt,u);return r.put(h)})}Ws(e,r){const o=r.store("remoteDocuments"),a=[];return o.Z((u,h)=>{const p=r.store("remoteDocumentsV14"),m=(b=h,b.document?new Ie(Dt.fromString(b.document.name).popFirst(5)):b.noDocument?Ie.fromSegments(b.noDocument.path):b.unknownDocument?Ie.fromSegments(b.unknownDocument.path):Ue()).path.toArray();var b;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};a.push(p.put(k))}).next(()=>Q.waitFor(a))}zs(e,r){const o=r.store("mutations"),a=rW(this.yt),u=new oW(x0.Bs,this.yt.ie);return o.W().next(h=>{const p=new Map;return h.forEach(m=>{var b;let k=(b=p.get(m.userId))!==null&&b!==void 0?b:gt();gu(this.yt,m).keys().forEach(v=>k=k.add(v)),p.set(m.userId,k)}),Q.forEach(p,(m,b)=>{const k=new Rr(b),v=C0.re(this.yt,k),_=u.getIndexManager(k),A=E0.re(k,this.yt,_,u.referenceDelegate);return new iW(a,A,v,_).recalculateAndSaveOverlaysForDocumentKeys(new bI(r,Ki.at),m).next()})})}}function Wj(t){t.createObjectStore("targetDocuments",{keyPath:mxe}).createIndex("documentTargetsIndex",gxe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pxe,{unique:!0}),t.createObjectStore("targetGlobal")}const Zx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DM{constructor(e,r,o,a,u,h,p,m,b,k,v=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Hs=u,this.window=h,this.document=p,this.Js=b,this.Ys=k,this.Xs=v,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=_=>Promise.resolve(),!DM.C())throw new me(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vxe(this,a),this.ii=r+"main",this.yt=new Yq(m),this.ri=new cs(this.ii,this.Xs,new Jxe(this.yt)),this.Cs=new Bxe(this.referenceDelegate,this.yt),this.remoteDocumentCache=rW(this.yt),this.Ns=new Txe,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,k===!1&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(ee.FAILED_PRECONDITION,Zx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ki(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rk(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(r=>this.isPrimary&&!r?this._i(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Cl(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Qp(e).get("owner").next(r=>Q.resolve(this.mi(r)))}gi(e){return Rk(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vr(r,"clientMetadata");return o.W().next(a=>{const u=this.Ii(a,18e5),h=a.filter(p=>u.indexOf(p)===-1);return Q.forEach(h,p=>o.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(this.oi)for(const r of e)this.oi.removeItem(this.Ti(r.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Q.resolve(!0):Qp(e).get("owner").next(r=>{if(r!==null&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)){if(this.mi(r)&&this.networkEnabled)return!0;if(!this.mi(r)){if(!r.allowTabSynchronization)throw new me(ee.FAILED_PRECONDITION,Zx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rk(e).W().next(o=>this.Ii(o,5e3).find(a=>{if(this.clientId!==a.clientId){const u=!this.networkEnabled&&a.networkEnabled,h=!this.inForeground&&a.inForeground,p=this.networkEnabled===a.networkEnabled;if(u||h&&p)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ge("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new bI(e,Ki.at);return this._i(r).next(()=>this.gi(r))}),this.ri.close(),this.Pi()}Ii(e,r){return e.filter(o=>this.pi(o.updateTimeMs,r)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Rk(e).W().next(r=>this.Ii(r,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,r){return E0.re(e,this.yt,r,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lxe(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return C0.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,r,o){ge("IndexedDbPersistence","Starting transaction:",e);const a=r==="readonly"?"readonly":"readwrite",u=(h=this.Xs)===15?xxe:h===14?Kq:h===13?Gq:h===12?Exe:h===11?Wq:void Ue();var h;let p;return this.ri.runTransaction(e,a,u,m=>(p=new bI(m,this.Ss?this.Ss.next():Ki.at),r==="readwrite-primary"?this.fi(p).next(b=>!!b||this.di(p)).next(b=>{if(!b)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new me(ee.FAILED_PRECONDITION,eq);return o(p)}).next(b=>this.wi(p).next(()=>b)):this.Vi(p).next(()=>o(p)))).then(m=>(p.raiseOnCommittedEvent(),m))}Vi(e){return Qp(e).get("owner").next(r=>{if(r!==null&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)&&!this.mi(r)&&!(this.Ys||this.allowTabSynchronization&&r.allowTabSynchronization))throw new me(ee.FAILED_PRECONDITION,Zx)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qp(e).put("owner",r)}static C(){return cs.C()}_i(e){const r=Qp(e);return r.get("owner").next(o=>this.mi(o)?(ge("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Q.resolve())}pi(e,r){const o=Date.now();return!(e<o-r)&&(!(e>o)||(or(`Detected an update time that is in the future: ${e} > ${o}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),Uve()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var r;try{const o=((r=this.oi)===null||r===void 0?void 0:r.getItem(this.Ti(e)))!==null;return ge("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return or("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qp(t){return Vr(t,"owner")}function Rk(t){return Vr(t,"clientMetadata")}function PM(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,r,o,a){this.targetId=e,this.fromCache=r,this.Si=o,this.Di=a}static Ci(e,r){let o=gt(),a=gt();for(const u of r.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new MM(e,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,o,a){return this.ki(e,r).next(u=>u||this.Oi(e,r,a,o)).next(u=>u||this.Mi(e,r))}ki(e,r){if(kj(r))return Q.resolve(null);let o=eo(r);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Ay(r,null,"F"),o=eo(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=gt(...u);return this.Ni.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,o).next(m=>{const b=this.Fi(r,p);return this.$i(r,b,h,m.readTime)?this.ki(e,Ay(r,null,"F")):this.Bi(e,b,r,m)}))})))}Oi(e,r,o,a){return kj(r)||a.isEqual(Xe.min())?this.Mi(e,r):this.Ni.getDocuments(e,o).next(u=>{const h=this.Fi(r,u);return this.$i(r,h,o,a)?this.Mi(e,r):(sI()<=Mt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pI(r)),this.Bi(e,h,r,J9(a,-1)))})}Fi(e,r){let o=new on(bq(e));return r.forEach((a,u)=>{vM(e,u)&&(o=o.add(u))}),o}$i(e,r,o,a){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Mi(e,r){return sI()<=Mt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",pI(r)),this.Ni.getDocumentsMatchingQuery(e,r,mo.min())}Bi(e,r,o,a){return this.Ni.getDocumentsMatchingQuery(e,o,a).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xxe{constructor(e,r,o,a){this.persistence=e,this.Li=r,this.yt=a,this.qi=new tr(pt),this.Ui=new El(u=>td(u),wb),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iW(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qi))}}function aW(t,e,r,o){return new Xxe(t,e,r,o)}async function cW(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,r.Qi(e),r.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],p=[];let m=gt();for(const b of a){h.push(b.batchId);for(const k of b.mutations)m=m.add(k.key)}for(const b of u){p.push(b.batchId);for(const k of b.mutations)m=m.add(k.key)}return r.localDocuments.getDocuments(o,m).next(b=>({ji:b,removedBatchIds:h,addedBatchIds:p}))})})}function eSe(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=r.Gi.newChangeBuffer({trackRemovals:!0});return function(h,p,m,b){const k=m.batch,v=k.keys();let _=Q.resolve();return v.forEach(A=>{_=_.next(()=>b.getEntry(p,A)).next(E=>{const T=m.docVersions.get(A);Ze(T!==null),E.version.compareTo(T)<0&&(k.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),b.addEntry(E)))})}),_.next(()=>h.mutationQueue.removeMutationBatch(p,k))}(r,o,e,u).next(()=>u.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let p=gt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>r.localDocuments.getDocuments(o,a))})}function lW(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function tSe(t,e){const r=Ne(t),o=e.snapshotVersion;let a=r.qi;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.Gi.newChangeBuffer({trackRemovals:!0});a=r.qi;const p=[];e.targetChanges.forEach((k,v)=>{const _=a.get(v);if(!_)return;p.push(r.Cs.removeMatchingKeys(u,k.removedDocuments,v).next(()=>r.Cs.addMatchingKeys(u,k.addedDocuments,v)));let A=_.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.has(v)?A=A.withResumeToken(kr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):k.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(k.resumeToken,o)),a=a.insert(v,A),function(E,T,L){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(_,A,k)&&p.push(r.Cs.updateTargetData(u,A))});let m=Qi(),b=gt();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(u,k))}),p.push(uW(u,h,e.documentUpdates).next(k=>{m=k.Wi,b=k.zi})),!o.isEqual(Xe.min())){const k=r.Cs.getLastRemoteSnapshotVersion(u).next(v=>r.Cs.setTargetsMetadata(u,u.currentSequenceNumber,o));p.push(k)}return Q.waitFor(p).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,m,b)).next(()=>m)}).then(u=>(r.qi=a,u))}function uW(t,e,r){let o=gt(),a=gt();return r.forEach(u=>o=o.add(u)),e.getEntries(t,o).next(u=>{let h=Qi();return r.forEach((p,m)=>{const b=u.get(p);m.isFoundDocument()!==b.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(Xe.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||m.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):ge("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",m.version)}),{Wi:h,zi:a}})}function nSe(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ff(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Cs.getTargetData(o,e).next(u=>u?(a=u,Q.resolve(a)):r.Cs.allocateTargetId(o).next(h=>(a=new Gc(e,h,0,o.currentSequenceNumber),r.Cs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.qi.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.qi=r.qi.insert(o.targetId,o),r.Ui.set(e,o.targetId)),o})}async function pf(t,e,r){const o=Ne(t),a=o.qi.get(e),u=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Cl(h))throw h;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.qi=o.qi.remove(e),o.Ui.delete(a.target)}function Sy(t,e,r){const o=Ne(t);let a=Xe.min(),u=gt();return o.persistence.runTransaction("Execute query","readonly",h=>function(p,m,b){const k=Ne(p),v=k.Ui.get(b);return v!==void 0?Q.resolve(k.qi.get(v)):k.Cs.getTargetData(m,b)}(o,h,eo(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(h,p.targetId).next(m=>{u=m})}).next(()=>o.Li.getDocumentsMatchingQuery(h,e,r?a:Xe.min(),r?u:gt())).next(p=>(fW(o,gq(e),p),{documents:p,Hi:u})))}function dW(t,e){const r=Ne(t),o=Ne(r.Cs),a=r.qi.get(e);return a?Promise.resolve(a.target):r.persistence.runTransaction("Get target data","readonly",u=>o.ne(u,e).next(h=>h?h.target:null))}function hW(t,e){const r=Ne(t),o=r.Ki.get(e)||Xe.min();return r.persistence.runTransaction("Get new document changes","readonly",a=>r.Gi.getAllFromCollectionGroup(a,e,J9(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(fW(r,e,a),a))}function fW(t,e,r){let o=t.Ki.get(e)||Xe.min();r.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),t.Ki.set(e,o)}async function rSe(t,e,r,o){const a=Ne(t);let u=gt(),h=Qi();for(const b of r){const k=e.Ji(b.metadata.name);b.document&&(u=u.add(k));const v=e.Yi(b);v.setReadTime(e.Xi(b.metadata.readTime)),h=h.insert(k,v)}const p=a.Gi.newChangeBuffer({trackRemovals:!0}),m=await ff(a,function(b){return eo(Rf(Dt.fromString(`__bundle__/docs/${b}`)))}(o));return a.persistence.runTransaction("Apply bundle documents","readwrite",b=>uW(b,p,h).next(k=>(p.apply(b),k)).next(k=>a.Cs.removeMatchingKeysForTargetId(b,m.targetId).next(()=>a.Cs.addMatchingKeys(b,u,m.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(b,k.Wi,k.zi)).next(()=>k.Wi)))}async function iSe(t,e,r=gt()){const o=await ff(t,eo(xM(e.bundledQuery))),a=Ne(t);return a.persistence.runTransaction("Save named query","readwrite",u=>{const h=ar(e.readTime);if(o.snapshotVersion.compareTo(h)>=0)return a.Ns.saveNamedQuery(u,e);const p=o.withResumeToken(kr.EMPTY_BYTE_STRING,h);return a.qi=a.qi.insert(p.targetId,p),a.Cs.updateTargetData(u,p).next(()=>a.Cs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Cs.addMatchingKeys(u,r,o.targetId)).next(()=>a.Ns.saveNamedQuery(u,e))})}function Gj(t,e){return`firestore_clients_${t}_${e}`}function Kj(t,e,r){let o=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Jx(t,e){return`firestore_targets_${t}_${e}`}class Ty{constructor(e,r,o,a){this.user=e,this.batchId=r,this.state=o,this.error=a}static Zi(e,r,o){const a=JSON.parse(o);let u,h=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return h&&a.error&&(h=typeof a.error.message=="string"&&typeof a.error.code=="string",h&&(u=new me(a.error.code,a.error.message))),h?new Ty(e,r,a.state,u):(or("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rm{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Zi(e,r){const o=JSON.parse(r);let a,u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string",u&&(a=new me(o.error.code,o.error.message))),u?new Rm(e,o.state,a):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iy{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Zi(e,r){const o=JSON.parse(r);let a=typeof o=="object"&&o.activeTargetIds instanceof Array,u=A0();for(let h=0;a&&h<o.activeTargetIds.length;++h)a=rq(o.activeTargetIds[h]),u=u.add(o.activeTargetIds[h]);return a?new Iy(e,u):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class NM{constructor(e,r){this.clientId=e,this.onlineState=r}static Zi(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new NM(r.clientId,r.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yI{constructor(){this.activeTargetIds=A0()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xx{constructor(e,r,o,a,u){this.window=e,this.Hs=r,this.persistenceKey=o,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new tr(pt),this.started=!1,this.cr=[];const h=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Gj(this.persistenceKey,this.sr),this.hr=function(p){return`firestore_sequence_number_${p}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new yI),this.lr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.wr=function(p){return`firestore_online_state_${p}`}(this.persistenceKey),this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const o of e){if(o===this.sr)continue;const a=this.getItem(Gj(this.persistenceKey,o));if(a){const u=Iy.Zi(o,a);u&&(this.ur=this.ur.insert(u.clientId,u))}}this.gr();const r=this.storage.getItem(this.wr);if(r){const o=this.yr(r);o&&this.pr(o)}for(const o of this.cr)this.rr(o);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let r=!1;return this.ur.forEach((o,a)=>{a.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,r,o){this.Tr(e,r,o),this.Er(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Jx(this.persistenceKey,e));if(o){const a=Rm.Zi(e,o);a&&(r=a.state)}}return this.Ar.er(e),this.gr(),r}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jx(this.persistenceKey,e))}updateQueryState(e,r,o){this.Rr(e,r,o)}handleUserChange(e,r,o){r.forEach(a=>{this.Er(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ge("SharedClientState","READ",e,r),r}setItem(e,r){ge("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const r=e;if(r.storageArea===this.storage){if(ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(r.key!==null){if(this.lr.test(r.key)){if(r.newValue==null){const o=this.vr(r.key);return this.Vr(o,null)}{const o=this.Sr(r.key,r.newValue);if(o)return this.Vr(o.clientId,o)}}else if(this.dr.test(r.key)){if(r.newValue!==null){const o=this.Dr(r.key,r.newValue);if(o)return this.Cr(o)}}else if(this._r.test(r.key)){if(r.newValue!==null){const o=this.Nr(r.key,r.newValue);if(o)return this.kr(o)}}else if(r.key===this.wr){if(r.newValue!==null){const o=this.yr(r.newValue);if(o)return this.pr(o)}}else if(r.key===this.hr){const o=function(a){let u=Ki.at;if(a!=null)try{const h=JSON.parse(a);Ze(typeof h=="number"),u=h}catch(h){or("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);o!==Ki.at&&this.sequenceNumberHandler(o)}else if(r.key===this.mr){const o=this.Or(r.newValue);await Promise.all(o.map(a=>this.syncEngine.Mr(a)))}}}else this.cr.push(r)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,r,o){const a=new Ty(this.currentUser,e,r,o),u=Kj(this.persistenceKey,this.currentUser,e);this.setItem(u,a.tr())}Er(e){const r=Kj(this.persistenceKey,this.currentUser,e);this.removeItem(r)}br(e){const r={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(r))}Rr(e,r,o){const a=Jx(this.persistenceKey,e),u=new Rm(e,r,o);this.setItem(a,u.tr())}Pr(e){const r=JSON.stringify(Array.from(e));this.setItem(this.mr,r)}vr(e){const r=this.lr.exec(e);return r?r[1]:null}Sr(e,r){const o=this.vr(e);return Iy.Zi(o,r)}Dr(e,r){const o=this.dr.exec(e),a=Number(o[1]),u=o[2]!==void 0?o[2]:null;return Ty.Zi(new Rr(u),a,r)}Nr(e,r){const o=this._r.exec(e),a=Number(o[1]);return Rm.Zi(a,r)}yr(e){return NM.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,r){const o=r?this.ur.insert(e,r):this.ur.remove(e),a=this.Ir(this.ur),u=this.Ir(o),h=[],p=[];return u.forEach(m=>{a.has(m)||h.push(m)}),a.forEach(m=>{u.has(m)||p.push(m)}),this.syncEngine.Br(h,p).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let r=A0();return e.forEach((o,a)=>{r=r.unionWith(a.activeTargetIds)}),r}}class pW{constructor(){this.Lr=new yI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,r,o){this.qr[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new yI,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oSe{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aSe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cSe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.oo=r+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,o,a,u){const h=this.ho(e,r);ge("RestConnection","Sending: ",h,o);const p={};return this.lo(p,a,u),this.fo(e,h,p,o).then(m=>(ge("RestConnection","Received: ",m),m),m=>{throw sf("RestConnection",`${e} failed with error: `,m,"url: ",h,"request:",o),m})}_o(e,r,o,a,u,h){return this.ao(e,r,o,a,u)}lo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}ho(e,r){const o=sSe[e];return`${this.oo}/v1/${r}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,o,a){return new Promise((u,h)=>{const p=new aEe;p.setWithCredentials(!0),p.listenOnce(iEe.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yx.NO_ERROR:const b=p.getResponseJson();ge("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Yx.TIMEOUT:ge("Connection",'RPC "'+e+'" timed out'),h(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Yx.HTTP_ERROR:const k=p.getStatus();if(ge("Connection",'RPC "'+e+'" failed with status:',k,"response text:",p.getResponseText()),k>0){let v=p.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const A=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(T)>=0?T:ee.UNKNOWN}(_.status);h(new me(A,_.message))}else h(new me(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ge("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(a);p.send(r,"POST",m,o,15)})}wo(e,r,o){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nEe(),h=rEe(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new sEe({})),this.lo(p.initMessageHeaders,r,o),p.encodeInitMessageHeaders=!0;const m=a.join("");ge("Connection","Creating WebChannel: "+m,p);const b=u.createWebChannel(m,p);let k=!1,v=!1;const _=new aSe({Hr:E=>{v?ge("Connection","Not sending because WebChannel is closed:",E):(k||(ge("Connection","Opening WebChannel transport."),b.open(),k=!0),ge("Connection","WebChannel sending:",E),b.send(E))},Jr:()=>b.close()}),A=(E,T,L)=>{E.listen(T,M=>{try{L(M)}catch(S){setTimeout(()=>{throw S},0)}})};return A(b,Ik.EventType.OPEN,()=>{v||ge("Connection","WebChannel transport opened.")}),A(b,Ik.EventType.CLOSE,()=>{v||(v=!0,ge("Connection","WebChannel transport closed"),_.io())}),A(b,Ik.EventType.ERROR,E=>{v||(v=!0,sf("Connection","WebChannel transport errored:",E),_.io(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),A(b,Ik.EventType.MESSAGE,E=>{var T;if(!v){const L=E.data[0];Ze(!!L);const M=L,S=M.error||((T=M[0])===null||T===void 0?void 0:T.error);if(S){ge("Connection","WebChannel received error:",S);const I=S.status;let R=function(V){const H=lr[V];if(H!==void 0)return Tq(H)}(I),j=S.message;R===void 0&&(R=ee.INTERNAL,j="Unknown error status: "+I+" with message "+S.message),v=!0,_.io(new me(R,j)),b.close()}else ge("Connection","WebChannel received:",L),_.ro(L)}}),A(h,oEe.STAT_EVENT,E=>{E.stat===oj.PROXY?ge("Connection","Detected buffering proxy"):E.stat===oj.NOPROXY&&ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{_.so()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(){return typeof window<"u"?window:null}function Av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return new XEe(t,!0)}class RM{constructor(e,r,o=1e3,a=1.5,u=6e4){this.Hs=e,this.timerId=r,this.mo=o,this.yo=a,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),a=Math.max(0,r-o);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,r,o,a,u,h,p,m){this.Hs=e,this.vo=o,this.Vo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new RM(e,r)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,r){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():r&&r.code===ee.RESOURCE_EXHAUSTED?(or(r.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):r&&r.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(r)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.So===r&&this.Go(o,a)},o=>{e(()=>{const a=new me(ee.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(a)})})}Go(e,r){const o=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{o(()=>this.Qo(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lSe extends gW{constructor(e,r,o,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,h),this.yt=u}jo(e,r){return this.connection.wo("Listen",e,r)}onMessage(e){this.xo.reset();const r=nxe(this.yt,e),o=function(a){if(!("targetChange"in a))return Xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?ar(u.readTime):Xe.min()}(e);return this.listener.Wo(r,o)}zo(e){const r={};r.database=Pg(this.yt),r.addTarget=function(a,u){let h;const p=u.target;return h=yy(p)?{documents:Fq(a,p)}:{query:jq(a,p)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=Rq(a,u.resumeToken):u.snapshotVersion.compareTo(Xe.min())>0&&(h.readTime=hf(a,u.snapshotVersion.toTimestamp())),h}(this.yt,e);const o=ixe(this.yt,e);o&&(r.labels=o),this.Bo(r)}Ho(e){const r={};r.database=Pg(this.yt),r.removeTarget=e,this.Bo(r)}}class uSe extends gW{constructor(e,r,o,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,h),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,r){return this.connection.wo("Write",e,r)}onMessage(e){if(Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=rxe(e.writeResults,e.commitTime),o=ar(e.commitTime);return this.listener.Zo(o,r)}return Ze(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pg(this.yt),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Mg(this.yt,o))};this.Bo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dSe extends class{}{constructor(e,r,o,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.yt=a,this.nu=!1}su(){if(this.nu)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.ao(e,r,o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ee.UNKNOWN,a.toString())})}_o(e,r,o,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection._o(e,r,o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class hSe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(or(r),this.ou=!1):ge("OnlineStateTracker",r)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fSe{constructor(e,r,o,a,u){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(h=>{o.enqueueAndForget(async()=>{xl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=Ne(p);m._u.add(4),await Bf(m),m.gu.set("Unknown"),m._u.delete(4),await Cb(m)}(this))})}),this.gu=new hSe(o,a)}}async function Cb(t){if(xl(t))for(const e of t.wu)await e(!0)}async function Bf(t){for(const e of t.wu)await e(!1)}function S0(t,e){const r=Ne(t);r.du.has(e.targetId)||(r.du.set(e.targetId,e),BM(r)?LM(r):Ff(r).ko()&&OM(r,e))}function Ng(t,e){const r=Ne(t),o=Ff(r);r.du.delete(e),o.ko()&&bW(r,e),r.du.size===0&&(o.ko()?o.Fo():xl(r)&&r.gu.set("Unknown"))}function OM(t,e){t.yu.Ot(e.targetId),Ff(t).zo(e)}function bW(t,e){t.yu.Ot(e),Ff(t).Ho(e)}function LM(t){t.yu=new YEe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Ff(t).start(),t.gu.uu()}function BM(t){return xl(t)&&!Ff(t).No()&&t.du.size>0}function xl(t){return Ne(t)._u.size===0}function wW(t){t.yu=void 0}async function pSe(t){t.du.forEach((e,r)=>{OM(t,e)})}async function mSe(t,e){wW(t),BM(t)?(t.gu.hu(e),LM(t)):t.gu.set("Unknown")}async function gSe(t,e,r){if(t.gu.set("Online"),e instanceof Nq&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.du.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.du.delete(h),o.yu.removeTarget(h))}(t,e)}catch(o){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Dy(t,o)}else if(e instanceof yv?t.yu.Kt(e):e instanceof Mq?t.yu.Jt(e):t.yu.jt(e),!r.isEqual(Xe.min()))try{const o=await lW(t.localStore);r.compareTo(o)>=0&&await function(a,u){const h=a.yu.Zt(u);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=a.du.get(m);b&&a.du.set(m,b.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach(p=>{const m=a.du.get(p);if(!m)return;a.du.set(p,m.withResumeToken(kr.EMPTY_BYTE_STRING,m.snapshotVersion)),bW(a,p);const b=new Gc(m.target,p,1,m.sequenceNumber);OM(a,b)}),a.remoteSyncer.applyRemoteEvent(h)}(t,r)}catch(o){ge("RemoteStore","Failed to raise snapshot:",o),await Dy(t,o)}}async function Dy(t,e,r){if(!Cl(e))throw e;t._u.add(1),await Bf(t),t.gu.set("Offline"),r||(r=()=>lW(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await r(),t._u.delete(1),await Cb(t)})}function kW(t,e){return e().catch(r=>Dy(t,r,e))}async function zf(t){const e=Ne(t),r=al(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;bSe(e);)try{const a=await nSe(e.localStore,o);if(a===null){e.fu.length===0&&r.Fo();break}o=a.batchId,wSe(e,a)}catch(a){await Dy(e,a)}vW(e)&&yW(e)}function bSe(t){return xl(t)&&t.fu.length<10}function wSe(t,e){t.fu.push(e);const r=al(t);r.ko()&&r.Yo&&r.Xo(e.mutations)}function vW(t){return xl(t)&&!al(t).No()&&t.fu.length>0}function yW(t){al(t).start()}async function kSe(t){al(t).eu()}async function vSe(t){const e=al(t);for(const r of t.fu)e.Xo(r.mutations)}async function ySe(t,e,r){const o=t.fu.shift(),a=CM.from(o,e,r);await kW(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await zf(t)}async function _Se(t,e){e&&al(t).Yo&&await async function(r,o){if(a=o.code,Sq(a)&&a!==ee.ABORTED){const u=r.fu.shift();al(r).Mo(),await kW(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await zf(r)}var a}(t,e),vW(t)&&yW(t)}async function Qj(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const o=xl(r);r._u.add(3),await Bf(r),o&&r.gu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),await Cb(r)}async function _I(t,e){const r=Ne(t);e?(r._u.delete(2),await Cb(r)):e||(r._u.add(2),await Bf(r),r.gu.set("Unknown"))}function Ff(t){return t.pu||(t.pu=function(e,r,o){const a=Ne(e);return a.su(),new lSe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,o)}(t.datastore,t.asyncQueue,{Yr:pSe.bind(null,t),Zr:mSe.bind(null,t),Wo:gSe.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),BM(t)?LM(t):t.gu.set("Unknown")):(await t.pu.stop(),wW(t))})),t.pu}function al(t){return t.Iu||(t.Iu=function(e,r,o){const a=Ne(e);return a.su(),new uSe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,o)}(t.datastore,t.asyncQueue,{Yr:kSe.bind(null,t),Zr:_Se.bind(null,t),tu:vSe.bind(null,t),Zo:ySe.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await zf(t)):(await t.Iu.stop(),t.fu.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,r,o,a,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,r,o,a,u){const h=Date.now()+o,p=new zM(e,r,h,a,u);return p.start(o),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jf(t,e){if(or("AsyncQueue",`${e}: ${t}`),Cl(t))return new me(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ie.comparator(r.key,o.key):(r,o)=>Ie.comparator(r.key,o.key),this.keyedMap=hm(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Vh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Vh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.Tu=new tr(Ie.comparator)}track(e){const r=e.doc.key,o=this.Tu.get(r);o?e.type!==0&&o.type===3?this.Tu=this.Tu.insert(r,e):e.type===3&&o.type!==1?this.Tu=this.Tu.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Tu=this.Tu.remove(r):e.type===1&&o.type===2?this.Tu=this.Tu.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):Ue():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,o)=>{e.push(o)}),e}}class mf{constructor(e,r,o,a,u,h,p,m,b){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=b}static fromInitialDocuments(e,r,o,a,u){const h=[];return r.forEach(p=>{h.push({type:0,doc:p})}),new mf(e,r,Vh.emptySet(r),h,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe{constructor(){this.Au=void 0,this.listeners=[]}}class CSe{constructor(){this.queries=new El(e=>mq(e),kb),this.onlineState="Unknown",this.Ru=new Set}}async function FM(t,e){const r=Ne(t),o=e.query;let a=!1,u=r.queries.get(o);if(u||(a=!0,u=new ASe),a)try{u.Au=await r.onListen(o)}catch(h){const p=jf(h,`Initialization of query '${pI(e.query)}' failed`);return void e.onError(p)}r.queries.set(o,u),u.listeners.push(e),e.bu(r.onlineState),u.Au&&e.Pu(u.Au)&&VM(r)}async function jM(t,e){const r=Ne(t),o=e.query;let a=!1;const u=r.queries.get(o);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),a=u.listeners.length===0)}if(a)return r.queries.delete(o),r.onUnlisten(o)}function ESe(t,e){const r=Ne(t);let o=!1;for(const a of e){const u=a.query,h=r.queries.get(u);if(h){for(const p of h.listeners)p.Pu(a)&&(o=!0);h.Au=a}}o&&VM(r)}function xSe(t,e,r){const o=Ne(t),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(r);o.queries.delete(e)}function VM(t){t.Ru.forEach(e=>{e.next()})}class UM{constructor(e,r,o){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new mf(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){if(!e.fromCache)return!0;const o=r!=="Offline";return(!this.options.Nu||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const r=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}xu(e){e=mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SSe{constructor(e,r){this.ku=e,this.byteLength=r}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.yt=e}Ji(e){return Ys(this.yt,e)}Yi(e){return e.metadata.exists?zq(this.yt,e.document,!1):yn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ar(e)}}class TSe{constructor(e,r,o){this.Mu=e,this.localStore=r,this.yt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_W(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++r;const o=Dt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}$u(e){const r=new Map,o=new Jj(this.yt);for(const a of e)if(a.metadata.queries){const u=o.Ji(a.metadata.name);for(const h of a.metadata.queries){const p=(r.get(h)||gt()).add(u);r.set(h,p)}}return r}async complete(){const e=await rSe(this.localStore,new Jj(this.yt),this.documents,this.Mu.id),r=this.$u(this.documents);for(const o of this.queries)await iSe(this.localStore,o,r.get(o.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function _W(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e){this.key=e}}class CW{constructor(e){this.key=e}}class EW{constructor(e,r){this.query=e,this.qu=r,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=gt(),this.mutatedKeys=gt(),this.Gu=bq(e),this.Qu=new Vh(this.Gu)}get ju(){return this.qu}Wu(e,r){const o=r?r.zu:new Zj,a=r?r.Qu:this.Qu;let u=r?r.mutatedKeys:this.mutatedKeys,h=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,b=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((k,v)=>{const _=a.get(k),A=vM(this.query,v)?v:null,E=!!_&&this.mutatedKeys.has(_.key),T=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;_&&A?_.data.isEqual(A.data)?E!==T&&(o.track({type:3,doc:A}),L=!0):this.Hu(_,A)||(o.track({type:2,doc:A}),L=!0,(m&&this.Gu(A,m)>0||b&&this.Gu(A,b)<0)&&(p=!0)):!_&&A?(o.track({type:0,doc:A}),L=!0):_&&!A&&(o.track({type:1,doc:_}),L=!0,(m||b)&&(p=!0)),L&&(A?(h=h.add(A),u=T?u.add(k):u.delete(k)):(h=h.delete(k),u=u.delete(k)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const k=this.query.limitType==="F"?h.last():h.first();h=h.delete(k.key),u=u.delete(k.key),o.track({type:1,doc:k})}return{Qu:h,zu:o,$i:p,mutatedKeys:u}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((b,k)=>function(v,_){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return A(v)-A(_)}(b.type,k.type)||this.Gu(b.doc,k.doc)),this.Ju(o);const h=r?this.Yu():[],p=this.Ku.size===0&&this.current?1:0,m=p!==this.Uu;return this.Uu=p,u.length!==0||m?{snapshot:new mf(this.query,e.Qu,a,u,e.mutatedKeys,p===0,m,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:h}:{Xu:h}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Zj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.qu=this.qu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qu=this.qu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=gt(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const r=[];return e.forEach(o=>{this.Ku.has(o)||r.push(new CW(o))}),this.Ku.forEach(o=>{e.has(o)||r.push(new AW(o))}),r}tc(e){this.qu=e.Hi,this.Ku=gt();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return mf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class ISe{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class DSe{constructor(e){this.key=e,this.nc=!1}}class PSe{constructor(e,r,o,a,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.sc={},this.ic=new El(p=>mq(p),kb),this.rc=new Map,this.oc=new Set,this.uc=new tr(Ie.comparator),this.cc=new Map,this.ac=new IM,this.hc={},this.lc=new Map,this.fc=sd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function MSe(t,e){const r=GM(t);let o,a;const u=r.ic.get(e);if(u)o=u.targetId,r.sharedClientState.addLocalQueryTarget(o),a=u.view.ec();else{const h=await ff(r.localStore,eo(e));r.isPrimaryClient&&S0(r.remoteStore,h);const p=r.sharedClientState.addLocalQueryTarget(h.targetId);o=h.targetId,a=await $M(r,e,o,p==="current",h.resumeToken)}return a}async function $M(t,e,r,o,a){t._c=(v,_,A)=>async function(E,T,L,M){let S=T.view.Wu(L);S.$i&&(S=await Sy(E.localStore,T.query,!1).then(({documents:j})=>T.view.Wu(j,S)));const I=M&&M.targetChanges.get(T.targetId),R=T.view.applyChanges(S,E.isPrimaryClient,I);return AI(E,T.targetId,R.Xu),R.snapshot}(t,v,_,A);const u=await Sy(t.localStore,e,!0),h=new EW(e,u.Hi),p=h.Wu(u.documents),m=_b.createSynthesizedTargetChangeForCurrentChange(r,o&&t.onlineState!=="Offline",a),b=h.applyChanges(p,t.isPrimaryClient,m);AI(t,r,b.Xu);const k=new ISe(e,r,h);return t.ic.set(e,k),t.rc.has(r)?t.rc.get(r).push(e):t.rc.set(r,[e]),b.snapshot}async function NSe(t,e){const r=Ne(t),o=r.ic.get(e),a=r.rc.get(o.targetId);if(a.length>1)return r.rc.set(o.targetId,a.filter(u=>!kb(u,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await pf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Ng(r.remoteStore,o.targetId),gf(r,o.targetId)}).catch(Al)):(gf(r,o.targetId),await pf(r.localStore,o.targetId,!0))}async function RSe(t,e,r){const o=KM(t);try{const a=await function(u,h){const p=Ne(u),m=Nn.now(),b=h.reduce((_,A)=>_.add(A.key),gt());let k,v;return p.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=Qi(),E=gt();return p.Gi.getEntries(_,b).next(T=>{A=T,A.forEach((L,M)=>{M.isValidDocument()||(E=E.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(_,A)).next(T=>{k=T;const L=[];for(const M of h){const S=$Ee(M,k.get(M.key).overlayedDocument);S!=null&&L.push(new Ja(M.key,S,fq(S.value.mapValue),Mn.exists(!0)))}return p.mutationQueue.addMutationBatch(_,m,L,h)}).next(T=>{v=T;const L=T.applyToLocalDocumentSet(k,E);return p.documentOverlayCache.saveOverlays(_,T.batchId,L)})}).then(()=>({batchId:v.batchId,changes:Dq(k)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,h,p){let m=u.hc[u.currentUser.toKey()];m||(m=new tr(pt)),m=m.insert(h,p),u.hc[u.currentUser.toKey()]=m}(o,a.batchId,r),await Xa(o,a.changes),await zf(o.remoteStore)}catch(a){const u=jf(a,"Failed to persist write");r.reject(u)}}async function xW(t,e){const r=Ne(t);try{const o=await tSe(r.localStore,e);e.targetChanges.forEach((a,u)=>{const h=r.cc.get(u);h&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.nc=!0:a.modifiedDocuments.size>0?Ze(h.nc):a.removedDocuments.size>0&&(Ze(h.nc),h.nc=!1))}),await Xa(r,o,e)}catch(o){await Al(o)}}function Xj(t,e,r){const o=Ne(t);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.ic.forEach((u,h)=>{const p=h.view.bu(e);p.snapshot&&a.push(p.snapshot)}),function(u,h){const p=Ne(u);p.onlineState=h;let m=!1;p.queries.forEach((b,k)=>{for(const v of k.listeners)v.bu(h)&&(m=!0)}),m&&VM(p)}(o.eventManager,e),a.length&&o.sc.Wo(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function OSe(t,e,r){const o=Ne(t);o.sharedClientState.updateQueryState(e,"rejected",r);const a=o.cc.get(e),u=a&&a.key;if(u){let h=new tr(Ie.comparator);h=h.insert(u,yn.newNoDocument(u,Xe.min()));const p=gt().add(u),m=new yb(Xe.min(),new Map,new on(pt),h,p);await xW(o,m),o.uc=o.uc.remove(u),o.cc.delete(e),WM(o)}else await pf(o.localStore,e,!1).then(()=>gf(o,e,r)).catch(Al)}async function LSe(t,e){const r=Ne(t),o=e.batch.batchId;try{const a=await eSe(r.localStore,e);qM(r,o,null),HM(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await Xa(r,a)}catch(a){await Al(a)}}async function BSe(t,e,r){const o=Ne(t);try{const a=await function(u,h){const p=Ne(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return p.mutationQueue.lookupMutationBatch(m,h).next(k=>(Ze(k!==null),b=k.keys(),p.mutationQueue.removeMutationBatch(m,k))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,b,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b)).next(()=>p.localDocuments.getDocuments(m,b))})}(o.localStore,e);qM(o,e,r),HM(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await Xa(o,a)}catch(a){await Al(a)}}async function zSe(t,e){const r=Ne(t);xl(r.remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=await function(u){const h=Ne(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.mutationQueue.getHighestUnacknowledgedBatchId(p))}(r.localStore);if(o===-1)return void e.resolve();const a=r.lc.get(o)||[];a.push(e),r.lc.set(o,a)}catch(o){const a=jf(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function HM(t,e){(t.lc.get(e)||[]).forEach(r=>{r.resolve()}),t.lc.delete(e)}function qM(t,e,r){const o=Ne(t);let a=o.hc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(r?u.reject(r):u.resolve(),a=a.remove(e)),o.hc[o.currentUser.toKey()]=a}}function gf(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const o of t.rc.get(e))t.ic.delete(o),r&&t.sc.wc(o,r);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(o=>{t.ac.containsKey(o)||SW(t,o)})}function SW(t,e){t.oc.delete(e.path.canonicalString());const r=t.uc.get(e);r!==null&&(Ng(t.remoteStore,r),t.uc=t.uc.remove(e),t.cc.delete(r),WM(t))}function AI(t,e,r){for(const o of r)o instanceof AW?(t.ac.addReference(o.key,e),FSe(t,o)):o instanceof CW?(ge("SyncEngine","Document no longer in limbo: "+o.key),t.ac.removeReference(o.key,e),t.ac.containsKey(o.key)||SW(t,o.key)):Ue()}function FSe(t,e){const r=e.key,o=r.path.canonicalString();t.uc.get(r)||t.oc.has(o)||(ge("SyncEngine","New document in limbo: "+r),t.oc.add(o),WM(t))}function WM(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const r=new Ie(Dt.fromString(e)),o=t.fc.next();t.cc.set(o,new DSe(r)),t.uc=t.uc.insert(r,o),S0(t.remoteStore,new Gc(eo(Rf(r.path)),o,2,Ki.at))}}async function Xa(t,e,r){const o=Ne(t),a=[],u=[],h=[];o.ic.isEmpty()||(o.ic.forEach((p,m)=>{h.push(o._c(m,e,r).then(b=>{if((b||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(m.targetId,b!=null&&b.fromCache?"not-current":"current"),b){a.push(b);const k=MM.Ci(m.targetId,b);u.push(k)}}))}),await Promise.all(h),o.sc.Wo(a),await async function(p,m){const b=Ne(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Q.forEach(m,v=>Q.forEach(v.Si,_=>b.persistence.referenceDelegate.addReference(k,v.targetId,_)).next(()=>Q.forEach(v.Di,_=>b.persistence.referenceDelegate.removeReference(k,v.targetId,_)))))}catch(k){if(!Cl(k))throw k;ge("LocalStore","Failed to update sequence numbers: "+k)}for(const k of m){const v=k.targetId;if(!k.fromCache){const _=b.qi.get(v),A=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(A);b.qi=b.qi.insert(v,E)}}}(o.localStore,u))}async function jSe(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const o=await cW(r.localStore,e);r.currentUser=e,function(a,u){a.lc.forEach(h=>{h.forEach(p=>{p.reject(new me(ee.CANCELLED,u))})}),a.lc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Xa(r,o.ji)}}function VSe(t,e){const r=Ne(t),o=r.cc.get(e);if(o&&o.nc)return gt().add(o.key);{let a=gt();const u=r.rc.get(e);if(!u)return a;for(const h of u){const p=r.ic.get(h);a=a.unionWith(p.view.ju)}return a}}async function USe(t,e){const r=Ne(t),o=await Sy(r.localStore,e.query,!0),a=e.view.tc(o);return r.isPrimaryClient&&AI(r,e.targetId,a.Xu),a}async function $Se(t,e){const r=Ne(t);return hW(r.localStore,e).then(o=>Xa(r,o))}async function HSe(t,e,r,o){const a=Ne(t),u=await function(h,p){const m=Ne(h),b=Ne(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",k=>b.Tn(k,p).next(v=>v?m.localDocuments.getDocuments(k,v):Q.resolve(null)))}(a.localStore,e);u!==null?(r==="pending"?await zf(a.remoteStore):r==="acknowledged"||r==="rejected"?(qM(a,e,o||null),HM(a,e),function(h,p){Ne(Ne(h).mutationQueue).An(p)}(a.localStore,e)):Ue(),await Xa(a,u)):ge("SyncEngine","Cannot apply mutation batch with id: "+e)}async function qSe(t,e){const r=Ne(t);if(GM(r),KM(r),e===!0&&r.dc!==!0){const o=r.sharedClientState.getAllActiveQueryTargets(),a=await eV(r,o.toArray());r.dc=!0,await _I(r.remoteStore,!0);for(const u of a)S0(r.remoteStore,u)}else if(e===!1&&r.dc!==!1){const o=[];let a=Promise.resolve();r.rc.forEach((u,h)=>{r.sharedClientState.isLocalQueryTarget(h)?o.push(h):a=a.then(()=>(gf(r,h),pf(r.localStore,h,!0))),Ng(r.remoteStore,h)}),await a,await eV(r,o),function(u){const h=Ne(u);h.cc.forEach((p,m)=>{Ng(h.remoteStore,m)}),h.ac.fs(),h.cc=new Map,h.uc=new tr(Ie.comparator)}(r),r.dc=!1,await _I(r.remoteStore,!1)}}async function eV(t,e,r){const o=Ne(t),a=[],u=[];for(const h of e){let p;const m=o.rc.get(h);if(m&&m.length!==0){p=await ff(o.localStore,eo(m[0]));for(const b of m){const k=o.ic.get(b),v=await USe(o,k);v.snapshot&&u.push(v.snapshot)}}else{const b=await dW(o.localStore,h);p=await ff(o.localStore,b),await $M(o,TW(b),h,!1,p.resumeToken)}a.push(p)}return o.sc.Wo(u),a}function TW(t){return pq(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function WSe(t){const e=Ne(t);return Ne(Ne(e.localStore).persistence).vi()}async function GSe(t,e,r,o){const a=Ne(t);if(a.dc)return void ge("SyncEngine","Ignoring unexpected query state notification.");const u=a.rc.get(e);if(u&&u.length>0)switch(r){case"current":case"not-current":{const h=await hW(a.localStore,gq(u[0])),p=yb.createSynthesizedRemoteEventForCurrentChange(e,r==="current",kr.EMPTY_BYTE_STRING);await Xa(a,h,p);break}case"rejected":await pf(a.localStore,e,!0),gf(a,e,o);break;default:Ue()}}async function KSe(t,e,r){const o=GM(t);if(o.dc){for(const a of e){if(o.rc.has(a)){ge("SyncEngine","Adding an already active target "+a);continue}const u=await dW(o.localStore,a),h=await ff(o.localStore,u);await $M(o,TW(u),h.targetId,!1,h.resumeToken),S0(o.remoteStore,h)}for(const a of r)o.rc.has(a)&&await pf(o.localStore,a,!1).then(()=>{Ng(o.remoteStore,a),gf(o,a)}).catch(Al)}}function GM(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OSe.bind(null,e),e.sc.Wo=ESe.bind(null,e.eventManager),e.sc.wc=xSe.bind(null,e.eventManager),e}function KM(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BSe.bind(null,e),e}function YSe(t,e,r){const o=Ne(t);(async function(a,u,h){try{const p=await u.getMetadata();if(await function(v,_){const A=Ne(v),E=ar(_.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",T=>A.Ns.getBundleMetadata(T,_.id)).then(T=>!!T&&T.createTime.compareTo(E)>=0)}(a.localStore,p))return await u.close(),h._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(p)),Promise.resolve(new Set);h._updateProgress(_W(p));const m=new TSe(p,a.localStore,u.yt);let b=await u.mc();for(;b;){const v=await m.Fu(b);v&&h._updateProgress(v),b=await u.mc()}const k=await m.complete();return await Xa(a,k.Lu,void 0),await function(v,_){const A=Ne(v);return A.persistence.runTransaction("Save bundle","readwrite",E=>A.Ns.saveBundleMetadata(E,_))}(a.localStore,p),h._completeWith(k.progress),Promise.resolve(k.Bu)}catch(p){return sf("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}})(o,e,r).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}class IW{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Ab(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return aW(this.persistence,new sW,e.initialUser,this.yt)}yc(e){return new oW(x0.Bs,this.yt)}gc(e){return new pW}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DW extends IW{constructor(e,r,o){super(),this.Ac=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await KM(this.Ac.syncEngine),await zf(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return aW(this.persistence,new sW,e.initialUser,this.yt)}Tc(e,r){const o=this.persistence.referenceDelegate.garbageCollector;return new Fxe(o,e.asyncQueue,r)}Ec(e,r){const o=new AEe(r,this.persistence);return new _Ee(e.asyncQueue,o)}yc(e){const r=PM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new DM(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,mW(),Av(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new pW}}class QSe extends DW{constructor(e,r){super(e,r,!1),this.Ac=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ac.syncEngine;this.sharedClientState instanceof Xx&&(this.sharedClientState.syncEngine={Fr:HSe.bind(null,r),$r:GSe.bind(null,r),Br:KSe.bind(null,r),vi:WSe.bind(null,r),Mr:$Se.bind(null,r)},await this.sharedClientState.start()),await this.persistence.li(async o=>{await qSe(this.Ac.syncEngine,o),this.gcScheduler&&(o&&!this.gcScheduler.started?this.gcScheduler.start():o||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(o&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():o||this.indexBackfillerScheduler.stop())})}gc(e){const r=mW();if(!Xx.C(r))throw new me(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=PM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xx(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class YM{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Xj(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=jSe.bind(null,this.syncEngine),await _I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new CSe}createDatastore(e){const r=Ab(e.databaseInfo.databaseId),o=(a=e.databaseInfo,new cSe(a));var a;return function(u,h,p,m){return new dSe(u,h,p,m)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,a=e.asyncQueue,u=p=>Xj(this.syncEngine,p,0),h=Yj.C()?new Yj:new oSe,new fSe(r,o,a,u,h);var r,o,a,u,h}createSyncEngine(e,r){return function(o,a,u,h,p,m,b){const k=new PSe(o,a,u,h,p,m);return b&&(k.dc=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=Ne(e);ge("RemoteStore","RemoteStore shutting down."),r._u.add(5),await Bf(r),r.mu.shutdown(),r.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t,e,r){if(!r)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PW(t,e,r,o){if(e===!0&&o===!0)throw new me(ee.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function tV(t){if(!Ie.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nV(t){if(Ie.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function Ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=T0(t);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function MW(t,e){if(e<=0)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new Map;class iV{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,PW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,r,o,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iV(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uEe;switch(r.type){case"gapi":const o=r.client;return new pEe(o,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=rV.get(e);r&&(ge("ComponentProvider","Removing Datastore"),rV.delete(e),r.terminate())}(this),Promise.resolve()}}function ZSe(t,e,r,o={}){var a;const u=(t=Ot(t,Eb))._getSettings();if(u.host!=="firestore.googleapis.com"&&u.host!==e&&sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let h,p;if(typeof o.mockUserToken=="string")h=o.mockUserToken,p=Rr.MOCK_USER;else{h=NH(o.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const m=o.mockUserToken.sub||o.mockUserToken.user_id;if(!m)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rr(m)}t._authCredentials=new dEe(new K9(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class oi{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class Qs extends oi{constructor(e,r,o){super(e,r,Rf(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Ie(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function ZM(t,e,...r){if(t=Ke(t),QM("collection","path",e),t instanceof Eb){const o=Dt.fromString(e,...r);return nV(o),new Qs(t,null,o)}{if(!(t instanceof Cn||t instanceof Qs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(Dt.fromString(e,...r));return nV(o),new Qs(t.firestore,null,o)}}function JSe(t,e){if(t=Ot(t,Eb),QM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oi(t,null,function(r){return new Za(Dt.emptyPath(),r)}(e))}function Py(t,e,...r){if(t=Ke(t),arguments.length===1&&(e=Y9.R()),QM("doc","path",e),t instanceof Eb){const o=Dt.fromString(e,...r);return tV(o),new Cn(t,null,new Ie(o))}{if(!(t instanceof Cn||t instanceof Qs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(Dt.fromString(e,...r));return tV(o),new Cn(t.firestore,t instanceof Qs?t.converter:null,new Ie(o))}}function NW(t,e){return t=Ke(t),e=Ke(e),(t instanceof Cn||t instanceof Qs)&&(e instanceof Cn||e instanceof Qs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function RW(t,e){return t=Ke(t),e=Ke(e),t instanceof oi&&e instanceof oi&&t.firestore===e.firestore&&kb(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const o={value:t.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XSe{constructor(e,r){this.Pc=e,this.yt=r,this.metadata=new Lr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(o==null?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const r=this.vc.decode(e),o=Number(r);isNaN(o)&&this.Dc(`length string (${r}) is not valid number`);const a=await this.Cc(o);return new SSe(JSON.parse(a),e.length+o)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const r=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eTe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new me(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=await async function(o,a){const u=Ne(o),h=Pg(u.yt)+"/documents",p={documents:a.map(v=>Dg(u.yt,v))},m=await u._o("BatchGetDocuments",h,p,a.length),b=new Map;m.forEach(v=>{const _=txe(u.yt,v);b.set(_.key.toString(),_)});const k=[];return a.forEach(v=>{const _=b.get(v.toString());Ze(!!_),k.push(_)}),k}(this.datastore,e);return r.forEach(o=>this.recordVersion(o)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const a=Ie.fromPath(o);this.mutations.push(new yM(a,this.precondition(a)))}),await async function(r,o){const a=Ne(r),u=Pg(a.yt)+"/documents",h={writes:o.map(p=>Mg(a.yt,p))};await a.ao("Commit",u,h)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Ue();r=Xe.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new me(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Xe.min())?Mn.exists(!1):Mn.updateTime(r):Mn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Xe.min()))throw new me(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(r)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tTe{constructor(e,r,o,a,u){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=a,this.deferred=u,this.kc=o.maxAttempts,this.xo=new RM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new eTe(this.datastore),r=this.Mc(e);r&&r.then(o=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(o)}).catch(a=>{this.Fc(a)}))}).catch(o=>{this.Fc(o)})})}Mc(e){try{const r=this.updateFunction(e);return!bb(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!Sq(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nTe{constructor(e,r,o,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Rr.UNAUTHENTICATED,this.clientId=Y9.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async u=>{ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(o,u=>(ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=jf(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function OW(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let o=r.initialUser;t.setCredentialChangeListener(async a=>{o.isEqual(a)||(await cW(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function LW(t,e){t.asyncQueue.verifyOperationInProgress();const r=await JM(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const o=await t.getConfiguration();await e.initialize(r,o),t.setCredentialChangeListener(a=>Qj(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,u)=>Qj(e.remoteStore,u)),t.onlineComponents=e}async function JM(t){return t.offlineComponents||(ge("FirestoreClient","Using default OfflineComponentProvider"),await OW(t,new IW)),t.offlineComponents}async function D0(t){return t.onlineComponents||(ge("FirestoreClient","Using default OnlineComponentProvider"),await LW(t,new YM)),t.onlineComponents}function BW(t){return JM(t).then(e=>e.persistence)}function XM(t){return JM(t).then(e=>e.localStore)}function zW(t){return D0(t).then(e=>e.remoteStore)}function eN(t){return D0(t).then(e=>e.syncEngine)}function rTe(t){return D0(t).then(e=>e.datastore)}async function bf(t){const e=await D0(t),r=e.eventManager;return r.onListen=MSe.bind(null,e.syncEngine),r.onUnlisten=NSe.bind(null,e.syncEngine),r}function iTe(t){return t.asyncQueue.enqueue(async()=>{const e=await BW(t),r=await zW(t);return e.setNetworkEnabled(!0),function(o){const a=Ne(o);return a._u.delete(0),Cb(a)}(r)})}function oTe(t){return t.asyncQueue.enqueue(async()=>{const e=await BW(t),r=await zW(t);return e.setNetworkEnabled(!1),async function(o){const a=Ne(o);a._u.add(0),await Bf(a),a.gu.set("Offline")}(r)})}function sTe(t,e){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>async function(o,a,u){try{const h=await function(p,m){const b=Ne(p);return b.persistence.runTransaction("read document","readonly",k=>b.localDocuments.getDocument(k,m))}(o,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new me(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=jf(h,`Failed to get document '${a} from cache`);u.reject(p)}}(await XM(t),e,r)),r.promise}function FW(t,e,r={}){const o=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,p,m){const b=new I0({next:v=>{u.enqueueAndForget(()=>jM(a,k));const _=v.docs.has(h);!_&&v.fromCache?m.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&p&&p.source==="server"?m.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),k=new UM(Rf(h.path),b,{includeMetadataChanges:!0,Nu:!0});return FM(a,k)}(await bf(t),t.asyncQueue,e,r,o)),o.promise}function aTe(t,e){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>async function(o,a,u){try{const h=await Sy(o,a,!0),p=new EW(a,h.Hi),m=p.Wu(h.documents),b=p.applyChanges(m,!1);u.resolve(b.snapshot)}catch(h){const p=jf(h,`Failed to execute query '${a} against cache`);u.reject(p)}}(await XM(t),e,r)),r.promise}function jW(t,e,r={}){const o=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,p,m){const b=new I0({next:v=>{u.enqueueAndForget(()=>jM(a,k)),v.fromCache&&p.source==="server"?m.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),k=new UM(h,b,{includeMetadataChanges:!0,Nu:!0});return FM(a,k)}(await bf(t),t.asyncQueue,e,r,o)),o.promise}function cTe(t,e){const r=new I0(e);return t.asyncQueue.enqueueAndForget(async()=>function(o,a){Ne(o).Ru.add(a),a.next()}(await bf(t),r)),()=>{r.bc(),t.asyncQueue.enqueueAndForget(async()=>function(o,a){Ne(o).Ru.delete(a)}(await bf(t),r))}}function lTe(t,e,r,o){const a=function(u,h){let p;return p=typeof u=="string"?new TextEncoder().encode(u):u,function(m,b){return new XSe(m,b)}(function(m,b){if(m instanceof Uint8Array)return oV(m,b);if(m instanceof ArrayBuffer)return oV(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),h)}(r,Ab(e));t.asyncQueue.enqueueAndForget(async()=>{YSe(await eN(t),a,o)})}function uTe(t,e){return t.asyncQueue.enqueue(async()=>function(r,o){const a=Ne(r);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ns.getNamedQuery(u,o))}(await XM(t),e))}class dTe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new RM(this,"async_queue_retry"),this.Wc=()=>{const r=Av();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.Po()};const e=Av();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const r=Av();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const r=new Lr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Cl(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{this.Kc=o,this.Gc=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(o);throw or("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Gc=!1,o))));return this.Bc=r,r}enqueueAfterDelay(e,r,o){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const a=zM.createAndSchedule(this,e,r,o,u=>this.Yc(u));return this.Uc.push(a),a}zc(){this.Kc&&Ue()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}function CI(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(t,["next","error","complete"])}class hTe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fTe=-1;class nr extends Eb{constructor(e,r,o,a){super(e,r,o,a),this.type="firestore",this._queue=new dTe,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VW(this),this._firestoreClient.terminate()}}function Ur(t){return t._firestoreClient||VW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VW(t){var e;const r=t._freezeSettings(),o=function(a,u,h,p){return new CEe(a,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new nTe(t._authCredentials,t._appCheckCredentials,t._queue,o)}function pTe(t,e){$W(t=Ot(t,nr));const r=Ur(t),o=t._freezeSettings(),a=new YM;return UW(r,a,new DW(a,o.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function mTe(t){$W(t=Ot(t,nr));const e=Ur(t),r=t._freezeSettings(),o=new YM;return UW(e,o,new QSe(o,r.cacheSizeBytes))}function UW(t,e,r){const o=new Lr;return t.asyncQueue.enqueue(async()=>{try{await OW(t,r),await LW(t,e),o.resolve()}catch(a){const u=a;if(!function(h){return h.name==="FirebaseError"?h.code===ee.FAILED_PRECONDITION||h.code===ee.UNIMPLEMENTED:typeof DOMException<"u"&&h instanceof DOMException?h.code===22||h.code===20||h.code===11:!0}(u))throw u;sf("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}}).then(()=>o.promise)}function gTe(t){if(t._initialized&&!t._terminated)throw new me(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!cs.C())return Promise.resolve();const o=r+"main";await cs.delete(o)}(PM(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}}),e.promise}function bTe(t){return function(e){const r=new Lr;return e.asyncQueue.enqueueAndForget(async()=>zSe(await eN(e),r)),r.promise}(Ur(t=Ot(t,nr)))}function wTe(t){return iTe(Ur(t=Ot(t,nr)))}function kTe(t){return oTe(Ur(t=Ot(t,nr)))}function vTe(t,e){const r=Ur(t=Ot(t,nr)),o=new hTe;return lTe(r,t._databaseId,e,o),o}function yTe(t,e){return uTe(Ur(t=Ot(t,nr)),e).then(r=>r?new oi(t,null,r.query):null)}function $W(t){if(t._initialized||t._terminated)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(kr.fromBase64String(e))}catch(r){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ta(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Te=/^__.*__$/;class ATe{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,r,this.fieldTransforms):new Of(e,this.data,r,this.fieldTransforms)}}let HW=class{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Ja(e,this.data,this.fieldMask,r,this.fieldTransforms)}};function qW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class M0{constructor(e,r,o,a,u,h){this.settings=e,this.databaseId=r,this.yt=o,this.ignoreUndefinedProperties=a,u===void 0&&this.na(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new M0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.ia({path:o,oa:!1});return a.ua(e),a}ca(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.ia({path:o,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return My(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(qW(this.sa)&&_Te.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class CTe{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.yt=o||Ab(e)}da(e,r,o,a=!1){return new M0({sa:e,methodName:r,fa:o,path:sr.emptyPath(),oa:!1,la:a},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function wd(t){const e=t._freezeSettings(),r=Ab(t._databaseId);return new CTe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function N0(t,e,r,o,a,u={}){const h=t.da(u.merge||u.mergeFields?2:0,e,r,a);iN("Data must be an object, but it was:",h,o);const p=KW(o,h);let m,b;if(u.merge)m=new Yi(h.fieldMask),b=h.fieldTransforms;else if(u.mergeFields){const k=[];for(const v of u.mergeFields){const _=EI(e,v,r);if(!h.contains(_))throw new me(ee.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QW(k,_)||k.push(_)}m=new Yi(k),b=h.fieldTransforms.filter(v=>m.covers(v.field))}else m=null,b=h.fieldTransforms;return new ATe(new Xr(p),m,b)}class xb extends bd{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xb}}function WW(t,e,r){return new M0({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:r},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class tN extends bd{_toFieldTransform(e){return new vb(e.path,new uf)}isEqual(e){return e instanceof tN}}class ETe extends bd{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=WW(this,e,!0),o=this._a.map(u=>kd(u,r)),a=new nd(o);return new vb(e.path,a)}isEqual(e){return this===e}}class xTe extends bd{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=WW(this,e,!0),o=this._a.map(u=>kd(u,r)),a=new rd(o);return new vb(e.path,a)}isEqual(e){return this===e}}class STe extends bd{constructor(e,r){super(e),this.wa=r}_toFieldTransform(e){const r=new df(e.yt,vq(e.yt,this.wa));return new vb(e.path,r)}isEqual(e){return this===e}}function nN(t,e,r,o){const a=t.da(1,e,r);iN("Data must be an object, but it was:",a,o);const u=[],h=Xr.empty();gd(o,(m,b)=>{const k=oN(e,m,r);b=Ke(b);const v=a.ca(k);if(b instanceof xb)u.push(k);else{const _=kd(b,v);_!=null&&(u.push(k),h.set(k,_))}});const p=new Yi(u);return new HW(h,p,a.fieldTransforms)}function rN(t,e,r,o,a,u){const h=t.da(1,e,r),p=[EI(e,o,r)],m=[a];if(u.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)p.push(EI(e,u[_])),m.push(u[_+1]);const b=[],k=Xr.empty();for(let _=p.length-1;_>=0;--_)if(!QW(b,p[_])){const A=p[_];let E=m[_];E=Ke(E);const T=h.ca(A);if(E instanceof xb)b.push(A);else{const L=kd(E,T);L!=null&&(b.push(A),k.set(A,L))}}const v=new Yi(b);return new HW(k,v,h.fieldTransforms)}function GW(t,e,r,o=!1){return kd(r,t.da(o?4:3,e))}function kd(t,e){if(YW(t=Ke(t)))return iN("Unsupported field value:",e,t),KW(t,e);if(t instanceof bd)return function(r,o){if(!qW(o.sa))throw o.ha(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let p=kd(h,o.aa(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,o){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vq(o.yt,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Nn.fromDate(r);return{timestampValue:hf(o.yt,a)}}if(r instanceof Nn){const a=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(o.yt,a)}}if(r instanceof P0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:Rq(o.yt,r._byteString)};if(r instanceof Cn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_M(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.ha(`Unsupported field value: ${T0(r)}`)}(t,e)}function KW(t,e){const r={};return nq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gd(t,(o,a)=>{const u=kd(a,e.ra(o));u!=null&&(r[o]=u)}),{mapValue:{fields:r}}}function YW(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof P0||t instanceof ta||t instanceof Cn||t instanceof bd)}function iN(t,e,r){if(!YW(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const o=T0(r);throw o==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+o)}}function EI(t,e,r){if((e=Ke(e))instanceof cl)return e._internalPath;if(typeof e=="string")return oN(t,e);throw My("Field path arguments must be of type string or ",t,!1,void 0,r)}const TTe=new RegExp("[~\\*/\\[\\]]");function oN(t,e,r){if(e.search(TTe)>=0)throw My(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new cl(...e.split("."))._internalPath}catch{throw My(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function My(t,e,r,o,a){const u=o&&!o.isEmpty(),h=a!==void 0;let p=`Function ${e}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${o}`),h&&(m+=` in document ${a}`),m+=")"),new me(ee.INVALID_ARGUMENT,p+t+m)}function QW(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,r,o,a,u){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ITe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(R0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ITe extends Rg{data(){return super.data()}}function R0(t,e){return typeof e=="string"?oN(t,e):e instanceof cl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sN{}class Sb extends sN{}function ma(t,e,...r){let o=[];e instanceof sN&&o.push(e),o=o.concat(r),function(a){const u=a.filter(p=>p instanceof aN).length,h=a.filter(p=>p instanceof O0).length;if(u>1||u>0&&h>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)t=a._apply(t);return t}class O0 extends Sb{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new O0(e,r,o)}_apply(e){const r=this._parse(e);return XW(e._query,r),new oi(e.firestore,e.converter,fI(e._query,r))}_parse(e){const r=wd(e.firestore);return function(a,u,h,p,m,b,k){let v;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){aV(k,b);const _=[];for(const A of k)_.push(sV(p,a,A));v={arrayValue:{values:_}}}else v=sV(p,a,k)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||aV(k,b),v=GW(h,u,k,b==="in"||b==="not-in");return Ct.create(m,b,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function DTe(t,e,r){const o=e,a=R0("where",t);return O0._create(a,o,r)}class aN extends sN{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new aN(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return r.length===1?r[0]:Gt.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const p of h)XW(u,p),u=fI(u,p)}(e._query,r),new oi(e.firestore,e.converter,fI(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cN extends Sb{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new cN(e,r)}_apply(e){const r=function(o,a,u){if(o.startAt!==null)throw new me(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new jh(a,u);return function(p,m){if(wM(p)===null){const b=v0(p);b!==null&&eG(p,b,m.field)}}(o,h),h}(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Za(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function PTe(t,e="asc"){const r=e,o=R0("orderBy",t);return cN._create(o,r)}class L0 extends Sb{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new L0(e,r,o)}_apply(e){return new oi(e.firestore,e.converter,Ay(e._query,this._limit,this._limitType))}}function MTe(t){return MW("limit",t),L0._create("limit",t,"F")}function NTe(t){return MW("limitToLast",t),L0._create("limitToLast",t,"L")}class B0 extends Sb{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new B0(e,r,o)}_apply(e){const r=JW(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,function(o,a){return new Za(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,r))}}function RTe(...t){return B0._create("startAt",t,!0)}function OTe(...t){return B0._create("startAfter",t,!1)}class z0 extends Sb{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new z0(e,r,o)}_apply(e){const r=JW(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,function(o,a){return new Za(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,r))}}function LTe(...t){return z0._create("endBefore",t,!1)}function BTe(...t){return z0._create("endAt",t,!0)}function JW(t,e,r,o){if(r[0]=Ke(r[0]),r[0]instanceof Rg)return function(a,u,h,p,m){if(!p)throw new me(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const b=[];for(const k of ju(a))if(k.field.isKeyField())b.push(ed(u,p.key));else{const v=p.data.field(k.field);if(gM(v))throw new me(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const _=k.field.canonicalString();throw new me(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}b.push(v)}return new sl(b,m)}(t._query,t.firestore._databaseId,e,r[0]._document,o);{const a=wd(t.firestore);return function(u,h,p,m,b,k){const v=u.explicitOrderBy;if(b.length>v.length)throw new me(ee.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let A=0;A<b.length;A++){const E=b[A];if(v[A].field.isKeyField()){if(typeof E!="string")throw new me(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof E}`);if(!kM(u)&&E.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${E}' contains a slash.`);const T=u.path.child(Dt.fromString(E));if(!Ie.isDocumentKey(T))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const L=new Ie(T);_.push(ed(h,L))}else{const T=GW(p,m,E);_.push(T)}}return new sl(_,k)}(t._query,t.firestore._databaseId,a,e,r,o)}}function sV(t,e,r){if(typeof(r=Ke(r))=="string"){if(r==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kM(e)&&r.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Dt.fromString(r));if(!Ie.isDocumentKey(o))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ed(t,new Ie(o))}if(r instanceof Cn)return ed(t,r._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${T0(r)}.`)}function aV(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function XW(t,e){if(e.isInequality()){const o=v0(t),a=e.field;if(o!==null&&!o.isEqual(a))throw new me(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=wM(t);u!==null&&eG(t,a,u)}const r=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function eG(t,e,r){if(!r.isEqual(e))throw new me(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class lN{convertValue(e,r="none"){switch(Xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Ue()}}convertObject(e,r){const o={};return gd(e.fields,(a,u)=>{o[a]=this.convertValue(u,r)}),o}convertGeoPoint(e){return new P0(Jn(e.latitude),Jn(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=iq(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Sg(e));default:return null}}convertTimestamp(e){const r=il(e);return new Nn(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Dt.fromString(e);Ze(Hq(o));const a=new rl(o.get(1),o.get(3)),u=new Ie(o.popFirst(5));return a.isEqual(r)||or(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t,e,r){let o;return o=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,o}class zTe extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends Rg{constructor(e,r,o,a,u,h){super(e,r,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(R0("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Om extends $a{data(e={}){return super.data(e)}}class ll{constructor(e,r,o,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new xu(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Om(this._firestore,this._userDataWriter,o.key,o,new xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const p=new Om(o._firestore,o._userDataWriter,h.doc.key,h.doc,new xu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new Om(o._firestore,o._userDataWriter,h.doc.key,h.doc,new xu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,b=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:FTe(h.type),doc:p,oldIndex:m,newIndex:b}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function FTe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}function tG(t,e){return t instanceof $a&&e instanceof $a?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ll&&e instanceof ll&&t._firestore===e._firestore&&RW(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jTe(t){t=Ot(t,Cn);const e=Ot(t.firestore,nr);return FW(Ur(e),t._key).then(r=>dN(e,t,r))}class vd extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,r)}}function VTe(t){t=Ot(t,Cn);const e=Ot(t.firestore,nr),r=Ur(e),o=new vd(e);return sTe(r,t._key).then(a=>new $a(e,o,t._key,a,new xu(a!==null&&a.hasLocalMutations,!0),t.converter))}function UTe(t){t=Ot(t,Cn);const e=Ot(t.firestore,nr);return FW(Ur(e),t._key,{source:"server"}).then(r=>dN(e,t,r))}function $Te(t){t=Ot(t,oi);const e=Ot(t.firestore,nr),r=Ur(e),o=new vd(e);return ZW(t._query),jW(r,t._query).then(a=>new ll(e,o,t,a))}function HTe(t){t=Ot(t,oi);const e=Ot(t.firestore,nr),r=Ur(e),o=new vd(e);return aTe(r,t._query).then(a=>new ll(e,o,t,a))}function qTe(t){t=Ot(t,oi);const e=Ot(t.firestore,nr),r=Ur(e),o=new vd(e);return jW(r,t._query,{source:"server"}).then(a=>new ll(e,o,t,a))}function cV(t,e,r){t=Ot(t,Cn);const o=Ot(t.firestore,nr),a=F0(t.converter,e,r);return Tb(o,[N0(wd(o),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Mn.none())])}function lV(t,e,r,...o){t=Ot(t,Cn);const a=Ot(t.firestore,nr),u=wd(a);let h;return h=typeof(e=Ke(e))=="string"||e instanceof cl?rN(u,"updateDoc",t._key,e,r,o):nN(u,"updateDoc",t._key,e),Tb(a,[h.toMutation(t._key,Mn.exists(!0))])}function WTe(t){return Tb(Ot(t.firestore,nr),[new Lf(t._key,Mn.none())])}function GTe(t,e){const r=Ot(t.firestore,nr),o=Py(t),a=F0(t.converter,e);return Tb(r,[N0(wd(t.firestore),"addDoc",o._key,a,t.converter!==null,{}).toMutation(o._key,Mn.exists(!1))]).then(()=>o)}function uN(t,...e){var r,o,a;t=Ke(t);let u={includeMetadataChanges:!1},h=0;typeof e[h]!="object"||CI(e[h])||(u=e[h],h++);const p={includeMetadataChanges:u.includeMetadataChanges};if(CI(e[h])){const v=e[h];e[h]=(r=v.next)===null||r===void 0?void 0:r.bind(v),e[h+1]=(o=v.error)===null||o===void 0?void 0:o.bind(v),e[h+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let m,b,k;if(t instanceof Cn)b=Ot(t.firestore,nr),k=Rf(t._key.path),m={next:v=>{e[h]&&e[h](dN(b,t,v))},error:e[h+1],complete:e[h+2]};else{const v=Ot(t,oi);b=Ot(v.firestore,nr),k=v._query;const _=new vd(b);m={next:A=>{e[h]&&e[h](new ll(b,_,v,A))},error:e[h+1],complete:e[h+2]},ZW(t._query)}return function(v,_,A,E){const T=new I0(E),L=new UM(_,T,A);return v.asyncQueue.enqueueAndForget(async()=>FM(await bf(v),L)),()=>{T.bc(),v.asyncQueue.enqueueAndForget(async()=>jM(await bf(v),L))}}(Ur(b),k,p,m)}function KTe(t,e){return cTe(Ur(t=Ot(t,nr)),CI(e)?e:{next:e})}function Tb(t,e){return function(r,o){const a=new Lr;return r.asyncQueue.enqueueAndForget(async()=>RSe(await eN(r),o,a)),a.promise}(Ur(t),e)}function dN(t,e,r){const o=r.docs.get(e._key),a=new vd(t);return new $a(t,a,e._key,o,new xu(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YTe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QTe{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=wd(e)}set(e,r,o){this._verifyNotCommitted();const a=Mc(e,this._firestore),u=F0(a.converter,r,o),h=N0(this._dataReader,"WriteBatch.set",a._key,u,a.converter!==null,o);return this._mutations.push(h.toMutation(a._key,Mn.none())),this}update(e,r,o,...a){this._verifyNotCommitted();const u=Mc(e,this._firestore);let h;return h=typeof(r=Ke(r))=="string"||r instanceof cl?rN(this._dataReader,"WriteBatch.update",u._key,r,o,a):nN(this._dataReader,"WriteBatch.update",u._key,r),this._mutations.push(h.toMutation(u._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Mc(e,this._firestore);return this._mutations=this._mutations.concat(new Lf(r._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mc(t,e){if((t=Ke(t)).firestore!==e)throw new me(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZTe extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=wd(e)}get(e){const r=Mc(e,this._firestore),o=new zTe(this._firestore);return this._transaction.lookup([r._key]).then(a=>{if(!a||a.length!==1)return Ue();const u=a[0];if(u.isFoundDocument())return new Rg(this._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Rg(this._firestore,o,r._key,null,r.converter);throw Ue()})}set(e,r,o){const a=Mc(e,this._firestore),u=F0(a.converter,r,o),h=N0(this._dataReader,"Transaction.set",a._key,u,a.converter!==null,o);return this._transaction.set(a._key,h),this}update(e,r,o,...a){const u=Mc(e,this._firestore);let h;return h=typeof(r=Ke(r))=="string"||r instanceof cl?rN(this._dataReader,"Transaction.update",u._key,r,o,a):nN(this._dataReader,"Transaction.update",u._key,r),this._transaction.update(u._key,h),this}delete(e){const r=Mc(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Mc(e,this._firestore),o=new vd(this._firestore);return super.get(e).then(a=>new $a(this._firestore,o,r._key,a._document,new xu(!1,!1),r.converter))}}function JTe(t,e,r){t=Ot(t,nr);const o=Object.assign(Object.assign({},YTe),r);return function(a){if(a.maxAttempts<1)throw new me(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,h){const p=new Lr;return a.asyncQueue.enqueueAndForget(async()=>{const m=await rTe(a);new tTe(a.asyncQueue,m,h,u,p).run()}),p.promise}(Ur(t),a=>e(new ZTe(t,a)),o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XTe(){return new xb("deleteField")}function eIe(){return new tN("serverTimestamp")}function tIe(...t){return new ETe("arrayUnion",t)}function nIe(...t){return new xTe("arrayRemove",t)}function rIe(t){return new STe("increment",t)}(function(t,e=!0){(function(r){Nf=r})(kl),ja(new Vo("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new nr(new hEe(r.getProvider("auth-internal")),new gEe(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(p.options.projectId,m)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Bo(sj,"3.8.1",t),Bo(sj,"3.8.1","esm2017")})();const iIe="@firebase/firestore-compat",oIe="0.3.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new me("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){if(typeof Uint8Array>"u")throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function dV(){if(!EEe())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Ny=class{constructor(e){this._delegate=e}static fromBase64String(e){return dV(),new Ny(ta.fromBase64String(e))}static fromUint8Array(e){return uV(),new Ny(ta.fromUint8Array(e))}toBase64(){return dV(),this._delegate.toBase64()}toUint8Array(){return uV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){return sIe(t,["next","error","complete"])}function sIe(t,e){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of e)if(o in r&&typeof r[o]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aIe{enableIndexedDbPersistence(e,r){return pTe(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return mTe(e._delegate)}clearIndexedDbPersistence(e){return gTe(e._delegate)}}class nG{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof rl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&sf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},r),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,r,o={}){ZSe(this._delegate,e,r,o)}enableNetwork(){return wTe(this._delegate)}disableNetwork(){return kTe(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,PW("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return bTe(this._delegate)}onSnapshotsInSync(e){return KTe(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wf(this,ZM(this._delegate,e))}catch(r){throw Si(r,"collection()","Firestore.collection()")}}doc(e){try{return new Ro(this,Py(this._delegate,e))}catch(r){throw Si(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xi(this,JSe(this._delegate,e))}catch(r){throw Si(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return JTe(this._delegate,r=>e(new rG(this,r)))}batch(){return Ur(this._delegate),new iG(new QTe(this._delegate,e=>Tb(this._delegate,e)))}loadBundle(e){return vTe(this._delegate,e)}namedQuery(e){return yTe(this._delegate,e).then(r=>r?new xi(this,r):null)}}class j0 extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ny(new ta(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Ro.forKey(r,this.firestore,null)}}function cIe(t){cEe(t)}class rG{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new j0(e)}get(e){const r=Su(e);return this._delegate.get(r).then(o=>new Og(this._firestore,new $a(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const a=Su(e);return o?(hN("Transaction.set",o),this._delegate.set(a,r,o)):this._delegate.set(a,r),this}update(e,r,o,...a){const u=Su(e);return arguments.length===2?this._delegate.update(u,r):this._delegate.update(u,r,o,...a),this}delete(e){const r=Su(e);return this._delegate.delete(r),this}}class iG{constructor(e){this._delegate=e}set(e,r,o){const a=Su(e);return o?(hN("WriteBatch.set",o),this._delegate.set(a,r,o)):this._delegate.set(a,r),this}update(e,r,o,...a){const u=Su(e);return arguments.length===2?this._delegate.update(u,r):this._delegate.update(u,r,o,...a),this}delete(e){const r=Su(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class ad{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Om(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lg(this._firestore,o),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=ad.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(r);return u||(u=new ad(e,new j0(e),r),a.set(r,u)),u}}ad.INSTANCES=new WeakMap;class Ro{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new j0(e)}static forPath(e,r,o){if(e.length%2!==0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ro(r,new Cn(r._delegate,o,new Ie(e)))}static forKey(e,r,o){return new Ro(r,new Cn(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wf(this.firestore,ZM(this._delegate,e))}catch(r){throw Si(r,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ke(e),e instanceof Cn?NW(this._delegate,e):!1}set(e,r){r=hN("DocumentReference.set",r);try{return r?cV(this._delegate,e,r):cV(this._delegate,e)}catch(o){throw Si(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return arguments.length===1?lV(this._delegate,e):lV(this._delegate,e,r,...o)}catch(a){throw Si(a,"updateDoc()","DocumentReference.update()")}}delete(){return WTe(this._delegate)}onSnapshot(...e){const r=oG(e),o=sG(e,a=>new Og(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return uN(this._delegate,r,o)}get(e){let r;return(e==null?void 0:e.source)==="cache"?r=VTe(this._delegate):(e==null?void 0:e.source)==="server"?r=UTe(this._delegate):r=jTe(this._delegate),r.then(o=>new Og(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ro(this.firestore,e?this._delegate.withConverter(ad.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Si(t,e,r){return t.message=t.message.replace(e,r),t}function oG(t){for(const e of t)if(typeof e=="object"&&!xI(e))return e;return{}}function sG(t,e){var r,o;let a;return xI(t[0])?a=t[0]:xI(t[1])?a=t[1]:typeof t[0]=="function"?a={next:t[0],error:t[1],complete:t[2]}:a={next:t[1],error:t[2],complete:t[3]},{next:u=>{a.next&&a.next(e(u))},error:(r=a.error)===null||r===void 0?void 0:r.bind(a),complete:(o=a.complete)===null||o===void 0?void 0:o.bind(a)}}class Og{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Ro(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return tG(this._delegate,e._delegate)}}class Lg extends Og{data(e){const r=this._delegate.data(e);return lEe(r!==void 0),r}}class xi{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new j0(e)}where(e,r,o){try{return new xi(this.firestore,ma(this._delegate,DTe(e,r,o)))}catch(a){throw Si(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new xi(this.firestore,ma(this._delegate,PTe(e,r)))}catch(o){throw Si(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xi(this.firestore,ma(this._delegate,MTe(e)))}catch(r){throw Si(r,"limit()","Query.limit()")}}limitToLast(e){try{return new xi(this.firestore,ma(this._delegate,NTe(e)))}catch(r){throw Si(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xi(this.firestore,ma(this._delegate,RTe(...e)))}catch(r){throw Si(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xi(this.firestore,ma(this._delegate,OTe(...e)))}catch(r){throw Si(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xi(this.firestore,ma(this._delegate,LTe(...e)))}catch(r){throw Si(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xi(this.firestore,ma(this._delegate,BTe(...e)))}catch(r){throw Si(r,"endAt()","Query.endAt()")}}isEqual(e){return RW(this._delegate,e._delegate)}get(e){let r;return(e==null?void 0:e.source)==="cache"?r=HTe(this._delegate):(e==null?void 0:e.source)==="server"?r=qTe(this._delegate):r=$Te(this._delegate),r.then(o=>new SI(this.firestore,new ll(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=oG(e),o=sG(e,a=>new SI(this.firestore,new ll(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return uN(this._delegate,r,o)}withConverter(e){return new xi(this.firestore,e?this._delegate.withConverter(ad.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class lIe{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SI{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new xi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new lIe(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Lg(this._firestore,o))})}isEqual(e){return tG(this._delegate,e._delegate)}}class wf extends xi{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ro(this.firestore,e):null}doc(e){try{return e===void 0?new Ro(this.firestore,Py(this._delegate)):new Ro(this.firestore,Py(this._delegate,e))}catch(r){throw Si(r,"doc()","CollectionReference.doc()")}}add(e){return GTe(this._delegate,e).then(r=>new Ro(this.firestore,r))}isEqual(e){return NW(this._delegate,e._delegate)}withConverter(e){return new wf(this.firestore,e?this._delegate.withConverter(ad.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Su(t){return Ot(t,Cn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(...e){this._delegate=new cl(...e)}static documentId(){return new fN(sr.keyField().canonicalString())}isEqual(e){return e=Ke(e),e instanceof cl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._delegate=e}static serverTimestamp(){const e=eIe();return e._methodName="FieldValue.serverTimestamp",new ku(e)}static delete(){const e=XTe();return e._methodName="FieldValue.delete",new ku(e)}static arrayUnion(...e){const r=tIe(...e);return r._methodName="FieldValue.arrayUnion",new ku(r)}static arrayRemove(...e){const r=nIe(...e);return r._methodName="FieldValue.arrayRemove",new ku(r)}static increment(e){const r=rIe(e);return r._methodName="FieldValue.increment",new ku(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uIe={Firestore:nG,GeoPoint:P0,Timestamp:Nn,Blob:Ny,Transaction:rG,WriteBatch:iG,DocumentReference:Ro,DocumentSnapshot:Og,Query:xi,QueryDocumentSnapshot:Lg,QuerySnapshot:SI,CollectionReference:wf,FieldPath:fN,FieldValue:ku,setLogLevel:cIe,CACHE_SIZE_UNLIMITED:fTe};function dIe(t,e){t.INTERNAL.registerComponent(new Vo("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),a=r.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},uIe)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hIe(t){dIe(t,(e,r)=>new nG(e,r,new aIe)),t.registerVersion(iIe,oIe)}hIe(ms);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="firebasestorage.googleapis.com",cG="storageBucket",fIe=2*60*1e3,pIe=10*60*1e3,mIe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends mi{constructor(e,r,o=0){super(eS(e),`Firebase Storage: ${r} (${eS(e)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function eS(t){return"storage/"+t}function pN(){const t="An unknown error occurred, please check the error payload for server response.";return new qn("unknown",t)}function gIe(t){return new qn("object-not-found","Object '"+t+"' does not exist.")}function bIe(t){return new qn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wIe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qn("unauthenticated",t)}function kIe(){return new qn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function vIe(t){return new qn("unauthorized","User does not have permission to access '"+t+"'.")}function lG(){return new qn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function uG(){return new qn("canceled","User canceled the upload/download.")}function yIe(t){return new qn("invalid-url","Invalid URL '"+t+"'.")}function _Ie(t){return new qn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function AIe(){return new qn("no-default-bucket","No default bucket found. Did you set the '"+cG+"' property when initializing the app?")}function dG(){return new qn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function CIe(){return new qn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function EIe(){return new qn("no-download-url","The given file does not have any download URLs.")}function xIe(t){return new qn("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uh(t){return new qn("invalid-argument",t)}function hG(){return new qn("app-deleted","The Firebase app was deleted.")}function fG(t){return new qn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lm(t,e){return new qn("invalid-format","String does not match format '"+t+"': "+e)}function Zp(t){throw new qn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let o;try{o=pi.makeFromUrl(e,r)}catch{return new pi(e,"")}if(o.path==="")return o;throw _Ie(e)}static makeFromUrl(e,r){let o=null;const a="([A-Za-z0-9.\\-_]+)";function u(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+a+h,"i"),m={bucket:1,path:3};function b(R){R.path_=decodeURIComponent(R.path)}const k="v[A-Za-z0-9_]+",v=r.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${k}/b/${a}/o${_}`,"i"),E={bucket:1,path:3},T=r===aG?"(?:storage.googleapis.com|storage.cloud.google.com)":r,L="([^?#]*)",M=new RegExp(`^https?://${T}/${a}/${L}`,"i"),I=[{regex:p,indices:m,postModify:u},{regex:A,indices:E,postModify:b},{regex:M,indices:{bucket:1,path:2},postModify:b}];for(let R=0;R<I.length;R++){const j=I[R],V=j.regex.exec(e);if(V){const H=V[j.indices.bucket];let J=V[j.indices.path];J||(J=""),o=new pi(H,J),j.postModify(o);break}}if(o==null)throw yIe(e);return o}}class SIe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TIe(t,e,r){let o=1,a=null,u=null,h=!1,p=0;function m(){return p===2}let b=!1;function k(...L){b||(b=!0,e.apply(null,L))}function v(L){a=setTimeout(()=>{a=null,t(A,m())},L)}function _(){u&&clearTimeout(u)}function A(L,...M){if(b){_();return}if(L){_(),k.call(null,L,...M);return}if(m()||h){_(),k.call(null,L,...M);return}o<64&&(o*=2);let I;p===1?(p=2,I=0):I=(o+Math.random())*1e3,v(I)}let E=!1;function T(L){E||(E=!0,_(),!b&&(a!==null?(L||(p=2),clearTimeout(a),v(0)):L||(p=1)))}return v(0),u=setTimeout(()=>{h=!0,T(!0)},r),T}function IIe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DIe(t){return t!==void 0}function PIe(t){return typeof t=="function"}function MIe(t){return typeof t=="object"&&!Array.isArray(t)}function V0(t){return typeof t=="string"||t instanceof String}function hV(t){return mN()&&t instanceof Blob}function mN(){return typeof Blob<"u"&&!q_()}function TI(t,e,r,o){if(o<e)throw Uh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(o>r)throw Uh(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,r){let o=e;return r==null&&(o=`https://${e}`),`${r}://${o}/v0${t}`}function pG(t){const e=encodeURIComponent;let r="?";for(const o in t)if(t.hasOwnProperty(o)){const a=e(o)+"="+e(t[o]);r=r+a+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vu||(Vu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return r||a||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NIe{constructor(e,r,o,a,u,h,p,m,b,k,v,_=!0){this.url_=e,this.method_=r,this.headers_=o,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=m,this.timeout_=b,this.progressCallback_=k,this.connectionFactory_=v,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,E)=>{this.resolve_=A,this.reject_=E,this.start_()})}start_(){const e=(o,a)=>{if(a){o(!1,new Ok(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const m=p.loaded,b=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,b)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===Vu.NO_ERROR,m=u.getStatus();if(!p||mG(m,this.additionalRetryCodes_)&&this.retry){const k=u.getErrorCode()===Vu.ABORT;o(!1,new Ok(!1,null,k));return}const b=this.successCodes_.indexOf(m)!==-1;o(!0,new Ok(b,u))})},r=(o,a)=>{const u=this.resolve_,h=this.reject_,p=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());DIe(m)?u(m):u()}catch(m){h(m)}else if(p!==null){const m=pN();m.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,m)):h(m)}else if(a.canceled){const m=this.appDelete_?hG():uG();h(m)}else{const m=lG();h(m)}};this.canceled_?r(!1,new Ok(!1,null,!0)):this.backoffId_=TIe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IIe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ok{constructor(e,r,o){this.wasSuccessCode=e,this.connection=r,this.canceled=!!o}}function RIe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OIe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LIe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BIe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zIe(t,e,r,o,a,u,h=!0){const p=pG(t.urlParams),m=t.url+p,b=Object.assign({},t.headers);return LIe(b,e),RIe(b,r),OIe(b,u),BIe(b,o),new NIe(m,t.method,b,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FIe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jIe(...t){const e=FIe();if(e!==void 0){const r=new e;for(let o=0;o<t.length;o++)r.append(t[o]);return r.getBlob()}else{if(mN())return new Blob(t);throw new qn("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function VIe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UIe(t){if(typeof atob>"u")throw xIe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tS{constructor(e,r){this.data=e,this.contentType=r||null}}function gG(t,e){switch(t){case Oo.RAW:return new tS(bG(e));case Oo.BASE64:case Oo.BASE64URL:return new tS(wG(t,e));case Oo.DATA_URL:return new tS(HIe(e),qIe(e))}throw pN()}function bG(t){const e=[];for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o<=127)e.push(o);else if(o<=2047)e.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const u=o,h=t.charCodeAt(++r);o=65536|(u&1023)<<10|h&1023,e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(e)}function $Ie(t){let e;try{e=decodeURIComponent(t)}catch{throw Lm(Oo.DATA_URL,"Malformed data URL.")}return bG(e)}function wG(t,e){switch(t){case Oo.BASE64:{const a=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(a||u)throw Lm(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const a=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(a||u)throw Lm(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=UIe(e)}catch(a){throw a.message.includes("polyfill")?a:Lm(t,"Invalid character found")}const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}class kG{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Lm(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=r[1]||null;o!=null&&(this.base64=WIe(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=e.substring(e.indexOf(",")+1)}}function HIe(t){const e=new kG(t);return e.base64?wG(Oo.BASE64,e.rest):$Ie(e.rest)}function qIe(t){return new kG(t).contentType}function WIe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,r){let o=0,a="";hV(e)?(this.data_=e,o=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(hV(this.data_)){const o=this.data_,a=VIe(o,e,r);return a===null?null:new ka(a)}else{const o=new Uint8Array(this.data_.buffer,e,r-e);return new ka(o,!0)}}static getBlob(...e){if(mN()){const r=e.map(o=>o instanceof ka?o.data_:o);return new ka(jIe.apply(null,r))}else{const r=e.map(h=>V0(h)?gG(Oo.RAW,h).data:h.data_);let o=0;r.forEach(h=>{o+=h.byteLength});const a=new Uint8Array(o);let u=0;return r.forEach(h=>{for(let p=0;p<h.length;p++)a[u++]=h[p]}),new ka(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){let e;try{e=JSON.parse(t)}catch{return null}return MIe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GIe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KIe(t,e){const r=e.split("/").filter(o=>o.length>0).join("/");return t.length===0?r:t+"/"+r}function vG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YIe(t,e){return e}class Ai{constructor(e,r,o,a){this.server=e,this.local=r||e,this.writable=!!o,this.xform=a||YIe}}let Lk=null;function QIe(t){return!V0(t)||t.length<2?t:vG(t)}function U0(){if(Lk)return Lk;const t=[];t.push(new Ai("bucket")),t.push(new Ai("generation")),t.push(new Ai("metageneration")),t.push(new Ai("name","fullPath",!0));function e(u,h){return QIe(h)}const r=new Ai("name");r.xform=e,t.push(r);function o(u,h){return h!==void 0?Number(h):h}const a=new Ai("size");return a.xform=o,t.push(a),t.push(new Ai("timeCreated")),t.push(new Ai("updated")),t.push(new Ai("md5Hash",null,!0)),t.push(new Ai("cacheControl",null,!0)),t.push(new Ai("contentDisposition",null,!0)),t.push(new Ai("contentEncoding",null,!0)),t.push(new Ai("contentLanguage",null,!0)),t.push(new Ai("contentType",null,!0)),t.push(new Ai("metadata","customMetadata",!0)),Lk=t,Lk}function ZIe(t,e){function r(){const o=t.bucket,a=t.fullPath,u=new pi(o,a);return e._makeStorageReference(u)}Object.defineProperty(t,"ref",{get:r})}function JIe(t,e,r){const o={};o.type="file";const a=r.length;for(let u=0;u<a;u++){const h=r[u];o[h.local]=h.xform(o,e[h.server])}return ZIe(o,t),o}function yG(t,e,r){const o=gN(e);return o===null?null:JIe(t,o,r)}function XIe(t,e,r,o){const a=gN(e);if(a===null||!V0(a.downloadTokens))return null;const u=a.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(b=>{const k=t.bucket,v=t.fullPath,_="/b/"+h(k)+"/o/"+h(v),A=Sl(_,r,o),E=pG({alt:"media",token:b});return A+E})[0]}function bN(t,e){const r={},o=e.length;for(let a=0;a<o;a++){const u=e[a];u.writable&&(r[u.server]=t[u.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="prefixes",pV="items";function eDe(t,e,r){const o={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[fV])for(const a of r[fV]){const u=a.replace(/\/$/,""),h=t._makeStorageReference(new pi(e,u));o.prefixes.push(h)}if(r[pV])for(const a of r[pV]){const u=t._makeStorageReference(new pi(e,a.name));o.items.push(u)}return o}function tDe(t,e,r){const o=gN(r);return o===null?null:eDe(t,e,o)}class ec{constructor(e,r,o,a){this.url=e,this.method=r,this.handler=o,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){if(!t)throw pN()}function $0(t,e){function r(o,a){const u=yG(t,a,e);return Zs(u!==null),u}return r}function nDe(t,e){function r(o,a){const u=tDe(t,e,a);return Zs(u!==null),u}return r}function rDe(t,e){function r(o,a){const u=yG(t,a,e);return Zs(u!==null),XIe(u,a,t.host,t._protocol)}return r}function Vf(t){function e(r,o){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=kIe():a=wIe():r.getStatus()===402?a=bIe(t.bucket):r.getStatus()===403?a=vIe(t.path):a=o,a.status=r.getStatus(),a.serverResponse=o.serverResponse,a}return e}function H0(t){const e=Vf(t);function r(o,a){let u=e(o,a);return o.getStatus()===404&&(u=gIe(t.path)),u.serverResponse=a.serverResponse,u}return r}function _G(t,e,r){const o=e.fullServerUrl(),a=Sl(o,t.host,t._protocol),u="GET",h=t.maxOperationRetryTime,p=new ec(a,u,$0(t,r),h);return p.errorHandler=H0(e),p}function iDe(t,e,r,o,a){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",r&&r.length>0&&(u.delimiter=r),o&&(u.pageToken=o),a&&(u.maxResults=a);const h=e.bucketOnlyServerUrl(),p=Sl(h,t.host,t._protocol),m="GET",b=t.maxOperationRetryTime,k=new ec(p,m,nDe(t,e.bucket),b);return k.urlParams=u,k.errorHandler=Vf(e),k}function oDe(t,e,r){const o=e.fullServerUrl(),a=Sl(o,t.host,t._protocol),u="GET",h=t.maxOperationRetryTime,p=new ec(a,u,rDe(t,r),h);return p.errorHandler=H0(e),p}function sDe(t,e,r,o){const a=e.fullServerUrl(),u=Sl(a,t.host,t._protocol),h="PATCH",p=bN(r,o),m={"Content-Type":"application/json; charset=utf-8"},b=t.maxOperationRetryTime,k=new ec(u,h,$0(t,o),b);return k.headers=m,k.body=p,k.errorHandler=H0(e),k}function aDe(t,e){const r=e.fullServerUrl(),o=Sl(r,t.host,t._protocol),a="DELETE",u=t.maxOperationRetryTime;function h(m,b){}const p=new ec(o,a,h,u);return p.successCodes=[200,204],p.errorHandler=H0(e),p}function cDe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AG(t,e,r){const o=Object.assign({},r);return o.fullPath=t.path,o.size=e.size(),o.contentType||(o.contentType=cDe(null,e)),o}function lDe(t,e,r,o,a){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const m=p();h["Content-Type"]="multipart/related; boundary="+m;const b=AG(e,o,a),k=bN(b,r),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+k+`\r
--`+m+`\r
Content-Type: `+b.contentType+`\r
\r
`,_=`\r
--`+m+"--",A=ka.getBlob(v,o,_);if(A===null)throw dG();const E={name:b.fullPath},T=Sl(u,t.host,t._protocol),L="POST",M=t.maxUploadRetryTime,S=new ec(T,L,$0(t,r),M);return S.urlParams=E,S.headers=h,S.body=A.uploadData(),S.errorHandler=Vf(e),S}class Ry{constructor(e,r,o,a){this.current=e,this.total=r,this.finalized=!!o,this.metadata=a||null}}function wN(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{Zs(!1)}return Zs(!!r&&(e||["active"]).indexOf(r)!==-1),r}function uDe(t,e,r,o,a){const u=e.bucketOnlyServerUrl(),h=AG(e,o,a),p={name:h.fullPath},m=Sl(u,t.host,t._protocol),b="POST",k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},v=bN(h,r),_=t.maxUploadRetryTime;function A(T){wN(T);let L;try{L=T.getResponseHeader("X-Goog-Upload-URL")}catch{Zs(!1)}return Zs(V0(L)),L}const E=new ec(m,b,A,_);return E.urlParams=p,E.headers=k,E.body=v,E.errorHandler=Vf(e),E}function dDe(t,e,r,o){const a={"X-Goog-Upload-Command":"query"};function u(b){const k=wN(b,["active","final"]);let v=null;try{v=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zs(!1)}v||Zs(!1);const _=Number(v);return Zs(!isNaN(_)),new Ry(_,o.size(),k==="final")}const h="POST",p=t.maxUploadRetryTime,m=new ec(r,h,u,p);return m.headers=a,m.errorHandler=Vf(e),m}const mV=256*1024;function hDe(t,e,r,o,a,u,h,p){const m=new Ry(0,0);if(h?(m.current=h.current,m.total=h.total):(m.current=0,m.total=o.size()),o.size()!==m.total)throw CIe();const b=m.total-m.current;let k=b;a>0&&(k=Math.min(k,a));const v=m.current,_=v+k;let A="";k===0?A="finalize":b===k?A="upload, finalize":A="upload";const E={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${m.current}`},T=o.slice(v,_);if(T===null)throw dG();function L(R,j){const V=wN(R,["active","final"]),H=m.current+k,J=o.size();let oe;return V==="final"?oe=$0(e,u)(R,j):oe=null,new Ry(H,J,V==="final",oe)}const M="POST",S=e.maxUploadRetryTime,I=new ec(r,M,L,S);return I.headers=E,I.body=T.uploadData(),I.progressCallback=p||null,I.errorHandler=Vf(t),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fDe={STATE_CHANGED:"state_changed"},Ti={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nS(t){switch(t){case"running":case"pausing":case"canceling":return Ti.RUNNING;case"paused":return Ti.PAUSED;case"success":return Ti.SUCCESS;case"canceled":return Ti.CANCELED;case"error":return Ti.ERROR;default:return Ti.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pDe{constructor(e,r,o){if(PIe(e)||r!=null||o!=null)this.next=e,this.error=r??void 0,this.complete=o??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class mDe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,o,a){if(this.sent_)throw Zp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gDe extends mDe{initXhr(){this.xhr_.responseType="text"}}function Fs(){return new gDe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,r,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=o,this._mappings=U0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(mG(a.status,[]))if(u)a=lG();else{this.sleepTime=Math.max(this.sleepTime*2,mIe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,u)=>{this._resolve=a,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,o])=>{switch(this._state){case"running":e(r,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const o=uDe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(o,Fs,e,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,o)=>{const a=dDe(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(a,Fs,r,o);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=mV*this._chunkMultiplier,r=new Ry(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((a,u)=>{let h;try{h=hDe(this._ref._location,this._ref.storage,o,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const p=this._ref.storage._makeRequest(h,Fs,a,u,!1);this._request=p,p.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){mV*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const o=_G(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(o,Fs,e,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const o=lDe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(o,Fs,e,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=uG(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=nS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,o,a){const u=new pDe(r||void 0,o||void 0,a||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(nS(this._state)){case Ti.SUCCESS:nh(this._resolve.bind(null,this.snapshot))();break;case Ti.CANCELED:case Ti.ERROR:const r=this._reject;nh(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nS(this._state)){case Ti.RUNNING:case Ti.PAUSED:e.next&&nh(e.next.bind(e,this.snapshot))();break;case Ti.SUCCESS:e.complete&&nh(e.complete.bind(e))();break;case Ti.CANCELED:case Ti.ERROR:e.error&&nh(e.error.bind(e,this._error))();break;default:e.error&&nh(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,r){this._service=e,r instanceof pi?this._location=r:this._location=pi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new cd(e,r)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vG(this._location.path)}get storage(){return this._service}get parent(){const e=GIe(this._location.path);if(e===null)return null;const r=new pi(this._location.bucket,e);return new cd(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fG(e)}}function bDe(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new CG(t,new ka(e),r)}function wDe(t){const e={prefixes:[],items:[]};return EG(t,e).then(()=>e)}async function EG(t,e,r){const a=await xG(t,{pageToken:r});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await EG(t,e,a.nextPageToken)}function xG(t,e){e!=null&&typeof e.maxResults=="number"&&TI("options.maxResults",1,1e3,e.maxResults);const r=e||{},o=iDe(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(o,Fs)}function kDe(t){t._throwIfRoot("getMetadata");const e=_G(t.storage,t._location,U0());return t.storage.makeRequestWithTokens(e,Fs)}function vDe(t,e){t._throwIfRoot("updateMetadata");const r=sDe(t.storage,t._location,e,U0());return t.storage.makeRequestWithTokens(r,Fs)}function yDe(t){t._throwIfRoot("getDownloadURL");const e=oDe(t.storage,t._location,U0());return t.storage.makeRequestWithTokens(e,Fs).then(r=>{if(r===null)throw EIe();return r})}function _De(t){t._throwIfRoot("deleteObject");const e=aDe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Fs)}function SG(t,e){const r=KIe(t._location.path,e),o=new pi(t._location.bucket,r);return new cd(t.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ADe(t){return/^[A-Za-z]+:\/\//.test(t)}function CDe(t,e){return new cd(t,e)}function TG(t,e){if(t instanceof kN){const r=t;if(r._bucket==null)throw AIe();const o=new cd(r,r._bucket);return e!=null?TG(o,e):o}else return e!==void 0?SG(t,e):t}function EDe(t,e){if(e&&ADe(e)){if(t instanceof kN)return CDe(t,e);throw Uh("To use ref(service, url), the first argument must be a Storage instance.")}else return TG(t,e)}function gV(t,e){const r=e==null?void 0:e[cG];return r==null?null:pi.makeFromBucketSpec(r,t)}function xDe(t,e,r,o={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:a}=o;a&&(t._overrideAuthToken=typeof a=="string"?a:NH(a,t.app.options.projectId))}class kN{constructor(e,r,o,a,u){this.app=e,this._authProvider=r,this._appCheckProvider=o,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=aG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fIe,this._maxUploadRetryTime=pIe,this._requests=new Set,a!=null?this._bucket=pi.makeFromBucketSpec(a,this._host):this._bucket=gV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=gV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cd(this,e)}_makeRequest(e,r,o,a,u=!0){if(this._deleted)return new SIe(hG());{const h=zIe(e,this._appId,o,a,r,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,r){const[o,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,o,a).getPromise()}}const bV="@firebase/storage",wV="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDe="storage";function TDe(t,e,r){return t=Ke(t),bDe(t,e,r)}function IDe(t){return t=Ke(t),kDe(t)}function DDe(t,e){return t=Ke(t),vDe(t,e)}function PDe(t,e){return t=Ke(t),xG(t,e)}function MDe(t){return t=Ke(t),wDe(t)}function NDe(t){return t=Ke(t),yDe(t)}function RDe(t){return t=Ke(t),_De(t)}function kV(t,e){return t=Ke(t),EDe(t,e)}function ODe(t,e){return SG(t,e)}function LDe(t,e,r,o={}){xDe(t,e,r,o)}function BDe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new kN(r,o,a,e,kl)}function zDe(){ja(new Vo(SDe,BDe,"PUBLIC").setMultipleInstances(!0)),Bo(bV,wV,""),Bo(bV,wV,"esm2017")}zDe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,r,o){this._delegate=e,this.task=r,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Bk(this._delegate.snapshot,this,this._ref)}then(e,r){return this._delegate.then(o=>{if(e)return e(new Bk(o,this,this._ref))},r)}on(e,r,o,a){let u;return r&&(typeof r=="function"?u=h=>r(new Bk(h,this,this._ref)):u={next:r.next?h=>r.next(new Bk(h,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,u,o||void 0,a||void 0)}}class yV{constructor(e,r){this._delegate=e,this._service=r}get prefixes(){return this._delegate.prefixes.map(e=>new Pa(e,this._service))}get items(){return this._delegate.items.map(e=>new Pa(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,r){this._delegate=e,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const r=ODe(this._delegate,e);return new Pa(r,this.storage)}get root(){return new Pa(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Pa(e,this.storage)}put(e,r){return this._throwIfRoot("put"),new vV(TDe(this._delegate,e,r),this)}putString(e,r=Oo.RAW,o){this._throwIfRoot("putString");const a=gG(r,e),u=Object.assign({},o);return u.contentType==null&&a.contentType!=null&&(u.contentType=a.contentType),new vV(new CG(this._delegate,new ka(a.data,!0),u),this)}listAll(){return MDe(this._delegate).then(e=>new yV(e,this.storage))}list(e){return PDe(this._delegate,e||void 0).then(r=>new yV(r,this.storage))}getMetadata(){return IDe(this._delegate)}updateMetadata(e){return DDe(this._delegate,e)}getDownloadURL(){return NDe(this._delegate)}delete(){return this._throwIfRoot("delete"),RDe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw fG(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,r){this.app=e,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(_V(e))throw Uh("ref() expected a child path but got a URL, use refFromURL instead.");return new Pa(kV(this._delegate,e),this)}refFromURL(e){if(!_V(e))throw Uh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pi.makeFromUrl(e,this._delegate.host)}catch{throw Uh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pa(kV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,r,o={}){LDe(this._delegate,e,r,o)}}function _V(t){return/^[A-Za-z]+:\/\//.test(t)}const FDe="@firebase/storage-compat",jDe="0.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VDe="storage-compat";function UDe(t,{instanceIdentifier:e}){const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("storage").getImmediate({identifier:e});return new IG(r,o)}function $De(t){const e={TaskState:Ti,TaskEvent:fDe,StringFormat:Oo,Storage:IG,Reference:Pa};t.INTERNAL.registerComponent(new Vo(VDe,UDe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(FDe,jDe)}$De(ms);const HDe={apiKey:"AIzaSyBsUK8JTkDttU8Qg5OngvOhQtmc97kK-5I",authDomain:"blog-v2-ef333.firebaseapp.com",projectId:"blog-v2-ef333",storageBucket:"blog-v2-ef333.appspot.com",messagingSenderId:"240898426488",appId:"1:240898426488:web:f34e1baf034f9b79310f8d",measurementId:"G-2JL2Z0C860"};ms.initializeApp(HDe);const qDe=ms,Oy=ms.auth(),Uu=ms.firestore(),WDe=ms.storage(),DG="auth/GET_FIREBASE_USER",PG="auth/GET_FIREBASE_USER_SUCCESS",MG="auth/GET_FIREBASE_USER_NULL",GDe=oH(DG,PG,MG)(),NG="auth/ACTION_FIREBASE_LOGIN_SUCCESS",RG="auth/ACTION_FIREBASE_LOGIN_ERROR",OG="auth/ACTION_FIREBASE_LOGOUT",KDe=Fa(NG)(),YDe=Fa(RG)(),QDe=Fa(OG)();function ZDe(){return t=>{const{request:e,success:r,failure:o}=GDe;t(e()),Oy.onAuthStateChanged(async a=>{t(a?r(a):o())})}}function AV(t){return async e=>{const r=new qDe.auth.GithubAuthProvider;t?await Oy.signInWithPopup(r).then(o=>e(KDe(o.user))).catch(o=>e(YDe(o))):(await Oy.signOut(),e(QDe()))}}const JDe={auth:Mo.initial()},XDe=tb(JDe,{[DG]:t=>({...t,auth:Mo.loading()}),[PG]:(t,e)=>({...t,auth:Mo.success(e.payload)}),[MG]:t=>({...t,auth:Mo.null()}),[NG]:(t,e)=>({...t,auth:Mo.success(e.payload)}),[RG]:(t,e)=>({...t,auth:Mo.error(e.payload)}),[OG]:t=>({...t,auth:Mo.null()})});function LG(t,e,r){return async o=>{try{uN(ma(ZM(Uu,t)),a=>{const u=a.docs.map(h=>({id:h.id,...h.data()}));o(e(u))})}catch(a){o(r(a))}}}const BG="blog/GET_BLOG_SUCCESS",zG="blog/GET_BLOG_ERROR",ePe=Fa(BG)(),tPe=Fa(zG)();function nPe(){return LG("blog",ePe,tPe)}const rPe={loading:!0,error:null,blog:[]},iPe=tb(rPe,{[BG]:(t,e)=>({...t,loading:!1,blog:e.payload}),[zG]:(t,e)=>({...t,loading:!1,error:e.payload})}),FG="category/GET_CATEGORY_SUCCESS",jG="category/GET_CATEGORY_ERROR",oPe=Fa(FG)(),sPe=Fa(jG)();function aPe(){return LG("categories",oPe,sPe)}const cPe={loading:!0,error:null,categories:[]},lPe=tb(cPe,{[FG]:(t,e)=>({...t,loading:!1,categories:e.payload}),[jG]:(t,e)=>({...t,loading:!1,error:e.payload})}),uPe=oke({githubReducer:Ive,authReducer:XDe,blogReducer:iPe,categoryReducer:lPe}),dPe=t=>rke(uPe,t,ake(cke)),hPe=dPe(),ul=Nwe,VG=()=>Jwe();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Vt.apply(this,arguments)}var dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dr||(dr={}));const CV="popstate";function fPe(t){t===void 0&&(t={});function e(o,a){let{pathname:u,search:h,hash:p}=o.location;return Bg("",{pathname:u,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:na(a)}return mPe(e,r,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pPe(){return Math.random().toString(36).substr(2,8)}function EV(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,r,o){return r===void 0&&(r=null),Vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tc(e):e,{state:r,key:e&&e.key||o||pPe()})}function na(t){let{pathname:e="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function tc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function mPe(t,e,r,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:u=!1}=o,h=a.history,p=dr.Pop,m=null,b=k();b==null&&(b=0,h.replaceState(Vt({},h.state,{idx:b}),""));function k(){return(h.state||{idx:null}).idx}function v(){p=dr.Pop;let L=k(),M=L==null?null:L-b;b=L,m&&m({action:p,location:T.location,delta:M})}function _(L,M){p=dr.Push;let S=Bg(T.location,L,M);r&&r(S,L),b=k()+1;let I=EV(S,b),R=T.createHref(S);try{h.pushState(I,"",R)}catch{a.location.assign(R)}u&&m&&m({action:p,location:T.location,delta:1})}function A(L,M){p=dr.Replace;let S=Bg(T.location,L,M);r&&r(S,L),b=k();let I=EV(S,b),R=T.createHref(S);h.replaceState(I,"",R),u&&m&&m({action:p,location:T.location,delta:0})}function E(L){let M=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof L=="string"?L:na(L);return mt(M,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,M)}let T={get action(){return p},get location(){return t(a,h)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(CV,v),m=L,()=>{a.removeEventListener(CV,v),m=null}},createHref(L){return e(a,L)},createURL:E,encodeLocation(L){let M=E(L);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:A,go(L){return h.go(L)}};return T}var Jr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jr||(Jr={}));function gPe(t){return t.index===!0}function UG(t,e,r){return e===void 0&&(e=[]),r===void 0&&(r=new Set),t.map((o,a)=>{let u=[...e,a],h=typeof o.id=="string"?o.id:u.join("-");return mt(o.index!==!0||!o.children,"Cannot specify children on an index route"),mt(!r.has(h),'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),r.add(h),gPe(o)?Vt({},o,{id:h}):Vt({},o,{id:h,children:o.children?UG(o.children,u,r):void 0})})}function pm(t,e,r){r===void 0&&(r="/");let o=typeof e=="string"?tc(e):e,a=WG(o.pathname||"/",r);if(a==null)return null;let u=$G(t);bPe(u);let h=null;for(let p=0;h==null&&p<u.length;++p)h=xPe(u[p],TPe(a));return h}function $G(t,e,r,o){e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o="");let a=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(mt(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let b=Ma([o,m.relativePath]),k=r.concat(m);u.children&&u.children.length>0&&(mt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),$G(u.children,e,k,b)),!(u.path==null&&!u.index)&&e.push({path:b,score:CPe(b,u.index),routesMeta:k})};return t.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,h);else for(let m of HG(u.path))a(u,h,m)}),e}function HG(t){let e=t.split("/");if(e.length===0)return[];let[r,...o]=e,a=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let h=HG(o.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),a&&p.push(...h),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function bPe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:EPe(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const wPe=/^:\w+$/,kPe=3,vPe=2,yPe=1,_Pe=10,APe=-2,xV=t=>t==="*";function CPe(t,e){let r=t.split("/"),o=r.length;return r.some(xV)&&(o+=APe),e&&(o+=vPe),r.filter(a=>!xV(a)).reduce((a,u)=>a+(wPe.test(u)?kPe:u===""?yPe:_Pe),o)}function EPe(t,e){return t.length===e.length&&t.slice(0,-1).every((o,a)=>o===e[a])?t[t.length-1]-e[e.length-1]:0}function xPe(t,e){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,b=a==="/"?e:e.slice(a.length)||"/",k=qG({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b);if(!k)return null;Object.assign(o,k.params);let v=p.route;u.push({params:o,pathname:Ma([a,k.pathname]),pathnameBase:MPe(Ma([a,k.pathnameBase])),route:v}),k.pathnameBase!=="/"&&(a=Ma([a,k.pathnameBase]))}return u}function qG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=SPe(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((b,k,v)=>{if(k==="*"){let _=p[v]||"";h=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}return b[k]=IPe(p[v]||"",k),b},{}),pathname:u,pathnameBase:h,pattern:t}}function SPe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,p)=>(o.push(p),"/([^\\/]+)"));return t.endsWith("*")?(o.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function TPe(t){try{return decodeURI(t)}catch(e){return zg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IPe(t,e){try{return decodeURIComponent(t)}catch(r){return zg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function WG(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function zg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DPe(t,e){e===void 0&&(e="/");let{pathname:r,search:o="",hash:a=""}=typeof t=="string"?tc(t):t;return{pathname:r?r.startsWith("/")?r:PPe(r,e):e,search:NPe(o),hash:RPe(a)}}function PPe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rS(t,e,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vN(t,e,r,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=tc(t):(a=Vt({},t),mt(!a.pathname||!a.pathname.includes("?"),rS("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),rS("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),rS("#","search","hash",a)));let u=t===""||a.pathname==="",h=u?"/":a.pathname,p;if(o||h==null)p=r;else{let v=e.length-1;if(h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}p=v>=0?e[v]:"/"}let m=DPe(a,p),b=h&&h!=="/"&&h.endsWith("/"),k=(u||h===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(b||k)&&(m.pathname+="/"),m}const Ma=t=>t.join("/").replace(/\/\/+/g,"/"),MPe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NPe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RPe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class SV extends Error{}class OPe{constructor(e,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],mt(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let o;this.abortPromise=new Promise((u,h)=>o=h),this.controller=new AbortController;let a=()=>o(new SV("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(e).reduce((u,h)=>{let[p,m]=h;return Object.assign(u,{[p]:this.trackPromise(p,m)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(e,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let o=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(o,e,null,a),a=>this.onSettle(o,e,a));return o.catch(()=>{}),Object.defineProperty(o,"_tracked",{get:()=>!0}),o}onSettle(e,r,o,a){return this.controller.signal.aborted&&o instanceof SV?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>o}),Promise.reject(o)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),o?(Object.defineProperty(e,"_error",{get:()=>o}),this.emit(!1,r),Promise.reject(o)):(Object.defineProperty(e,"_data",{get:()=>a}),this.emit(!1,r),a))}emit(e,r){this.subscribers.forEach(o=>o(e,r))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(e){let r=!1;if(!this.done){let o=()=>this.cancel();e.addEventListener("abort",o),r=await new Promise(a=>{this.subscribe(u=>{e.removeEventListener("abort",o),(u||this.done)&&a(u)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return mt(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,r)=>{let[o,a]=r;return Object.assign(e,{[o]:BPe(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function LPe(t){return t instanceof Promise&&t._tracked===!0}function BPe(t){if(!LPe(t))return t;if(t._error)throw t._error;return t._data}const zPe=function(e,r){r===void 0&&(r=302);let o=r;typeof o=="number"?o={status:o}:typeof o.status>"u"&&(o.status=302);let a=new Headers(o.headers);return a.set("Location",e),new Response(null,Vt({},o,{headers:a}))};class yN{constructor(e,r,o,a){a===void 0&&(a=!1),this.status=e,this.statusText=r||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function GG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KG=["post","put","patch","delete"],FPe=new Set(KG),jPe=["get",...KG],VPe=new Set(jPe),UPe=new Set([301,302,303,307,308]),$Pe=new Set([307,308]),iS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},HPe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},TV={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},YG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qPe=!YG;function WPe(t){mt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=UG(t.routes),r=null,o=new Set,a=null,u=null,h=null,p=t.hydrationData!=null,m=pm(e,t.history.location,t.basename),b=null;if(m==null){let X=Ac(404,{pathname:t.history.location.pathname}),{matches:re,route:pe}=RV(e);m=re,b={[pe.id]:X}}let k=!m.some(X=>X.route.loader)||t.hydrationData!=null,v,_={historyAction:t.history.action,location:t.history.location,matches:m,initialized:k,navigation:iS,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},A=dr.Pop,E=!1,T,L=!1,M=!1,S=[],I=[],R=new Map,j=0,V=-1,H=new Map,J=new Set,oe=new Map,de=new Map,Le=null,te=new Map,ie=!1;function _e(){return r=t.history.listen(X=>{let{action:re,location:pe,delta:ve}=X;if(ie){ie=!1;return}zg(Le!=null&&ve===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=ue({currentLocation:_.location,nextLocation:pe,historyAction:re});if(De&&ve!=null){ie=!0,t.history.go(ve*-1),Se(De,{state:"blocked",location:pe,proceed(){Se(De,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),t.history.go(ve)},reset(){ke(De),ze({blockers:new Map(v.state.blockers)})}});return}return Ae(re,pe)}),_.initialized||Ae(dr.Pop,_.location),v}function Ee(){r&&r(),o.clear(),T&&T.abort(),_.fetchers.forEach((X,re)=>$t(re)),_.blockers.forEach((X,re)=>ke(re))}function qe(X){return o.add(X),()=>o.delete(X)}function ze(X){_=Vt({},_,X),o.forEach(re=>re(_))}function le(X,re){var pe,ve;let De=_.actionData!=null&&_.navigation.formMethod!=null&&ba(_.navigation.formMethod)&&_.navigation.state==="loading"&&((pe=X.state)==null?void 0:pe._isRedirect)!==!0,et;re.actionData?Object.keys(re.actionData).length>0?et=re.actionData:et=null:De?et=_.actionData:et=null;let Je=re.loaderData?NV(_.loaderData,re.loaderData,re.matches||[],re.errors):_.loaderData;for(let[Fe]of te)ke(Fe);let ct=E===!0||_.navigation.formMethod!=null&&ba(_.navigation.formMethod)&&((ve=X.state)==null?void 0:ve._isRedirect)!==!0;ze(Vt({},re,{actionData:et,loaderData:Je,historyAction:A,location:X,initialized:!0,navigation:iS,revalidation:"idle",restoreScrollPosition:En(X,re.matches||_.matches),preventScrollReset:ct,blockers:new Map(_.blockers)})),L||A===dr.Pop||(A===dr.Push?t.history.push(X,X.state):A===dr.Replace&&t.history.replace(X,X.state)),A=dr.Pop,E=!1,L=!1,M=!1,S=[],I=[]}async function se(X,re){if(typeof X=="number"){t.history.go(X);return}let{path:pe,submission:ve,error:De}=IV(X,re),et=_.location,Je=Bg(_.location,pe,re&&re.state);Je=Vt({},Je,t.history.encodeLocation(Je));let ct=re&&re.replace!=null?re.replace:void 0,Fe=dr.Push;ct===!0?Fe=dr.Replace:ct===!1||ve!=null&&ba(ve.formMethod)&&ve.formAction===_.location.pathname+_.location.search&&(Fe=dr.Replace);let Ut=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,Me=ue({currentLocation:et,nextLocation:Je,historyAction:Fe});if(Me){Se(Me,{state:"blocked",location:Je,proceed(){Se(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),se(X,re)},reset(){ke(Me),ze({blockers:new Map(_.blockers)})}});return}return await Ae(Fe,Je,{submission:ve,pendingError:De,preventScrollReset:Ut,replace:re&&re.replace})}function W(){if(cn(),ze({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Ae(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Ae(A||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function Ae(X,re,pe){T&&T.abort(),T=null,A=X,L=(pe&&pe.startUninterruptedRevalidation)===!0,At(_.location,_.matches),E=(pe&&pe.preventScrollReset)===!0;let ve=pe&&pe.overrideNavigation,De=pm(e,re,t.basename);if(!De){let zt=Ac(404,{pathname:re.pathname}),{matches:$r,route:On}=RV(e);je(),le(re,{matches:$r,loaderData:{},errors:{[On.id]:zt}});return}if(ZPe(_.location,re)&&!(pe&&pe.submission&&ba(pe.submission.formMethod))){le(re,{matches:De});return}T=new AbortController;let et=Xp(t.history,re,T.signal,pe&&pe.submission),Je,ct;if(pe&&pe.pendingError)ct={[Ah(De).route.id]:pe.pendingError};else if(pe&&pe.submission&&ba(pe.submission.formMethod)){let zt=await xe(et,re,pe.submission,De,{replace:pe.replace});if(zt.shortCircuited)return;Je=zt.pendingActionData,ct=zt.pendingActionError,ve=Vt({state:"loading",location:re},pe.submission),et=new Request(et.url,{signal:et.signal})}let{shortCircuited:Fe,loaderData:Ut,errors:Me}=await O(et,re,De,ve,pe&&pe.submission,pe&&pe.replace,Je,ct);Fe||(T=null,le(re,Vt({matches:De},Je?{actionData:Je}:{},{loaderData:Ut,errors:Me})))}async function xe(X,re,pe,ve,De){cn();let et=Vt({state:"submitting",location:re},pe);ze({navigation:et});let Je,ct=zV(ve,re);if(!ct.route.action)Je={type:Jr.error,error:Ac(405,{method:X.method,pathname:re.pathname,routeId:ct.route.id})};else if(Je=await Jp("action",X,ct,ve,v.basename),X.signal.aborted)return{shortCircuited:!0};if($h(Je)){let Fe;return De&&De.replace!=null?Fe=De.replace:Fe=Je.location===_.location.pathname+_.location.search,await Rn(_,Je,{submission:pe,replace:Fe}),{shortCircuited:!0}}if(Bm(Je)){let Fe=Ah(ve,ct.route.id);return(De&&De.replace)!==!0&&(A=dr.Push),{pendingActionData:{},pendingActionError:{[Fe.route.id]:Je.error}}}if(Tu(Je))throw Ac(400,{type:"defer-action"});return{pendingActionData:{[ct.route.id]:Je.data}}}async function O(X,re,pe,ve,De,et,Je,ct){let Fe=ve;Fe||(Fe=Vt({state:"loading",location:re,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},De));let Ut=De||(Fe.formMethod&&Fe.formAction&&Fe.formData&&Fe.formEncType?{formMethod:Fe.formMethod,formAction:Fe.formAction,formData:Fe.formData,formEncType:Fe.formEncType}:void 0),[Me,zt]=DV(t.history,_,pe,Ut,re,M,S,I,Je,ct,oe);if(je(gn=>!(pe&&pe.some(Cr=>Cr.route.id===gn))||Me&&Me.some(Cr=>Cr.route.id===gn)),Me.length===0&&zt.length===0)return le(re,Vt({matches:pe,loaderData:{},errors:ct||null},Je?{actionData:Je}:{})),{shortCircuited:!0};if(!L){zt.forEach(Cr=>{let Bi=_.fetchers.get(Cr.key),ai={state:"loading",data:Bi&&Bi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(Cr.key,ai)});let gn=Je||_.actionData;ze(Vt({navigation:Fe},gn?Object.keys(gn).length===0?{actionData:null}:{actionData:gn}:{},zt.length>0?{fetchers:new Map(_.fetchers)}:{}))}V=++j,zt.forEach(gn=>R.set(gn.key,T));let{results:$r,loaderResults:On,fetcherResults:qo}=await Ar(_.matches,pe,Me,zt,X);if(X.signal.aborted)return{shortCircuited:!0};zt.forEach(gn=>R.delete(gn.key));let Wo=OV($r);if(Wo)return await Rn(_,Wo,{replace:et}),{shortCircuited:!0};let{loaderData:sn,errors:Hr}=MV(_,pe,Me,On,ct,zt,qo,de);de.forEach((gn,Cr)=>{gn.subscribe(Bi=>{(Bi||gn.done)&&de.delete(Cr)})}),z();let Li=K(V);return Vt({loaderData:sn,errors:Hr},Li||zt.length>0?{fetchers:new Map(_.fetchers)}:{})}function Be(X){return _.fetchers.get(X)||HPe}function rt(X,re,pe,ve){if(qPe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(X)&&wt(X);let De=pm(e,pe,t.basename);if(!De){ln(X,re,Ac(404,{pathname:pe}));return}let{path:et,submission:Je}=IV(pe,ve,!0),ct=zV(De,et);if(E=(ve&&ve.preventScrollReset)===!0,Je&&ba(Je.formMethod)){bt(X,re,et,ct,De,Je);return}oe.set(X,{routeId:re,path:et,match:ct,matches:De}),Lt(X,re,et,ct,De,Je)}async function bt(X,re,pe,ve,De,et){if(cn(),oe.delete(X),!ve.route.action){let ci=Ac(405,{method:et.formMethod,pathname:pe,routeId:re});ln(X,re,ci);return}let Je=_.fetchers.get(X),ct=Vt({state:"submitting"},et,{data:Je&&Je.data," _hasFetcherDoneAnything ":!0});_.fetchers.set(X,ct),ze({fetchers:new Map(_.fetchers)});let Fe=new AbortController,Ut=Xp(t.history,pe,Fe.signal,et);R.set(X,Fe);let Me=await Jp("action",Ut,ve,De,v.basename);if(Ut.signal.aborted){R.get(X)===Fe&&R.delete(X);return}if($h(Me)){R.delete(X),J.add(X);let ci=Vt({state:"loading"},et,{data:void 0," _hasFetcherDoneAnything ":!0});return _.fetchers.set(X,ci),ze({fetchers:new Map(_.fetchers)}),Rn(_,Me,{isFetchActionRedirect:!0})}if(Bm(Me)){ln(X,re,Me.error);return}if(Tu(Me))throw Ac(400,{type:"defer-action"});let zt=_.navigation.location||_.location,$r=Xp(t.history,zt,Fe.signal),On=_.navigation.state!=="idle"?pm(e,_.navigation.location,t.basename):_.matches;mt(On,"Didn't find any matches after fetcher action");let qo=++j;H.set(X,qo);let Wo=Vt({state:"loading",data:Me.data},et,{" _hasFetcherDoneAnything ":!0});_.fetchers.set(X,Wo);let[sn,Hr]=DV(t.history,_,On,et,zt,M,S,I,{[ve.route.id]:Me.data},void 0,oe);Hr.filter(ci=>ci.key!==X).forEach(ci=>{let cr=ci.key,gs=_.fetchers.get(cr),Er={state:"loading",data:gs&&gs.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(cr,Er),R.set(cr,Fe)}),ze({fetchers:new Map(_.fetchers)});let{results:Li,loaderResults:gn,fetcherResults:Cr}=await Ar(_.matches,On,sn,Hr,$r);if(Fe.signal.aborted)return;H.delete(X),R.delete(X),Hr.forEach(ci=>R.delete(ci.key));let Bi=OV(Li);if(Bi)return Rn(_,Bi);let{loaderData:ai,errors:xn}=MV(_,_.matches,sn,gn,void 0,Hr,Cr,de),Wn={state:"idle",data:Me.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(X,Wn);let ra=K(qo);_.navigation.state==="loading"&&qo>V?(mt(A,"Expected pending action"),T&&T.abort(),le(_.navigation.location,{matches:On,loaderData:ai,errors:xn,fetchers:new Map(_.fetchers)})):(ze(Vt({errors:xn,loaderData:NV(_.loaderData,ai,On,xn)},ra?{fetchers:new Map(_.fetchers)}:{})),M=!1)}async function Lt(X,re,pe,ve,De,et){let Je=_.fetchers.get(X),ct=Vt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},et,{data:Je&&Je.data," _hasFetcherDoneAnything ":!0});_.fetchers.set(X,ct),ze({fetchers:new Map(_.fetchers)});let Fe=new AbortController,Ut=Xp(t.history,pe,Fe.signal);R.set(X,Fe);let Me=await Jp("loader",Ut,ve,De,v.basename);if(Tu(Me)&&(Me=await XG(Me,Ut.signal,!0)||Me),R.get(X)===Fe&&R.delete(X),Ut.signal.aborted)return;if($h(Me)){await Rn(_,Me);return}if(Bm(Me)){let $r=Ah(_.matches,re);_.fetchers.delete(X),ze({fetchers:new Map(_.fetchers),errors:{[$r.route.id]:Me.error}});return}mt(!Tu(Me),"Unhandled fetcher deferred data");let zt={state:"idle",data:Me.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(X,zt),ze({fetchers:new Map(_.fetchers)})}async function Rn(X,re,pe){var ve;let{submission:De,replace:et,isFetchActionRedirect:Je}=pe===void 0?{}:pe;re.revalidate&&(M=!0);let ct=Bg(X.location,re.location,Vt({_isRedirect:!0},Je?{_isFetchActionRedirect:!0}:{}));if(mt(ct,"Expected a location on the redirect navigation"),YG&&typeof((ve=window)==null?void 0:ve.location)<"u"){let On=t.history.createURL(re.location).origin;if(window.location.origin!==On){et?window.location.replace(re.location):window.location.assign(re.location);return}}T=null;let Fe=et===!0?dr.Replace:dr.Push,{formMethod:Ut,formAction:Me,formEncType:zt,formData:$r}=X.navigation;!De&&Ut&&Me&&$r&&zt&&(De={formMethod:Ut,formAction:Me,formEncType:zt,formData:$r}),$Pe.has(re.status)&&De&&ba(De.formMethod)?await Ae(Fe,ct,{submission:Vt({},De,{formAction:re.location}),preventScrollReset:E}):await Ae(Fe,ct,{overrideNavigation:{state:"loading",location:ct,formMethod:De?De.formMethod:void 0,formAction:De?De.formAction:void 0,formEncType:De?De.formEncType:void 0,formData:De?De.formData:void 0},preventScrollReset:E})}async function Ar(X,re,pe,ve,De){let et=await Promise.all([...pe.map(Fe=>Jp("loader",De,Fe,re,v.basename)),...ve.map(Fe=>Jp("loader",Xp(t.history,Fe.path,De.signal),Fe.match,Fe.matches,v.basename))]),Je=et.slice(0,pe.length),ct=et.slice(pe.length);return await Promise.all([LV(X,pe,Je,De.signal,!1,_.loaderData),LV(X,ve.map(Fe=>Fe.match),ct,De.signal,!0)]),{results:et,loaderResults:Je,fetcherResults:ct}}function cn(){M=!0,S.push(...je()),oe.forEach((X,re)=>{R.has(re)&&(I.push(re),wt(re))})}function ln(X,re,pe){let ve=Ah(_.matches,re);$t(X),ze({errors:{[ve.route.id]:pe},fetchers:new Map(_.fetchers)})}function $t(X){R.has(X)&&wt(X),oe.delete(X),H.delete(X),J.delete(X),_.fetchers.delete(X)}function wt(X){let re=R.get(X);mt(re,"Expected fetch controller: "+X),re.abort(),R.delete(X)}function Bt(X){for(let re of X){let ve={state:"idle",data:Be(re).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(re,ve)}}function z(){let X=[];for(let re of J){let pe=_.fetchers.get(re);mt(pe,"Expected fetcher: "+re),pe.state==="loading"&&(J.delete(re),X.push(re))}Bt(X)}function K(X){let re=[];for(let[pe,ve]of H)if(ve<X){let De=_.fetchers.get(pe);mt(De,"Expected fetcher: "+pe),De.state==="loading"&&(wt(pe),H.delete(pe),re.push(pe))}return Bt(re),re.length>0}function Z(X,re){let pe=_.blockers.get(X)||TV;return te.get(X)!==re&&(te.set(X,re),Le==null?Le=X:X!==Le&&zg(!1,"A router only supports one blocker at a time")),pe}function ke(X){_.blockers.delete(X),te.delete(X),Le===X&&(Le=null)}function Se(X,re){let pe=_.blockers.get(X)||TV;mt(pe.state==="unblocked"&&re.state==="blocked"||pe.state==="blocked"&&re.state==="blocked"||pe.state==="blocked"&&re.state==="proceeding"||pe.state==="blocked"&&re.state==="unblocked"||pe.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+pe.state+" -> "+re.state),_.blockers.set(X,re),ze({blockers:new Map(_.blockers)})}function ue(X){let{currentLocation:re,nextLocation:pe,historyAction:ve}=X;if(Le==null)return;let De=te.get(Le);mt(De,"Could not find a function for the active blocker");let et=_.blockers.get(Le);if(!(et&&et.state==="proceeding")&&De({currentLocation:re,nextLocation:pe,historyAction:ve}))return Le}function je(X){let re=[];return de.forEach((pe,ve)=>{(!X||X(ve))&&(pe.cancel(),re.push(ve),de.delete(ve))}),re}function xt(X,re,pe){if(a=X,h=re,u=pe||(ve=>ve.key),!p&&_.navigation===iS){p=!0;let ve=En(_.location,_.matches);ve!=null&&ze({restoreScrollPosition:ve})}return()=>{a=null,h=null,u=null}}function At(X,re){if(a&&u&&h){let pe=re.map(De=>BV(De,_.loaderData)),ve=u(X,pe)||X.key;a[ve]=h()}}function En(X,re){if(a&&u&&h){let pe=re.map(et=>BV(et,_.loaderData)),ve=u(X,pe)||X.key,De=a[ve];if(typeof De=="number")return De}return null}return v={get basename(){return t.basename},get state(){return _},get routes(){return e},initialize:_e,subscribe:qe,enableScrollRestoration:xt,navigate:se,fetch:rt,revalidate:W,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:Be,deleteFetcher:$t,dispose:Ee,getBlocker:Z,deleteBlocker:ke,_internalFetchControllers:R,_internalActiveDeferreds:de},v}function GPe(t){return t!=null&&"formData"in t}function IV(t,e,r){r===void 0&&(r=!1);let o=typeof t=="string"?t:na(t);if(!e||!GPe(e))return{path:o};if(e.formMethod&&!XPe(e.formMethod))return{path:o,error:Ac(405,{method:e.formMethod})};let a;if(e.formData&&(a={formMethod:e.formMethod||"get",formAction:JG(o),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},ba(a.formMethod)))return{path:o,submission:a};let u=tc(o),h=ZG(e.formData);return r&&u.search&&eK(u.search)&&h.append("index",""),u.search="?"+h,{path:na(u),submission:a}}function KPe(t,e){let r=t;if(e){let o=t.findIndex(a=>a.route.id===e);o>=0&&(r=t.slice(0,o))}return r}function DV(t,e,r,o,a,u,h,p,m,b,k){let v=b?Object.values(b)[0]:m?Object.values(m)[0]:void 0,_=t.createURL(e.location),A=t.createURL(a),E=u||_.toString()===A.toString()||_.search!==A.search,T=b?Object.keys(b)[0]:void 0,M=KPe(r,T).filter((I,R)=>{if(I.route.loader==null)return!1;if(YPe(e.loaderData,e.matches[R],I)||h.some(H=>H===I.route.id))return!0;let j=e.matches[R],V=I;return PV(I,Vt({currentUrl:_,currentParams:j.params,nextUrl:A,nextParams:V.params},o,{actionResult:v,defaultShouldRevalidate:E||QG(j,V)}))}),S=[];return k&&k.forEach((I,R)=>{if(r.some(j=>j.route.id===I.routeId))p.includes(R)?S.push(Vt({key:R},I)):PV(I.match,Vt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:r[r.length-1].params},o,{actionResult:v,defaultShouldRevalidate:E}))&&S.push(Vt({key:R},I));else return}),[M,S]}function YPe(t,e,r){let o=!e||r.route.id!==e.route.id,a=t[r.route.id]===void 0;return o||a}function QG(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function PV(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function Jp(t,e,r,o,a,u,h,p){a===void 0&&(a="/"),u===void 0&&(u=!1),h===void 0&&(h=!1);let m,b,k,v=new Promise((A,E)=>k=E),_=()=>k();e.signal.addEventListener("abort",_);try{let A=r.route[t];mt(A,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),b=await Promise.race([A({request:e,params:r.params,context:p}),v]),mt(b!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(A){m=Jr.error,b=A}finally{e.signal.removeEventListener("abort",_)}if(JPe(b)){let A=b.status;if(UPe.has(A)){let L=b.headers.get("Location");if(mt(L,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(L)){if(!u){let S=new URL(e.url),I=L.startsWith("//")?new URL(S.protocol+L):new URL(L);I.origin===S.origin&&(L=I.pathname+I.search+I.hash)}}else{let S=o.slice(0,o.indexOf(r)+1),I=q0(S).map(j=>j.pathnameBase),R=vN(L,I,new URL(e.url).pathname);if(mt(na(R),"Unable to resolve redirect location: "+L),a){let j=R.pathname;R.pathname=j==="/"?a:Ma([a,j])}L=na(R)}if(u)throw b.headers.set("Location",L),b;return{type:Jr.redirect,status:A,location:L,revalidate:b.headers.get("X-Remix-Revalidate")!==null}}if(h)throw{type:m||Jr.data,response:b};let E,T=b.headers.get("Content-Type");return T&&/\bapplication\/json\b/.test(T)?E=await b.json():E=await b.text(),m===Jr.error?{type:m,error:new yN(A,b.statusText,E),headers:b.headers}:{type:Jr.data,data:E,statusCode:b.status,headers:b.headers}}return m===Jr.error?{type:m,error:b}:b instanceof OPe?{type:Jr.deferred,deferredData:b}:{type:Jr.data,data:b}}function Xp(t,e,r,o){let a=t.createURL(JG(e)).toString(),u={signal:r};if(o&&ba(o.formMethod)){let{formMethod:h,formEncType:p,formData:m}=o;u.method=h.toUpperCase(),u.body=p==="application/x-www-form-urlencoded"?ZG(m):m}return new Request(a,u)}function ZG(t){let e=new URLSearchParams;for(let[r,o]of t.entries())e.append(r,o instanceof File?o.name:o);return e}function QPe(t,e,r,o,a){let u={},h=null,p,m=!1,b={};return r.forEach((k,v)=>{let _=e[v].route.id;if(mt(!$h(k),"Cannot handle redirect results in processLoaderData"),Bm(k)){let A=Ah(t,_),E=k.error;o&&(E=Object.values(o)[0],o=void 0),h=h||{},h[A.route.id]==null&&(h[A.route.id]=E),u[_]=void 0,m||(m=!0,p=GG(k.error)?k.error.status:500),k.headers&&(b[_]=k.headers)}else Tu(k)?(a.set(_,k.deferredData),u[_]=k.deferredData.data):u[_]=k.data,k.statusCode!=null&&k.statusCode!==200&&!m&&(p=k.statusCode),k.headers&&(b[_]=k.headers)}),o&&(h=o,u[Object.keys(o)[0]]=void 0),{loaderData:u,errors:h,statusCode:p||200,loaderHeaders:b}}function MV(t,e,r,o,a,u,h,p){let{loaderData:m,errors:b}=QPe(e,r,o,a,p);for(let k=0;k<u.length;k++){let{key:v,match:_}=u[k];mt(h!==void 0&&h[k]!==void 0,"Did not find corresponding fetcher result");let A=h[k];if(Bm(A)){let E=Ah(t.matches,_.route.id);b&&b[E.route.id]||(b=Vt({},b,{[E.route.id]:A.error})),t.fetchers.delete(v)}else if($h(A))mt(!1,"Unhandled fetcher revalidation redirect");else if(Tu(A))mt(!1,"Unhandled fetcher deferred data");else{let E={state:"idle",data:A.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(v,E)}}return{loaderData:m,errors:b}}function NV(t,e,r,o){let a=Vt({},e);for(let u of r){let h=u.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(a[h]=e[h]):t[h]!==void 0&&(a[h]=t[h]),o&&o.hasOwnProperty(h))break}return a}function Ah(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function RV(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ac(t,e){let{pathname:r,routeId:o,method:a,type:u}=e===void 0?{}:e,h="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(h="Bad Request",a&&r&&o?p="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":u==="defer-action"&&(p="defer() is not supported in actions")):t===403?(h="Forbidden",p='Route "'+o+'" does not match URL "'+r+'"'):t===404?(h="Not Found",p='No route matches URL "'+r+'"'):t===405&&(h="Method Not Allowed",a&&r&&o?p="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":a&&(p='Invalid request method "'+a.toUpperCase()+'"')),new yN(t||500,h,new Error(p),!0)}function OV(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if($h(r))return r}}function JG(t){let e=typeof t=="string"?tc(t):t;return na(Vt({},e,{hash:""}))}function ZPe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Tu(t){return t.type===Jr.deferred}function Bm(t){return t.type===Jr.error}function $h(t){return(t&&t.type)===Jr.redirect}function JPe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function XPe(t){return VPe.has(t)}function ba(t){return FPe.has(t)}async function LV(t,e,r,o,a,u){for(let h=0;h<r.length;h++){let p=r[h],m=e[h],b=t.find(v=>v.route.id===m.route.id),k=b!=null&&!QG(b,m)&&(u&&u[m.route.id])!==void 0;Tu(p)&&(a||k)&&await XG(p,o,a).then(v=>{v&&(r[h]=v||r[h])})}}async function XG(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Jr.data,data:t.deferredData.unwrappedData}}catch(a){return{type:Jr.error,error:a}}return{type:Jr.data,data:t.deferredData.data}}}function eK(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function BV(t,e){let{route:r,pathname:o,params:a}=t;return{id:r.id,pathname:o,params:a,data:e[r.id],handle:r.handle}}function zV(t,e){let r=typeof e=="string"?tc(e).search:e.search;if(t[t.length-1].route.index&&eK(r||""))return t[t.length-1];let o=q0(t);return o[o.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ly.apply(this,arguments)}function eMe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const tMe=typeof Object.is=="function"?Object.is:eMe,{useState:nMe,useEffect:rMe,useLayoutEffect:iMe,useDebugValue:oMe}=LS;function sMe(t,e,r){const o=e(),[{inst:a},u]=nMe({inst:{value:o,getSnapshot:e}});return iMe(()=>{a.value=o,a.getSnapshot=e,oS(a)&&u({inst:a})},[t,o,e]),rMe(()=>(oS(a)&&u({inst:a}),t(()=>{oS(a)&&u({inst:a})})),[t]),oMe(o),o}function oS(t){const e=t.getSnapshot,r=t.value;try{const o=e();return!tMe(r,o)}catch{return!0}}function aMe(t,e,r){return e()}const cMe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lMe=!cMe,uMe=lMe?aMe:sMe,dMe="useSyncExternalStore"in LS?(t=>t.useSyncExternalStore)(LS):uMe,_N=q.createContext(null),AN=q.createContext(null),W0=q.createContext(null),G0=q.createContext(null),Tl=q.createContext({outlet:null,matches:[]}),tK=q.createContext(null);function hMe(t,e){let{relative:r}=e===void 0?{}:e;Uf()||mt(!1);let{basename:o,navigator:a}=q.useContext(W0),{hash:u,pathname:h,search:p}=nK(t,{relative:r}),m=h;return o!=="/"&&(m=h==="/"?o:Ma([o,h])),a.createHref({pathname:m,search:p,hash:u})}function Uf(){return q.useContext(G0)!=null}function Ib(){return Uf()||mt(!1),q.useContext(G0).location}function zk(t){Uf()||mt(!1);let{pathname:e}=Ib();return q.useMemo(()=>qG(t,e),[e,t])}function yd(){Uf()||mt(!1);let{basename:t,navigator:e}=q.useContext(W0),{matches:r}=q.useContext(Tl),{pathname:o}=Ib(),a=JSON.stringify(q0(r).map(p=>p.pathnameBase)),u=q.useRef(!1);return q.useEffect(()=>{u.current=!0}),q.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){e.go(p);return}let b=vN(p,JSON.parse(a),o,m.relative==="path");t!=="/"&&(b.pathname=b.pathname==="/"?t:Ma([t,b.pathname])),(m.replace?e.replace:e.push)(b,m.state,m)},[t,e,a,o])}const fMe=q.createContext(null);function pMe(t){let e=q.useContext(Tl).outlet;return e&&q.createElement(fMe.Provider,{value:t},e)}function CN(){let{matches:t}=q.useContext(Tl),e=t[t.length-1];return e?e.params:{}}function nK(t,e){let{relative:r}=e===void 0?{}:e,{matches:o}=q.useContext(Tl),{pathname:a}=Ib(),u=JSON.stringify(q0(o).map(h=>h.pathnameBase));return q.useMemo(()=>vN(t,JSON.parse(u),a,r==="path"),[t,u,a,r])}function mMe(t,e){Uf()||mt(!1);let{navigator:r}=q.useContext(W0),o=q.useContext(AN),{matches:a}=q.useContext(Tl),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Ib(),b;if(e){var k;let T=typeof e=="string"?tc(e):e;p==="/"||(k=T.pathname)!=null&&k.startsWith(p)||mt(!1),b=T}else b=m;let v=b.pathname||"/",_=p==="/"?v:v.slice(p.length)||"/",A=pm(t,{pathname:_}),E=kMe(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Ma([p,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Ma([p,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,o||void 0);return e&&E?q.createElement(G0.Provider,{value:{location:Ly({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:dr.Pop}},E):E}function gMe(){let t=AMe(),e=GG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),r?q.createElement("pre",{style:a},r):null,u)}class bMe extends q.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?q.createElement(Tl.Provider,{value:this.props.routeContext},q.createElement(tK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wMe(t){let{routeContext:e,match:r,children:o}=t,a=q.useContext(_N);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),q.createElement(Tl.Provider,{value:e},o)}function kMe(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let o=t,a=r==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||mt(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,p)=>{let m=h.route.id?a==null?void 0:a[h.route.id]:null,b=r?h.route.errorElement||q.createElement(gMe,null):null,k=e.concat(o.slice(0,p+1)),v=()=>q.createElement(wMe,{match:h,routeContext:{outlet:u,matches:k}},m?b:h.route.element!==void 0?h.route.element:u);return r&&(h.route.errorElement||p===0)?q.createElement(bMe,{location:r.location,component:b,error:m,children:v(),routeContext:{outlet:null,matches:k}}):v()},null)}var FV;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(FV||(FV={}));var By;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(By||(By={}));function vMe(t){let e=q.useContext(AN);return e||mt(!1),e}function yMe(t){let e=q.useContext(Tl);return e||mt(!1),e}function _Me(t){let e=yMe(),r=e.matches[e.matches.length-1];return r.route.id||mt(!1),r.route.id}function AMe(){var t;let e=q.useContext(tK),r=vMe(By.UseRouteError),o=_Me(By.UseRouteError);return e||((t=r.errors)==null?void 0:t[o])}function CMe(t){let{fallbackElement:e,router:r}=t,o=dMe(r.subscribe,()=>r.state,()=>r.state),a=q.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:h=>r.navigate(h),push:(h,p,m)=>r.navigate(h,{state:p,preventScrollReset:m==null?void 0:m.preventScrollReset}),replace:(h,p,m)=>r.navigate(h,{replace:!0,state:p,preventScrollReset:m==null?void 0:m.preventScrollReset})}),[r]),u=r.basename||"/";return q.createElement(q.Fragment,null,q.createElement(_N.Provider,{value:{router:r,navigator:a,static:!1,basename:u}},q.createElement(AN.Provider,{value:o},q.createElement(SMe,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?q.createElement(TMe,null):e))),null)}function EMe(t){return pMe(t.context)}function xMe(t){mt(!1)}function SMe(t){let{basename:e="/",children:r=null,location:o,navigationType:a=dr.Pop,navigator:u,static:h=!1}=t;Uf()&&mt(!1);let p=e.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:p,navigator:u,static:h}),[p,u,h]);typeof o=="string"&&(o=tc(o));let{pathname:b="/",search:k="",hash:v="",state:_=null,key:A="default"}=o,E=q.useMemo(()=>{let T=WG(b,p);return T==null?null:{pathname:T,search:k,hash:v,state:_,key:A}},[p,b,k,v,_,A]);return E==null?null:q.createElement(W0.Provider,{value:m},q.createElement(G0.Provider,{children:r,value:{location:E,navigationType:a}}))}function TMe(t){let{children:e,location:r}=t,o=q.useContext(_N),a=o&&!e?o.router.routes:II(e);return mMe(a,r)}var jV;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(jV||(jV={}));new Promise(()=>{});function II(t,e){e===void 0&&(e=[]);let r=[];return q.Children.forEach(t,(o,a)=>{if(!q.isValidElement(o))return;if(o.type===q.Fragment){r.push.apply(r,II(o.props.children,e));return}o.type!==xMe&&mt(!1),!o.props.index||!o.props.children||mt(!1);let u=[...e,a],h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,hasErrorBoundary:o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle};o.props.children&&(h.children=II(o.props.children,u)),r.push(h)}),r}function rK(t){return t.map(e=>{let r=Ly({},e);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=rK(r.children)),r})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},zy.apply(this,arguments)}function IMe(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,u;for(u=0;u<o.length;u++)a=o[u],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function DMe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PMe(t,e){return t.button===0&&(!e||e==="_self")&&!DMe(t)}const MMe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function NMe(t,e){return WPe({basename:e==null?void 0:e.basename,history:fPe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||RMe(),routes:rK(t)}).initialize()}function RMe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=zy({},e,{errors:OMe(e.errors)})),e}function OMe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[o,a]of e)if(a&&a.__type==="RouteErrorResponse")r[o]=new yN(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let u=new Error(a.message);u.stack="",r[o]=u}else r[o]=a;return r}const LMe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sS=q.forwardRef(function(e,r){let{onClick:o,relative:a,reloadDocument:u,replace:h,state:p,target:m,to:b,preventScrollReset:k}=e,v=IMe(e,MMe),_=typeof b=="string"?b:na(b),A=/^[a-z+]+:\/\//i.test(_)||_.startsWith("//"),E=_,T=!1;if(LMe&&A){let I=new URL(window.location.href),R=_.startsWith("//")?new URL(I.protocol+_):new URL(_);R.origin===I.origin?E=R.pathname+R.search+R.hash:T=!0}let L=hMe(E,{relative:a}),M=BMe(E,{replace:h,state:p,target:m,preventScrollReset:k,relative:a});function S(I){o&&o(I),I.defaultPrevented||M(I)}return q.createElement("a",zy({},v,{href:A?_:L,onClick:T||u?o:S,ref:r,target:m}))});var VV;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(VV||(VV={}));var UV;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(UV||(UV={}));function BMe(t,e){let{target:r,replace:o,state:a,preventScrollReset:u,relative:h}=e===void 0?{}:e,p=yd(),m=Ib(),b=nK(t,{relative:h});return q.useCallback(k=>{if(PMe(k,r)){k.preventDefault();let v=o!==void 0?o:na(m)===na(b);p(t,{replace:v,state:a,preventScrollReset:u,relative:h})}},[m,p,b,o,a,r,t,u,h])}function $V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(r),!0).forEach(function(o){vr(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function Fy(t){return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function zMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HV(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function FMe(t,e,r){return e&&HV(t.prototype,e),r&&HV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EN(t,e){return VMe(t)||$Me(t,e)||iK(t,e)||qMe()}function Db(t){return jMe(t)||UMe(t)||iK(t)||HMe()}function jMe(t){if(Array.isArray(t))return DI(t)}function VMe(t){if(Array.isArray(t))return t}function UMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Me(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o=[],a=!0,u=!1,h,p;try{for(r=r.call(t);!(a=(h=r.next()).done)&&(o.push(h.value),!(e&&o.length===e));a=!0);}catch(m){u=!0,p=m}finally{try{!a&&r.return!=null&&r.return()}finally{if(u)throw p}}return o}}function iK(t,e){if(t){if(typeof t=="string")return DI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function HMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qV=function(){},xN={},oK={},sK=null,aK={mark:qV,measure:qV};try{typeof window<"u"&&(xN=window),typeof document<"u"&&(oK=document),typeof MutationObserver<"u"&&(sK=MutationObserver),typeof performance<"u"&&(aK=performance)}catch{}var WMe=xN.navigator||{},WV=WMe.userAgent,GV=WV===void 0?"":WV,dl=xN,An=oK,KV=sK,Fk=aK;dl.document;var nc=!!An.documentElement&&!!An.head&&typeof An.addEventListener=="function"&&typeof An.createElement=="function",cK=~GV.indexOf("MSIE")||~GV.indexOf("Trident/"),jk,Vk,Uk,$k,Hk,Ha="___FONT_AWESOME___",PI=16,lK="fa",uK="svg-inline--fa",ld="data-fa-i2svg",MI="data-fa-pseudo-element",GMe="data-fa-pseudo-element-pending",SN="data-prefix",TN="data-icon",YV="fontawesome-i2svg",KMe="async",YMe=["HTML","HEAD","STYLE","SCRIPT"],dK=function(){try{return!0}catch{return!1}}(),vn="classic",Xn="sharp",IN=[vn,Xn];function Pb(t){return new Proxy(t,{get:function(r,o){return o in r?r[o]:r[vn]}})}var Fg=Pb((jk={},vr(jk,vn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),vr(jk,Xn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),jk)),jg=Pb((Vk={},vr(Vk,vn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),vr(Vk,Xn,{solid:"fass",regular:"fasr"}),Vk)),Vg=Pb((Uk={},vr(Uk,vn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),vr(Uk,Xn,{fass:"fa-solid",fasr:"fa-regular"}),Uk)),QMe=Pb(($k={},vr($k,vn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),vr($k,Xn,{"fa-solid":"fass","fa-regular":"fasr"}),$k)),ZMe=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,hK="fa-layers-text",JMe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,XMe=Pb((Hk={},vr(Hk,vn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),vr(Hk,Xn,{900:"fass",400:"fasr"}),Hk)),fK=[1,2,3,4,5,6,7,8,9,10],eNe=fK.concat([11,12,13,14,15,16,17,18,19,20]),tNe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Iu={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ug=new Set;Object.keys(jg[vn]).map(Ug.add.bind(Ug));Object.keys(jg[Xn]).map(Ug.add.bind(Ug));var nNe=[].concat(IN,Db(Ug),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Iu.GROUP,Iu.SWAP_OPACITY,Iu.PRIMARY,Iu.SECONDARY]).concat(fK.map(function(t){return"".concat(t,"x")})).concat(eNe.map(function(t){return"w-".concat(t)})),zm=dl.FontAwesomeConfig||{};function rNe(t){var e=An.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function iNe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(An&&typeof An.querySelector=="function"){var oNe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];oNe.forEach(function(t){var e=EN(t,2),r=e[0],o=e[1],a=iNe(rNe(r));a!=null&&(zm[o]=a)})}var pK={styleDefault:"solid",familyDefault:"classic",cssPrefix:lK,replacementClass:uK,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zm.familyPrefix&&(zm.cssPrefix=zm.familyPrefix);var kf=$e($e({},pK),zm);kf.autoReplaceSvg||(kf.observeMutations=!1);var Ye={};Object.keys(pK).forEach(function(t){Object.defineProperty(Ye,t,{enumerable:!0,set:function(r){kf[t]=r,Fm.forEach(function(o){return o(Ye)})},get:function(){return kf[t]}})});Object.defineProperty(Ye,"familyPrefix",{enumerable:!0,set:function(e){kf.cssPrefix=e,Fm.forEach(function(r){return r(Ye)})},get:function(){return kf.cssPrefix}});dl.FontAwesomeConfig=Ye;var Fm=[];function sNe(t){return Fm.push(t),function(){Fm.splice(Fm.indexOf(t),1)}}var _c=PI,Hs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function aNe(t){if(!(!t||!nc)){var e=An.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var r=An.head.childNodes,o=null,a=r.length-1;a>-1;a--){var u=r[a],h=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(o=u)}return An.head.insertBefore(e,o),t}}var cNe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function $g(){for(var t=12,e="";t-- >0;)e+=cNe[Math.random()*62|0];return e}function $f(t){for(var e=[],r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function DN(t){return t.classList?$f(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function mK(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lNe(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,'="').concat(mK(t[r]),'" ')},"").trim()}function K0(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,": ").concat(t[r].trim(),";")},"")}function PN(t){return t.size!==Hs.size||t.x!==Hs.x||t.y!==Hs.y||t.rotate!==Hs.rotate||t.flipX||t.flipY}function uNe(t){var e=t.transform,r=t.containerWidth,o=t.iconWidth,a={transform:"translate(".concat(r/2," 256)")},u="translate(".concat(e.x*32,", ").concat(e.y*32,") "),h="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)"),m={transform:"".concat(u," ").concat(h," ").concat(p)},b={transform:"translate(".concat(o/2*-1," -256)")};return{outer:a,inner:m,path:b}}function dNe(t){var e=t.transform,r=t.width,o=r===void 0?PI:r,a=t.height,u=a===void 0?PI:a,h=t.startCentered,p=h===void 0?!1:h,m="";return p&&cK?m+="translate(".concat(e.x/_c-o/2,"em, ").concat(e.y/_c-u/2,"em) "):p?m+="translate(calc(-50% + ".concat(e.x/_c,"em), calc(-50% + ").concat(e.y/_c,"em)) "):m+="translate(".concat(e.x/_c,"em, ").concat(e.y/_c,"em) "),m+="scale(".concat(e.size/_c*(e.flipX?-1:1),", ").concat(e.size/_c*(e.flipY?-1:1),") "),m+="rotate(".concat(e.rotate,"deg) "),m}var hNe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function gK(){var t=lK,e=uK,r=Ye.cssPrefix,o=Ye.replacementClass,a=hNe;if(r!==t||o!==e){var u=new RegExp("\\.".concat(t,"\\-"),"g"),h=new RegExp("\\--".concat(t,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");a=a.replace(u,".".concat(r,"-")).replace(h,"--".concat(r,"-")).replace(p,".".concat(o))}return a}var QV=!1;function aS(){Ye.autoAddCss&&!QV&&(aNe(gK()),QV=!0)}var fNe={mixout:function(){return{dom:{css:gK,insertCss:aS}}},hooks:function(){return{beforeDOMElementCreation:function(){aS()},beforeI2svg:function(){aS()}}}},qa=dl||{};qa[Ha]||(qa[Ha]={});qa[Ha].styles||(qa[Ha].styles={});qa[Ha].hooks||(qa[Ha].hooks={});qa[Ha].shims||(qa[Ha].shims=[]);var ls=qa[Ha],bK=[],pNe=function t(){An.removeEventListener("DOMContentLoaded",t),jy=1,bK.map(function(e){return e()})},jy=!1;nc&&(jy=(An.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(An.readyState),jy||An.addEventListener("DOMContentLoaded",pNe));function mNe(t){nc&&(jy?setTimeout(t,0):bK.push(t))}function Mb(t){var e=t.tag,r=t.attributes,o=r===void 0?{}:r,a=t.children,u=a===void 0?[]:a;return typeof t=="string"?mK(t):"<".concat(e," ").concat(lNe(o),">").concat(u.map(Mb).join(""),"</").concat(e,">")}function ZV(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var gNe=function(e,r){return function(o,a,u,h){return e.call(r,o,a,u,h)}},cS=function(e,r,o,a){var u=Object.keys(e),h=u.length,p=a!==void 0?gNe(r,a):r,m,b,k;for(o===void 0?(m=1,k=e[u[0]]):(m=0,k=o);m<h;m++)b=u[m],k=p(k,e[b],b,e);return k};function bNe(t){for(var e=[],r=0,o=t.length;r<o;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<o){var u=t.charCodeAt(r++);(u&64512)==56320?e.push(((a&1023)<<10)+(u&1023)+65536):(e.push(a),r--)}else e.push(a)}return e}function NI(t){var e=bNe(t);return e.length===1?e[0].toString(16):null}function wNe(t,e){var r=t.length,o=t.charCodeAt(e),a;return o>=55296&&o<=56319&&r>e+1&&(a=t.charCodeAt(e+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}function JV(t){return Object.keys(t).reduce(function(e,r){var o=t[r],a=!!o.icon;return a?e[o.iconName]=o.icon:e[r]=o,e},{})}function RI(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.skipHooks,a=o===void 0?!1:o,u=JV(e);typeof ls.hooks.addPack=="function"&&!a?ls.hooks.addPack(t,JV(e)):ls.styles[t]=$e($e({},ls.styles[t]||{}),u),t==="fas"&&RI("fa",e)}var qk,Wk,Gk,Ch=ls.styles,kNe=ls.shims,vNe=(qk={},vr(qk,vn,Object.values(Vg[vn])),vr(qk,Xn,Object.values(Vg[Xn])),qk),MN=null,wK={},kK={},vK={},yK={},_K={},yNe=(Wk={},vr(Wk,vn,Object.keys(Fg[vn])),vr(Wk,Xn,Object.keys(Fg[Xn])),Wk);function _Ne(t){return~nNe.indexOf(t)}function ANe(t,e){var r=e.split("-"),o=r[0],a=r.slice(1).join("-");return o===t&&a!==""&&!_Ne(a)?a:null}var AK=function(){var e=function(u){return cS(Ch,function(h,p,m){return h[m]=cS(p,u,{}),h},{})};wK=e(function(a,u,h){if(u[3]&&(a[u[3]]=h),u[2]){var p=u[2].filter(function(m){return typeof m=="number"});p.forEach(function(m){a[m.toString(16)]=h})}return a}),kK=e(function(a,u,h){if(a[h]=h,u[2]){var p=u[2].filter(function(m){return typeof m=="string"});p.forEach(function(m){a[m]=h})}return a}),_K=e(function(a,u,h){var p=u[2];return a[h]=h,p.forEach(function(m){a[m]=h}),a});var r="far"in Ch||Ye.autoFetchSvg,o=cS(kNe,function(a,u){var h=u[0],p=u[1],m=u[2];return p==="far"&&!r&&(p="fas"),typeof h=="string"&&(a.names[h]={prefix:p,iconName:m}),typeof h=="number"&&(a.unicodes[h.toString(16)]={prefix:p,iconName:m}),a},{names:{},unicodes:{}});vK=o.names,yK=o.unicodes,MN=Y0(Ye.styleDefault,{family:Ye.familyDefault})};sNe(function(t){MN=Y0(t.styleDefault,{family:Ye.familyDefault})});AK();function NN(t,e){return(wK[t]||{})[e]}function CNe(t,e){return(kK[t]||{})[e]}function Du(t,e){return(_K[t]||{})[e]}function CK(t){return vK[t]||{prefix:null,iconName:null}}function ENe(t){var e=yK[t],r=NN("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function hl(){return MN}var RN=function(){return{prefix:null,iconName:null,rest:[]}};function Y0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.family,o=r===void 0?vn:r,a=Fg[o][t],u=jg[o][t]||jg[o][a],h=t in ls.styles?t:null;return u||h||null}var XV=(Gk={},vr(Gk,vn,Object.keys(Vg[vn])),vr(Gk,Xn,Object.keys(Vg[Xn])),Gk);function Q0(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.skipLookups,a=o===void 0?!1:o,u=(e={},vr(e,vn,"".concat(Ye.cssPrefix,"-").concat(vn)),vr(e,Xn,"".concat(Ye.cssPrefix,"-").concat(Xn)),e),h=null,p=vn;(t.includes(u[vn])||t.some(function(b){return XV[vn].includes(b)}))&&(p=vn),(t.includes(u[Xn])||t.some(function(b){return XV[Xn].includes(b)}))&&(p=Xn);var m=t.reduce(function(b,k){var v=ANe(Ye.cssPrefix,k);if(Ch[k]?(k=vNe[p].includes(k)?QMe[p][k]:k,h=k,b.prefix=k):yNe[p].indexOf(k)>-1?(h=k,b.prefix=Y0(k,{family:p})):v?b.iconName=v:k!==Ye.replacementClass&&k!==u[vn]&&k!==u[Xn]&&b.rest.push(k),!a&&b.prefix&&b.iconName){var _=h==="fa"?CK(b.iconName):{},A=Du(b.prefix,b.iconName);_.prefix&&(h=null),b.iconName=_.iconName||A||b.iconName,b.prefix=_.prefix||b.prefix,b.prefix==="far"&&!Ch.far&&Ch.fas&&!Ye.autoFetchSvg&&(b.prefix="fas")}return b},RN());return(t.includes("fa-brands")||t.includes("fab"))&&(m.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(m.prefix="fad"),!m.prefix&&p===Xn&&(Ch.fass||Ye.autoFetchSvg)&&(m.prefix="fass",m.iconName=Du(m.prefix,m.iconName)||m.iconName),(m.prefix==="fa"||h==="fa")&&(m.prefix=hl()||"fas"),m}var xNe=function(){function t(){zMe(this,t),this.definitions={}}return FMe(t,[{key:"add",value:function(){for(var r=this,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];var h=a.reduce(this._pullDefinitions,{});Object.keys(h).forEach(function(p){r.definitions[p]=$e($e({},r.definitions[p]||{}),h[p]),RI(p,h[p]);var m=Vg[vn][p];m&&RI(m,h[p]),AK()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,o){var a=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(a).map(function(u){var h=a[u],p=h.prefix,m=h.iconName,b=h.icon,k=b[2];r[p]||(r[p]={}),k.length>0&&k.forEach(function(v){typeof v=="string"&&(r[p][v]=b)}),r[p][m]=b}),r}}]),t}(),eU=[],Eh={},Hh={},SNe=Object.keys(Hh);function TNe(t,e){var r=e.mixoutsTo;return eU=t,Eh={},Object.keys(Hh).forEach(function(o){SNe.indexOf(o)===-1&&delete Hh[o]}),eU.forEach(function(o){var a=o.mixout?o.mixout():{};if(Object.keys(a).forEach(function(h){typeof a[h]=="function"&&(r[h]=a[h]),Fy(a[h])==="object"&&Object.keys(a[h]).forEach(function(p){r[h]||(r[h]={}),r[h][p]=a[h][p]})}),o.hooks){var u=o.hooks();Object.keys(u).forEach(function(h){Eh[h]||(Eh[h]=[]),Eh[h].push(u[h])})}o.provides&&o.provides(Hh)}),r}function OI(t,e){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var u=Eh[t]||[];return u.forEach(function(h){e=h.apply(null,[e].concat(o))}),e}function ud(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var a=Eh[t]||[];a.forEach(function(u){u.apply(null,r)})}function Wa(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Hh[t]?Hh[t].apply(null,e):void 0}function LI(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,r=t.prefix||hl();if(e)return e=Du(r,e)||e,ZV(EK.definitions,r,e)||ZV(ls.styles,r,e)}var EK=new xNe,INe=function(){Ye.autoReplaceSvg=!1,Ye.observeMutations=!1,ud("noAuto")},DNe={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nc?(ud("beforeI2svg",e),Wa("pseudoElements2svg",e),Wa("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot;Ye.autoReplaceSvg===!1&&(Ye.autoReplaceSvg=!0),Ye.observeMutations=!0,mNe(function(){MNe({autoReplaceSvgRoot:r}),ud("watch",e)})}},PNe={icon:function(e){if(e===null)return null;if(Fy(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Du(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var r=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],o=Y0(e[0]);return{prefix:o,iconName:Du(o,r)||r}}if(typeof e=="string"&&(e.indexOf("".concat(Ye.cssPrefix,"-"))>-1||e.match(ZMe))){var a=Q0(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||hl(),iconName:Du(a.prefix,a.iconName)||a.iconName}}if(typeof e=="string"){var u=hl();return{prefix:u,iconName:Du(u,e)||e}}}},vo={noAuto:INe,config:Ye,dom:DNe,parse:PNe,library:EK,findIconDefinition:LI,toHtml:Mb},MNe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot,o=r===void 0?An:r;(Object.keys(ls.styles).length>0||Ye.autoFetchSvg)&&nc&&Ye.autoReplaceSvg&&vo.dom.i2svg({node:o})};function Z0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(o){return Mb(o)})}}),Object.defineProperty(t,"node",{get:function(){if(nc){var o=An.createElement("div");return o.innerHTML=t.html,o.children}}}),t}function NNe(t){var e=t.children,r=t.main,o=t.mask,a=t.attributes,u=t.styles,h=t.transform;if(PN(h)&&r.found&&!o.found){var p=r.width,m=r.height,b={x:p/m/2,y:.5};a.style=K0($e($e({},u),{},{"transform-origin":"".concat(b.x+h.x/16,"em ").concat(b.y+h.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}function RNe(t){var e=t.prefix,r=t.iconName,o=t.children,a=t.attributes,u=t.symbol,h=u===!0?"".concat(e,"-").concat(Ye.cssPrefix,"-").concat(r):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:$e($e({},a),{},{id:h}),children:o}]}]}function ON(t){var e=t.icons,r=e.main,o=e.mask,a=t.prefix,u=t.iconName,h=t.transform,p=t.symbol,m=t.title,b=t.maskId,k=t.titleId,v=t.extra,_=t.watchable,A=_===void 0?!1:_,E=o.found?o:r,T=E.width,L=E.height,M=a==="fak",S=[Ye.replacementClass,u?"".concat(Ye.cssPrefix,"-").concat(u):""].filter(function(oe){return v.classes.indexOf(oe)===-1}).filter(function(oe){return oe!==""||!!oe}).concat(v.classes).join(" "),I={children:[],attributes:$e($e({},v.attributes),{},{"data-prefix":a,"data-icon":u,class:S,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(L)})},R=M&&!~v.classes.indexOf("fa-fw")?{width:"".concat(T/L*16*.0625,"em")}:{};A&&(I.attributes[ld]=""),m&&(I.children.push({tag:"title",attributes:{id:I.attributes["aria-labelledby"]||"title-".concat(k||$g())},children:[m]}),delete I.attributes.title);var j=$e($e({},I),{},{prefix:a,iconName:u,main:r,mask:o,maskId:b,transform:h,symbol:p,styles:$e($e({},R),v.styles)}),V=o.found&&r.found?Wa("generateAbstractMask",j)||{children:[],attributes:{}}:Wa("generateAbstractIcon",j)||{children:[],attributes:{}},H=V.children,J=V.attributes;return j.children=H,j.attributes=J,p?RNe(j):NNe(j)}function tU(t){var e=t.content,r=t.width,o=t.height,a=t.transform,u=t.title,h=t.extra,p=t.watchable,m=p===void 0?!1:p,b=$e($e($e({},h.attributes),u?{title:u}:{}),{},{class:h.classes.join(" ")});m&&(b[ld]="");var k=$e({},h.styles);PN(a)&&(k.transform=dNe({transform:a,startCentered:!0,width:r,height:o}),k["-webkit-transform"]=k.transform);var v=K0(k);v.length>0&&(b.style=v);var _=[];return _.push({tag:"span",attributes:b,children:[e]}),u&&_.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),_}function ONe(t){var e=t.content,r=t.title,o=t.extra,a=$e($e($e({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")}),u=K0(o.styles);u.length>0&&(a.style=u);var h=[];return h.push({tag:"span",attributes:a,children:[e]}),r&&h.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),h}var lS=ls.styles;function BI(t){var e=t[0],r=t[1],o=t.slice(4),a=EN(o,1),u=a[0],h=null;return Array.isArray(u)?h={tag:"g",attributes:{class:"".concat(Ye.cssPrefix,"-").concat(Iu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ye.cssPrefix,"-").concat(Iu.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(Ye.cssPrefix,"-").concat(Iu.PRIMARY),fill:"currentColor",d:u[1]}}]}:h={tag:"path",attributes:{fill:"currentColor",d:u}},{found:!0,width:e,height:r,icon:h}}var LNe={found:!1,width:512,height:512};function BNe(t,e){!dK&&!Ye.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function zI(t,e){var r=e;return e==="fa"&&Ye.styleDefault!==null&&(e=hl()),new Promise(function(o,a){if(Wa("missingIconAbstract"),r==="fa"){var u=CK(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&lS[e]&&lS[e][t]){var h=lS[e][t];return o(BI(h))}BNe(t,e),o($e($e({},LNe),{},{icon:Ye.showMissingIcons&&t?Wa("missingIconAbstract")||{}:{}}))})}var nU=function(){},FI=Ye.measurePerformance&&Fk&&Fk.mark&&Fk.measure?Fk:{mark:nU,measure:nU},mm='FA "6.3.0"',zNe=function(e){return FI.mark("".concat(mm," ").concat(e," begins")),function(){return xK(e)}},xK=function(e){FI.mark("".concat(mm," ").concat(e," ends")),FI.measure("".concat(mm," ").concat(e),"".concat(mm," ").concat(e," begins"),"".concat(mm," ").concat(e," ends"))},LN={begin:zNe,end:xK},Cv=function(){};function rU(t){var e=t.getAttribute?t.getAttribute(ld):null;return typeof e=="string"}function FNe(t){var e=t.getAttribute?t.getAttribute(SN):null,r=t.getAttribute?t.getAttribute(TN):null;return e&&r}function jNe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ye.replacementClass)}function VNe(){if(Ye.autoReplaceSvg===!0)return Ev.replace;var t=Ev[Ye.autoReplaceSvg];return t||Ev.replace}function UNe(t){return An.createElementNS("http://www.w3.org/2000/svg",t)}function $Ne(t){return An.createElement(t)}function SK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.ceFn,o=r===void 0?t.tag==="svg"?UNe:$Ne:r;if(typeof t=="string")return An.createTextNode(t);var a=o(t.tag);Object.keys(t.attributes||[]).forEach(function(h){a.setAttribute(h,t.attributes[h])});var u=t.children||[];return u.forEach(function(h){a.appendChild(SK(h,{ceFn:o}))}),a}function HNe(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Ev={replace:function(e){var r=e[0];if(r.parentNode)if(e[1].forEach(function(a){r.parentNode.insertBefore(SK(a),r)}),r.getAttribute(ld)===null&&Ye.keepOriginalSource){var o=An.createComment(HNe(r));r.parentNode.replaceChild(o,r)}else r.remove()},nest:function(e){var r=e[0],o=e[1];if(~DN(r).indexOf(Ye.replacementClass))return Ev.replace(e);var a=new RegExp("".concat(Ye.cssPrefix,"-.*"));if(delete o[0].attributes.id,o[0].attributes.class){var u=o[0].attributes.class.split(" ").reduce(function(p,m){return m===Ye.replacementClass||m.match(a)?p.toSvg.push(m):p.toNode.push(m),p},{toNode:[],toSvg:[]});o[0].attributes.class=u.toSvg.join(" "),u.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",u.toNode.join(" "))}var h=o.map(function(p){return Mb(p)}).join(`
`);r.setAttribute(ld,""),r.innerHTML=h}};function iU(t){t()}function TK(t,e){var r=typeof e=="function"?e:Cv;if(t.length===0)r();else{var o=iU;Ye.mutateApproach===KMe&&(o=dl.requestAnimationFrame||iU),o(function(){var a=VNe(),u=LN.begin("mutate");t.map(a),u(),r()})}}var BN=!1;function IK(){BN=!0}function jI(){BN=!1}var Vy=null;function oU(t){if(KV&&Ye.observeMutations){var e=t.treeCallback,r=e===void 0?Cv:e,o=t.nodeCallback,a=o===void 0?Cv:o,u=t.pseudoElementsCallback,h=u===void 0?Cv:u,p=t.observeMutationsRoot,m=p===void 0?An:p;Vy=new KV(function(b){if(!BN){var k=hl();$f(b).forEach(function(v){if(v.type==="childList"&&v.addedNodes.length>0&&!rU(v.addedNodes[0])&&(Ye.searchPseudoElements&&h(v.target),r(v.target)),v.type==="attributes"&&v.target.parentNode&&Ye.searchPseudoElements&&h(v.target.parentNode),v.type==="attributes"&&rU(v.target)&&~tNe.indexOf(v.attributeName))if(v.attributeName==="class"&&FNe(v.target)){var _=Q0(DN(v.target)),A=_.prefix,E=_.iconName;v.target.setAttribute(SN,A||k),E&&v.target.setAttribute(TN,E)}else jNe(v.target)&&a(v.target)})}}),nc&&Vy.observe(m,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qNe(){Vy&&Vy.disconnect()}function WNe(t){var e=t.getAttribute("style"),r=[];return e&&(r=e.split(";").reduce(function(o,a){var u=a.split(":"),h=u[0],p=u.slice(1);return h&&p.length>0&&(o[h]=p.join(":").trim()),o},{})),r}function GNe(t){var e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),o=t.innerText!==void 0?t.innerText.trim():"",a=Q0(DN(t));return a.prefix||(a.prefix=hl()),e&&r&&(a.prefix=e,a.iconName=r),a.iconName&&a.prefix||(a.prefix&&o.length>0&&(a.iconName=CNe(a.prefix,t.innerText)||NN(a.prefix,NI(t.innerText))),!a.iconName&&Ye.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}function KNe(t){var e=$f(t.attributes).reduce(function(a,u){return a.name!=="class"&&a.name!=="style"&&(a[u.name]=u.value),a},{}),r=t.getAttribute("title"),o=t.getAttribute("data-fa-title-id");return Ye.autoA11y&&(r?e["aria-labelledby"]="".concat(Ye.replacementClass,"-title-").concat(o||$g()):(e["aria-hidden"]="true",e.focusable="false")),e}function YNe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Hs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function sU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=GNe(t),o=r.iconName,a=r.prefix,u=r.rest,h=KNe(t),p=OI("parseNodeAttributes",{},t),m=e.styleParser?WNe(t):[];return $e({iconName:o,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:a,transform:Hs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:m,attributes:h}},p)}var QNe=ls.styles;function DK(t){var e=Ye.autoReplaceSvg==="nest"?sU(t,{styleParser:!1}):sU(t);return~e.extra.classes.indexOf(hK)?Wa("generateLayersText",t,e):Wa("generateSvgReplacementMutation",t,e)}var fl=new Set;IN.map(function(t){fl.add("fa-".concat(t))});Object.keys(Fg[vn]).map(fl.add.bind(fl));Object.keys(Fg[Xn]).map(fl.add.bind(fl));fl=Db(fl);function aU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!nc)return Promise.resolve();var r=An.documentElement.classList,o=function(v){return r.add("".concat(YV,"-").concat(v))},a=function(v){return r.remove("".concat(YV,"-").concat(v))},u=Ye.autoFetchSvg?fl:IN.map(function(k){return"fa-".concat(k)}).concat(Object.keys(QNe));u.includes("fa")||u.push("fa");var h=[".".concat(hK,":not([").concat(ld,"])")].concat(u.map(function(k){return".".concat(k,":not([").concat(ld,"])")})).join(", ");if(h.length===0)return Promise.resolve();var p=[];try{p=$f(t.querySelectorAll(h))}catch{}if(p.length>0)o("pending"),a("complete");else return Promise.resolve();var m=LN.begin("onTree"),b=p.reduce(function(k,v){try{var _=DK(v);_&&k.push(_)}catch(A){dK||A.name==="MissingIcon"&&console.error(A)}return k},[]);return new Promise(function(k,v){Promise.all(b).then(function(_){TK(_,function(){o("active"),o("complete"),a("pending"),typeof e=="function"&&e(),m(),k()})}).catch(function(_){m(),v(_)})})}function ZNe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;DK(t).then(function(r){r&&TK([r],e)})}function JNe(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=(e||{}).icon?e:LI(e||{}),a=r.mask;return a&&(a=(a||{}).icon?a:LI(a||{})),t(o,$e($e({},r),{},{mask:a}))}}var XNe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.transform,a=o===void 0?Hs:o,u=r.symbol,h=u===void 0?!1:u,p=r.mask,m=p===void 0?null:p,b=r.maskId,k=b===void 0?null:b,v=r.title,_=v===void 0?null:v,A=r.titleId,E=A===void 0?null:A,T=r.classes,L=T===void 0?[]:T,M=r.attributes,S=M===void 0?{}:M,I=r.styles,R=I===void 0?{}:I;if(e){var j=e.prefix,V=e.iconName,H=e.icon;return Z0($e({type:"icon"},e),function(){return ud("beforeDOMElementCreation",{iconDefinition:e,params:r}),Ye.autoA11y&&(_?S["aria-labelledby"]="".concat(Ye.replacementClass,"-title-").concat(E||$g()):(S["aria-hidden"]="true",S.focusable="false")),ON({icons:{main:BI(H),mask:m?BI(m.icon):{found:!1,width:null,height:null,icon:{}}},prefix:j,iconName:V,transform:$e($e({},Hs),a),symbol:h,title:_,maskId:k,titleId:E,extra:{attributes:S,styles:R,classes:L}})})}},e2e={mixout:function(){return{icon:JNe(XNe)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=aU,r.nodeCallback=ZNe,r}}},provides:function(e){e.i2svg=function(r){var o=r.node,a=o===void 0?An:o,u=r.callback,h=u===void 0?function(){}:u;return aU(a,h)},e.generateSvgReplacementMutation=function(r,o){var a=o.iconName,u=o.title,h=o.titleId,p=o.prefix,m=o.transform,b=o.symbol,k=o.mask,v=o.maskId,_=o.extra;return new Promise(function(A,E){Promise.all([zI(a,p),k.iconName?zI(k.iconName,k.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(T){var L=EN(T,2),M=L[0],S=L[1];A([r,ON({icons:{main:M,mask:S},prefix:p,iconName:a,transform:m,symbol:b,maskId:v,title:u,titleId:h,extra:_,watchable:!0})])}).catch(E)})},e.generateAbstractIcon=function(r){var o=r.children,a=r.attributes,u=r.main,h=r.transform,p=r.styles,m=K0(p);m.length>0&&(a.style=m);var b;return PN(h)&&(b=Wa("generateAbstractTransformGrouping",{main:u,transform:h,containerWidth:u.width,iconWidth:u.width})),o.push(b||u.icon),{children:o,attributes:a}}}},t2e={mixout:function(){return{layer:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.classes,u=a===void 0?[]:a;return Z0({type:"layer"},function(){ud("beforeDOMElementCreation",{assembler:r,params:o});var h=[];return r(function(p){Array.isArray(p)?p.map(function(m){h=h.concat(m.abstract)}):h=h.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(Ye.cssPrefix,"-layers")].concat(Db(u)).join(" ")},children:h}]})}}}},n2e={mixout:function(){return{counter:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.title,u=a===void 0?null:a,h=o.classes,p=h===void 0?[]:h,m=o.attributes,b=m===void 0?{}:m,k=o.styles,v=k===void 0?{}:k;return Z0({type:"counter",content:r},function(){return ud("beforeDOMElementCreation",{content:r,params:o}),ONe({content:r.toString(),title:u,extra:{attributes:b,styles:v,classes:["".concat(Ye.cssPrefix,"-layers-counter")].concat(Db(p))}})})}}}},r2e={mixout:function(){return{text:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.transform,u=a===void 0?Hs:a,h=o.title,p=h===void 0?null:h,m=o.classes,b=m===void 0?[]:m,k=o.attributes,v=k===void 0?{}:k,_=o.styles,A=_===void 0?{}:_;return Z0({type:"text",content:r},function(){return ud("beforeDOMElementCreation",{content:r,params:o}),tU({content:r,transform:$e($e({},Hs),u),title:p,extra:{attributes:v,styles:A,classes:["".concat(Ye.cssPrefix,"-layers-text")].concat(Db(b))}})})}}},provides:function(e){e.generateLayersText=function(r,o){var a=o.title,u=o.transform,h=o.extra,p=null,m=null;if(cK){var b=parseInt(getComputedStyle(r).fontSize,10),k=r.getBoundingClientRect();p=k.width/b,m=k.height/b}return Ye.autoA11y&&!a&&(h.attributes["aria-hidden"]="true"),Promise.resolve([r,tU({content:r.innerHTML,width:p,height:m,transform:u,title:a,extra:h,watchable:!0})])}}},i2e=new RegExp('"',"ug"),cU=[1105920,1112319];function o2e(t){var e=t.replace(i2e,""),r=wNe(e,0),o=r>=cU[0]&&r<=cU[1],a=e.length===2?e[0]===e[1]:!1;return{value:NI(a?e[0]:e),isSecondary:o||a}}function lU(t,e){var r="".concat(GMe).concat(e.replace(":","-"));return new Promise(function(o,a){if(t.getAttribute(r)!==null)return o();var u=$f(t.children),h=u.filter(function(H){return H.getAttribute(MI)===e})[0],p=dl.getComputedStyle(t,e),m=p.getPropertyValue("font-family").match(JMe),b=p.getPropertyValue("font-weight"),k=p.getPropertyValue("content");if(h&&!m)return t.removeChild(h),o();if(m&&k!=="none"&&k!==""){var v=p.getPropertyValue("content"),_=~["Sharp"].indexOf(m[2])?Xn:vn,A=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(m[2])?jg[_][m[2].toLowerCase()]:XMe[_][b],E=o2e(v),T=E.value,L=E.isSecondary,M=m[0].startsWith("FontAwesome"),S=NN(A,T),I=S;if(M){var R=ENe(T);R.iconName&&R.prefix&&(S=R.iconName,A=R.prefix)}if(S&&!L&&(!h||h.getAttribute(SN)!==A||h.getAttribute(TN)!==I)){t.setAttribute(r,I),h&&t.removeChild(h);var j=YNe(),V=j.extra;V.attributes[MI]=e,zI(S,A).then(function(H){var J=ON($e($e({},j),{},{icons:{main:H,mask:RN()},prefix:A,iconName:I,extra:V,watchable:!0})),oe=An.createElement("svg");e==="::before"?t.insertBefore(oe,t.firstChild):t.appendChild(oe),oe.outerHTML=J.map(function(de){return Mb(de)}).join(`
`),t.removeAttribute(r),o()}).catch(a)}else o()}else o()})}function s2e(t){return Promise.all([lU(t,"::before"),lU(t,"::after")])}function a2e(t){return t.parentNode!==document.head&&!~YMe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(MI)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function uU(t){if(nc)return new Promise(function(e,r){var o=$f(t.querySelectorAll("*")).filter(a2e).map(s2e),a=LN.begin("searchPseudoElements");IK(),Promise.all(o).then(function(){a(),jI(),e()}).catch(function(){a(),jI(),r()})})}var c2e={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=uU,r}}},provides:function(e){e.pseudoElements2svg=function(r){var o=r.node,a=o===void 0?An:o;Ye.searchPseudoElements&&uU(a)}}},dU=!1,l2e={mixout:function(){return{dom:{unwatch:function(){IK(),dU=!0}}}},hooks:function(){return{bootstrap:function(){oU(OI("mutationObserverCallbacks",{}))},noAuto:function(){qNe()},watch:function(r){var o=r.observeMutationsRoot;dU?jI():oU(OI("mutationObserverCallbacks",{observeMutationsRoot:o}))}}}},hU=function(e){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(o,a){var u=a.toLowerCase().split("-"),h=u[0],p=u.slice(1).join("-");if(h&&p==="h")return o.flipX=!0,o;if(h&&p==="v")return o.flipY=!0,o;if(p=parseFloat(p),isNaN(p))return o;switch(h){case"grow":o.size=o.size+p;break;case"shrink":o.size=o.size-p;break;case"left":o.x=o.x-p;break;case"right":o.x=o.x+p;break;case"up":o.y=o.y-p;break;case"down":o.y=o.y+p;break;case"rotate":o.rotate=o.rotate+p;break}return o},r)},u2e={mixout:function(){return{parse:{transform:function(r){return hU(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,o){var a=o.getAttribute("data-fa-transform");return a&&(r.transform=hU(a)),r}}},provides:function(e){e.generateAbstractTransformGrouping=function(r){var o=r.main,a=r.transform,u=r.containerWidth,h=r.iconWidth,p={transform:"translate(".concat(u/2," 256)")},m="translate(".concat(a.x*32,", ").concat(a.y*32,") "),b="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),k="rotate(".concat(a.rotate," 0 0)"),v={transform:"".concat(m," ").concat(b," ").concat(k)},_={transform:"translate(".concat(h/2*-1," -256)")},A={outer:p,inner:v,path:_};return{tag:"g",attributes:$e({},A.outer),children:[{tag:"g",attributes:$e({},A.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:$e($e({},o.icon.attributes),A.path)}]}]}}}},uS={x:0,y:0,width:"100%",height:"100%"};function fU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function d2e(t){return t.tag==="g"?t.children:[t]}var h2e={hooks:function(){return{parseNodeAttributes:function(r,o){var a=o.getAttribute("data-fa-mask"),u=a?Q0(a.split(" ").map(function(h){return h.trim()})):RN();return u.prefix||(u.prefix=hl()),r.mask=u,r.maskId=o.getAttribute("data-fa-mask-id"),r}}},provides:function(e){e.generateAbstractMask=function(r){var o=r.children,a=r.attributes,u=r.main,h=r.mask,p=r.maskId,m=r.transform,b=u.width,k=u.icon,v=h.width,_=h.icon,A=uNe({transform:m,containerWidth:v,iconWidth:b}),E={tag:"rect",attributes:$e($e({},uS),{},{fill:"white"})},T=k.children?{children:k.children.map(fU)}:{},L={tag:"g",attributes:$e({},A.inner),children:[fU($e({tag:k.tag,attributes:$e($e({},k.attributes),A.path)},T))]},M={tag:"g",attributes:$e({},A.outer),children:[L]},S="mask-".concat(p||$g()),I="clip-".concat(p||$g()),R={tag:"mask",attributes:$e($e({},uS),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[E,M]},j={tag:"defs",children:[{tag:"clipPath",attributes:{id:I},children:d2e(_)},R]};return o.push(j,{tag:"rect",attributes:$e({fill:"currentColor","clip-path":"url(#".concat(I,")"),mask:"url(#".concat(S,")")},uS)}),{children:o,attributes:a}}}},f2e={provides:function(e){var r=!1;dl.matchMedia&&(r=dl.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var o=[],a={fill:"currentColor"},u={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};o.push({tag:"path",attributes:$e($e({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var h=$e($e({},u),{},{attributeName:"opacity"}),p={tag:"circle",attributes:$e($e({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||p.children.push({tag:"animate",attributes:$e($e({},u),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:$e($e({},h),{},{values:"1;0;1;1;0;1;"})}),o.push(p),o.push({tag:"path",attributes:$e($e({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:$e($e({},h),{},{values:"1;0;0;0;0;1;"})}]}),r||o.push({tag:"path",attributes:$e($e({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:$e($e({},h),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:o}}}},p2e={hooks:function(){return{parseNodeAttributes:function(r,o){var a=o.getAttribute("data-fa-symbol"),u=a===null?!1:a===""?!0:a;return r.symbol=u,r}}}},m2e=[fNe,e2e,t2e,n2e,r2e,c2e,l2e,u2e,h2e,f2e,p2e];TNe(m2e,{mixoutsTo:vo});vo.noAuto;vo.config;vo.library;vo.dom;var VI=vo.parse;vo.findIconDefinition;vo.toHtml;var g2e=vo.icon;vo.layer;vo.text;vo.counter;var _t={},b2e={get exports(){return _t},set exports(t){_t=t}},w2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",k2e=w2e,v2e=k2e;function PK(){}function MK(){}MK.resetWarningCache=PK;var y2e=function(){function t(o,a,u,h,p,m){if(m!==v2e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MK,resetWarningCache:PK};return r.PropTypes=r,r};b2e.exports=y2e();function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(o){xh(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function Uy(t){return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function xh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _2e(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,u;for(u=0;u<o.length;u++)a=o[u],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function A2e(t,e){if(t==null)return{};var r=_2e(t,e),o,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(a=0;a<u.length;a++)o=u[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function UI(t){return C2e(t)||E2e(t)||x2e(t)||S2e()}function C2e(t){if(Array.isArray(t))return $I(t)}function E2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x2e(t,e){if(t){if(typeof t=="string")return $I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function S2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T2e(t){var e,r=t.beat,o=t.fade,a=t.beatFade,u=t.bounce,h=t.shake,p=t.flash,m=t.spin,b=t.spinPulse,k=t.spinReverse,v=t.pulse,_=t.fixedWidth,A=t.inverse,E=t.border,T=t.listItem,L=t.flip,M=t.size,S=t.rotation,I=t.pull,R=(e={"fa-beat":r,"fa-fade":o,"fa-beat-fade":a,"fa-bounce":u,"fa-shake":h,"fa-flash":p,"fa-spin":m,"fa-spin-reverse":k,"fa-spin-pulse":b,"fa-pulse":v,"fa-fw":_,"fa-inverse":A,"fa-border":E,"fa-li":T,"fa-flip":L===!0,"fa-flip-horizontal":L==="horizontal"||L==="both","fa-flip-vertical":L==="vertical"||L==="both"},xh(e,"fa-".concat(M),typeof M<"u"&&M!==null),xh(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),xh(e,"fa-pull-".concat(I),typeof I<"u"&&I!==null),xh(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(R).map(function(j){return R[j]?j:null}).filter(function(j){return j})}function I2e(t){return t=t-0,t===t}function NK(t){return I2e(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var D2e=["style"];function P2e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function M2e(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var o=r.indexOf(":"),a=NK(r.slice(0,o)),u=r.slice(o+1).trim();return a.startsWith("webkit")?e[P2e(a)]=u:e[a]=u,e},{})}function RK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var o=(e.children||[]).map(function(m){return RK(t,m)}),a=Object.keys(e.attributes||{}).reduce(function(m,b){var k=e.attributes[b];switch(b){case"class":m.attrs.className=k,delete e.attributes.class;break;case"style":m.attrs.style=M2e(k);break;default:b.indexOf("aria-")===0||b.indexOf("data-")===0?m.attrs[b.toLowerCase()]=k:m.attrs[NK(b)]=k}return m},{attrs:{}}),u=r.style,h=u===void 0?{}:u,p=A2e(r,D2e);return a.attrs.style=Bc(Bc({},a.attrs.style),h),t.apply(void 0,[e.tag,Bc(Bc({},a.attrs),p)].concat(UI(o)))}var OK=!1;try{OK=!0}catch{}function N2e(){if(!OK&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function mU(t){if(t&&Uy(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(VI.icon)return VI.icon(t);if(t===null)return null;if(t&&Uy(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function dS(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?xh({},t,e):{}}var Hf=rn.forwardRef(function(t,e){var r=t.icon,o=t.mask,a=t.symbol,u=t.className,h=t.title,p=t.titleId,m=t.maskId,b=mU(r),k=dS("classes",[].concat(UI(T2e(t)),UI(u.split(" ")))),v=dS("transform",typeof t.transform=="string"?VI.transform(t.transform):t.transform),_=dS("mask",mU(o)),A=g2e(b,Bc(Bc(Bc(Bc({},k),v),_),{},{symbol:a,title:h,titleId:p,maskId:m}));if(!A)return N2e("Could not find icon",b),null;var E=A.abstract,T={ref:e};return Object.keys(t).forEach(function(L){Hf.defaultProps.hasOwnProperty(L)||(T[L]=t[L])}),R2e(E[0],T)});Hf.displayName="FontAwesomeIcon";Hf.propTypes={beat:_t.bool,border:_t.bool,beatFade:_t.bool,bounce:_t.bool,className:_t.string,fade:_t.bool,flash:_t.bool,mask:_t.oneOfType([_t.object,_t.array,_t.string]),maskId:_t.string,fixedWidth:_t.bool,inverse:_t.bool,flip:_t.oneOf([!0,!1,"horizontal","vertical","both"]),icon:_t.oneOfType([_t.object,_t.array,_t.string]),listItem:_t.bool,pull:_t.oneOf(["right","left"]),pulse:_t.bool,rotation:_t.oneOf([0,90,180,270]),shake:_t.bool,size:_t.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:_t.bool,spinPulse:_t.bool,spinReverse:_t.bool,symbol:_t.oneOfType([_t.bool,_t.string]),title:_t.string,titleId:_t.string,transform:_t.oneOfType([_t.string,_t.object]),swapOpacity:_t.bool};Hf.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var R2e=RK.bind(null,rn.createElement),O2e={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};const LK=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),J0=q.createContext({});function L2e(){return q.useContext(J0).visualElement}const X0=q.createContext(null),eA=typeof document<"u",$y=eA?q.useLayoutEffect:q.useEffect,BK=q.createContext({strict:!1});function B2e(t,e,r,o){const a=L2e(),u=q.useContext(BK),h=q.useContext(X0),p=q.useContext(LK).reducedMotion,m=q.useRef();o=o||u.renderer,!m.current&&o&&(m.current=o(t,{visualState:e,parent:a,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const b=m.current;return q.useInsertionEffect(()=>{b&&b.update(r,h)}),$y(()=>{b&&b.render()}),q.useEffect(()=>{b&&b.updateFeatures()}),(window.HandoffAppearAnimations?$y:q.useEffect)(()=>{b&&b.animationState&&b.animationState.animateChanges()}),b}function Sh(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z2e(t,e,r){return q.useCallback(o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):Sh(r)&&(r.current=o))},[e])}function Hg(t){return typeof t=="string"||Array.isArray(t)}function tA(t){return typeof t=="object"&&typeof t.start=="function"}const zN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],FN=["initial",...zN];function nA(t){return tA(t.animate)||FN.some(e=>Hg(t[e]))}function zK(t){return Boolean(nA(t)||t.variants)}function F2e(t,e){if(nA(t)){const{initial:r,animate:o}=t;return{initial:r===!1||Hg(r)?r:void 0,animate:Hg(o)?o:void 0}}return t.inherit!==!1?e:{}}function j2e(t){const{initial:e,animate:r}=F2e(t,q.useContext(J0));return q.useMemo(()=>({initial:e,animate:r}),[gU(e),gU(r)])}function gU(t){return Array.isArray(t)?t.join(" "):t}const bU={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qg={};for(const t in bU)qg[t]={isEnabled:e=>bU[t].some(r=>!!e[r])};function V2e(t){for(const e in t)qg[e]={...qg[e],...t[e]}}function jN(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let U2e=1;function $2e(){return jN(()=>{if(jm.hasEverUpdated)return U2e++})}const VN=q.createContext({}),FK=q.createContext({}),H2e=Symbol.for("motionComponentSymbol");function q2e({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:o,Component:a}){t&&V2e(t);function u(p,m){let b;const k={...q.useContext(LK),...p,layoutId:W2e(p)},{isStatic:v}=k,_=j2e(p),A=v?void 0:$2e(),E=o(p,v);if(!v&&eA){_.visualElement=B2e(a,E,k,e);const T=q.useContext(FK),L=q.useContext(BK).strict;_.visualElement&&(b=_.visualElement.loadFeatures(k,L,t,A,T))}return q.createElement(J0.Provider,{value:_},b&&_.visualElement?q.createElement(b,{visualElement:_.visualElement,...k}):null,r(a,p,A,z2e(E,_.visualElement,m),E,v,_.visualElement))}const h=q.forwardRef(u);return h[H2e]=a,h}function W2e({layoutId:t}){const e=q.useContext(VN).id;return e&&t!==void 0?e+"-"+t:t}function G2e(t){function e(o,a={}){return q2e(t(o,a))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(o,a)=>(r.has(a)||r.set(a,e(a)),r.get(a))})}const K2e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UN(t){return typeof t!="string"||t.includes("-")?!1:!!(K2e.indexOf(t)>-1||/[A-Z]/.test(t))}const Hy={};function Y2e(t){Object.assign(Hy,t)}const rA=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_d=new Set(rA);function jK(t,{layout:e,layoutId:r}){return _d.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Hy[t]||t==="opacity")}const to=t=>Boolean(t&&t.getVelocity),Q2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z2e=rA.length;function J2e(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},o,a){let u="";for(let h=0;h<Z2e;h++){const p=rA[h];if(t[p]!==void 0){const m=Q2e[p]||p;u+=`${m}(${t[p]}) `}}return e&&!t.z&&(u+="translateZ(0)"),u=u.trim(),a?u=a(t,o?"":u):r&&o&&(u="none"),u}const VK=t=>e=>typeof e=="string"&&e.startsWith(t),UK=VK("--"),HI=VK("var(--"),X2e=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vf=(t,e,r)=>Math.min(Math.max(r,t),e),Ad={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vm={...Ad,transform:t=>vf(0,1,t)},Kk={...Ad,default:1},Um=t=>Math.round(t*1e5)/1e5,Wg=/(-)?([\d]*\.?[\d])+/g,qI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,eRe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nb(t){return typeof t=="string"}const Rb=t=>({test:e=>Nb(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cc=Rb("deg"),Js=Rb("%"),at=Rb("px"),tRe=Rb("vh"),nRe=Rb("vw"),wU={...Js,parse:t=>Js.parse(t)/100,transform:t=>Js.transform(t*100)},kU={...Ad,transform:Math.round},$K={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,size:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:Kk,scaleX:Kk,scaleY:Kk,scaleZ:Kk,skew:Cc,skewX:Cc,skewY:Cc,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:Vm,originX:wU,originY:wU,originZ:at,zIndex:kU,fillOpacity:Vm,strokeOpacity:Vm,numOctaves:kU};function $N(t,e,r,o){const{style:a,vars:u,transform:h,transformOrigin:p}=t;let m=!1,b=!1,k=!0;for(const v in e){const _=e[v];if(UK(v)){u[v]=_;continue}const A=$K[v],E=X2e(_,A);if(_d.has(v)){if(m=!0,h[v]=E,!k)continue;_!==(A.default||0)&&(k=!1)}else v.startsWith("origin")?(b=!0,p[v]=E):a[v]=E}if(e.transform||(m||o?a.transform=J2e(t.transform,r,k,o):a.transform&&(a.transform="none")),b){const{originX:v="50%",originY:_="50%",originZ:A=0}=p;a.transformOrigin=`${v} ${_} ${A}`}}const HN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HK(t,e,r){for(const o in e)!to(e[o])&&!jK(o,r)&&(t[o]=e[o])}function rRe({transformTemplate:t},e,r){return q.useMemo(()=>{const o=HN();return $N(o,e,{enableHardwareAcceleration:!r},t),Object.assign({},o.vars,o.style)},[e])}function iRe(t,e,r){const o=t.style||{},a={};return HK(a,o,t),Object.assign(a,rRe(t,e,r)),t.transformValues?t.transformValues(a):a}function oRe(t,e,r){const o={},a=iRe(t,e,r);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=a,o}const sRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function qy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||sRe.has(t)}let qK=t=>!qy(t);function aRe(t){t&&(qK=e=>e.startsWith("on")?!qy(e):t(e))}try{aRe(require("@emotion/is-prop-valid").default)}catch{}function cRe(t,e,r){const o={};for(const a in t)a==="values"&&typeof t.values=="object"||(qK(a)||r===!0&&qy(a)||!e&&!qy(a)||t.draggable&&a.startsWith("onDrag"))&&(o[a]=t[a]);return o}function vU(t,e,r){return typeof t=="string"?t:at.transform(e+r*t)}function lRe(t,e,r){const o=vU(e,t.x,t.width),a=vU(r,t.y,t.height);return`${o} ${a}`}const uRe={offset:"stroke-dashoffset",array:"stroke-dasharray"},dRe={offset:"strokeDashoffset",array:"strokeDasharray"};function hRe(t,e,r=1,o=0,a=!0){t.pathLength=1;const u=a?uRe:dRe;t[u.offset]=at.transform(-o);const h=at.transform(e),p=at.transform(r);t[u.array]=`${h} ${p}`}function qN(t,{attrX:e,attrY:r,originX:o,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:p=0,...m},b,k,v){if($N(t,m,b,v),k){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:A,dimensions:E}=t;_.transform&&(E&&(A.transform=_.transform),delete _.transform),E&&(o!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=lRe(E,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(_.x=e),r!==void 0&&(_.y=r),u!==void 0&&hRe(_,u,h,p,!1)}const WK=()=>({...HN(),attrs:{}}),WN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fRe(t,e,r,o){const a=q.useMemo(()=>{const u=WK();return qN(u,e,{enableHardwareAcceleration:!1},WN(o),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};HK(u,t.style,t),a.style={...u,...a.style}}return a}function pRe(t=!1){return(r,o,a,u,{latestValues:h},p)=>{const b=(UN(r)?fRe:oRe)(o,h,p,r),v={...cRe(o,typeof r=="string",t),...b,ref:u},{children:_}=o,A=q.useMemo(()=>to(_)?_.get():_,[_]);return a&&(v["data-projection-id"]=a),q.createElement(r,{...v,children:A})}}const GN=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function GK(t,{style:e,vars:r},o,a){Object.assign(t.style,e,a&&a.getProjectionStyles(o));for(const u in r)t.style.setProperty(u,r[u])}const KK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YK(t,e,r,o){GK(t,e,void 0,o);for(const a in e.attrs)t.setAttribute(KK.has(a)?a:GN(a),e.attrs[a])}function KN(t,e){const{style:r}=t,o={};for(const a in r)(to(r[a])||e.style&&to(e.style[a])||jK(a,t))&&(o[a]=r[a]);return o}function QK(t,e){const r=KN(t,e);for(const o in t)if(to(t[o])||to(e[o])){const a=o==="x"||o==="y"?"attr"+o.toUpperCase():o;r[a]=t[o]}return r}function YN(t,e,r,o={},a={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,o,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,o,a)),e}const Wy=t=>Array.isArray(t),mRe=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),gRe=t=>Wy(t)?t[t.length-1]||0:t;function xv(t){const e=to(t)?t.get():t;return mRe(e)?e.toValue():e}function bRe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},o,a,u){const h={latestValues:wRe(o,a,u,t),renderState:e()};return r&&(h.mount=p=>r(o,p,h)),h}const ZK=t=>(e,r)=>{const o=q.useContext(J0),a=q.useContext(X0),u=()=>bRe(t,e,o,a);return r?u():jN(u)};function wRe(t,e,r,o){const a={},u=o(t,{});for(const _ in u)a[_]=xv(u[_]);let{initial:h,animate:p}=t;const m=nA(t),b=zK(t);e&&b&&!m&&t.inherit!==!1&&(h===void 0&&(h=e.initial),p===void 0&&(p=e.animate));let k=r?r.initial===!1:!1;k=k||h===!1;const v=k?p:h;return v&&typeof v!="boolean"&&!tA(v)&&(Array.isArray(v)?v:[v]).forEach(A=>{const E=YN(t,A);if(!E)return;const{transitionEnd:T,transition:L,...M}=E;for(const S in M){let I=M[S];if(Array.isArray(I)){const R=k?I.length-1:0;I=I[R]}I!==null&&(a[S]=I)}for(const S in T)a[S]=T[S]}),a}const kRe={useVisualState:ZK({scrapeMotionValuesFromProps:QK,createRenderState:WK,onMount:(t,e,{renderState:r,latestValues:o})=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}qN(r,o,{enableHardwareAcceleration:!1},WN(e.tagName),t.transformTemplate),YK(e,r)}})},vRe={useVisualState:ZK({scrapeMotionValuesFromProps:KN,createRenderState:HN})};function yRe(t,{forwardMotionProps:e=!1},r,o){return{...UN(t)?kRe:vRe,preloadedFeatures:r,useRender:pRe(e),createVisualElement:o,Component:t}}function xa(t,e,r,o={passive:!0}){return t.addEventListener(e,r,o),()=>t.removeEventListener(e,r)}const JK=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function iA(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _Re=t=>e=>JK(e)&&t(e,iA(e));function Na(t,e,r,o){return xa(t,e,_Re(r),o)}const ARe=(t,e)=>r=>e(t(r)),Kc=(...t)=>t.reduce(ARe);function XK(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const yU=XK("dragHorizontal"),_U=XK("dragVertical");function eY(t){let e=!1;if(t==="y")e=_U();else if(t==="x")e=yU();else{const r=yU(),o=_U();r&&o?e=()=>{r(),o()}:(r&&r(),o&&o())}return e}function tY(){const t=eY(!0);return t?(t(),!1):!0}class Il{constructor(e){this.isMounted=!1,this.node=e}update(){}}function AU(t,e){const r="pointer"+(e?"enter":"leave"),o="onHover"+(e?"Start":"End"),a=(u,h)=>{if(u.type==="touch"||tY())return;const p=t.getProps();t.animationState&&p.whileHover&&t.animationState.setActive("whileHover",e),p[o]&&p[o](u,h)};return Na(t.current,r,a,{passive:!t.getProps()[o]})}class CRe extends Il{mount(){this.unmount=Kc(AU(this.node,!0),AU(this.node,!1))}unmount(){}}class ERe extends Il{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(xa(this.node.current,"focus",()=>this.onFocus()),xa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nY=(t,e)=>e?t===e?!0:nY(t,e.parentElement):!1,zo=t=>t;function hS(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,iA(r))}class xRe extends Il{constructor(){super(...arguments),this.removeStartListeners=zo,this.removeEndListeners=zo,this.removeAccessibleListeners=zo,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const o=this.node.getProps(),u=Na(window,"pointerup",(p,m)=>{if(!this.checkPressEnd())return;const{onTap:b,onTapCancel:k}=this.node.getProps();nY(this.node.current,p.target)?b&&b(p,m):k&&k(p,m)},{passive:!(o.onTap||o.onPointerUp)}),h=Na(window,"pointercancel",(p,m)=>this.cancelPress(p,m),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=Kc(u,h),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const h=p=>{p.key!=="Enter"||!this.checkPressEnd()||hS("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=xa(this.node.current,"keyup",h),hS("down",(p,m)=>{this.startPress(p,m)})},r=xa(this.node.current,"keydown",e),o=()=>{this.isPressing&&hS("cancel",(u,h)=>this.cancelPress(u,h))},a=xa(this.node.current,"blur",o);this.removeAccessibleListeners=Kc(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:o,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&o(e,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tY()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&o(e,r)}mount(){const e=this.node.getProps(),r=Na(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),o=xa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kc(r,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const WI=new WeakMap,fS=new WeakMap,SRe=t=>{const e=WI.get(t.target);e&&e(t)},TRe=t=>{t.forEach(SRe)};function IRe({root:t,...e}){const r=t||document;fS.has(r)||fS.set(r,{});const o=fS.get(r),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(TRe,{root:t,...e})),o[a]}function DRe(t,e,r){const o=IRe(e);return WI.set(t,r),o.observe(t),()=>{WI.delete(t),o.unobserve(t)}}const PRe={some:0,all:1};class MRe extends Il{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:a="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:PRe[a]},p=m=>{const{isIntersecting:b}=m;if(this.isInView===b||(this.isInView=b,u&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:k,onViewportLeave:v}=this.node.getProps(),_=b?k:v;_&&_(m)};return DRe(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(NRe(e,r))&&this.startObserver()}unmount(){}}function NRe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const RRe={inView:{Feature:MRe},tap:{Feature:xRe},focus:{Feature:ERe},hover:{Feature:CRe}};function rY(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}const ORe=t=>/^\-?\d*\.?\d+$/.test(t),LRe=t=>/^0[^.\s]+$/.test(t),Ra={delta:0,timestamp:0},iY=1/60*1e3,BRe=typeof performance<"u"?()=>performance.now():()=>Date.now(),oY=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(BRe()),iY);function zRe(t){let e=[],r=[],o=0,a=!1,u=!1;const h=new WeakSet,p={schedule:(m,b=!1,k=!1)=>{const v=k&&a,_=v?e:r;return b&&h.add(m),_.indexOf(m)===-1&&(_.push(m),v&&a&&(o=e.length)),m},cancel:m=>{const b=r.indexOf(m);b!==-1&&r.splice(b,1),h.delete(m)},process:m=>{if(a){u=!0;return}if(a=!0,[e,r]=[r,e],r.length=0,o=e.length,o)for(let b=0;b<o;b++){const k=e[b];k(m),h.has(k)&&(p.schedule(k),t())}a=!1,u&&(u=!1,p.process(m))}};return p}const FRe=40;let GI=!0,Gg=!1,KI=!1;const Ob=["read","update","preRender","render","postRender"],oA=Ob.reduce((t,e)=>(t[e]=zRe(()=>Gg=!0),t),{}),wi=Ob.reduce((t,e)=>{const r=oA[e];return t[e]=(o,a=!1,u=!1)=>(Gg||VRe(),r.schedule(o,a,u)),t},{}),pl=Ob.reduce((t,e)=>(t[e]=oA[e].cancel,t),{}),pS=Ob.reduce((t,e)=>(t[e]=()=>oA[e].process(Ra),t),{}),jRe=t=>oA[t].process(Ra),sY=t=>{Gg=!1,Ra.delta=GI?iY:Math.max(Math.min(t-Ra.timestamp,FRe),1),Ra.timestamp=t,KI=!0,Ob.forEach(jRe),KI=!1,Gg&&(GI=!1,oY(sY))},VRe=()=>{Gg=!0,GI=!0,KI||oY(sY)};function QN(t,e){t.indexOf(e)===-1&&t.push(e)}function ZN(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class JN{constructor(){this.subscriptions=[]}add(e){return QN(this.subscriptions,e),()=>ZN(this.subscriptions,e)}notify(e,r,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,o);else for(let u=0;u<a;u++){const h=this.subscriptions[u];h&&h(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function XN(t,e){return e?t*(1e3/e):0}const URe=t=>!isNaN(parseFloat(t));class $Re{constructor(e,r={}){this.version="10.0.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,a=!0)=>{this.prev=this.current,this.current=o;const{delta:u,timestamp:h}=Ra;this.lastUpdated!==h&&(this.timeDelta=u,this.lastUpdated=h,wi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>wi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=URe(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new JN);const o=this.events[e].add(r);return e==="change"?()=>{o(),wi.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,o){this.set(r),this.prev=e,this.timeDelta=o}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?XN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yf(t,e){return new $Re(t,e)}const e2=(t,e)=>r=>Boolean(Nb(r)&&eRe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),aY=(t,e,r)=>o=>{if(!Nb(o))return o;const[a,u,h,p]=o.match(Wg);return{[t]:parseFloat(a),[e]:parseFloat(u),[r]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},HRe=t=>vf(0,255,t),mS={...Ad,transform:t=>Math.round(HRe(t))},Pu={test:e2("rgb","red"),parse:aY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:o=1})=>"rgba("+mS.transform(t)+", "+mS.transform(e)+", "+mS.transform(r)+", "+Um(Vm.transform(o))+")"};function qRe(t){let e="",r="",o="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),o=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),o=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const YI={test:e2("#"),parse:qRe,transform:Pu.transform},Th={test:e2("hsl","hue"),parse:aY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(t)+", "+Js.transform(Um(e))+", "+Js.transform(Um(r))+", "+Um(Vm.transform(o))+")"},Ci={test:t=>Pu.test(t)||YI.test(t)||Th.test(t),parse:t=>Pu.test(t)?Pu.parse(t):Th.test(t)?Th.parse(t):YI.parse(t),transform:t=>Nb(t)?t:t.hasOwnProperty("red")?Pu.transform(t):Th.transform(t)},cY="${c}",lY="${n}";function WRe(t){var e,r;return isNaN(t)&&Nb(t)&&(((e=t.match(Wg))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(qI))===null||r===void 0?void 0:r.length)||0)>0}function Gy(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0,o=0;const a=t.match(qI);a&&(r=a.length,t=t.replace(qI,cY),e.push(...a.map(Ci.parse)));const u=t.match(Wg);return u&&(o=u.length,t=t.replace(Wg,lY),e.push(...u.map(Ad.parse))),{values:e,numColors:r,numNumbers:o,tokenised:t}}function uY(t){return Gy(t).values}function dY(t){const{values:e,numColors:r,tokenised:o}=Gy(t),a=e.length;return u=>{let h=o;for(let p=0;p<a;p++)h=h.replace(p<r?cY:lY,p<r?Ci.transform(u[p]):Um(u[p]));return h}}const GRe=t=>typeof t=="number"?0:t;function KRe(t){const e=uY(t);return dY(t)(e.map(GRe))}const ml={test:WRe,parse:uY,createTransformer:dY,getAnimatableNone:KRe},YRe=new Set(["brightness","contrast","saturate","opacity"]);function QRe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=r.match(Wg)||[];if(!o)return t;const a=r.replace(o,"");let u=YRe.has(e)?1:0;return o!==r&&(u*=100),e+"("+u+a+")"}const ZRe=/([a-z-]*)\(.*?\)/g,QI={...ml,getAnimatableNone:t=>{const e=t.match(ZRe);return e?e.map(QRe).join(" "):t}},JRe={...$K,color:Ci,backgroundColor:Ci,outlineColor:Ci,fill:Ci,stroke:Ci,borderColor:Ci,borderTopColor:Ci,borderRightColor:Ci,borderBottomColor:Ci,borderLeftColor:Ci,filter:QI,WebkitFilter:QI},t2=t=>JRe[t];function n2(t,e){let r=t2(t);return r!==QI&&(r=ml),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const hY=t=>e=>e.test(t),XRe={test:t=>t==="auto",parse:t=>t},fY=[Ad,at,Js,Cc,nRe,tRe,XRe],em=t=>fY.find(hY(t)),eOe=[...fY,Ci,ml],tOe=t=>eOe.find(hY(t));function nOe(t){const e={};return t.values.forEach((r,o)=>e[o]=r.get()),e}function rOe(t){const e={};return t.values.forEach((r,o)=>e[o]=r.getVelocity()),e}function sA(t,e,r){const o=t.getProps();return YN(o,e,r!==void 0?r:o.custom,nOe(t),rOe(t))}function iOe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,yf(r))}function oOe(t,e){const r=sA(t,e);let{transitionEnd:o={},transition:a={},...u}=r?t.makeTargetAnimatable(r,!1):{};u={...u,...o};for(const h in u){const p=gRe(u[h]);iOe(t,h,p)}}function sOe(t,e,r){var o,a;const u=Object.keys(e).filter(p=>!t.hasValue(p)),h=u.length;if(h)for(let p=0;p<h;p++){const m=u[p],b=e[m];let k=null;Array.isArray(b)&&(k=b[0]),k===null&&(k=(a=(o=r[m])!==null&&o!==void 0?o:t.readValue(m))!==null&&a!==void 0?a:e[m]),k!=null&&(typeof k=="string"&&(ORe(k)||LRe(k))?k=parseFloat(k):!tOe(k)&&ml.test(b)&&(k=n2(m,b)),t.addValue(m,yf(k,{owner:t})),r[m]===void 0&&(r[m]=k),k!==null&&t.setBaseTarget(m,k))}}function aOe(t,e){return e?(e[t]||e.default||e).from:void 0}function cOe(t,e,r){const o={};for(const a in t){const u=aOe(a,e);if(u!==void 0)o[a]=u;else{const h=r.getValue(a);h&&(o[a]=h.get())}}return o}function Ky(t){return Boolean(to(t)&&t.add)}const lOe="framerAppearId",uOe="data-"+GN(lOe);let r2=zo,Kg=zo;const Sv=t=>t*1e3,dOe={current:!1},i2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,o2=t=>e=>1-t(1-e),s2=t=>t*t,hOe=o2(s2),a2=i2(s2),Vn=(t,e,r)=>-r*t+r*e+t;function gS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function fOe({hue:t,saturation:e,lightness:r,alpha:o}){t/=360,e/=100,r/=100;let a=0,u=0,h=0;if(!e)a=u=h=r;else{const p=r<.5?r*(1+e):r+e-r*e,m=2*r-p;a=gS(m,p,t+1/3),u=gS(m,p,t),h=gS(m,p,t-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:o}}const bS=(t,e,r)=>{const o=t*t;return Math.sqrt(Math.max(0,r*(e*e-o)+o))},pOe=[YI,Pu,Th],mOe=t=>pOe.find(e=>e.test(t));function CU(t){const e=mOe(t);let r=e.parse(t);return e===Th&&(r=fOe(r)),r}const pY=(t,e)=>{const r=CU(t),o=CU(e),a={...r};return u=>(a.red=bS(r.red,o.red,u),a.green=bS(r.green,o.green,u),a.blue=bS(r.blue,o.blue,u),a.alpha=Vn(r.alpha,o.alpha,u),Pu.transform(a))};function mY(t,e){return typeof t=="number"?r=>Vn(t,e,r):Ci.test(t)?pY(t,e):bY(t,e)}const gY=(t,e)=>{const r=[...t],o=r.length,a=t.map((u,h)=>mY(u,e[h]));return u=>{for(let h=0;h<o;h++)r[h]=a[h](u);return r}},gOe=(t,e)=>{const r={...t,...e},o={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(o[a]=mY(t[a],e[a]));return a=>{for(const u in o)r[u]=o[u](a);return r}},bY=(t,e)=>{const r=ml.createTransformer(e),o=Gy(t),a=Gy(e);return o.numColors===a.numColors&&o.numNumbers>=a.numNumbers?Kc(gY(o.values,a.values),r):(r2(!0),h=>`${h>0?e:t}`)},Yg=(t,e,r)=>{const o=e-t;return o===0?1:(r-t)/o},EU=(t,e)=>r=>Vn(t,e,r);function bOe(t){return typeof t=="number"?EU:typeof t=="string"?Ci.test(t)?pY:bY:Array.isArray(t)?gY:typeof t=="object"?gOe:EU}function wOe(t,e,r){const o=[],a=r||bOe(t[0]),u=t.length-1;for(let h=0;h<u;h++){let p=a(t[h],t[h+1]);if(e){const m=Array.isArray(e)?e[h]:e;p=Kc(m,p)}o.push(p)}return o}function wY(t,e,{clamp:r=!0,ease:o,mixer:a}={}){const u=t.length;Kg(u===e.length),Kg(!o||!Array.isArray(o)||o.length===u-1),t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=wOe(e,o,a),p=h.length,m=b=>{let k=0;if(p>1)for(;k<t.length-2&&!(b<t[k+1]);k++);const v=Yg(t[k],t[k+1],b);return h[k](v)};return r?b=>m(vf(t[0],t[u-1],b)):m}function kOe(t,e){const r=t[t.length-1];for(let o=1;o<=e;o++){const a=Yg(0,e,o);t.push(Vn(r,1,a))}}function vOe(t){const e=[0];return kOe(e,t.length-1),e}function yOe(t,e){return t.map(r=>r*e)}const kY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,_Oe=1e-7,AOe=12;function COe(t,e,r,o,a){let u,h,p=0;do h=e+(r-e)/2,u=kY(h,o,a)-t,u>0?r=h:e=h;while(Math.abs(u)>_Oe&&++p<AOe);return h}function vY(t,e,r,o){if(t===e&&r===o)return zo;const a=u=>COe(u,0,1,t,r);return u=>u===0||u===1?u:kY(a(u),e,o)}const yY=t=>1-Math.sin(Math.acos(t)),c2=o2(yY),EOe=i2(c2),_Y=vY(.33,1.53,.69,.99),l2=o2(_Y),xOe=i2(l2),SOe=t=>(t*=2)<1?.5*l2(t):.5*(2-Math.pow(2,-10*(t-1))),TOe={linear:zo,easeIn:s2,easeInOut:a2,easeOut:hOe,circIn:yY,circInOut:EOe,circOut:c2,backIn:l2,backInOut:xOe,backOut:_Y,anticipate:SOe},xU=t=>{if(Array.isArray(t)){Kg(t.length===4);const[e,r,o,a]=t;return vY(e,r,o,a)}else if(typeof t=="string")return TOe[t];return t},IOe=t=>Array.isArray(t)&&typeof t[0]!="number";function DOe(t,e){return t.map(()=>e||a2).splice(0,t.length-1)}function ZI({keyframes:t,ease:e=a2,times:r,duration:o=300}){t=[...t];const a=IOe(e)?e.map(xU):xU(e),u={done:!1,value:t[0]},h=yOe(r&&r.length===t.length?r:vOe(t),o);function p(){return wY(h,t,{ease:Array.isArray(a)?a:DOe(t,a)})}let m=p();return{next:b=>(u.value=m(b),u.done=b>=o,u),flipTarget:()=>{t.reverse(),m=p()}}}const wS=.001,POe=.01,SU=10,MOe=.05,NOe=1;function ROe({duration:t=800,bounce:e=.25,velocity:r=0,mass:o=1}){let a,u;r2(t<=SU*1e3);let h=1-e;h=vf(MOe,NOe,h),t=vf(POe,SU,t/1e3),h<1?(a=b=>{const k=b*h,v=k*t,_=k-r,A=JI(b,h),E=Math.exp(-v);return wS-_/A*E},u=b=>{const v=b*h*t,_=v*r+r,A=Math.pow(h,2)*Math.pow(b,2)*t,E=Math.exp(-v),T=JI(Math.pow(b,2),h);return(-a(b)+wS>0?-1:1)*((_-A)*E)/T}):(a=b=>{const k=Math.exp(-b*t),v=(b-r)*t+1;return-wS+k*v},u=b=>{const k=Math.exp(-b*t),v=(r-b)*(t*t);return k*v});const p=5/t,m=LOe(a,u,p);if(t=t*1e3,isNaN(m))return{stiffness:100,damping:10,duration:t};{const b=Math.pow(m,2)*o;return{stiffness:b,damping:h*2*Math.sqrt(o*b),duration:t}}}const OOe=12;function LOe(t,e,r){let o=r;for(let a=1;a<OOe;a++)o=o-t(o)/e(o);return o}function JI(t,e){return t*Math.sqrt(1-e*e)}const BOe=["duration","bounce"],zOe=["stiffness","damping","mass"];function TU(t,e){return e.some(r=>t[r]!==void 0)}function FOe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!TU(t,zOe)&&TU(t,BOe)){const r=ROe(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const jOe=5;function AY({keyframes:t,restDelta:e,restSpeed:r,...o}){let a=t[0],u=t[t.length-1];const h={done:!1,value:a},{stiffness:p,damping:m,mass:b,velocity:k,duration:v,isResolvedFromDuration:_}=FOe(o);let A=VOe,E=k?-(k/1e3):0;const T=m/(2*Math.sqrt(p*b));function L(){const M=u-a,S=Math.sqrt(p/b)/1e3,I=Math.abs(M)<5;if(r||(r=I?.01:2),e||(e=I?.005:.5),T<1){const R=JI(S,T);A=j=>{const V=Math.exp(-T*S*j);return u-V*((E+T*S*M)/R*Math.sin(R*j)+M*Math.cos(R*j))}}else if(T===1)A=R=>u-Math.exp(-S*R)*(M+(E+S*M)*R);else{const R=S*Math.sqrt(T*T-1);A=j=>{const V=Math.exp(-T*S*j),H=Math.min(R*j,300);return u-V*((E+T*S*M)*Math.sinh(H)+R*M*Math.cosh(H))/R}}}return L(),{next:M=>{const S=A(M);if(_)h.done=M>=v;else{let I=E;if(M!==0)if(T<1){const V=Math.max(0,M-jOe);I=XN(S-A(V),M-V)}else I=0;const R=Math.abs(I)<=r,j=Math.abs(u-S)<=e;h.done=R&&j}return h.value=h.done?u:S,h},flipTarget:()=>{E=-E,[a,u]=[u,a],L()}}}AY.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const VOe=t=>0;function UOe({keyframes:t=[0],velocity:e=0,power:r=.8,timeConstant:o=350,restDelta:a=.5,modifyTarget:u}){const h=t[0],p={done:!1,value:h};let m=r*e;const b=h+m,k=u===void 0?b:u(b);return k!==b&&(m=k-h),{next:v=>{const _=-m*Math.exp(-v/o);return p.done=!(_>a||_<-a),p.value=p.done?k:k+_,p},flipTarget:()=>{}}}const $Oe={decay:UOe,keyframes:ZI,tween:ZI,spring:AY};function CY(t,e,r=0){return t-e-r}function HOe(t,e=0,r=0,o=!0){return o?CY(e+-t,e,r):e-(t-e)+r}function qOe(t,e,r,o){return o?t>=e+r:t<=-r}const WOe=t=>{const e=({delta:r})=>t(r);return{start:()=>wi.update(e,!0),stop:()=>pl.update(e)}};function Yy({duration:t,driver:e=WOe,elapsed:r=0,repeat:o=0,repeatType:a="loop",repeatDelay:u=0,keyframes:h,autoplay:p=!0,onPlay:m,onStop:b,onComplete:k,onRepeat:v,onUpdate:_,type:A="keyframes",...E}){const T=r;let L,M=0,S=t,I=!1,R=!0,j;const V=$Oe[h.length>2?"keyframes":A]||ZI,H=h[0],J=h[h.length-1];let oe={done:!1,value:H};const{needsInterpolation:de}=V;de&&de(H,J)&&(j=wY([0,100],[H,J],{clamp:!1}),h=[0,100]);const Le=V({...E,duration:t,keyframes:h});function te(){M++,a==="reverse"?(R=M%2===0,r=HOe(r,S,u,R)):(r=CY(r,S,u),a==="mirror"&&Le.flipTarget()),I=!1,v&&v()}function ie(){L&&L.stop(),k&&k()}function _e(qe){R||(qe=-qe),r+=qe,I||(oe=Le.next(Math.max(0,r)),j&&(oe.value=j(oe.value)),I=R?oe.done:r<=0),_&&_(oe.value),I&&(M===0&&(S=S!==void 0?S:r),M<o?qOe(r,S,u,R)&&te():ie())}function Ee(){m&&m(),L=e(_e),L.start()}return p&&Ee(),{stop:()=>{b&&b(),L&&L.stop()},set currentTime(qe){r=T,_e(qe)},sample:(qe,ze=!1)=>{if(r=T,ze)return _e(qe),oe;const le=t&&typeof t=="number"?Math.max(t*.5,50):50;let se=0;for(_e(0);se<=qe;){const W=qe-se;_e(Math.min(W,le)),se+=le}return oe}}}function GOe(t){return!t||Array.isArray(t)||typeof t=="string"&&EY[t]}const gm=([t,e,r,o])=>`cubic-bezier(${t}, ${e}, ${r}, ${o})`,EY={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gm([0,.65,.55,1]),circOut:gm([.55,0,1,.45]),backIn:gm([.31,.01,.66,-.59]),backOut:gm([.33,1.53,.69,.99])};function KOe(t){if(t)return Array.isArray(t)?gm(t):EY[t]}function YOe(t,e,r,{delay:o=0,duration:a,repeat:u=0,repeatType:h="loop",ease:p,times:m}={}){return t.animate({[e]:r,offset:m},{delay:o,duration:a,easing:KOe(p),fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}const IU={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},kS={},xY={};for(const t in IU)xY[t]=()=>(kS[t]===void 0&&(kS[t]=IU[t]()),kS[t]);function QOe(t,{repeat:e,repeatType:r="loop"}){const o=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[o]}const ZOe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yk=10,JOe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!GOe(e.ease);function XOe(t,e,{onUpdate:r,onComplete:o,...a}){if(!(xY.waapi()&&ZOe.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0))return!1;let{keyframes:h,duration:p=300,elapsed:m=0,ease:b}=a;if(JOe(e,a)){const v=Yy({...a,repeat:0,elapsed:0});let _={done:!1,value:h[0]};const A=[];let E=0;for(;!_.done&&E<2e4;)_=v.sample(E,!0),A.push(_.value),E+=Yk;h=A,p=E-Yk,b="linear"}const k=YOe(t.owner.current,e,h,{...a,delay:-m,duration:p,ease:b});return k.onfinish=()=>{t.set(QOe(h,a)),wi.update(()=>k.cancel()),o&&o()},{get currentTime(){return k.currentTime||0},set currentTime(v){k.currentTime=v},stop:()=>{const{currentTime:v}=k;if(v){const _=Yy({...a,autoplay:!1});t.setWithVelocity(_.sample(v-Yk).value,_.sample(v).value,Yk)}wi.update(()=>k.cancel())}}}function SY(t,e){const r=performance.now(),o=({timestamp:a})=>{const u=a-r;u>=e&&(pl.read(o),t(u-e))};return wi.read(o,!0),()=>pl.read(o)}function eLe({keyframes:t,elapsed:e,onUpdate:r,onComplete:o}){const a=()=>{r&&r(t[t.length-1]),o&&o()};return e?{stop:SY(a,-e)}:a()}function tLe({keyframes:t,velocity:e=0,min:r,max:o,power:a=.8,timeConstant:u=750,bounceStiffness:h=500,bounceDamping:p=10,restDelta:m=1,modifyTarget:b,driver:k,onUpdate:v,onComplete:_,onStop:A}){const E=t[0];let T;function L(R){return r!==void 0&&R<r||o!==void 0&&R>o}function M(R){return r===void 0?o:o===void 0||Math.abs(r-R)<Math.abs(o-R)?r:o}function S(R){T&&T.stop(),T=Yy({keyframes:[0,1],velocity:0,...R,driver:k,onUpdate:j=>{v&&v(j),R.onUpdate&&R.onUpdate(j)},onComplete:_,onStop:A})}function I(R){S({type:"spring",stiffness:h,damping:p,restDelta:m,...R})}if(L(E))I({velocity:e,keyframes:[E,M(E)]});else{let R=a*e+E;typeof b<"u"&&(R=b(R));const j=M(R),V=j===r?-1:1;let H,J;const oe=de=>{H=J,J=de,e=XN(de-H,Ra.delta),(V===1&&de>j||V===-1&&de<j)&&I({keyframes:[de,j],velocity:e})};S({type:"decay",keyframes:[E,0],velocity:e,timeConstant:u,power:a,restDelta:m,modifyTarget:b,onUpdate:L(R)?oe:void 0})}return{stop:()=>T&&T.stop()}}const nLe={type:"spring",stiffness:500,damping:25,restSpeed:10},rLe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iLe={type:"keyframes",duration:.8},oLe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sLe=(t,{keyframes:e})=>e.length>2?iLe:_d.has(t)?t.startsWith("scale")?rLe(e[1]):nLe:oLe,XI=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&ml.test(e)&&!e.startsWith("url("));function aLe({when:t,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:h,repeatDelay:p,from:m,elapsed:b,...k}){return!!Object.keys(k).length}function DU(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function PU(t){return typeof t=="number"?0:n2("",t)}function TY(t,e){return t[e]||t.default||t}function cLe(t,e,r,o){const a=XI(e,r);let u=o.from!==void 0?o.from:t.get();return u==="none"&&a&&typeof r=="string"?u=n2(e,r):DU(u)&&typeof r=="string"?u=PU(r):!Array.isArray(r)&&DU(r)&&typeof u=="string"&&(r=PU(u)),Array.isArray(r)?(r[0]===null&&(r[0]=u),r):[u,r]}const u2=(t,e,r,o={})=>a=>{const u=TY(o,t)||{},h=u.delay||o.delay||0;let{elapsed:p=0}=o;p=p-Sv(h);const m=cLe(e,t,r,u),b=m[0],k=m[m.length-1],v=XI(t,b),_=XI(t,k);r2(v===_);let A={keyframes:m,velocity:e.getVelocity(),...u,elapsed:p,onUpdate:E=>{e.set(E),u.onUpdate&&u.onUpdate(E)},onComplete:()=>{a(),u.onComplete&&u.onComplete()}};if(!v||!_||dOe.current||u.type===!1)return eLe(A);if(u.type==="inertia")return tLe(A);if(aLe(u)||(A={...A,...sLe(t,A)}),A.duration&&(A.duration=Sv(A.duration)),A.repeatDelay&&(A.repeatDelay=Sv(A.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=XOe(e,t,A);if(E)return E}return Yy(A)};function lLe(t,e,r={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(u=>eD(t,u,r));o=Promise.all(a)}else if(typeof e=="string")o=eD(t,e,r);else{const a=typeof e=="function"?sA(t,e,r.custom):e;o=IY(t,a,r)}return o.then(()=>t.notify("AnimationComplete",e))}function eD(t,e,r={}){const o=sA(t,e,r.custom);let{transition:a=t.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(a=r.transitionOverride);const u=o?()=>IY(t,o,r):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:b=0,staggerChildren:k,staggerDirection:v}=a;return uLe(t,e,b+m,k,v,r)}:()=>Promise.resolve(),{when:p}=a;if(p){const[m,b]=p==="beforeChildren"?[u,h]:[h,u];return m().then(b)}else return Promise.all([u(),h(r.delay)])}function IY(t,e,{delay:r=0,transitionOverride:o,type:a}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:h,...p}=t.makeTargetAnimatable(e);const m=t.getValue("willChange");o&&(u=o);const b=[],k=a&&t.animationState&&t.animationState.getState()[a];for(const v in p){const _=t.getValue(v),A=p[v];if(!_||A===void 0||k&&hLe(k,v))continue;const E={delay:r,elapsed:0,...u};if(window.HandoffAppearAnimations&&!_.hasAnimated){const L=t.getProps()[uOe];L&&(E.elapsed=window.HandoffAppearAnimations(L,v,_,wi))}let T=_.start(u2(v,_,A,t.shouldReduceMotion&&_d.has(v)?{type:!1}:E));Ky(m)&&(m.add(v),T=T.then(()=>m.remove(v))),b.push(T)}return Promise.all(b).then(()=>{h&&oOe(t,h)})}function uLe(t,e,r=0,o=0,a=1,u){const h=[],p=(t.variantChildren.size-1)*o,m=a===1?(b=0)=>b*o:(b=0)=>p-b*o;return Array.from(t.variantChildren).sort(dLe).forEach((b,k)=>{b.notify("AnimationStart",e),h.push(eD(b,e,{...u,delay:r+m(k)}).then(()=>b.notify("AnimationComplete",e)))}),Promise.all(h)}function dLe(t,e){return t.sortNodePosition(e)}function hLe({protectedKeys:t,needsAnimating:e},r){const o=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}const fLe=[...zN].reverse(),pLe=zN.length;function mLe(t){return e=>Promise.all(e.map(({animation:r,options:o})=>lLe(t,r,o)))}function gLe(t){let e=mLe(t);const r=wLe();let o=!0;const a=(m,b)=>{const k=sA(t,b);if(k){const{transition:v,transitionEnd:_,...A}=k;m={...m,...A,..._}}return m};function u(m){e=m(t)}function h(m,b){const k=t.getProps(),v=t.getVariantContext(!0)||{},_=[],A=new Set;let E={},T=1/0;for(let M=0;M<pLe;M++){const S=fLe[M],I=r[S],R=k[S]!==void 0?k[S]:v[S],j=Hg(R),V=S===b?I.isActive:null;V===!1&&(T=M);let H=R===v[S]&&R!==k[S]&&j;if(H&&o&&t.manuallyAnimateOnMount&&(H=!1),I.protectedKeys={...E},!I.isActive&&V===null||!R&&!I.prevProp||tA(R)||typeof R=="boolean")continue;const J=bLe(I.prevProp,R);let oe=J||S===b&&I.isActive&&!H&&j||M>T&&j;const de=Array.isArray(R)?R:[R];let Le=de.reduce(a,{});V===!1&&(Le={});const{prevResolvedValues:te={}}=I,ie={...te,...Le},_e=Ee=>{oe=!0,A.delete(Ee),I.needsAnimating[Ee]=!0};for(const Ee in ie){const qe=Le[Ee],ze=te[Ee];E.hasOwnProperty(Ee)||(qe!==ze?Wy(qe)&&Wy(ze)?!rY(qe,ze)||J?_e(Ee):I.protectedKeys[Ee]=!0:qe!==void 0?_e(Ee):A.add(Ee):qe!==void 0&&A.has(Ee)?_e(Ee):I.protectedKeys[Ee]=!0)}I.prevProp=R,I.prevResolvedValues=Le,I.isActive&&(E={...E,...Le}),o&&t.blockInitialAnimation&&(oe=!1),oe&&!H&&_.push(...de.map(Ee=>({animation:Ee,options:{type:S,...m}})))}if(A.size){const M={};A.forEach(S=>{const I=t.getBaseTarget(S);I!==void 0&&(M[S]=I)}),_.push({animation:M})}let L=Boolean(_.length);return o&&k.initial===!1&&!t.manuallyAnimateOnMount&&(L=!1),o=!1,L?e(_):Promise.resolve()}function p(m,b,k){var v;if(r[m].isActive===b)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(A=>{var E;return(E=A.animationState)===null||E===void 0?void 0:E.setActive(m,b)}),r[m].isActive=b;const _=h(k,m);for(const A in r)r[A].protectedKeys={};return _}return{animateChanges:h,setActive:p,setAnimateFunction:u,getState:()=>r}}function bLe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rY(e,t):!1}function cu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wLe(){return{animate:cu(!0),whileInView:cu(),whileHover:cu(),whileTap:cu(),whileDrag:cu(),whileFocus:cu(),exit:cu()}}class kLe extends Il{constructor(e){super(e),e.animationState||(e.animationState=gLe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),tA(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let vLe=0;class yLe extends Il{constructor(){super(...arguments),this.id=vLe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:o}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const u=this.node.animationState.setActive("exit",!e,{custom:o??this.node.getProps().custom});r&&!e&&u.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _Le={animation:{Feature:kLe},exit:{Feature:yLe}},MU=(t,e)=>Math.abs(t-e);function ALe(t,e){const r=MU(t.x,e.x),o=MU(t.y,e.y);return Math.sqrt(r**2+o**2)}class DY{constructor(e,r,{transformPagePoint:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=yS(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,v=ALe(b.offset,{x:0,y:0})>=3;if(!k&&!v)return;const{point:_}=b,{timestamp:A}=Ra;this.history.push({..._,timestamp:A});const{onStart:E,onMove:T}=this.handlers;k||(E&&E(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,b)},this.handlePointerMove=(b,k)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=vS(k,this.transformPagePoint),wi.update(this.updatePoint,!0)},this.handlePointerUp=(b,k)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:v,onSessionEnd:_}=this.handlers,A=yS(b.type==="pointercancel"?this.lastMoveEventInfo:vS(k,this.transformPagePoint),this.history);this.startEvent&&v&&v(b,A),_&&_(b,A)},!JK(e))return;this.handlers=r,this.transformPagePoint=o;const a=iA(e),u=vS(a,this.transformPagePoint),{point:h}=u,{timestamp:p}=Ra;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=r;m&&m(e,yS(u,this.history)),this.removeListeners=Kc(Na(window,"pointermove",this.handlePointerMove),Na(window,"pointerup",this.handlePointerUp),Na(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pl.update(this.updatePoint)}}function vS(t,e){return e?{point:e(t.point)}:t}function NU(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yS({point:t},e){return{point:t,delta:NU(t,PY(e)),offset:NU(t,CLe(e)),velocity:ELe(e,.1)}}function CLe(t){return t[0]}function PY(t){return t[t.length-1]}function ELe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,o=null;const a=PY(t);for(;r>=0&&(o=t[r],!(a.timestamp-o.timestamp>Sv(e)));)r--;if(!o)return{x:0,y:0};const u=(a.timestamp-o.timestamp)/1e3;if(u===0)return{x:0,y:0};const h={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function go(t){return t.max-t.min}function tD(t,e=0,r=.01){return Math.abs(t-e)<=r}function RU(t,e,r,o=.5){t.origin=o,t.originPoint=Vn(e.min,e.max,t.origin),t.scale=go(r)/go(e),(tD(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Vn(r.min,r.max,t.origin)-t.originPoint,(tD(t.translate)||isNaN(t.translate))&&(t.translate=0)}function $m(t,e,r,o){RU(t.x,e.x,r.x,o?o.originX:void 0),RU(t.y,e.y,r.y,o?o.originY:void 0)}function OU(t,e,r){t.min=r.min+e.min,t.max=t.min+go(e)}function xLe(t,e,r){OU(t.x,e.x,r.x),OU(t.y,e.y,r.y)}function LU(t,e,r){t.min=e.min-r.min,t.max=t.min+go(e)}function Hm(t,e,r){LU(t.x,e.x,r.x),LU(t.y,e.y,r.y)}function SLe(t,{min:e,max:r},o){return e!==void 0&&t<e?t=o?Vn(e,t,o.min):Math.max(t,e):r!==void 0&&t>r&&(t=o?Vn(r,t,o.max):Math.min(t,r)),t}function BU(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function TLe(t,{top:e,left:r,bottom:o,right:a}){return{x:BU(t.x,r,a),y:BU(t.y,e,o)}}function zU(t,e){let r=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,o]=[o,r]),{min:r,max:o}}function ILe(t,e){return{x:zU(t.x,e.x),y:zU(t.y,e.y)}}function DLe(t,e){let r=.5;const o=go(t),a=go(e);return a>o?r=Yg(e.min,e.max-o,t.min):o>a&&(r=Yg(t.min,t.max-a,e.min)),vf(0,1,r)}function PLe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const nD=.35;function MLe(t=nD){return t===!1?t=0:t===!0&&(t=nD),{x:FU(t,"left","right"),y:FU(t,"top","bottom")}}function FU(t,e,r){return{min:jU(t,e),max:jU(t,r)}}function jU(t,e){return typeof t=="number"?t:t[e]||0}const VU=()=>({translate:0,scale:1,origin:0,originPoint:0}),qm=()=>({x:VU(),y:VU()}),UU=()=>({min:0,max:0}),ur=()=>({x:UU(),y:UU()});function Ms(t){return[t("x"),t("y")]}function MY({top:t,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:t,max:o}}}function NLe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RLe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function _S(t){return t===void 0||t===1}function rD({scale:t,scaleX:e,scaleY:r}){return!_S(t)||!_S(e)||!_S(r)}function fu(t){return rD(t)||NY(t)||t.z||t.rotate||t.rotateX||t.rotateY}function NY(t){return $U(t.x)||$U(t.y)}function $U(t){return t&&t!=="0%"}function Qy(t,e,r){const o=t-r,a=e*o;return r+a}function HU(t,e,r,o,a){return a!==void 0&&(t=Qy(t,a,o)),Qy(t,r,o)+e}function iD(t,e=0,r=1,o,a){t.min=HU(t.min,e,r,o,a),t.max=HU(t.max,e,r,o,a)}function RY(t,{x:e,y:r}){iD(t.x,e.translate,e.scale,e.originPoint),iD(t.y,r.translate,r.scale,r.originPoint)}function OLe(t,e,r,o=!1){const a=r.length;if(!a)return;e.x=e.y=1;let u,h;for(let p=0;p<a;p++){u=r[p],h=u.projectionDelta;const m=u.instance;m&&m.style&&m.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ih(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,RY(t,h)),o&&fu(u.latestValues)&&Ih(t,u.latestValues))}e.x=qU(e.x),e.y=qU(e.y)}function qU(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sc(t,e){t.min=t.min+e,t.max=t.max+e}function WU(t,e,[r,o,a]){const u=e[a]!==void 0?e[a]:.5,h=Vn(t.min,t.max,u);iD(t,e[r],e[o],h,e.scale)}const LLe=["x","scaleX","originX"],BLe=["y","scaleY","originY"];function Ih(t,e){WU(t.x,e,LLe),WU(t.y,e,BLe)}function OY(t,e){return MY(RLe(t.getBoundingClientRect(),e))}function zLe(t,e,r){const o=OY(t,r),{scroll:a}=e;return a&&(Sc(o.x,a.offset.x),Sc(o.y,a.offset.y)),o}const FLe=new WeakMap;class jLe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ur(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=m=>{this.stopAnimation(),r&&this.snapToCursor(iA(m,"page").point)},u=(m,b)=>{const{drag:k,dragPropagation:v,onDragStart:_}=this.getProps();if(k&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eY(k),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(E=>{let T=this.getAxisMotionValue(E).get()||0;if(Js.test(T)){const{projection:L}=this.visualElement;if(L&&L.layout){const M=L.layout.layoutBox[E];M&&(T=go(M)*(parseFloat(T)/100))}}this.originPoint[E]=T}),_&&_(m,b);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},h=(m,b)=>{const{dragPropagation:k,dragDirectionLock:v,onDirectionLock:_,onDrag:A}=this.getProps();if(!k&&!this.openGlobalLock)return;const{offset:E}=b;if(v&&this.currentDirection===null){this.currentDirection=VLe(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),A&&A(m,b)},p=(m,b)=>this.stop(m,b);this.panSession=new DY(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:p},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&u(e,r)}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:a}=this.getProps();if(!o||!Qk(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=SLe(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:o}=this.visualElement.projection||{},a=this.constraints;e&&Sh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=TLe(o.layoutBox,e):this.constraints=!1,this.elastic=MLe(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Ms(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=PLe(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Sh(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=zLe(o,a.root,this.visualElement.getTransformPagePoint());let h=ILe(a.layout.layoutBox,u);if(r){const p=r(NLe(h));this.hasMutatedConstraints=!!p,p&&(h=MY(p))}return h}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},b=Ms(k=>{if(!Qk(k,r,this.currentDirection))return;let v=m&&m[k]||{};h&&(v={min:0,max:0});const _=a?200:1e6,A=a?40:1e7,E={type:"inertia",velocity:o?e[k]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(k,E)});return Promise.all(b).then(p)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return o.start(u2(e,o,0,r))}stopAnimation(){Ms(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),o=this.visualElement.getProps(),a=o[r];return a||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Ms(r=>{const{drag:o}=this.getProps();if(!Qk(r,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(r);if(a&&a.layout){const{min:h,max:p}=a.layout.layoutBox[r];u.set(e[r]-Vn(h,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Sh(r)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ms(h=>{const p=this.getAxisMotionValue(h);if(p){const m=p.get();a[h]=DLe({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Ms(h=>{if(!Qk(h,e,null))return;const p=this.getAxisMotionValue(h),{min:m,max:b}=this.constraints[h];p.set(Vn(m,b,a[h]))})}addListeners(){if(!this.visualElement.current)return;FLe.set(this.visualElement,this);const e=this.visualElement.current,r=Na(e,"pointerdown",m=>{const{drag:b,dragListener:k=!0}=this.getProps();b&&k&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Sh(m)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),o();const h=xa(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:b})=>{this.isDragging&&b&&(Ms(k=>{const v=this.getAxisMotionValue(k);v&&(this.originPoint[k]+=m[k].translate,v.set(v.get()+m[k].translate))}),this.visualElement.render())});return()=>{h(),r(),u(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:h=nD,dragMomentum:p=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:p}}}function Qk(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function VLe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ULe extends Il{constructor(e){super(e),this.removeGroupControls=zo,this.removeListeners=zo,this.controls=new jLe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zo}unmount(){this.removeGroupControls(),this.removeListeners()}}class $Le extends Il{constructor(){super(...arguments),this.removePointerDownListener=zo}onPointerDown(e){this.session=new DY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:e,onStart:r,onMove:o,onEnd:(u,h)=>{delete this.session,a&&a(u,h)}}}mount(){this.removePointerDownListener=Na(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function HLe(){const t=q.useContext(X0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,a=q.useId();return q.useEffect(()=>o(a),[]),!e&&r?[!1,()=>r&&r(a)]:[!0]}function GU(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(at.test(t))t=parseFloat(t);else return t;const r=GU(t,e.target.x),o=GU(t,e.target.y);return`${r}% ${o}%`}},LY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function qLe(t){const e=LY.exec(t);if(!e)return[,];const[,r,o]=e;return[r,o]}function oD(t,e,r=1){const[o,a]=qLe(t);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);return u?u.trim():HI(a)?oD(a,e,r+1):a}function WLe(t,{...e},r){const o=t.current;if(!(o instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(a=>{const u=a.get();if(!HI(u))return;const h=oD(u,o);h&&a.set(h)});for(const a in e){const u=e[a];if(!HI(u))continue;const h=oD(u,o);h&&(e[a]=h,r&&r[a]===void 0&&(r[a]=u))}return{target:e,transitionEnd:r}}const KU="_$css",GLe={correct:(t,{treeScale:e,projectionDelta:r})=>{const o=t,a=t.includes("var("),u=[];a&&(t=t.replace(LY,A=>(u.push(A),KU)));const h=ml.parse(t);if(h.length>5)return o;const p=ml.createTransformer(t),m=typeof h[0]!="number"?1:0,b=r.x.scale*e.x,k=r.y.scale*e.y;h[0+m]/=b,h[1+m]/=k;const v=Vn(b,k,.5);typeof h[2+m]=="number"&&(h[2+m]/=v),typeof h[3+m]=="number"&&(h[3+m]/=v);let _=p(h);if(a){let A=0;_=_.replace(KU,()=>{const E=u[A];return A++,E})}return _}};class KLe extends rn.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=e;Y2e(YLe),u&&(r.group&&r.group.add(u),o&&o.register&&a&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:a,isPresent:u}=this.props,h=o.projection;return h&&(h.isPresent=u,a||e.layoutDependency!==r||r===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||wi.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BY(t){const[e,r]=HLe(),o=q.useContext(VN);return rn.createElement(KLe,{...t,layoutGroup:o,switchLayoutGroup:q.useContext(FK),isPresent:e,safeToRemove:r})}const YLe={borderRadius:{...tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tm,borderTopRightRadius:tm,borderBottomLeftRadius:tm,borderBottomRightRadius:tm,boxShadow:GLe};function QLe(t,e,r={}){const o=to(t)?t:yf(t);return o.start(u2("",o,e,r)),{stop:()=>o.stop(),isAnimating:()=>o.isAnimating()}}const zY=["TopLeft","TopRight","BottomLeft","BottomRight"],ZLe=zY.length,YU=t=>typeof t=="string"?parseFloat(t):t,QU=t=>typeof t=="number"||at.test(t);function JLe(t,e,r,o,a,u){a?(t.opacity=Vn(0,r.opacity!==void 0?r.opacity:1,XLe(o)),t.opacityExit=Vn(e.opacity!==void 0?e.opacity:1,0,e5e(o))):u&&(t.opacity=Vn(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let h=0;h<ZLe;h++){const p=`border${zY[h]}Radius`;let m=ZU(e,p),b=ZU(r,p);if(m===void 0&&b===void 0)continue;m||(m=0),b||(b=0),m===0||b===0||QU(m)===QU(b)?(t[p]=Math.max(Vn(YU(m),YU(b),o),0),(Js.test(b)||Js.test(m))&&(t[p]+="%")):t[p]=b}(e.rotate||r.rotate)&&(t.rotate=Vn(e.rotate||0,r.rotate||0,o))}function ZU(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XLe=FY(0,.5,c2),e5e=FY(.5,.95,zo);function FY(t,e,r){return o=>o<t?0:o>e?1:r(Yg(t,e,o))}function JU(t,e){t.min=e.min,t.max=e.max}function To(t,e){JU(t.x,e.x),JU(t.y,e.y)}function XU(t,e,r,o,a){return t-=e,t=Qy(t,1/r,o),a!==void 0&&(t=Qy(t,1/a,o)),t}function t5e(t,e=0,r=1,o=.5,a,u=t,h=t){if(Js.test(e)&&(e=parseFloat(e),e=Vn(h.min,h.max,e/100)-h.min),typeof e!="number")return;let p=Vn(u.min,u.max,o);t===u&&(p-=e),t.min=XU(t.min,e,r,p,a),t.max=XU(t.max,e,r,p,a)}function e$(t,e,[r,o,a],u,h){t5e(t,e[r],e[o],e[a],e.scale,u,h)}const n5e=["x","scaleX","originX"],r5e=["y","scaleY","originY"];function t$(t,e,r,o){e$(t.x,e,n5e,r?r.x:void 0,o?o.x:void 0),e$(t.y,e,r5e,r?r.y:void 0,o?o.y:void 0)}function n$(t){return t.translate===0&&t.scale===1}function jY(t){return n$(t.x)&&n$(t.y)}function sD(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function r$(t){return go(t.x)/go(t.y)}class i5e{constructor(){this.members=[]}add(e){QN(this.members,e),e.scheduleRender()}remove(e){if(ZN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let o;for(let a=r;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i$(t,e,r){let o="";const a=t.x.translate/e.x,u=t.y.translate/e.y;if((a||u)&&(o=`translate3d(${a}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:m,rotateX:b,rotateY:k}=r;m&&(o+=`rotate(${m}deg) `),b&&(o+=`rotateX(${b}deg) `),k&&(o+=`rotateY(${k}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(o+=`scale(${h}, ${p})`),o||"none"}const o5e=(t,e)=>t.depth-e.depth;class s5e{constructor(){this.children=[],this.isDirty=!1}add(e){QN(this.children,e),this.isDirty=!0}remove(e){ZN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o5e),this.isDirty=!1,this.children.forEach(e)}}function a5e(t){window.MotionDebug&&window.MotionDebug.record(t)}const o$=["","X","Y","Z"],s$=1e3;let c5e=0;const pu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function VY({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(h,p={},m=e==null?void 0:e()){this.id=c5e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{pu.totalNodes=pu.resolvedTargetDeltas=pu.recalculatedProjection=0,this.nodes.forEach(d5e),this.nodes.forEach(m5e),this.nodes.forEach(g5e),this.nodes.forEach(h5e),a5e(pu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=h,this.latestValues=p,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0,h&&this.root.registerPotentialNode(h,this);for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new s5e)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new JN),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const m=this.eventHandlers.get(h);m&&m.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}registerPotentialNode(h,p){this.potentialNodes.set(h,p)}mount(h,p=!1){if(this.instance)return;this.isSVG=h instanceof SVGElement&&h.tagName!=="svg",this.instance=h;const{layoutId:m,layout:b,visualElement:k}=this.options;if(k&&!k.current&&k.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),p&&(b||m)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=SY(_,250),jm.hasAnimatedSinceResize&&(jm.hasAnimatedSinceResize=!1,this.nodes.forEach(c$))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&k&&(m||b)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:A,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||k.getDefaultTransition()||y5e,{onLayoutAnimationStart:L,onLayoutAnimationComplete:M}=k.getProps(),S=!this.targetLayout||!sD(this.targetLayout,E)||A,I=!_&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||_&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,I);const R={...TY(T,"layout"),onPlay:L,onComplete:M};(k.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else!_&&this.animationProgress===0&&c$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b5e),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let k=0;k<this.path.length;k++){const v=this.path[k];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a$);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(_5e),this.potentialNodes.clear()),this.nodes.forEach(p5e),this.nodes.forEach(l5e),this.nodes.forEach(u5e),this.clearAllSnapshots(),pS.update(),pS.preRender(),pS.render())}clearAllSnapshots(){this.nodes.forEach(f5e),this.sharedNodes.forEach(w5e)}scheduleUpdateProjection(){wi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&(this.scroll={animationId:this.root.animationId,phase:h,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform,p=this.projectionDelta&&!jY(this.projectionDelta),m=this.getTransformTemplate(),b=m?m(this.latestValues,""):void 0,k=b!==this.prevTransformTemplateValue;h&&(p||fu(this.latestValues)||k)&&(a(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return h&&(m=this.removeTransform(m)),A5e(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return ur();const p=h.measureViewportBox(),{scroll:m}=this.root;return m&&(Sc(p.x,m.offset.x),Sc(p.y,m.offset.y)),p}removeElementScroll(h){const p=ur();To(p,h);for(let m=0;m<this.path.length;m++){const b=this.path[m],{scroll:k,options:v}=b;if(b!==this.root&&k&&v.layoutScroll){if(k.isRoot){To(p,h);const{scroll:_}=this.root;_&&(Sc(p.x,-_.offset.x),Sc(p.y,-_.offset.y))}Sc(p.x,k.offset.x),Sc(p.y,k.offset.y)}}return p}applyTransform(h,p=!1){const m=ur();To(m,h);for(let b=0;b<this.path.length;b++){const k=this.path[b];!p&&k.options.layoutScroll&&k.scroll&&k!==k.root&&Ih(m,{x:-k.scroll.offset.x,y:-k.scroll.offset.y}),fu(k.latestValues)&&Ih(m,k.latestValues)}return fu(this.latestValues)&&Ih(m,this.latestValues),m}removeTransform(h){const p=ur();To(p,h);for(let m=0;m<this.path.length;m++){const b=this.path[m];if(!b.instance||!fu(b.latestValues))continue;rD(b.latestValues)&&b.updateSnapshot();const k=ur(),v=b.measurePageBox();To(k,v),t$(p,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,k)}return fu(this.latestValues)&&t$(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var h;const p=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==p)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:k,layoutId:v}=this.options;if(!(!this.layout||!(k||v))){if(!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout?(this.relativeParent=_,this.relativeTarget=ur(),this.relativeTargetOrigin=ur(),Hm(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),To(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ur(),this.targetWithTransforms=ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?xLe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):To(this.target,this.layout.layoutBox),RY(this.target,this.targetDelta)):To(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&Boolean(_.resumingFrom)===Boolean(this.resumingFrom)&&!_.options.layoutScroll&&_.target?(this.relativeParent=_,this.relativeTarget=ur(),this.relativeTargetOrigin=ur(),Hm(this.relativeTargetOrigin,this.target,_.target),To(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rD(this.parent.latestValues)||NY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const p=this.getLead(),m=Boolean(this.resumingFrom)||this!==p;let b=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(b=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),b)return;const{layout:k,layoutId:v}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(k||v))return;To(this.layoutCorrected,this.layout.layoutBox),OLe(this.layoutCorrected,this.treeScale,this.path,m);const{target:_}=p;if(!_)return;this.projectionDelta||(this.projectionDelta=qm(),this.projectionDeltaWithTransform=qm());const A=this.treeScale.x,E=this.treeScale.y,T=this.projectionTransform;$m(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=i$(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==A||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),pu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(h,p=!1){const m=this.snapshot,b=m?m.latestValues:{},k={...this.latestValues},v=qm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=ur(),A=m?m.source:void 0,E=this.layout?this.layout.source:void 0,T=A!==E,L=this.getStack(),M=!L||L.members.length<=1,S=Boolean(T&&!M&&this.options.crossfade===!0&&!this.path.some(v5e));this.animationProgress=0;let I;this.mixTargetDelta=R=>{const j=R/1e3;l$(v.x,h.x,j),l$(v.y,h.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hm(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k5e(this.relativeTarget,this.relativeTargetOrigin,_,j),I&&sD(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=ur()),To(I,this.relativeTarget)),T&&(this.animationValues=k,JLe(k,b,this.latestValues,j,S,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wi.update(()=>{jm.hasAnimatedSinceResize=!0,this.currentAnimation=QLe(0,s$,{...h,onUpdate:p=>{this.mixTargetDelta(p),h.onUpdate&&h.onUpdate(p)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:m,layout:b,latestValues:k}=h;if(!(!p||!m||!b)){if(this!==h&&this.layout&&b&&UY(this.options.animationType,this.layout.layoutBox,b.layoutBox)){m=this.target||ur();const v=go(this.layout.layoutBox.x);m.x.min=h.target.x.min,m.x.max=m.x.min+v;const _=go(this.layout.layoutBox.y);m.y.min=h.target.y.min,m.y.max=m.y.min+_}To(p,m),Ih(p,k),$m(this.projectionDeltaWithTransform,this.layoutCorrected,p,k)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new i5e),this.sharedNodes.get(h).add(p);const b=p.options.initialPromotionConfig;p.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:p}=this.options;return p?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:p}=this.options;return p?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:m}={}){const b=this.getStack();b&&b.promote(this,m),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:m}=h;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(p=!0),!p)return;const b={};for(let k=0;k<o$.length;k++){const v="rotate"+o$[k];m[v]&&(b[v]=m[v],h.setStaticValue(v,0))}h.render();for(const k in b)h.setStaticValue(k,b[k]);h.scheduleRender()}getProjectionStyles(h={}){var p,m;const b={};if(!this.instance||this.isSVG)return b;if(this.isVisible)b.visibility="";else return{visibility:"hidden"};const k=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=xv(h.pointerEvents)||"",b.transform=k?k(this.latestValues,""):"none",b;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=xv(h.pointerEvents)||""),this.hasProjected&&!fu(this.latestValues)&&(T.transform=k?k({},""):"none",this.hasProjected=!1),T}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),b.transform=i$(this.projectionDeltaWithTransform,this.treeScale,_),k&&(b.transform=k(_,b.transform));const{x:A,y:E}=this.projectionDelta;b.transformOrigin=`${A.origin*100}% ${E.origin*100}% 0`,v.animationValues?b.opacity=v===this?(m=(p=_.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:b.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const T in Hy){if(_[T]===void 0)continue;const{correct:L,applyTo:M}=Hy[T],S=b.transform==="none"?_[T]:L(_[T],v);if(M){const I=M.length;for(let R=0;R<I;R++)b[M[R]]=S}else b[T]=S}return this.options.layoutId&&(b.pointerEvents=v===this?xv(h.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var p;return(p=h.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(a$),this.root.sharedNodes.clear()}}}function l5e(t){t.updateLayout()}function u5e(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=t.layout,{animationType:u}=t.options,h=r.source!==t.layout.source;u==="size"?Ms(v=>{const _=h?r.measuredBox[v]:r.layoutBox[v],A=go(_);_.min=o[v].min,_.max=_.min+A}):UY(u,r.layoutBox,o)&&Ms(v=>{const _=h?r.measuredBox[v]:r.layoutBox[v],A=go(o[v]);_.max=_.min+A});const p=qm();$m(p,o,r.layoutBox);const m=qm();h?$m(m,t.applyTransform(a,!0),r.measuredBox):$m(m,o,r.layoutBox);const b=!jY(p);let k=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:A}=v;if(_&&A){const E=ur();Hm(E,r.layoutBox,_.layoutBox);const T=ur();Hm(T,o,A.layoutBox),sD(E,T)||(k=!0),v.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:p,hasLayoutChanged:b,hasRelativeTargetChanged:k})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function d5e(t){pu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function h5e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function f5e(t){t.clearSnapshot()}function a$(t){t.clearMeasurements()}function p5e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function c$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function m5e(t){t.resolveTargetDelta()}function g5e(t){t.calcProjection()}function b5e(t){t.resetRotation()}function w5e(t){t.removeLeadSnapshot()}function l$(t,e,r){t.translate=Vn(e.translate,0,r),t.scale=Vn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function u$(t,e,r,o){t.min=Vn(e.min,r.min,o),t.max=Vn(e.max,r.max,o)}function k5e(t,e,r,o){u$(t.x,e.x,r.x,o),u$(t.y,e.y,r.y,o)}function v5e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y5e={duration:.45,ease:[.4,0,.1,1]};function _5e(t,e){let r=t.root;for(let u=t.path.length-1;u>=0;u--)if(Boolean(t.path[u].instance)){r=t.path[u];break}const a=(r&&r!==t.root?r.instance:document).querySelector(`[data-projection-id="${e}"]`);a&&t.mount(a,!0)}function d$(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function A5e(t){d$(t.x),d$(t.y)}function UY(t,e,r){return t==="position"||t==="preserve-aspect"&&!tD(r$(e),r$(r),.2)}const C5e=VY({attachResizeListener:(t,e)=>xa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AS={current:void 0},$Y=VY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!AS.current){const t=new C5e(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),AS.current=t}return AS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),E5e={pan:{Feature:$Le},drag:{Feature:ULe,ProjectionNode:$Y,MeasureLayout:BY}},x5e=new Set(["width","height","top","left","right","bottom","x","y"]),HY=t=>x5e.has(t),S5e=t=>Object.keys(t).some(HY),h$=t=>t===Ad||t===at,f$=(t,e)=>parseFloat(t.split(", ")[e]),p$=(t,e)=>(r,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/);if(a)return f$(a[1],e);{const u=o.match(/^matrix\((.+)\)$/);return u?f$(u[1],t):0}},T5e=new Set(["x","y","z"]),I5e=rA.filter(t=>!T5e.has(t));function D5e(t){const e=[];return I5e.forEach(r=>{const o=t.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const m$={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:p$(4,13),y:p$(5,14)},P5e=(t,e,r)=>{const o=e.measureViewportBox(),a=e.current,u=getComputedStyle(a),{display:h}=u,p={};h==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(b=>{p[b]=m$[b](o,u)}),e.render();const m=e.measureViewportBox();return r.forEach(b=>{const k=e.getValue(b);k&&k.jump(p[b]),t[b]=m$[b](m,u)}),t},M5e=(t,e,r={},o={})=>{e={...e},o={...o};const a=Object.keys(e).filter(HY);let u=[],h=!1;const p=[];if(a.forEach(m=>{const b=t.getValue(m);if(!t.hasValue(m))return;let k=r[m],v=em(k);const _=e[m];let A;if(Wy(_)){const E=_.length,T=_[0]===null?1:0;k=_[T],v=em(k);for(let L=T;L<E;L++)A?Kg(em(_[L])===A):A=em(_[L])}else A=em(_);if(v!==A)if(h$(v)&&h$(A)){const E=b.get();typeof E=="string"&&b.set(parseFloat(E)),typeof _=="string"?e[m]=parseFloat(_):Array.isArray(_)&&A===at&&(e[m]=_.map(parseFloat))}else v!=null&&v.transform&&(A!=null&&A.transform)&&(k===0||_===0)?k===0?b.set(A.transform(k)):e[m]=v.transform(_):(h||(u=D5e(t),h=!0),p.push(m),o[m]=o[m]!==void 0?o[m]:e[m],b.jump(_))}),p.length){const m=p.indexOf("height")>=0?window.pageYOffset:null,b=P5e(e,t,p);return u.length&&u.forEach(([k,v])=>{t.getValue(k).set(v)}),t.render(),eA&&m!==null&&window.scrollTo({top:m}),{target:b,transitionEnd:o}}else return{target:e,transitionEnd:o}};function N5e(t,e,r,o){return S5e(e)?M5e(t,e,r,o):{target:e,transitionEnd:o}}const R5e=(t,e,r,o)=>{const a=WLe(t,e,o);return e=a.target,o=a.transitionEnd,N5e(t,e,r,o)},aD={current:null},qY={current:!1};function O5e(){if(qY.current=!0,!!eA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aD.current=t.matches;t.addListener(e),e()}else aD.current=!1}function L5e(t,e,r){const{willChange:o}=e;for(const a in e){const u=e[a],h=r[a];if(to(u))t.addValue(a,u),Ky(o)&&o.add(a);else if(to(h))t.addValue(a,yf(u,{owner:t})),Ky(o)&&o.remove(a);else if(h!==u)if(t.hasValue(a)){const p=t.getValue(a);!p.hasAnimated&&p.set(u)}else{const p=t.getStaticValue(a);t.addValue(a,yf(p!==void 0?p:u,{owner:t}))}}for(const a in r)e[a]===void 0&&t.removeValue(a);return e}const WY=Object.keys(qg),B5e=WY.length,g$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],z5e=FN.length;class F5e{constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wi.render(this.render,!1,!0);const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.isControllingVariants=nA(r),this.isVariantNode=zK(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:b,...k}=this.scrapeMotionValuesFromProps(r,{});for(const v in k){const _=k[v];p[v]!==void 0&&to(_)&&(_.set(p[v],!1),Ky(b)&&b.add(v))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),qY.current||O5e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aD.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pl.update(this.notifyUpdate),pl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const o=_d.has(e),a=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&wi.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),u()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},o,a,u,h){let p,m;for(let b=0;b<B5e;b++){const k=WY[b],{isEnabled:v,Feature:_,ProjectionNode:A,MeasureLayout:E}=qg[k];A&&(p=A),v(r)&&(!this.features[k]&&_&&(this.features[k]=new _(this)),E&&(m=E))}if(!this.projection&&p){this.projection=new p(u,this.latestValues,this.parent&&this.parent.projection);const{layoutId:b,layout:k,drag:v,dragConstraints:_,layoutScroll:A,layoutRoot:E}=r;this.projection.setOptions({layoutId:b,layout:k,alwaysMeasureLayout:Boolean(v)||_&&Sh(_),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof k=="string"?k:"both",initialPromotionConfig:h,layoutScroll:A,layoutRoot:E})}return m}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update(this.props,this.prevProps):(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<g$.length;o++){const a=g$[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u=e["on"+a];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=L5e(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const r={};for(let o=0;o<z5e;o++){const a=FN[o],u=this.props[a];(Hg(u)||u===!1)&&(r[a]=u)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=yf(r,{owner:this}),this.addValue(e,o)),o}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:o}=this.props,a=typeof o=="string"||typeof o=="object"?(r=YN(this.props,o))===null||r===void 0?void 0:r[e]:void 0;if(o&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!to(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new JN),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class GY extends F5e{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...o},{transformValues:a},u){let h=cOe(o,e||{},this);if(a&&(r&&(r=a(r)),o&&(o=a(o)),h&&(h=a(h))),u){sOe(this,o,h);const p=R5e(this,o,h,r);r=p.transitionEnd,o=p.target}return{transition:e,transitionEnd:r,...o}}}function j5e(t){return window.getComputedStyle(t)}class V5e extends GY{readValueFromInstance(e,r){if(_d.has(r)){const o=t2(r);return o&&o.default||0}else{const o=j5e(e),a=(UK(r)?o.getPropertyValue(r):o[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return OY(e,r)}build(e,r,o,a){$N(e,r,o,a.transformTemplate)}scrapeMotionValuesFromProps(e,r){return KN(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;to(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,o,a){GK(e,r,o,a)}}class U5e extends GY{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(_d.has(r)){const o=t2(r);return o&&o.default||0}return r=KK.has(r)?r:GN(r),e.getAttribute(r)}measureInstanceViewportBox(){return ur()}scrapeMotionValuesFromProps(e,r){return QK(e,r)}build(e,r,o,a){qN(e,r,o,this.isSVGTag,a.transformTemplate)}renderInstance(e,r,o,a){YK(e,r,o,a)}mount(e){this.isSVGTag=WN(e.tagName),super.mount(e)}}const $5e=(t,e)=>UN(t)?new U5e(e,{enableHardwareAcceleration:!1}):new V5e(e,{enableHardwareAcceleration:!0}),H5e={layout:{ProjectionNode:$Y,MeasureLayout:BY}},q5e={..._Le,...RRe,...E5e,...H5e},Yc=G2e((t,e)=>yRe(t,e,q5e,$5e));function KY(){const t=q.useRef(!1);return $y(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function W5e(){const t=KY(),[e,r]=q.useState(0),o=q.useCallback(()=>{t.current&&r(e+1)},[e]);return[q.useCallback(()=>wi.postRender(o),[o]),e]}class G5e extends q.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K5e({children:t,isPresent:e}){const r=q.useId(),o=q.useRef(null),a=q.useRef({width:0,height:0,top:0,left:0});return q.useInsertionEffect(()=>{const{width:u,height:h,top:p,left:m}=a.current;if(e||!o.current||!u||!h)return;o.current.dataset.motionPopId=r;const b=document.createElement("style");return document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),q.createElement(G5e,{isPresent:e,childRef:o,sizeRef:a},q.cloneElement(t,{ref:o}))}const CS=({children:t,initial:e,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:u,mode:h})=>{const p=jN(Y5e),m=q.useId(),b=q.useMemo(()=>({id:m,initial:e,isPresent:r,custom:a,onExitComplete:k=>{p.set(k,!0);for(const v of p.values())if(!v)return;o&&o()},register:k=>(p.set(k,!1),()=>p.delete(k))}),u?void 0:[r]);return q.useMemo(()=>{p.forEach((k,v)=>p.set(v,!1))},[r]),q.useEffect(()=>{!r&&!p.size&&o&&o()},[r]),h==="popLayout"&&(t=q.createElement(K5e,{isPresent:r},t)),q.createElement(X0.Provider,{value:b},t)};function Y5e(){return new Map}function Q5e(t){return q.useEffect(()=>()=>t(),[])}const ch=t=>t.key||"";function Z5e(t,e){t.forEach(r=>{const o=ch(r);e.set(o,r)})}function J5e(t){const e=[];return q.Children.forEach(t,r=>{q.isValidElement(r)&&e.push(r)}),e}const YY=({children:t,custom:e,initial:r=!0,onExitComplete:o,exitBeforeEnter:a,presenceAffectsLayout:u=!0,mode:h="sync"})=>{Kg(!a);let[p]=W5e();const m=q.useContext(VN).forceRender;m&&(p=m);const b=KY(),k=J5e(t);let v=k;const _=new Set,A=q.useRef(v),E=q.useRef(new Map).current,T=q.useRef(!0);if($y(()=>{T.current=!1,Z5e(k,E),A.current=v}),Q5e(()=>{T.current=!0,E.clear(),_.clear()}),T.current)return q.createElement(q.Fragment,null,v.map(I=>q.createElement(CS,{key:ch(I),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:u,mode:h},I)));v=[...v];const L=A.current.map(ch),M=k.map(ch),S=L.length;for(let I=0;I<S;I++){const R=L[I];M.indexOf(R)===-1&&_.add(R)}return h==="wait"&&_.size&&(v=[]),_.forEach(I=>{if(M.indexOf(I)!==-1)return;const R=E.get(I);if(!R)return;const j=L.indexOf(I),V=()=>{E.delete(I),_.delete(I);const H=A.current.findIndex(J=>J.key===I);if(A.current.splice(H,1),!_.size){if(A.current=k,b.current===!1)return;p(),o&&o()}};v.splice(j,0,q.createElement(CS,{key:ch(R),isPresent:!1,onExitComplete:V,custom:e,presenceAffectsLayout:u,mode:h},R))}),v=v.map(I=>{const R=I.key;return _.has(R)?I:q.createElement(CS,{key:ch(I),isPresent:!0,presenceAffectsLayout:u,mode:h},I)}),q.createElement(q.Fragment,null,_.size?v:v.map(I=>q.cloneElement(I)))},QY=()=>{const[t,e]=q.useState(!1);return q.useEffect(()=>{Oy.onAuthStateChanged(r=>{var o;e(r?((o=r.providerData[0])==null?void 0:o.uid)==="98078731":!1)})},[]),t};function X5e(){var k,v;const t=VG(),{auth:e}=ul(_=>_.authReducer),{github:r}=ul(_=>_.githubReducer),o=QY(),a=zk("/"),u=zk("/page/*"),h=zk("/write/*"),p=zk("/tag"),m=()=>{e.data?t(AV(!1)):t(AV(!0))},b={hover:_=>_?{}:{backgroundColor:"rgba(238, 234, 234, 0.5)"}};return mn("div",{className:"menu-flex",children:[Pe("div",{className:"menu-login-flex",children:mn("div",{className:"menu-profile-flex",onClick:m,children:[Pe("div",{children:(k=r.data)!=null&&k.avatar_url?Pe("img",{className:"menu-img",src:r.data.avatar_url||"",alt:""}):Pe(Hf,{className:"menu-icon",icon:O2e})}),Pe("div",{className:"menu-name",children:Pe("span",{children:(v=r.data)==null?void 0:v.login})})]})}),mn("div",{className:"menu-btn-flex",children:[Pe(Yc.button,{className:a||u?"menu-btn-active":"",variants:b,whileHover:"hover",custom:a||u,children:Pe(sS,{to:"/",children:"Home"})}),o&&Pe(Yc.button,{className:h?"menu-btn-active":"",variants:b,whileHover:"hover",custom:h,children:Pe(sS,{to:"/write",children:"Write"})}),Pe(Yc.button,{className:p?"menu-btn-active":"",variants:b,whileHover:"hover",custom:p,children:Pe(sS,{to:"/tag",children:"tag"})})]})]})}var eBe={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},tBe={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]};const ZY=(t,e)=>t==null?void 0:t.find(r=>r.id===e),b$=(t,e)=>t==null?void 0:t.filter(r=>r.tag===e);function nBe(){var M,S;const[t,e]=q.useState(""),[r,o]=q.useState(!1),[a,u]=q.useState(!0),{categoryReducer:h,blogReducer:p}=ul(I=>I),m=yd(),b=QY(),k=async I=>{I.preventDefault(),await Uu.doc(`categories/${t}`).set({}),e("")},v=I=>{e(I.target.value)},_=I=>{m(`/blog/${I}`)},A=()=>o(I=>!I),E=async I=>{window.confirm("       .")&&(b$(p.blog,I).forEach(async j=>{await Uu.doc(`blog/${j.id}`).delete()}),await Uu.doc(`categories/${I}`).delete())},T=((M=document.querySelector(".side-flex"))==null?void 0:M.getBoundingClientRect().width)??0,L={initial:{x:-999},animate:I=>({x:I?0:-T,transition:{type:"tween",duration:.36}})};return q.useEffect(()=>{let R=window.innerWidth>=1300,j;o(R),u(!R);const V=()=>{clearTimeout(j),j=setTimeout(()=>{R=window.innerWidth>=1300,o(R),u(!R)},300)};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),mn($u,{children:[Pe(Yc.div,{id:"dummy-fixed",transition:{type:"tween",duration:.36},animate:{marginRight:r?T:0},style:{position:a?"fixed":"relative"}}),Pe(Yc.div,{className:"side-openBtn",variants:L,initial:"initial",animate:"animate",custom:r,onClick:A,style:{visibility:a?"visible":"hidden"},children:Pe(Hf,{icon:r?eBe:tBe})}),mn(Yc.div,{className:"side-flex",variants:L,initial:"initial",animate:"animate",custom:r,style:{boxShadow:r?"1px 1px 8px 1px black":""},children:[b&&Pe("form",{onSubmit:k,className:"side-form-flex",children:Pe("input",{value:t,onChange:v,type:"text",placeholder:"Category...",maxLength:15,minLength:3})}),Pe("div",{className:"side-tag-flex",children:(S=h.categories)==null?void 0:S.map((I,R)=>{const j=b$(p.blog,I.id);return mn("details",{children:[mn("summary",{className:"side-summary",children:[Pe("span",{children:`${I.id} (${j.length})`}),Pe("button",{onClick:()=>E(I.id),children:"X"})]}),Pe("ul",{className:"side-list",children:j.map(V=>Pe("li",{onClick:()=>_(V.id),title:V.title,children:V.title},V.id))})]},R)})})]})]})}function rBe(){const t=VG(),{authReducer:{auth:e},githubReducer:{github:r}}=ul(o=>o);return q.useEffect(()=>{t(ZDe()),t(nPe()),t(aPe())},[]),q.useEffect(()=>{var o,a;t(Sve((a=(o=e.data)==null?void 0:o.providerData[0])==null?void 0:a.uid))},[e.data]),Pe("div",{children:e.loading||r.loading?Pe("div",{className:"root-loading",children:"Initializing..."}):mn($u,{children:[Pe(X5e,{}),mn("div",{className:"root-flex",children:[Pe("div",{children:Pe(nBe,{})}),Pe("div",{className:"root-outlet-width",children:Pe(EMe,{})})]})]})})}var cD={},iBe={get exports(){return cD},set exports(t){cD=t}};(function(t,e){(function(r,o){t.exports=o(q)})(va,r=>(()=>{var o={703:(p,m,b)=>{var k=b(414);function v(){}function _(){}_.resetWarningCache=v,p.exports=function(){function A(L,M,S,I,R,j){if(j!==k){var V=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw V.name="Invariant Violation",V}}function E(){return A}A.isRequired=A;var T={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:E,element:A,elementType:A,instanceOf:E,node:A,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E,checkPropTypes:_,resetWarningCache:v};return T.PropTypes=T,T}},697:(p,m,b)=>{p.exports=b(703)()},414:p=>{p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:p=>{p.exports=r}},a={};function u(p){var m=a[p];if(m!==void 0)return m.exports;var b=a[p]={exports:{}};return o[p](b,b.exports,u),b.exports}u.n=p=>{var m=p&&p.__esModule?()=>p.default:()=>p;return u.d(m,{a:m}),m},u.d=(p,m)=>{for(var b in m)u.o(m,b)&&!u.o(p,b)&&Object.defineProperty(p,b,{enumerable:!0,get:m[b]})},u.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m),u.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var h={};return(()=>{u.r(h),u.d(h,{default:()=>Le});var p=u(98),m=u.n(p),b=u(697),k=u.n(b);function v(){return v=Object.assign?Object.assign.bind():function(te){for(var ie=1;ie<arguments.length;ie++){var _e=arguments[ie];for(var Ee in _e)Object.prototype.hasOwnProperty.call(_e,Ee)&&(te[Ee]=_e[Ee])}return te},v.apply(this,arguments)}var _=function(te){var ie=te.pageClassName,_e=te.pageLinkClassName,Ee=te.page,qe=te.selected,ze=te.activeClassName,le=te.activeLinkClassName,se=te.getEventListener,W=te.pageSelectedHandler,Ae=te.href,xe=te.extraAriaContext,O=te.pageLabelBuilder,Be=te.rel,rt=te.ariaLabel||"Page "+Ee+(xe?" "+xe:""),bt=null;return qe&&(bt="page",rt=te.ariaLabel||"Page "+Ee+" is your current page",ie=ie!==void 0?ie+" "+ze:ze,_e!==void 0?le!==void 0&&(_e=_e+" "+le):_e=le),m().createElement("li",{className:ie},m().createElement("a",v({rel:Be,role:Ae?void 0:"button",className:_e,href:Ae,tabIndex:qe?"-1":"0","aria-label":rt,"aria-current":bt,onKeyPress:W},se(W)),O(Ee)))};_.propTypes={pageSelectedHandler:k().func.isRequired,selected:k().bool.isRequired,pageClassName:k().string,pageLinkClassName:k().string,activeClassName:k().string,activeLinkClassName:k().string,extraAriaContext:k().string,href:k().string,ariaLabel:k().string,page:k().number.isRequired,getEventListener:k().func.isRequired,pageLabelBuilder:k().func.isRequired,rel:k().string};const A=_;function E(){return E=Object.assign?Object.assign.bind():function(te){for(var ie=1;ie<arguments.length;ie++){var _e=arguments[ie];for(var Ee in _e)Object.prototype.hasOwnProperty.call(_e,Ee)&&(te[Ee]=_e[Ee])}return te},E.apply(this,arguments)}var T=function(te){var ie=te.breakLabel,_e=te.breakClassName,Ee=te.breakLinkClassName,qe=te.breakHandler,ze=te.getEventListener,le=_e||"break";return m().createElement("li",{className:le},m().createElement("a",E({className:Ee,role:"button",tabIndex:"0",onKeyPress:qe},ze(qe)),ie))};T.propTypes={breakLabel:k().oneOfType([k().string,k().node]),breakClassName:k().string,breakLinkClassName:k().string,breakHandler:k().func.isRequired,getEventListener:k().func.isRequired};const L=T;function M(te){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return te??ie}function S(te){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},S(te)}function I(){return I=Object.assign?Object.assign.bind():function(te){for(var ie=1;ie<arguments.length;ie++){var _e=arguments[ie];for(var Ee in _e)Object.prototype.hasOwnProperty.call(_e,Ee)&&(te[Ee]=_e[Ee])}return te},I.apply(this,arguments)}function R(te,ie){for(var _e=0;_e<ie.length;_e++){var Ee=ie[_e];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}function j(te,ie){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},j(te,ie)}function V(te,ie){if(ie&&(S(ie)==="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(te)}function H(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function J(te){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},J(te)}function oe(te,ie,_e){return ie in te?Object.defineProperty(te,ie,{value:_e,enumerable:!0,configurable:!0,writable:!0}):te[ie]=_e,te}var de=function(te){(function(se,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(W&&W.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),W&&j(se,W)})(le,te);var ie,_e,Ee,qe,ze=(Ee=le,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var se,W=J(Ee);if(qe){var Ae=J(this).constructor;se=Reflect.construct(W,arguments,Ae)}else se=W.apply(this,arguments);return V(this,se)});function le(se){var W,Ae;return function(xe,O){if(!(xe instanceof O))throw new TypeError("Cannot call a class as a function")}(this,le),oe(H(W=ze.call(this,se)),"handlePreviousPage",function(xe){var O=W.state.selected;W.handleClick(xe,null,O>0?O-1:void 0,{isPrevious:!0})}),oe(H(W),"handleNextPage",function(xe){var O=W.state.selected,Be=W.props.pageCount;W.handleClick(xe,null,O<Be-1?O+1:void 0,{isNext:!0})}),oe(H(W),"handlePageSelected",function(xe,O){if(W.state.selected===xe)return W.callActiveCallback(xe),void W.handleClick(O,null,void 0,{isActive:!0});W.handleClick(O,null,xe)}),oe(H(W),"handlePageChange",function(xe){W.state.selected!==xe&&(W.setState({selected:xe}),W.callCallback(xe))}),oe(H(W),"getEventListener",function(xe){return oe({},W.props.eventListener,xe)}),oe(H(W),"handleClick",function(xe,O,Be){var rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},bt=rt.isPrevious,Lt=bt!==void 0&&bt,Rn=rt.isNext,Ar=Rn!==void 0&&Rn,cn=rt.isBreak,ln=cn!==void 0&&cn,$t=rt.isActive,wt=$t!==void 0&&$t;xe.preventDefault?xe.preventDefault():xe.returnValue=!1;var Bt=W.state.selected,z=W.props.onClick,K=Be;if(z){var Z=z({index:O,selected:Bt,nextSelectedPage:Be,event:xe,isPrevious:Lt,isNext:Ar,isBreak:ln,isActive:wt});if(Z===!1)return;Number.isInteger(Z)&&(K=Z)}K!==void 0&&W.handlePageChange(K)}),oe(H(W),"handleBreakClick",function(xe,O){var Be=W.state.selected;W.handleClick(O,xe,Be<xe?W.getForwardJump():W.getBackwardJump(),{isBreak:!0})}),oe(H(W),"callCallback",function(xe){W.props.onPageChange!==void 0&&typeof W.props.onPageChange=="function"&&W.props.onPageChange({selected:xe})}),oe(H(W),"callActiveCallback",function(xe){W.props.onPageActive!==void 0&&typeof W.props.onPageActive=="function"&&W.props.onPageActive({selected:xe})}),oe(H(W),"getElementPageRel",function(xe){var O=W.state.selected,Be=W.props,rt=Be.nextPageRel,bt=Be.prevPageRel,Lt=Be.selectedPageRel;return O-1===xe?bt:O===xe?Lt:O+1===xe?rt:void 0}),oe(H(W),"pagination",function(){var xe=[],O=W.props,Be=O.pageRangeDisplayed,rt=O.pageCount,bt=O.marginPagesDisplayed,Lt=O.breakLabel,Rn=O.breakClassName,Ar=O.breakLinkClassName,cn=W.state.selected;if(rt<=Be)for(var ln=0;ln<rt;ln++)xe.push(W.getPageElement(ln));else{var $t=Be/2,wt=Be-$t;cn>rt-Be/2?$t=Be-(wt=rt-cn):cn<Be/2&&(wt=Be-($t=cn));var Bt,z,K=function(Se){return W.getPageElement(Se)},Z=[];for(Bt=0;Bt<rt;Bt++){var ke=Bt+1;ke<=bt||ke>rt-bt||Bt>=cn-$t&&Bt<=cn+(cn===0&&Be>1?wt-1:wt)?Z.push({type:"page",index:Bt,display:K(Bt)}):Lt&&Z.length>0&&Z[Z.length-1].display!==z&&(Be>0||bt>0)&&(z=m().createElement(L,{key:Bt,breakLabel:Lt,breakClassName:Rn,breakLinkClassName:Ar,breakHandler:W.handleBreakClick.bind(null,Bt),getEventListener:W.getEventListener}),Z.push({type:"break",index:Bt,display:z}))}Z.forEach(function(Se,ue){var je=Se;Se.type==="break"&&Z[ue-1]&&Z[ue-1].type==="page"&&Z[ue+1]&&Z[ue+1].type==="page"&&Z[ue+1].index-Z[ue-1].index<=2&&(je={type:"page",index:Se.index,display:K(Se.index)}),xe.push(je.display)})}return xe}),se.initialPage!==void 0&&se.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(se.initialPage,") and forcePage (").concat(se.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),Ae=se.initialPage?se.initialPage:se.forcePage?se.forcePage:0,W.state={selected:Ae},W}return ie=le,(_e=[{key:"componentDidMount",value:function(){var se=this.props,W=se.initialPage,Ae=se.disableInitialCallback,xe=se.extraAriaContext,O=se.pageCount,Be=se.forcePage;W===void 0||Ae||this.callCallback(W),xe&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(O)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(O,"). Did you forget a Math.ceil()?")),W!==void 0&&W>O-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(W," > ").concat(O-1,").")),Be!==void 0&&Be>O-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(Be," > ").concat(O-1,")."))}},{key:"componentDidUpdate",value:function(se){this.props.forcePage!==void 0&&this.props.forcePage!==se.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(se.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var se=this.state.selected,W=this.props,Ae=W.pageCount,xe=se+W.pageRangeDisplayed;return xe>=Ae?Ae-1:xe}},{key:"getBackwardJump",value:function(){var se=this.state.selected-this.props.pageRangeDisplayed;return se<0?0:se}},{key:"getElementHref",value:function(se){var W=this.props,Ae=W.hrefBuilder,xe=W.pageCount,O=W.hrefAllControls;if(Ae)return O||se>=0&&se<xe?Ae(se+1,xe,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(se){var W=se===this.state.selected;if(this.props.ariaLabelBuilder&&se>=0&&se<this.props.pageCount){var Ae=this.props.ariaLabelBuilder(se+1,W);return this.props.extraAriaContext&&!W&&(Ae=Ae+" "+this.props.extraAriaContext),Ae}}},{key:"getPageElement",value:function(se){var W=this.state.selected,Ae=this.props,xe=Ae.pageClassName,O=Ae.pageLinkClassName,Be=Ae.activeClassName,rt=Ae.activeLinkClassName,bt=Ae.extraAriaContext,Lt=Ae.pageLabelBuilder;return m().createElement(A,{key:se,pageSelectedHandler:this.handlePageSelected.bind(null,se),selected:W===se,rel:this.getElementPageRel(se),pageClassName:xe,pageLinkClassName:O,activeClassName:Be,activeLinkClassName:rt,extraAriaContext:bt,href:this.getElementHref(se),ariaLabel:this.ariaLabelBuilder(se),page:se+1,pageLabelBuilder:Lt,getEventListener:this.getEventListener})}},{key:"render",value:function(){var se=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&se!==void 0)return se&&se(this.props);var W=this.props,Ae=W.disabledClassName,xe=W.disabledLinkClassName,O=W.pageCount,Be=W.className,rt=W.containerClassName,bt=W.previousLabel,Lt=W.previousClassName,Rn=W.previousLinkClassName,Ar=W.previousAriaLabel,cn=W.prevRel,ln=W.nextLabel,$t=W.nextClassName,wt=W.nextLinkClassName,Bt=W.nextAriaLabel,z=W.nextRel,K=this.state.selected,Z=K===0,ke=K===O-1,Se="".concat(M(Lt)).concat(Z?" ".concat(M(Ae)):""),ue="".concat(M($t)).concat(ke?" ".concat(M(Ae)):""),je="".concat(M(Rn)).concat(Z?" ".concat(M(xe)):""),xt="".concat(M(wt)).concat(ke?" ".concat(M(xe)):""),At=Z?"true":"false",En=ke?"true":"false";return m().createElement("ul",{className:Be||rt,role:"navigation","aria-label":"Pagination"},m().createElement("li",{className:Se},m().createElement("a",I({className:je,href:this.getElementHref(K-1),tabIndex:Z?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":At,"aria-label":Ar,rel:cn},this.getEventListener(this.handlePreviousPage)),bt)),this.pagination(),m().createElement("li",{className:ue},m().createElement("a",I({className:xt,href:this.getElementHref(K+1),tabIndex:ke?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":En,"aria-label":Bt,rel:z},this.getEventListener(this.handleNextPage)),ln)))}}])&&R(ie.prototype,_e),Object.defineProperty(ie,"prototype",{writable:!1}),le}(p.Component);oe(de,"propTypes",{pageCount:k().number.isRequired,pageRangeDisplayed:k().number,marginPagesDisplayed:k().number,previousLabel:k().node,previousAriaLabel:k().string,prevPageRel:k().string,prevRel:k().string,nextLabel:k().node,nextAriaLabel:k().string,nextPageRel:k().string,nextRel:k().string,breakLabel:k().oneOfType([k().string,k().node]),hrefBuilder:k().func,hrefAllControls:k().bool,onPageChange:k().func,onPageActive:k().func,onClick:k().func,initialPage:k().number,forcePage:k().number,disableInitialCallback:k().bool,containerClassName:k().string,className:k().string,pageClassName:k().string,pageLinkClassName:k().string,pageLabelBuilder:k().func,activeClassName:k().string,activeLinkClassName:k().string,previousClassName:k().string,nextClassName:k().string,previousLinkClassName:k().string,nextLinkClassName:k().string,disabledClassName:k().string,disabledLinkClassName:k().string,breakClassName:k().string,breakLinkClassName:k().string,extraAriaContext:k().string,ariaLabelBuilder:k().func,eventListener:k().string,renderOnZeroPageCount:k().func,selectedPageRel:k().string}),oe(de,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(te){return te},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Le=de})(),h})())})(iBe);const oBe=pD(cD);function sBe({itemsPerPage:t,items:e,page:r}){const[o,a]=q.useState((r-1)*t%e.length),[u,h]=q.useState(0),p=yd(),m=o+t,b=e.slice(o,m),k=Math.ceil(e.length/t),v=E=>{const T=E.selected,L=T*t%e.length;a(L),h(T)};q.useEffect(()=>{if(u>k)return p("/");p(`/page/${u+1}`)},[u]);const _={initial:{opacity:0,y:-30},animate:{opacity:1,y:0}},A=E=>{p(`/blog/${E}`)};return e.length>0?mn("div",{className:"paginate-flex",children:[Pe(YY,{children:Pe(Yc.ul,{variants:_,initial:"initial",animate:"animate",transition:{duration:.4},className:"paginate-inner",children:b.map(E=>{const T=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return mn("li",{onClick:()=>A(E.id),children:[mn("div",{className:"paginate-inner-title root-overflow",children:[Pe("span",{children:`[ ${E.tag} ]`}),Pe("span",{children:E.title})]}),mn("div",{className:"paginate-inner-time",children:[Pe("span",{children:T.format(E.time.updatedAt)}),E.time.updated&&Pe("span",{children:"(  )"})]})]},E.id)})},u)}),Pe(oBe,{breakLabel:"...",nextLabel:">",onPageChange:v,pageCount:k,previousLabel:"<",initialPage:r-1,activeClassName:"paginate-active",containerClassName:"paginate-container",pageClassName:"paginate-page",previousClassName:"paginate-move-btn",nextClassName:"paginate-move-btn"})]}):Pe("div",{children:" ."})}function w$(){const[t,e]=q.useState(""),[r,o]=q.useState(JSON.parse(localStorage.getItem("sort"))??!1),[a,u]=q.useTransition(),h=q.useRef(null),{blog:p,loading:m}=ul(E=>E.blogReducer),{page:b}=CN(),k=yd(),v=E=>{u(()=>e(E.target.value))},_=()=>{var E;e(""),(E=h.current)==null||E.focus()},A=q.useMemo(()=>p==null?void 0:p.sort((E,T)=>{const L=M=>M.time.updatedAt;return r?L(E)-L(T):L(T)-L(E)}).filter(E=>E.title.toLowerCase().includes(t.toLowerCase())),[t,r,p]);return q.useEffect(()=>{Number.isNaN(parseInt(b))&&k("/"),localStorage.setItem("page",b??"1")},[b]),q.useEffect(()=>{localStorage.setItem("sort",String(r))},[r]),Pe($u,{children:m?Pe("div",{style:{textAlign:"center"},children:"Loading..."}):mn($u,{children:[mn("div",{className:"home-flex",children:[Pe("input",{value:t,onChange:v,type:"text",ref:h,placeholder:"Search..."}),Pe("button",{type:"reset",onClick:_,children:"X"}),Pe("button",{type:"button",onClick:()=>{o(E=>!E)},children:r?"":""})]}),Pe(sBe,{itemsPerPage:5,items:A,page:parseInt(b??"1")})]})})}var Lb=t=>t.type==="checkbox",Dh=t=>t instanceof Date,Ii=t=>t==null;const JY=t=>typeof t=="object";var yr=t=>!Ii(t)&&!Array.isArray(t)&&JY(t)&&!Dh(t),XY=t=>yr(t)&&t.target?Lb(t.target)?t.target.checked:t.target.value:t,aBe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,eQ=(t,e)=>t.has(aBe(e)),Bb=t=>Array.isArray(t)?t.filter(Boolean):[],hr=t=>t===void 0,Ve=(t,e,r)=>{if(!e||!yr(t))return r;const o=Bb(e.split(/[,[\].]+?/)).reduce((a,u)=>Ii(a)?a:a[u],t);return hr(o)||o===t?hr(t[e])?r:t[e]:o};const Zy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},as={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cBe=rn.createContext(null),d2=()=>rn.useContext(cBe);var tQ=(t,e,r,o=!0)=>{const a={defaultValues:e._defaultValues};for(const u in t)Object.defineProperty(a,u,{get:()=>{const h=u;return e._proxyFormState[h]!==as.all&&(e._proxyFormState[h]=!o||as.all),r&&(r[h]=!0),t[h]}});return a},Io=t=>yr(t)&&!Object.keys(t).length,nQ=(t,e,r,o)=>{r(t);const{name:a,...u}=t;return Io(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(h=>e[h]===(!o||as.all))},Tv=t=>Array.isArray(t)?t:[t],rQ=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Tv(t).some(o=>o&&(o.startsWith(e)||e.startsWith(o)));function h2(t){const e=rn.useRef(t);e.current=t,rn.useEffect(()=>{const r=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function lBe(t){const e=d2(),{control:r=e.control,disabled:o,name:a,exact:u}=t||{},[h,p]=rn.useState(r._formState),m=rn.useRef(!0),b=rn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),k=rn.useRef(a);return k.current=a,h2({disabled:o,next:v=>m.current&&rQ(k.current,v.name,u)&&nQ(v,b.current,r._updateFormState)&&p({...r._formState,...v}),subject:r._subjects.state}),rn.useEffect(()=>{m.current=!0;const v=r._proxyFormState.isDirty&&r._getDirty();return v!==r._formState.isDirty&&r._subjects.state.next({isDirty:v}),b.current.isValid&&r._updateValid(!0),()=>{m.current=!1}},[r]),tQ(h,r,b.current,!1)}var qs=t=>typeof t=="string",iQ=(t,e,r,o,a)=>qs(t)?(o&&e.watch.add(t),Ve(r,t,a)):Array.isArray(t)?t.map(u=>(o&&e.watch.add(u),Ve(r,u))):(o&&(e.watchAll=!0),r),uBe=t=>{const e=t.constructor&&t.constructor.prototype;return yr(e)&&e.hasOwnProperty("isPrototypeOf")},f2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tc(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(f2&&(t instanceof Blob||t instanceof FileList))&&(r||yr(t)))if(e=r?[]:{},!Array.isArray(t)&&!uBe(t))e=t;else for(const o in t)e[o]=Tc(t[o]);else return t;return e}function dBe(t){const e=d2(),{control:r=e.control,name:o,defaultValue:a,disabled:u,exact:h}=t||{},p=rn.useRef(o);p.current=o,h2({disabled:u,subject:r._subjects.watch,next:k=>{rQ(p.current,k.name,h)&&b(Tc(iQ(p.current,r._names,k.values||r._formValues,!1,a)))}});const[m,b]=rn.useState(r._getWatch(o,a));return rn.useEffect(()=>r._removeUnmounted()),m}function ES(t){const e=d2(),{name:r,control:o=e.control,shouldUnregister:a}=t,u=eQ(o._names.array,r),h=dBe({control:o,name:r,defaultValue:Ve(o._formValues,r,Ve(o._defaultValues,r,t.defaultValue)),exact:!0}),p=lBe({control:o,name:r}),m=rn.useRef(o.register(r,{...t.rules,value:h}));return rn.useEffect(()=>{const b=(k,v)=>{const _=Ve(o._fields,k);_&&(_._f.mount=v)};return b(r,!0),()=>{const k=o._options.shouldUnregister||a;(u?k&&!o._stateFlags.action:k)?o.unregister(r):b(r,!1)}},[r,o,u,a]),{field:{name:r,value:h,onChange:rn.useCallback(b=>m.current.onChange({target:{value:XY(b),name:r},type:Zy.CHANGE}),[r]),onBlur:rn.useCallback(()=>m.current.onBlur({target:{value:Ve(o._formValues,r),name:r},type:Zy.BLUR}),[r,o]),ref:b=>{const k=Ve(o._fields,r);k&&b&&(k._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:v=>b.setCustomValidity(v),reportValidity:()=>b.reportValidity()})}},formState:p,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ve(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ve(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ve(p.touchedFields,r)},error:{enumerable:!0,get:()=>Ve(p.errors,r)}})}}var hBe=(t,e,r,o,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[o]:a||!0}}:{},p2=t=>/^\w*$/.test(t),oQ=t=>Bb(t.replace(/["|']|\]/g,"").split(/\.|\[/));function In(t,e,r){let o=-1;const a=p2(e)?[e]:oQ(e),u=a.length,h=u-1;for(;++o<u;){const p=a[o];let m=r;if(o!==h){const b=t[p];m=yr(b)||Array.isArray(b)?b:isNaN(+a[o+1])?{}:[]}t[p]=m,t=t[p]}return t}const lD=(t,e,r)=>{for(const o of r||Object.keys(t)){const a=Ve(t,o);if(a){const{_f:u,...h}=a;if(u&&e(u.name)){if(u.ref.focus){u.ref.focus();break}else if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else yr(h)&&lD(h,e)}}};var k$=t=>({isOnSubmit:!t||t===as.onSubmit,isOnBlur:t===as.onBlur,isOnChange:t===as.onChange,isOnAll:t===as.all,isOnTouch:t===as.onTouched}),v$=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(o=>t.startsWith(o)&&/^\.\w+/.test(t.slice(o.length)))),fBe=(t,e,r)=>{const o=Bb(Ve(t,r));return In(o,"root",e[r]),In(t,r,o),t},qh=t=>typeof t=="boolean",m2=t=>t.type==="file",Wh=t=>typeof t=="function",Jy=t=>{if(!f2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Iv=t=>qs(t)||rn.isValidElement(t),g2=t=>t.type==="radio",Xy=t=>t instanceof RegExp;const y$={value:!1,isValid:!1},_$={value:!0,isValid:!0};var sQ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!hr(t[0].attributes.value)?hr(t[0].value)||t[0].value===""?_$:{value:t[0].value,isValid:!0}:_$:y$}return y$};const A$={isValid:!1,value:null};var aQ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,A$):A$;function C$(t,e,r="validate"){if(Iv(t)||Array.isArray(t)&&t.every(Iv)||qh(t)&&!t)return{type:r,message:Iv(t)?t:"",ref:e}}var rh=t=>yr(t)&&!Xy(t)?t:{value:t,message:""},E$=async(t,e,r,o,a)=>{const{ref:u,refs:h,required:p,maxLength:m,minLength:b,min:k,max:v,pattern:_,validate:A,name:E,valueAsNumber:T,mount:L,disabled:M}=t._f,S=Ve(e,E);if(!L||M)return{};const I=h?h[0]:u,R=te=>{o&&I.reportValidity&&(I.setCustomValidity(qh(te)?"":te||""),I.reportValidity())},j={},V=g2(u),H=Lb(u),J=V||H,oe=(T||m2(u))&&hr(u.value)&&hr(S)||Jy(u)&&u.value===""||S===""||Array.isArray(S)&&!S.length,de=hBe.bind(null,E,r,j),Le=(te,ie,_e,Ee=pa.maxLength,qe=pa.minLength)=>{const ze=te?ie:_e;j[E]={type:te?Ee:qe,message:ze,ref:u,...de(te?Ee:qe,ze)}};if(a?!Array.isArray(S)||!S.length:p&&(!J&&(oe||Ii(S))||qh(S)&&!S||H&&!sQ(h).isValid||V&&!aQ(h).isValid)){const{value:te,message:ie}=Iv(p)?{value:!!p,message:p}:rh(p);if(te&&(j[E]={type:pa.required,message:ie,ref:I,...de(pa.required,ie)},!r))return R(ie),j}if(!oe&&(!Ii(k)||!Ii(v))){let te,ie;const _e=rh(v),Ee=rh(k);if(!Ii(S)&&!isNaN(S)){const qe=u.valueAsNumber||S&&+S;Ii(_e.value)||(te=qe>_e.value),Ii(Ee.value)||(ie=qe<Ee.value)}else{const qe=u.valueAsDate||new Date(S),ze=W=>new Date(new Date().toDateString()+" "+W),le=u.type=="time",se=u.type=="week";qs(_e.value)&&S&&(te=le?ze(S)>ze(_e.value):se?S>_e.value:qe>new Date(_e.value)),qs(Ee.value)&&S&&(ie=le?ze(S)<ze(Ee.value):se?S<Ee.value:qe<new Date(Ee.value))}if((te||ie)&&(Le(!!te,_e.message,Ee.message,pa.max,pa.min),!r))return R(j[E].message),j}if((m||b)&&!oe&&(qs(S)||a&&Array.isArray(S))){const te=rh(m),ie=rh(b),_e=!Ii(te.value)&&S.length>te.value,Ee=!Ii(ie.value)&&S.length<ie.value;if((_e||Ee)&&(Le(_e,te.message,ie.message),!r))return R(j[E].message),j}if(_&&!oe&&qs(S)){const{value:te,message:ie}=rh(_);if(Xy(te)&&!S.match(te)&&(j[E]={type:pa.pattern,message:ie,ref:u,...de(pa.pattern,ie)},!r))return R(ie),j}if(A){if(Wh(A)){const te=await A(S,e),ie=C$(te,I);if(ie&&(j[E]={...ie,...de(pa.validate,ie.message)},!r))return R(ie.message),j}else if(yr(A)){let te={};for(const ie in A){if(!Io(te)&&!r)break;const _e=C$(await A[ie](S,e),I,ie);_e&&(te={..._e,...de(ie,_e.message)},R(_e.message),r&&(j[E]=te))}if(!Io(te)&&(j[E]={ref:I,...te},!r))return j}}return R(!0),j};function pBe(t,e){const r=e.slice(0,-1).length;let o=0;for(;o<r;)t=hr(t)?o++:t[e[o++]];return t}function mBe(t){for(const e in t)if(!hr(t[e]))return!1;return!0}function Yr(t,e){const r=Array.isArray(e)?e:p2(e)?[e]:oQ(e),o=r.length===1?t:pBe(t,r),a=r.length-1,u=r[a];return o&&delete o[u],a!==0&&(yr(o)&&Io(o)||Array.isArray(o)&&mBe(o))&&Yr(t,r.slice(0,-1)),t}function xS(){let t=[];return{get observers(){return t},next:a=>{for(const u of t)u.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(u=>u!==a)}}),unsubscribe:()=>{t=[]}}}var e_=t=>Ii(t)||!JY(t);function Mu(t,e){if(e_(t)||e_(e))return t===e;if(Dh(t)&&Dh(e))return t.getTime()===e.getTime();const r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(const a of r){const u=t[a];if(!o.includes(a))return!1;if(a!=="ref"){const h=e[a];if(Dh(u)&&Dh(h)||yr(u)&&yr(h)||Array.isArray(u)&&Array.isArray(h)?!Mu(u,h):u!==h)return!1}}return!0}var cQ=t=>t.type==="select-multiple",gBe=t=>g2(t)||Lb(t),SS=t=>Jy(t)&&t.isConnected,lQ=t=>{for(const e in t)if(Wh(t[e]))return!0;return!1};function t_(t,e={}){const r=Array.isArray(t);if(yr(t)||r)for(const o in t)Array.isArray(t[o])||yr(t[o])&&!lQ(t[o])?(e[o]=Array.isArray(t[o])?[]:{},t_(t[o],e[o])):Ii(t[o])||(e[o]=!0);return e}function uQ(t,e,r){const o=Array.isArray(t);if(yr(t)||o)for(const a in t)Array.isArray(t[a])||yr(t[a])&&!lQ(t[a])?hr(e)||e_(r[a])?r[a]=Array.isArray(t[a])?t_(t[a],[]):{...t_(t[a])}:uQ(t[a],Ii(e)?{}:e[a],r[a]):Mu(t[a],e[a])?delete r[a]:r[a]=!0;return r}var TS=(t,e)=>uQ(t,e,t_(e)),dQ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:o})=>hr(t)?t:e?t===""?NaN:t&&+t:r&&qs(t)?new Date(t):o?o(t):t;function IS(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return m2(e)?e.files:g2(e)?aQ(t.refs).value:cQ(e)?[...e.selectedOptions].map(({value:r})=>r):Lb(e)?sQ(t.refs).value:dQ(hr(e.value)?t.ref.value:e.value,t)}var bBe=(t,e,r,o)=>{const a={};for(const u of t){const h=Ve(e,u);h&&In(a,u,h._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:o}},nm=t=>hr(t)?t:Xy(t)?t.source:yr(t)?Xy(t.value)?t.value.source:t.value:t,wBe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function x$(t,e,r){const o=Ve(t,r);if(o||p2(r))return{error:o,name:r};const a=r.split(".");for(;a.length;){const u=a.join("."),h=Ve(e,u),p=Ve(t,u);if(h&&!Array.isArray(h)&&r!==u)return{name:r};if(p&&p.type)return{name:u,error:p};a.pop()}return{name:r}}var kBe=(t,e,r,o,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?o.isOnBlur:a.isOnBlur)?!t:(r?o.isOnChange:a.isOnChange)?t:!0,vBe=(t,e)=>!Bb(Ve(t,e)).length&&Yr(t,e);const yBe={mode:as.onSubmit,reValidateMode:as.onChange,shouldFocusError:!0};function _Be(t={},e){let r={...yBe,...t};const o=t.resetOptions&&t.resetOptions.keepDirtyValues;let a={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},u={},h=yr(r.defaultValues)||yr(r.values)?Tc(r.defaultValues||r.values)||{}:{},p=r.shouldUnregister?{}:Tc(h),m={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k,v=0;const _={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={watch:xS(),array:xS(),state:xS()},E=k$(r.mode),T=k$(r.reValidateMode),L=r.criteriaMode===as.all,M=z=>K=>{clearTimeout(v),v=window.setTimeout(z,K)},S=async z=>{if(_.isValid||z){const K=r.resolver?Io((await oe()).errors):await Le(u,!0);K!==a.isValid&&A.state.next({isValid:K})}},I=z=>_.isValidating&&A.state.next({isValidating:z}),R=(z,K=[],Z,ke,Se=!0,ue=!0)=>{if(ke&&Z){if(m.action=!0,ue&&Array.isArray(Ve(u,z))){const je=Z(Ve(u,z),ke.argA,ke.argB);Se&&In(u,z,je)}if(ue&&Array.isArray(Ve(a.errors,z))){const je=Z(Ve(a.errors,z),ke.argA,ke.argB);Se&&In(a.errors,z,je),vBe(a.errors,z)}if(_.touchedFields&&ue&&Array.isArray(Ve(a.touchedFields,z))){const je=Z(Ve(a.touchedFields,z),ke.argA,ke.argB);Se&&In(a.touchedFields,z,je)}_.dirtyFields&&(a.dirtyFields=TS(h,p)),A.state.next({name:z,isDirty:ie(z,K),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else In(p,z,K)},j=(z,K)=>{In(a.errors,z,K),A.state.next({errors:a.errors})},V=(z,K,Z,ke)=>{const Se=Ve(u,z);if(Se){const ue=Ve(p,z,hr(Z)?Ve(h,z):Z);hr(ue)||ke&&ke.defaultChecked||K?In(p,z,K?ue:IS(Se._f)):qe(z,ue),m.mount&&S()}},H=(z,K,Z,ke,Se)=>{let ue=!1,je=!1;const xt={name:z};if(!Z||ke){_.isDirty&&(je=a.isDirty,a.isDirty=xt.isDirty=ie(),ue=je!==xt.isDirty);const At=Mu(Ve(h,z),K);je=Ve(a.dirtyFields,z),At?Yr(a.dirtyFields,z):In(a.dirtyFields,z,!0),xt.dirtyFields=a.dirtyFields,ue=ue||_.dirtyFields&&je!==!At}if(Z){const At=Ve(a.touchedFields,z);At||(In(a.touchedFields,z,Z),xt.touchedFields=a.touchedFields,ue=ue||_.touchedFields&&At!==Z)}return ue&&Se&&A.state.next(xt),ue?xt:{}},J=(z,K,Z,ke)=>{const Se=Ve(a.errors,z),ue=_.isValid&&qh(K)&&a.isValid!==K;if(t.delayError&&Z?(k=M(()=>j(z,Z)),k(t.delayError)):(clearTimeout(v),k=null,Z?In(a.errors,z,Z):Yr(a.errors,z)),(Z?!Mu(Se,Z):Se)||!Io(ke)||ue){const je={...ke,...ue&&qh(K)?{isValid:K}:{},errors:a.errors,name:z};a={...a,...je},A.state.next(je)}I(!1)},oe=async z=>await r.resolver(p,r.context,bBe(z||b.mount,u,r.criteriaMode,r.shouldUseNativeValidation)),de=async z=>{const{errors:K}=await oe();if(z)for(const Z of z){const ke=Ve(K,Z);ke?In(a.errors,Z,ke):Yr(a.errors,Z)}else a.errors=K;return K},Le=async(z,K,Z={valid:!0})=>{for(const ke in z){const Se=z[ke];if(Se){const{_f:ue,...je}=Se;if(ue){const xt=b.array.has(ue.name),At=await E$(Se,p,L,r.shouldUseNativeValidation,xt);if(At[ue.name]&&(Z.valid=!1,K))break;!K&&(Ve(At,ue.name)?xt?fBe(a.errors,At,ue.name):In(a.errors,ue.name,At[ue.name]):Yr(a.errors,ue.name))}je&&await Le(je,K,Z)}}return Z.valid},te=()=>{for(const z of b.unMount){const K=Ve(u,z);K&&(K._f.refs?K._f.refs.every(Z=>!SS(Z)):!SS(K._f.ref))&&bt(z)}b.unMount=new Set},ie=(z,K)=>(z&&K&&In(p,z,K),!Mu(Ae(),h)),_e=(z,K,Z)=>iQ(z,b,{...m.mount?p:hr(K)?h:qs(z)?{[z]:K}:K},Z,K),Ee=z=>Bb(Ve(m.mount?p:h,z,t.shouldUnregister?Ve(h,z,[]):[])),qe=(z,K,Z={})=>{const ke=Ve(u,z);let Se=K;if(ke){const ue=ke._f;ue&&(!ue.disabled&&In(p,z,dQ(K,ue)),Se=Jy(ue.ref)&&Ii(K)?"":K,cQ(ue.ref)?[...ue.ref.options].forEach(je=>je.selected=Se.includes(je.value)):ue.refs?Lb(ue.ref)?ue.refs.length>1?ue.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(Se)?!!Se.find(xt=>xt===je.value):Se===je.value)):ue.refs[0]&&(ue.refs[0].checked=!!Se):ue.refs.forEach(je=>je.checked=je.value===Se):m2(ue.ref)?ue.ref.value="":(ue.ref.value=Se,ue.ref.type||A.watch.next({name:z})))}(Z.shouldDirty||Z.shouldTouch)&&H(z,Se,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&W(z)},ze=(z,K,Z)=>{for(const ke in K){const Se=K[ke],ue=`${z}.${ke}`,je=Ve(u,ue);(b.array.has(z)||!e_(Se)||je&&!je._f)&&!Dh(Se)?ze(ue,Se,Z):qe(ue,Se,Z)}},le=(z,K,Z={})=>{const ke=Ve(u,z),Se=b.array.has(z),ue=Tc(K);In(p,z,ue),Se?(A.array.next({name:z,values:p}),(_.isDirty||_.dirtyFields)&&Z.shouldDirty&&A.state.next({name:z,dirtyFields:TS(h,p),isDirty:ie(z,ue)})):ke&&!ke._f&&!Ii(ue)?ze(z,ue,Z):qe(z,ue,Z),v$(z,b)&&A.state.next({}),A.watch.next({name:z}),!m.mount&&e()},se=async z=>{const K=z.target;let Z=K.name;const ke=Ve(u,Z),Se=()=>K.type?IS(ke._f):XY(z);if(ke){let ue,je;const xt=Se(),At=z.type===Zy.BLUR||z.type===Zy.FOCUS_OUT,En=!wBe(ke._f)&&!r.resolver&&!Ve(a.errors,Z)&&!ke._f.deps||kBe(At,Ve(a.touchedFields,Z),a.isSubmitted,T,E),X=v$(Z,b,At);In(p,Z,xt),At?(ke._f.onBlur&&ke._f.onBlur(z),k&&k(0)):ke._f.onChange&&ke._f.onChange(z);const re=H(Z,xt,At,!1),pe=!Io(re)||X;if(!At&&A.watch.next({name:Z,type:z.type}),En)return _.isValid&&S(),pe&&A.state.next({name:Z,...X?{}:re});if(!At&&X&&A.state.next({}),I(!0),r.resolver){const{errors:ve}=await oe([Z]),De=x$(a.errors,u,Z),et=x$(ve,u,De.name||Z);ue=et.error,Z=et.name,je=Io(ve)}else ue=(await E$(ke,p,L,r.shouldUseNativeValidation))[Z],ue?je=!1:_.isValid&&(je=await Le(u,!0));ke._f.deps&&W(ke._f.deps),J(Z,je,ue,re)}},W=async(z,K={})=>{let Z,ke;const Se=Tv(z);if(I(!0),r.resolver){const ue=await de(hr(z)?z:Se);Z=Io(ue),ke=z?!Se.some(je=>Ve(ue,je)):Z}else z?(ke=(await Promise.all(Se.map(async ue=>{const je=Ve(u,ue);return await Le(je&&je._f?{[ue]:je}:je)}))).every(Boolean),!(!ke&&!a.isValid)&&S()):ke=Z=await Le(u);return A.state.next({...!qs(z)||_.isValid&&Z!==a.isValid?{}:{name:z},...r.resolver||!z?{isValid:Z}:{},errors:a.errors,isValidating:!1}),K.shouldFocus&&!ke&&lD(u,ue=>ue&&Ve(a.errors,ue),z?Se:b.mount),ke},Ae=z=>{const K={...h,...m.mount?p:{}};return hr(z)?K:qs(z)?Ve(K,z):z.map(Z=>Ve(K,Z))},xe=(z,K)=>({invalid:!!Ve((K||a).errors,z),isDirty:!!Ve((K||a).dirtyFields,z),isTouched:!!Ve((K||a).touchedFields,z),error:Ve((K||a).errors,z)}),O=z=>{z&&Tv(z).forEach(K=>Yr(a.errors,K)),A.state.next({errors:z?a.errors:{}})},Be=(z,K,Z)=>{const ke=(Ve(u,z,{_f:{}})._f||{}).ref;In(a.errors,z,{...K,ref:ke}),A.state.next({name:z,errors:a.errors,isValid:!1}),Z&&Z.shouldFocus&&ke&&ke.focus&&ke.focus()},rt=(z,K)=>Wh(z)?A.watch.subscribe({next:Z=>z(_e(void 0,K),Z)}):_e(z,K,!0),bt=(z,K={})=>{for(const Z of z?Tv(z):b.mount)b.mount.delete(Z),b.array.delete(Z),Ve(u,Z)&&(K.keepValue||(Yr(u,Z),Yr(p,Z)),!K.keepError&&Yr(a.errors,Z),!K.keepDirty&&Yr(a.dirtyFields,Z),!K.keepTouched&&Yr(a.touchedFields,Z),!r.shouldUnregister&&!K.keepDefaultValue&&Yr(h,Z));A.watch.next({}),A.state.next({...a,...K.keepDirty?{isDirty:ie()}:{}}),!K.keepIsValid&&S()},Lt=(z,K={})=>{let Z=Ve(u,z);const ke=qh(K.disabled);return In(u,z,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:z}},name:z,mount:!0,...K}}),b.mount.add(z),Z?ke&&In(p,z,K.disabled?void 0:Ve(p,z,IS(Z._f))):V(z,!0,K.value),{...ke?{disabled:K.disabled}:{},...r.shouldUseNativeValidation?{required:!!K.required,min:nm(K.min),max:nm(K.max),minLength:nm(K.minLength),maxLength:nm(K.maxLength),pattern:nm(K.pattern)}:{},name:z,onChange:se,onBlur:se,ref:Se=>{if(Se){Lt(z,K),Z=Ve(u,z);const ue=hr(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,je=gBe(ue),xt=Z._f.refs||[];if(je?xt.find(At=>At===ue):ue===Z._f.ref)return;In(u,z,{_f:{...Z._f,...je?{refs:[...xt.filter(SS),ue,...Array.isArray(Ve(h,z))?[{}]:[]],ref:{type:ue.type,name:z}}:{ref:ue}}}),V(z,!1,void 0,ue)}else Z=Ve(u,z,{}),Z._f&&(Z._f.mount=!1),(r.shouldUnregister||K.shouldUnregister)&&!(eQ(b.array,z)&&m.action)&&b.unMount.add(z)}}},Rn=()=>r.shouldFocusError&&lD(u,z=>z&&Ve(a.errors,z),b.mount),Ar=(z,K)=>async Z=>{Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ke=Tc(p);if(A.state.next({isSubmitting:!0}),r.resolver){const{errors:Se,values:ue}=await oe();a.errors=Se,ke=ue}else await Le(u);Yr(a.errors,"root"),Io(a.errors)?(A.state.next({errors:{}}),await z(ke,Z)):(K&&await K({...a.errors},Z),Rn()),A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Io(a.errors),submitCount:a.submitCount+1,errors:a.errors})},cn=(z,K={})=>{Ve(u,z)&&(hr(K.defaultValue)?le(z,Ve(h,z)):(le(z,K.defaultValue),In(h,z,K.defaultValue)),K.keepTouched||Yr(a.touchedFields,z),K.keepDirty||(Yr(a.dirtyFields,z),a.isDirty=K.defaultValue?ie(z,Ve(h,z)):ie()),K.keepError||(Yr(a.errors,z),_.isValid&&S()),A.state.next({...a}))},ln=(z,K={})=>{const Z=z||h,ke=Tc(Z),Se=z&&!Io(z)?ke:h;if(K.keepDefaultValues||(h=Z),!K.keepValues){if(K.keepDirtyValues||o)for(const ue of b.mount)Ve(a.dirtyFields,ue)?In(Se,ue,Ve(p,ue)):le(ue,Ve(Se,ue));else{if(f2&&hr(z))for(const ue of b.mount){const je=Ve(u,ue);if(je&&je._f){const xt=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Jy(xt)){const At=xt.closest("form");if(At){At.reset();break}}}}u={}}p=t.shouldUnregister?K.keepDefaultValues?Tc(h):{}:ke,A.array.next({values:Se}),A.watch.next({values:Se})}b={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!m.mount&&e(),m.mount=!_.isValid||!!K.keepIsValid,m.watch=!!t.shouldUnregister,A.state.next({submitCount:K.keepSubmitCount?a.submitCount:0,isDirty:K.keepDirty||K.keepDirtyValues?a.isDirty:!!(K.keepDefaultValues&&!Mu(z,h)),isSubmitted:K.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:K.keepDirty||K.keepDirtyValues?a.dirtyFields:K.keepDefaultValues&&z?TS(h,z):{},touchedFields:K.keepTouched?a.touchedFields:{},errors:K.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},$t=(z,K)=>ln(Wh(z)?z(p):z,K),wt=(z,K={})=>{const Z=Ve(u,z),ke=Z&&Z._f;if(ke){const Se=ke.refs?ke.refs[0]:ke.ref;Se.focus&&(Se.focus(),K.shouldSelect&&Se.select())}},Bt=z=>{a={...a,...z}};return Wh(r.defaultValues)&&r.defaultValues().then(z=>{$t(z,r.resetOptions),A.state.next({isLoading:!1})}),{control:{register:Lt,unregister:bt,getFieldState:xe,_executeSchema:oe,_focusError:Rn,_getWatch:_e,_getDirty:ie,_updateValid:S,_removeUnmounted:te,_updateFieldArray:R,_getFieldArray:Ee,_reset:ln,_updateFormState:Bt,_subjects:A,_proxyFormState:_,get _fields(){return u},get _formValues(){return p},get _stateFlags(){return m},set _stateFlags(z){m=z},get _defaultValues(){return h},get _names(){return b},set _names(z){b=z},get _formState(){return a},set _formState(z){a=z},get _options(){return r},set _options(z){r={...r,...z}}},trigger:W,register:Lt,handleSubmit:Ar,watch:rt,setValue:le,getValues:Ae,reset:$t,resetField:cn,clearErrors:O,unregister:bt,setError:Be,setFocus:wt,getFieldState:xe}}function ABe(t={}){const e=rn.useRef(),[r,o]=rn.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Wh(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={..._Be(t,()=>o(u=>({...u}))),formState:r});const a=e.current.control;return a._options=t,h2({subject:a._subjects.state,next:u=>{nQ(u,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),rn.useEffect(()=>{a._stateFlags.mount||(a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()}),rn.useEffect(()=>{t.values&&!Mu(t.values,a._defaultValues)&&a._reset(t.values,a._options.resetOptions)},[t.values,a]),rn.useEffect(()=>{r.submitCount&&a._focusError()},[a,r.submitCount]),e.current.formState=tQ(r,a),e.current}let hQ=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var n_={},CBe={get exports(){return n_},set exports(t){n_=t}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(t,e){(function(r,o){t.exports=o(q)})(self,r=>(()=>{var o={703:(p,m,b)=>{var k=b(414);function v(){}function _(){}_.resetWarningCache=v,p.exports=function(){function A(L,M,S,I,R,j){if(j!==k){var V=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw V.name="Invariant Violation",V}}function E(){return A}A.isRequired=A;var T={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:E,element:A,elementType:A,instanceOf:E,node:A,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E,checkPropTypes:_,resetWarningCache:v};return T.PropTypes=T,T}},697:(p,m,b)=>{p.exports=b(703)()},414:p=>{p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:p=>{p.exports=r}},a={};function u(p){var m=a[p];if(m!==void 0)return m.exports;var b=a[p]={exports:{}};return o[p](b,b.exports,u),b.exports}u.n=p=>{var m=p&&p.__esModule?()=>p.default:()=>p;return u.d(m,{a:m}),m},u.d=(p,m)=>{for(var b in m)u.o(m,b)&&!u.o(p,b)&&Object.defineProperty(p,b,{enumerable:!0,get:m[b]})},u.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m),u.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var h={};return(()=>{u.r(h),u.d(h,{CKEditor:()=>la,CKEditorContext:()=>cc});var p=u(787),m=u.n(p),b=u(697),k=u.n(b);const v=function(D){var P=typeof D;return D!=null&&(P=="object"||P=="function")},_=typeof va=="object"&&va&&va.Object===Object&&va;var A=typeof self=="object"&&self&&self.Object===Object&&self;const E=_||A||Function("return this")(),T=function(){return E.Date.now()};var L=/\s/;const M=function(D){for(var P=D.length;P--&&L.test(D.charAt(P)););return P};var S=/^\s+/;const I=function(D){return D&&D.slice(0,M(D)+1).replace(S,"")},R=E.Symbol;var j=Object.prototype,V=j.hasOwnProperty,H=j.toString,J=R?R.toStringTag:void 0;const oe=function(D){var P=V.call(D,J),B=D[J];try{D[J]=void 0;var Y=!0}catch{}var We=H.call(D);return Y&&(P?D[J]=B:delete D[J]),We};var de=Object.prototype.toString;const Le=function(D){return de.call(D)};var te=R?R.toStringTag:void 0;const ie=function(D){return D==null?D===void 0?"[object Undefined]":"[object Null]":te&&te in Object(D)?oe(D):Le(D)},_e=function(D){return D!=null&&typeof D=="object"},Ee=function(D){return typeof D=="symbol"||_e(D)&&ie(D)=="[object Symbol]"};var qe=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,le=/^0o[0-7]+$/i,se=parseInt;const W=function(D){if(typeof D=="number")return D;if(Ee(D))return NaN;if(v(D)){var P=typeof D.valueOf=="function"?D.valueOf():D;D=v(P)?P+"":P}if(typeof D!="string")return D===0?D:+D;D=I(D);var B=ze.test(D);return B||le.test(D)?se(D.slice(2),B?2:8):qe.test(D)?NaN:+D};var Ae=Math.max,xe=Math.min;const O=function(D,P,B){var Y,We,ot,dt,ht,Ln,Tn=0,Sd=!1,Yo=!1,yo=!0;if(typeof D!="function")throw new TypeError("Expected a function");function no(pr){var Zo=Y,Dd=We;return Y=We=void 0,Tn=pr,dt=D.apply(Dd,Zo)}function Td(pr){return Tn=pr,ht=setTimeout(vi,P),Sd?no(pr):dt}function zl(pr){var Zo=pr-Ln;return Ln===void 0||Zo>=P||Zo<0||Yo&&pr-Tn>=ot}function vi(){var pr=T();if(zl(pr))return Qo(pr);ht=setTimeout(vi,function(Zo){var Dd=P-(Zo-Ln);return Yo?xe(Dd,ot-(Zo-Tn)):Dd}(pr))}function Qo(pr){return ht=void 0,yo&&Y?no(pr):(Y=We=void 0,dt)}function Id(){var pr=T(),Zo=zl(pr);if(Y=arguments,We=this,Ln=pr,Zo){if(ht===void 0)return Td(Ln);if(Yo)return clearTimeout(ht),ht=setTimeout(vi,P),no(Ln)}return ht===void 0&&(ht=setTimeout(vi,P)),dt}return P=W(P)||0,v(B)&&(Sd=!!B.leading,ot=(Yo="maxWait"in B)?Ae(W(B.maxWait)||0,P):ot,yo="trailing"in B?!!B.trailing:yo),Id.cancel=function(){ht!==void 0&&clearTimeout(ht),Tn=0,Y=Ln=We=ht=void 0},Id.flush=function(){return ht===void 0?dt:Qo(T())},Id},Be=function(D,P,B){var Y=!0,We=!0;if(typeof D!="function")throw new TypeError("Expected a function");return v(B)&&(Y="leading"in B?!!B.leading:Y,We="trailing"in B?!!B.trailing:We),O(D,P,{leading:Y,maxWait:P,trailing:We})},rt=function(){this.__data__=[],this.size=0},bt=function(D,P){return D===P||D!=D&&P!=P},Lt=function(D,P){for(var B=D.length;B--;)if(bt(D[B][0],P))return B;return-1};var Rn=Array.prototype.splice;const Ar=function(D){var P=this.__data__,B=Lt(P,D);return!(B<0)&&(B==P.length-1?P.pop():Rn.call(P,B,1),--this.size,!0)},cn=function(D){var P=this.__data__,B=Lt(P,D);return B<0?void 0:P[B][1]},ln=function(D){return Lt(this.__data__,D)>-1},$t=function(D,P){var B=this.__data__,Y=Lt(B,D);return Y<0?(++this.size,B.push([D,P])):B[Y][1]=P,this};function wt(D){var P=-1,B=D==null?0:D.length;for(this.clear();++P<B;){var Y=D[P];this.set(Y[0],Y[1])}}wt.prototype.clear=rt,wt.prototype.delete=Ar,wt.prototype.get=cn,wt.prototype.has=ln,wt.prototype.set=$t;const Bt=wt,z=function(){this.__data__=new Bt,this.size=0},K=function(D){var P=this.__data__,B=P.delete(D);return this.size=P.size,B},Z=function(D){return this.__data__.get(D)},ke=function(D){return this.__data__.has(D)},Se=function(D){if(!v(D))return!1;var P=ie(D);return P=="[object Function]"||P=="[object GeneratorFunction]"||P=="[object AsyncFunction]"||P=="[object Proxy]"},ue=E["__core-js_shared__"];var je=function(){var D=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}();const xt=function(D){return!!je&&je in D};var At=Function.prototype.toString;const En=function(D){if(D!=null){try{return At.call(D)}catch{}try{return D+""}catch{}}return""};var X=/^\[object .+?Constructor\]$/,re=Function.prototype,pe=Object.prototype,ve=re.toString,De=pe.hasOwnProperty,et=RegExp("^"+ve.call(De).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Je=function(D){return!(!v(D)||xt(D))&&(Se(D)?et:X).test(En(D))},ct=function(D,P){return D==null?void 0:D[P]},Fe=function(D,P){var B=ct(D,P);return Je(B)?B:void 0},Ut=Fe(E,"Map"),Me=Fe(Object,"create"),zt=function(){this.__data__=Me?Me(null):{},this.size=0},$r=function(D){var P=this.has(D)&&delete this.__data__[D];return this.size-=P?1:0,P};var On=Object.prototype.hasOwnProperty;const qo=function(D){var P=this.__data__;if(Me){var B=P[D];return B==="__lodash_hash_undefined__"?void 0:B}return On.call(P,D)?P[D]:void 0};var Wo=Object.prototype.hasOwnProperty;const sn=function(D){var P=this.__data__;return Me?P[D]!==void 0:Wo.call(P,D)},Hr=function(D,P){var B=this.__data__;return this.size+=this.has(D)?0:1,B[D]=Me&&P===void 0?"__lodash_hash_undefined__":P,this};function Li(D){var P=-1,B=D==null?0:D.length;for(this.clear();++P<B;){var Y=D[P];this.set(Y[0],Y[1])}}Li.prototype.clear=zt,Li.prototype.delete=$r,Li.prototype.get=qo,Li.prototype.has=sn,Li.prototype.set=Hr;const gn=Li,Cr=function(){this.size=0,this.__data__={hash:new gn,map:new(Ut||Bt),string:new gn}},Bi=function(D){var P=typeof D;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?D!=="__proto__":D===null},ai=function(D,P){var B=D.__data__;return Bi(P)?B[typeof P=="string"?"string":"hash"]:B.map},xn=function(D){var P=ai(this,D).delete(D);return this.size-=P?1:0,P},Wn=function(D){return ai(this,D).get(D)},ra=function(D){return ai(this,D).has(D)},ci=function(D,P){var B=ai(this,D),Y=B.size;return B.set(D,P),this.size+=B.size==Y?0:1,this};function cr(D){var P=-1,B=D==null?0:D.length;for(this.clear();++P<B;){var Y=D[P];this.set(Y[0],Y[1])}}cr.prototype.clear=Cr,cr.prototype.delete=xn,cr.prototype.get=Wn,cr.prototype.has=ra,cr.prototype.set=ci;const gs=cr,Er=function(D,P){var B=this.__data__;if(B instanceof Bt){var Y=B.__data__;if(!Ut||Y.length<199)return Y.push([D,P]),this.size=++B.size,this;B=this.__data__=new gs(Y)}return B.set(D,P),this.size=B.size,this};function Go(D){var P=this.__data__=new Bt(D);this.size=P.size}Go.prototype.clear=z,Go.prototype.delete=K,Go.prototype.get=Z,Go.prototype.has=ke,Go.prototype.set=Er;const zi=Go,ia=function(D,P){for(var B=-1,Y=D==null?0:D.length;++B<Y&&P(D[B],B,D)!==!1;);return D},Fi=function(){try{var D=Fe(Object,"defineProperty");return D({},"",{}),D}catch{}}(),Dl=function(D,P,B){P=="__proto__"&&Fi?Fi(D,P,{configurable:!0,enumerable:!0,value:B,writable:!0}):D[P]=B};var bs=Object.prototype.hasOwnProperty;const Pl=function(D,P,B){var Y=D[P];bs.call(D,P)&&bt(Y,B)&&(B!==void 0||P in D)||Dl(D,P,B)},oa=function(D,P,B,Y){var We=!B;B||(B={});for(var ot=-1,dt=P.length;++ot<dt;){var ht=P[ot],Ln=Y?Y(B[ht],D[ht],ht,B,D):void 0;Ln===void 0&&(Ln=D[ht]),We?Dl(B,ht,Ln):Pl(B,ht,Ln)}return B},qf=function(D,P){for(var B=-1,Y=Array(D);++B<D;)Y[B]=P(B);return Y},tt=function(D){return _e(D)&&ie(D)=="[object Arguments]"};var $=Object.prototype,be=$.hasOwnProperty,Re=$.propertyIsEnumerable;const Ft=tt(function(){return arguments}())?tt:function(D){return _e(D)&&be.call(D,"callee")&&!Re.call(D,"callee")},Sn=Array.isArray,li=function(){return!1};var Zt=e&&!e.nodeType&&e,xr=Zt&&!0&&t&&!t.nodeType&&t,un=xr&&xr.exports===Zt?E.Buffer:void 0;const rc=(un?un.isBuffer:void 0)||li;var qr=/^(?:0|[1-9]\d*)$/;const zb=function(D,P){var B=typeof D;return!!(P=P??9007199254740991)&&(B=="number"||B!="symbol"&&qr.test(D))&&D>-1&&D%1==0&&D<P},Fb=function(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=9007199254740991};var Jt={};Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Arguments]"]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object Boolean]"]=Jt["[object DataView]"]=Jt["[object Date]"]=Jt["[object Error]"]=Jt["[object Function]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object WeakMap]"]=!1;const jb=function(D){return _e(D)&&Fb(D.length)&&!!Jt[ie(D)]},Wf=function(D){return function(P){return D(P)}};var Gf=e&&!e.nodeType&&e,Ml=Gf&&!0&&t&&!t.nodeType&&t,Nl=Ml&&Ml.exports===Gf&&_.process;const ic=function(){try{var D=Ml&&Ml.require&&Ml.require("util").types;return D||Nl&&Nl.binding&&Nl.binding("util")}catch{}}();var Vb=ic&&ic.isTypedArray;const aA=Vb?Wf(Vb):jb;var Ub=Object.prototype.hasOwnProperty;const $b=function(D,P){var B=Sn(D),Y=!B&&Ft(D),We=!B&&!Y&&rc(D),ot=!B&&!Y&&!We&&aA(D),dt=B||Y||We||ot,ht=dt?qf(D.length,String):[],Ln=ht.length;for(var Tn in D)!P&&!Ub.call(D,Tn)||dt&&(Tn=="length"||We&&(Tn=="offset"||Tn=="parent")||ot&&(Tn=="buffer"||Tn=="byteLength"||Tn=="byteOffset")||zb(Tn,Ln))||ht.push(Tn);return ht};var cA=Object.prototype;const Kf=function(D){var P=D&&D.constructor;return D===(typeof P=="function"&&P.prototype||cA)},Wr=function(D,P){return function(B){return D(P(B))}},lA=Wr(Object.keys,Object);var uA=Object.prototype.hasOwnProperty;const dA=function(D){if(!Kf(D))return lA(D);var P=[];for(var B in Object(D))uA.call(D,B)&&B!="constructor"&&P.push(B);return P},oc=function(D){return D!=null&&Fb(D.length)&&!Se(D)},Yf=function(D){return oc(D)?$b(D):dA(D)},Cd=function(D,P){return D&&oa(P,Yf(P),D)},hA=function(D){var P=[];if(D!=null)for(var B in Object(D))P.push(B);return P};var fA=Object.prototype.hasOwnProperty;const pA=function(D){if(!v(D))return hA(D);var P=Kf(D),B=[];for(var Y in D)(Y!="constructor"||!P&&fA.call(D,Y))&&B.push(Y);return B},Qf=function(D){return oc(D)?$b(D,!0):pA(D)},mA=function(D,P){return D&&oa(P,Qf(P),D)};var Hb=e&&!e.nodeType&&e,qb=Hb&&!0&&t&&!t.nodeType&&t,Wb=qb&&qb.exports===Hb?E.Buffer:void 0,Gb=Wb?Wb.allocUnsafe:void 0;const gA=function(D,P){if(P)return D.slice();var B=D.length,Y=Gb?Gb(B):new D.constructor(B);return D.copy(Y),Y},sc=function(D,P){var B=-1,Y=D.length;for(P||(P=Array(Y));++B<Y;)P[B]=D[B];return P},Ed=function(D,P){for(var B=-1,Y=D==null?0:D.length,We=0,ot=[];++B<Y;){var dt=D[B];P(dt,B,D)&&(ot[We++]=dt)}return ot},Kb=function(){return[]};var bA=Object.prototype.propertyIsEnumerable,Yb=Object.getOwnPropertySymbols;const Zf=Yb?function(D){return D==null?[]:(D=Object(D),Ed(Yb(D),function(P){return bA.call(D,P)}))}:Kb,wA=function(D,P){return oa(D,Zf(D),P)},Qb=function(D,P){for(var B=-1,Y=P.length,We=D.length;++B<Y;)D[We+B]=P[B];return D},Jf=Wr(Object.getPrototypeOf,Object),Zb=Object.getOwnPropertySymbols?function(D){for(var P=[];D;)Qb(P,Zf(D)),D=Jf(D);return P}:Kb,kA=function(D,P){return oa(D,Zb(D),P)},Jb=function(D,P,B){var Y=P(D);return Sn(D)?Y:Qb(Y,B(D))},vA=function(D){return Jb(D,Yf,Zf)},yA=function(D){return Jb(D,Qf,Zb)},Xf=Fe(E,"DataView"),Ko=Fe(E,"Promise"),ep=Fe(E,"Set"),Rl=Fe(E,"WeakMap");var tp="[object Map]",Xb="[object Promise]",ew="[object Set]",tw="[object WeakMap]",nw="[object DataView]",_A=En(Xf),sa=En(Ut),AA=En(Ko),CA=En(ep),EA=En(Rl),aa=ie;(Xf&&aa(new Xf(new ArrayBuffer(1)))!=nw||Ut&&aa(new Ut)!=tp||Ko&&aa(Ko.resolve())!=Xb||ep&&aa(new ep)!=ew||Rl&&aa(new Rl)!=tw)&&(aa=function(D){var P=ie(D),B=P=="[object Object]"?D.constructor:void 0,Y=B?En(B):"";if(Y)switch(Y){case _A:return nw;case sa:return tp;case AA:return Xb;case CA:return ew;case EA:return tw}return P});const np=aa;var xA=Object.prototype.hasOwnProperty;const SA=function(D){var P=D.length,B=new D.constructor(P);return P&&typeof D[0]=="string"&&xA.call(D,"index")&&(B.index=D.index,B.input=D.input),B},rw=E.Uint8Array,rp=function(D){var P=new D.constructor(D.byteLength);return new rw(P).set(new rw(D)),P},TA=function(D,P){var B=P?rp(D.buffer):D.buffer;return new D.constructor(B,D.byteOffset,D.byteLength)};var IA=/\w*$/;const DA=function(D){var P=new D.constructor(D.source,IA.exec(D));return P.lastIndex=D.lastIndex,P};var ws=R?R.prototype:void 0,iw=ws?ws.valueOf:void 0;const Ol=function(D){return iw?Object(iw.call(D)):{}},PA=function(D,P){var B=P?rp(D.buffer):D.buffer;return new D.constructor(B,D.byteOffset,D.length)},Ll=function(D,P,B){var Y=D.constructor;switch(P){case"[object ArrayBuffer]":return rp(D);case"[object Boolean]":case"[object Date]":return new Y(+D);case"[object DataView]":return TA(D,B);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return PA(D,B);case"[object Map]":case"[object Set]":return new Y;case"[object Number]":case"[object String]":return new Y(D);case"[object RegExp]":return DA(D);case"[object Symbol]":return Ol(D)}};var ow=Object.create;const MA=function(){function D(){}return function(P){if(!v(P))return{};if(ow)return ow(P);D.prototype=P;var B=new D;return D.prototype=void 0,B}}(),NA=function(D){return typeof D.constructor!="function"||Kf(D)?{}:MA(Jf(D))},RA=function(D){return _e(D)&&np(D)=="[object Map]"};var sw=ic&&ic.isMap;const OA=sw?Wf(sw):RA,LA=function(D){return _e(D)&&np(D)=="[object Set]"};var aw=ic&&ic.isSet;const BA=aw?Wf(aw):LA;var cw="[object Arguments]",lw="[object Function]",uw="[object Object]",Xt={};Xt[cw]=Xt["[object Array]"]=Xt["[object ArrayBuffer]"]=Xt["[object DataView]"]=Xt["[object Boolean]"]=Xt["[object Date]"]=Xt["[object Float32Array]"]=Xt["[object Float64Array]"]=Xt["[object Int8Array]"]=Xt["[object Int16Array]"]=Xt["[object Int32Array]"]=Xt["[object Map]"]=Xt["[object Number]"]=Xt[uw]=Xt["[object RegExp]"]=Xt["[object Set]"]=Xt["[object String]"]=Xt["[object Symbol]"]=Xt["[object Uint8Array]"]=Xt["[object Uint8ClampedArray]"]=Xt["[object Uint16Array]"]=Xt["[object Uint32Array]"]=!0,Xt["[object Error]"]=Xt[lw]=Xt["[object WeakMap]"]=!1;const zA=function D(P,B,Y,We,ot,dt){var ht,Ln=1&B,Tn=2&B,Sd=4&B;if(Y&&(ht=ot?Y(P,We,ot,dt):Y(P)),ht!==void 0)return ht;if(!v(P))return P;var Yo=Sn(P);if(Yo){if(ht=SA(P),!Ln)return sc(P,ht)}else{var yo=np(P),no=yo==lw||yo=="[object GeneratorFunction]";if(rc(P))return gA(P,Ln);if(yo==uw||yo==cw||no&&!ot){if(ht=Tn||no?{}:NA(P),!Ln)return Tn?kA(P,mA(ht,P)):wA(P,Cd(ht,P))}else{if(!Xt[yo])return ot?P:{};ht=Ll(P,yo,Ln)}}dt||(dt=new zi);var Td=dt.get(P);if(Td)return Td;dt.set(P,ht),BA(P)?P.forEach(function(vi){ht.add(D(vi,B,Y,vi,P,dt))}):OA(P)&&P.forEach(function(vi,Qo){ht.set(Qo,D(vi,B,Y,Qo,P,dt))});var zl=Yo?void 0:(Sd?Tn?yA:vA:Tn?Qf:Yf)(P);return ia(zl||P,function(vi,Qo){zl&&(vi=P[Qo=vi]),Pl(ht,Qo,D(vi,B,Y,Qo,P,dt))}),ht},FA=function(D,P){return zA(D,5,P=typeof P=="function"?P:void 0)};var jA=Function.prototype,ac=Object.prototype,ip=jA.toString,VA=ac.hasOwnProperty,UA=ip.call(Object);const $A=function(D){if(!_e(D)||ie(D)!="[object Object]")return!1;var P=Jf(D);if(P===null)return!0;var B=VA.call(P,"constructor")&&P.constructor;return typeof B=="function"&&B instanceof B&&ip.call(B)==UA},HA=function(D){return _e(D)&&D.nodeType===1&&!$A(D)};function op(D,P=new Set){const B=[D],Y=new Set;let We=0;for(;B.length>We;){const ot=B[We++];if(!(Y.has(ot)||xd(ot)||P.has(ot)))if(Y.add(ot),ot[Symbol.iterator])try{for(const dt of ot)B.push(dt)}catch{}else for(const dt in ot)dt!=="defaultValue"&&B.push(ot[dt])}return Y}function xd(D){const P=Object.prototype.toString.call(D),B=typeof D;return B==="number"||B==="boolean"||B==="string"||B==="symbol"||B==="function"||P==="[object Date]"||P==="[object RegExp]"||P==="[object Module]"||D==null||D._watchdogExcluded===!0||D instanceof EventTarget||D instanceof Event}function dw(D,P,B=new Set){if(D===P&&typeof(Y=D)=="object"&&Y!==null)return!0;var Y;const We=op(D,B),ot=op(P,B);for(const dt of We)if(ot.has(dt))return!0;return!1}class hw{constructor(P){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof P.crashNumberLimit=="number"?P.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof P.minimumNonErrorTimePeriod=="number"?P.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=B=>{const Y=B.error||B.reason;Y instanceof Error&&this._handleError(Y,B)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(P){this._creator=P}setDestructor(P){this._destructor=P}destroy(){this._stopErrorHandling(),this._listeners={}}on(P,B){this._listeners[P]||(this._listeners[P]=[]),this._listeners[P].push(B)}off(P,B){this._listeners[P]=this._listeners[P].filter(Y=>Y!==B)}_fire(P,...B){const Y=this._listeners[P]||[];for(const We of Y)We.apply(this,[null,...B])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(P,B){if(this._shouldReactToError(P)){this.crashes.push({message:P.message,stack:P.stack,filename:B.filename,lineno:B.lineno,colno:B.colno,date:this._now()});const Y=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:P,causesRestart:Y}),Y?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(P){return P.is&&P.is("CKEditorError")&&P.context!==void 0&&P.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(P)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class fw extends hw{constructor(P,B={}){super(B),this._editor=null,this._throttledSave=Be(this._save.bind(this),typeof B.saveInterval=="number"?B.saveInterval:5e3),this._creator=(Y,We)=>P.create(Y,We),this._destructor=Y=>Y.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(P=>{console.error("An error happened during the editor destroying.",P)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const P=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,P,P.context)}}).then(()=>{this._fire("restart")})}create(P=this._elementOrData,B=this._config,Y){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=P,this._config=this._cloneEditorConfiguration(B)||{},this._config.context=Y,this._creator(P,this._config))).then(We=>{this._editor=We,We.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=We.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const P=this._editor;return this._editor=null,P.model.document.off("change:data",this._throttledSave),this._destructor(P)})}_save(){const P=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=P}catch(B){console.error(B,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(P){this._excludedProps=P}_getData(){const P={};for(const B of this._editor.model.document.getRootNames())P[B]=this._editor.data.get({rootName:B});return P}_isErrorComingFromThisItem(P){return dw(this._editor,P.context,this._excludedProps)}_cloneEditorConfiguration(P){return FA(P,(B,Y)=>HA(B)||Y==="context"?B:void 0)}}const Sr=new Array(256).fill("").map((D,P)=>("0"+P.toString(16)).slice(-2)),Bl=Symbol("MainQueueId");class pw extends hw{constructor(P,B={}){super(B),this._watchdogs=new Map,this._watchdogConfig=B,this._context=null,this._contextProps=new Set,this._actionQueues=new qA,this._creator=Y=>P.create(Y),this._destructor=Y=>Y.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(P={}){return this._actionQueues.enqueue(Bl,()=>(this._contextConfig=P,this._create()))}getItem(P){return this._getWatchdog(P)._item}getItemState(P){return this._getWatchdog(P).state}add(P){const B=mw(P);return Promise.all(B.map(Y=>this._actionQueues.enqueue(Y.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let We;if(this._watchdogs.has(Y.id))throw new Error(`Item with the given id is already added: '${Y.id}'.`);if(Y.type==="editor")return We=new fw(this._watchdogConfig),We.setCreator(Y.creator),We._setExcludedProperties(this._contextProps),Y.destructor&&We.setDestructor(Y.destructor),this._watchdogs.set(Y.id,We),We.on("error",(ot,{error:dt,causesRestart:ht})=>{this._fire("itemError",{itemId:Y.id,error:dt}),ht&&this._actionQueues.enqueue(Y.id,()=>new Promise(Ln=>{We.on("restart",function Tn(){We.off("restart",Tn),this._fire("itemRestart",{itemId:Y.id}),Ln()}.bind(this))}))}),We.create(Y.sourceElementOrData,Y.config,this._context);throw new Error(`Not supported item type: '${Y.type}'.`)})))}remove(P){const B=mw(P);return Promise.all(B.map(Y=>this._actionQueues.enqueue(Y,()=>{const We=this._getWatchdog(Y);return this._watchdogs.delete(Y),We.destroy()})))}destroy(){return this._actionQueues.enqueue(Bl,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Bl,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(P=>{console.error("An error happened during destroying the context or items.",P)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(P=>(this._context=P,this._contextProps=op(this._context),Promise.all(Array.from(this._watchdogs.values()).map(B=>(B._setExcludedProperties(this._contextProps),B.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const P=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(B=>B.destroy())).then(()=>this._destructor(P))})}_getWatchdog(P){const B=this._watchdogs.get(P);if(!B)throw new Error(`Item with the given id was not registered: ${P}.`);return B}_isErrorComingFromThisItem(P){for(const B of this._watchdogs.values())if(B._isErrorComingFromThisItem(P))return!1;return dw(this._context,P.context)}}class qA{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(P){this._onEmptyCallbacks.push(P)}enqueue(P,B){const Y=P===Bl;this._activeActions++,this._queues.get(P)||this._queues.set(P,Promise.resolve());const We=(Y?Promise.all(this._queues.values()):Promise.all([this._queues.get(Bl),this._queues.get(P)])).then(B),ot=We.catch(()=>{});return this._queues.set(P,ot),We.finally(()=>{this._activeActions--,this._queues.get(P)===ot&&this._activeActions===0&&this._onEmptyCallbacks.forEach(dt=>dt())})}}function mw(D){return Array.isArray(D)?D:[D]}const ca=m().createContext("contextWatchdog");class cc extends m().Component{constructor(P,B){super(P,B),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(P){return P.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(P.config)),P.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(P.config),!0):this.props.children!==P.children}render(){return m().createElement(ca.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(P){this.contextWatchdog=new pw(this.props.context),this.contextWatchdog.on("error",(B,Y)=>{this.props.onError(Y.error,{phase:"runtime",willContextRestart:Y.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(P).catch(B=>{this.props.onError(B,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}cc.defaultProps={isLayoutReady:!0,onError:(D,P)=>console.error(D,P)},cc.propTypes={id:k().string,isLayoutReady:k().bool,context:k().func,config:k().object,onReady:k().func,onError:k().func};const sp="Lock from React integration (@ckeditor/ckeditor5-react)";class la extends m().Component{constructor(P){super(P),this.editorDestructionInProgress=null,this.domContainer=m().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:B}=window;if(B){const[Y]=B.split(".").map(Number);Y<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(P){return!!this.editor&&(P.id!==this.props.id||(this._shouldUpdateEditor(P)&&this.editor.setData(P.data),"disabled"in P&&(P.disabled?this.editor.enableReadOnlyMode(sp):this.editor.disableReadOnlyMode(sp)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return m().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof pw?this.watchdog=new WA(this.context):this.watchdog=new la._EditorWatchdog(this.props.editor),this.watchdog.setCreator((P,B)=>this._createEditor(P,B)),this.watchdog.on("error",(P,{error:B,causesRestart:Y})=>{this.props.onError(B,{phase:"runtime",willEditorRestart:Y})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(P=>this.props.onError(P,{phase:"initialization",willEditorRestart:!1})))}_createEditor(P,B){return this.props.editor.create(P,B).then(Y=>{"disabled"in this.props&&this.props.disabled&&Y.enableReadOnlyMode(sp);const We=Y.model.document,ot=Y.editing.view.document;return We.on("change:data",dt=>{this.props.onChange&&this.props.onChange(dt,Y)}),ot.on("focus",dt=>{this.props.onFocus&&this.props.onFocus(dt,Y)}),ot.on("blur",dt=>{this.props.onBlur&&this.props.onBlur(dt,Y)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Y)}),Y})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(P=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,P()}):P()})})}_shouldUpdateEditor(P){return this.props.data!==P.data&&this.editor.getData()!==P.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class WA{constructor(P){this._contextWatchdog=P,this._id=function(){const B=4294967296*Math.random()>>>0,Y=4294967296*Math.random()>>>0,We=4294967296*Math.random()>>>0,ot=4294967296*Math.random()>>>0;return"e"+Sr[B>>0&255]+Sr[B>>8&255]+Sr[B>>16&255]+Sr[B>>24&255]+Sr[Y>>0&255]+Sr[Y>>8&255]+Sr[Y>>16&255]+Sr[Y>>24&255]+Sr[We>>0&255]+Sr[We>>8&255]+Sr[We>>16&255]+Sr[We>>24&255]+Sr[ot>>0&255]+Sr[ot>>8&255]+Sr[ot>>16&255]+Sr[ot>>24&255]}()}setCreator(P){this._creator=P}create(P,B){return this._contextWatchdog.add({sourceElementOrData:P,config:B,creator:this._creator,id:this._id,type:"editor"})}on(P,B){this._contextWatchdog.on("itemError",(Y,{itemId:We,causesRestart:ot,error:dt})=>{We===this._id&&B(null,{error:dt,causesRestart:ot})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}la.contextType=ca,la.propTypes={editor:k().func.isRequired,data:k().string,config:k().object,onChange:k().func,onReady:k().func,onFocus:k().func,onBlur:k().func,onError:k().func,disabled:k().bool,onInit:(D,P)=>{if(D[P])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},la.defaultProps={config:{},onError:(D,P)=>console.error(D,P)},la._EditorWatchdog=fw})(),h})())})(CBe,n_);var r_={},EBe={get exports(){return r_},set exports(t){r_=t}};(function(t,e){(function(r){const o=r.ko=r.ko||{};o.dictionary=Object.assign(o.dictionary||{},{"%0 of %1":"%0 / %1",Aquamarine:" ",Big:"",Black:"","Block quote":" ",Blue:"",Bold:"","Break text":" ","Bulleted List":" ",Cancel:"","Cannot determine a category for the uploaded file.":"     .","Cannot upload file:":"   : ","Caption for image: %0":" : %0","Caption for the image":" ","Centered image":" ","Change image text alternative":"  ","Choose heading":" ",Code:"",Column:"","Decrease indent":" ",Default:"","Delete column":" ","Delete row":" ","Dim grey":" ","Document colors":" ",Downloadable:" ","Dropdown toolbar":" ","Edit block":" ","Edit link":" ","Editor block content toolbar":"   ","Editor contextual toolbar":"  ","Editor editing area: %0":"  : %0","Editor toolbar":" ","Enter image caption":"  ","Font Color":" ","Font Size":" ","Full size image":"  ",Green:"",Grey:"","Header column":" ","Header row":" ",Heading:"","Heading 1":" 1","Heading 2":" 2","Heading 3":" 3","Heading 4":" 4","Heading 5":" 5","Heading 6":" 6",Huge:" ","Image resize list":"  ","Image toolbar":" ","image widget":" ","In line":" ","Increase indent":" ","Insert code block":"  ","Insert column left":"  ","Insert column right":"  ","Insert image":" ","Insert media":" ","Insert paragraph after block":"   ","Insert paragraph before block":"   ","Insert row above":"  ","Insert row below":"  ","Insert table":" ",Italic:"","Left aligned image":" ","Light blue":" ","Light green":" ","Light grey":" ",Link:"","Link URL":" ","Media URL":" URL","media widget":" ","Merge cell down":"  ","Merge cell left":"  ","Merge cell right":"  ","Merge cell up":"  ","Merge cells":" ",Next:"","Numbered List":" ","Open file manager":"  ","Open in a new tab":"  ","Open link in new tab":"   ","Open media in new tab":"   ",Orange:"",Original:"",Paragraph:"","Paste the media URL in the input.":" URL .","Plain text":"","Press Enter to type after or press Shift + Enter to type before the widget":"      +     ",Previous:"",Purple:"",Red:"",Redo:" ","Remove color":" ","Resize image":"  ","Resize image to %0":"  %0 ","Resize image to the original size":"   ","Rich Text Editor":"   ","Right aligned image":" ",Row:"",Save:"","Select all":" ","Select column":" ","Select row":" ","Show more items":"","Side image":"  ",Small:"","Split cell horizontally":"  ","Split cell vertically":"  ","Table toolbar":"  ","Text alternative":" ","The URL must not be empty.":"URL   .","This link has no URL":"  URL .","This media URL is not supported.":"  URL  .",Tiny:" ","Tip: Paste the URL into the content to embed faster.":": URL      .","Toggle caption off":" ","Toggle caption on":" ",Turquoise:"",Undo:" ",Unlink:" ","Upload failed":" ","Upload in progress":"  ",White:"","Widget toolbar":" ","Wrap text":"  ",Yellow:""}),o.getPluralForm=function(a){return 0}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(o,a){t.exports=a()})(self,()=>(()=>{var r={8180:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const E=A},636:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const E=A},390:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const E=A},9085:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css"],names:[],mappings:"AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content pre {
	padding: 1em;
	color: hsl(0, 0%, 20.8%);
	background: hsla(0, 0%, 78%, 0.3);
	border: 1px solid hsl(0, 0%, 77%);
	border-radius: 2px;

	/* Code block are language directionagnostic. */
	text-align: left;
	direction: ltr;

	tab-size: 4;
	white-space: pre-wrap;

	/* Don't inherit the style, e.g. when in a block quote. */
	font-style: normal;

	/* Don't let the code be squashed e.g. when in a table cell. */
	min-width: 200px;

	& code {
		background: unset;
		padding: 0;
		border-radius: 0;
	}
}

.ck.ck-editor__editable pre {
	position: relative;

	&[data-language]::after {
		content: attr(data-language);
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-code-block-label-background: hsl(0, 0%, 46%);
}

.ck.ck-editor__editable pre[data-language]::after {
	top: -1px;
	right: 10px;
	background: var(--ck-color-code-block-label-background);

	font-size: 10px;
	font-family: var(--ck-font-face);
	line-height: 16px;
	padding: var(--ck-spacing-tiny) var(--ck-spacing-medium);
	color: hsl(0, 0%, 100%);
	white-space: nowrap;
}

.ck.ck-code-block-dropdown .ck-dropdown__panel {
	/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */
	max-height: 250px;
	overflow-y: auto;
	overflow-x: hidden;
}
`],sourceRoot:""}]);const E=A},3638:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},8894:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const E=A},4401:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const E=A},2585:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css"],names:[],mappings:"AAKA,4CAEC,kBAAmB,CADnB,YAAa,CAEb,UACD,CAEA,8BACC,iBACD,CCNA,4CAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-button.ck-color-table__remove-color {
	display: flex;
	align-items: center;
	width: 100%;
}

label.ck.ck-color-grid__label {
	font-weight: unset;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck .ck-button.ck-color-table__remove-color {
	padding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;

	&:not(:focus) {
		border-bottom: 1px solid var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-standard);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-standard);
		}
	}
}

`],sourceRoot:""}]);const E=A},6203:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */

/* Styles should be prefixed with the \`.ck-content\` class.
See https://github.com/ckeditor/ckeditor5/issues/6636 */
.ck-content {
	& .text-tiny {
		font-size: .7em;
	}

	& .text-small {
		font-size: .85em;
	}

	& .text-big {
		font-size: 1.4em;
	}

	& .text-huge {
		font-size: 1.8em;
	}
}
`],sourceRoot:""}]);const E=A},3230:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const E=A},9048:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const E=A},8662:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const E=A},1043:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const E=A},4622:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},9899:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const E=A},9825:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const E=A},5870:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const E=A},6831:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},399:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const E=A},9465:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},4827:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},9989:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},5777:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const E=A},952:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},3525:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},8085:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const E=A},4104:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const E=A},4777:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const E=A},5593:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},4499:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=A},9681:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=A},4923:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const E=A},3488:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},6875:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},66:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},5075:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const E=A},4547:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},5523:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const E=A},1174:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},6985:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},2751:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const E=A},8111:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},1162:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},8245:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},1757:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const E=A},3553:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},3609:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},1590:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},6706:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const E=A},5571:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},9948:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const E=A},6150:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const E=A},6507:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},2263:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const E=A},5137:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const E=A},3645:h=>{h.exports=function(p){var m=[];return m.toString=function(){return this.map(function(k){var v=p(k);return k[2]?"@media ".concat(k[2]," {").concat(v,"}"):v}).join("")},m.i=function(b,k,v){typeof b=="string"&&(b=[[null,b,""]]);var _={};if(v)for(var A=0;A<this.length;A++){var E=this[A][0];E!=null&&(_[E]=!0)}for(var T=0;T<b.length;T++){var L=[].concat(b[T]);v&&_[L[0]]||(k&&(L[2]?L[2]="".concat(k," and ").concat(L[2]):L[2]=k),m.push(L))}},m}},4015:h=>{function p(A,E){return _(A)||v(A,E)||b(A,E)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(A,E){if(A){if(typeof A=="string")return k(A,E);var T=Object.prototype.toString.call(A).slice(8,-1);if(T==="Object"&&A.constructor&&(T=A.constructor.name),T==="Map"||T==="Set")return Array.from(A);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return k(A,E)}}function k(A,E){(E==null||E>A.length)&&(E=A.length);for(var T=0,L=new Array(E);T<E;T++)L[T]=A[T];return L}function v(A,E){var T=A&&(typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"]);if(T!=null){var L=[],M=!0,S=!1,I,R;try{for(T=T.call(A);!(M=(I=T.next()).done)&&(L.push(I.value),!(E&&L.length===E));M=!0);}catch(j){S=!0,R=j}finally{try{!M&&T.return!=null&&T.return()}finally{if(S)throw R}}return L}}function _(A){if(Array.isArray(A))return A}h.exports=function(E){var T=p(E,4),L=T[1],M=T[3];if(!M)return L;if(typeof btoa=="function"){var S=btoa(unescape(encodeURIComponent(JSON.stringify(M)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),R="/*# ".concat(I," */"),j=M.sources.map(function(V){return"/*# sourceURL=".concat(M.sourceRoot||"").concat(V," */")});return[L].concat(j).concat([R]).join(`
`)}return[L].join(`
`)}},3379:(h,p,m)=>{var b=function(){var H;return function(){return typeof H>"u"&&(H=Boolean(window&&document&&document.all&&!window.atob)),H}}(),k=function(){var H={};return function(oe){if(typeof H[oe]>"u"){var de=document.querySelector(oe);if(window.HTMLIFrameElement&&de instanceof window.HTMLIFrameElement)try{de=de.contentDocument.head}catch{de=null}H[oe]=de}return H[oe]}}(),v=[];function _(V){for(var H=-1,J=0;J<v.length;J++)if(v[J].identifier===V){H=J;break}return H}function A(V,H){for(var J={},oe=[],de=0;de<V.length;de++){var Le=V[de],te=H.base?Le[0]+H.base:Le[0],ie=J[te]||0,_e="".concat(te," ").concat(ie);J[te]=ie+1;var Ee=_(_e),qe={css:Le[1],media:Le[2],sourceMap:Le[3]};Ee!==-1?(v[Ee].references++,v[Ee].updater(qe)):v.push({identifier:_e,updater:j(qe,H),references:1}),oe.push(_e)}return oe}function E(V){var H=document.createElement("style"),J=V.attributes||{};if(typeof J.nonce>"u"){var oe=m.nc;oe&&(J.nonce=oe)}if(Object.keys(J).forEach(function(Le){H.setAttribute(Le,J[Le])}),typeof V.insert=="function")V.insert(H);else{var de=k(V.insert||"head");if(!de)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");de.appendChild(H)}return H}function T(V){if(V.parentNode===null)return!1;V.parentNode.removeChild(V)}var L=function(){var H=[];return function(oe,de){return H[oe]=de,H.filter(Boolean).join(`
`)}}();function M(V,H,J,oe){var de=J?"":oe.media?"@media ".concat(oe.media," {").concat(oe.css,"}"):oe.css;if(V.styleSheet)V.styleSheet.cssText=L(H,de);else{var Le=document.createTextNode(de),te=V.childNodes;te[H]&&V.removeChild(te[H]),te.length?V.insertBefore(Le,te[H]):V.appendChild(Le)}}function S(V,H,J){var oe=J.css,de=J.media,Le=J.sourceMap;if(de?V.setAttribute("media",de):V.removeAttribute("media"),Le&&typeof btoa<"u"&&(oe+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Le))))," */")),V.styleSheet)V.styleSheet.cssText=oe;else{for(;V.firstChild;)V.removeChild(V.firstChild);V.appendChild(document.createTextNode(oe))}}var I=null,R=0;function j(V,H){var J,oe,de;if(H.singleton){var Le=R++;J=I||(I=E(H)),oe=M.bind(null,J,Le,!1),de=M.bind(null,J,Le,!0)}else J=E(H),oe=S.bind(null,J,H),de=function(){T(J)};return oe(V),function(ie){if(ie){if(ie.css===V.css&&ie.media===V.media&&ie.sourceMap===V.sourceMap)return;oe(V=ie)}else de()}}h.exports=function(V,H){H=H||{},!H.singleton&&typeof H.singleton!="boolean"&&(H.singleton=b()),V=V||[];var J=A(V,H);return function(de){if(de=de||[],Object.prototype.toString.call(de)==="[object Array]"){for(var Le=0;Le<J.length;Le++){var te=J[Le],ie=_(te);v[ie].references--}for(var _e=A(de,H),Ee=0;Ee<J.length;Ee++){var qe=J[Ee],ze=_(qe);v[ze].references===0&&(v[ze].updater(),v.splice(ze,1))}J=_e}}}}},o={};function a(h){var p=o[h];if(p!==void 0)return p.exports;var m=o[h]={id:h,exports:{}};return r[h](m,m.exports,a),m.exports}a.n=h=>{var p=h&&h.__esModule?()=>h.default:()=>h;return a.d(p,{a:p}),p},a.d=(h,p)=>{for(var m in p)a.o(p,m)&&!a.o(h,m)&&Object.defineProperty(h,m,{enumerable:!0,get:p[m]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(h,p)=>Object.prototype.hasOwnProperty.call(h,p),a.nc=void 0;var u={};return(()=>{a.d(u,{default:()=>Mme});function h({emitter:c,activator:n,callback:i,contextElements:s}){c.listenTo(document,"mousedown",(l,d)=>{if(!n())return;const f=typeof d.composedPath=="function"?d.composedPath():[],g=typeof s=="function"?s():s;for(const w of g)if(w.contains(d.target)||f.includes(w))return;i()})}function p(c){const n=c;n.set("_isCssTransitionsDisabled",!1),n.disableCssTransitions=()=>{n._isCssTransitionsDisabled=!0},n.enableCssTransitions=()=>{n._isCssTransitionsDisabled=!1},n.extendTemplate({attributes:{class:[n.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function m({view:c}){c.listenTo(c.element,"submit",(n,i)=>{i.preventDefault(),c.fire("submit")},{useCapture:!0})}function b({keystrokeHandler:c,focusTracker:n,gridItems:i,numberOfColumns:s,uiLanguageDirection:l}){const d=typeof s=="number"?()=>s:s;c.set("arrowright",f((y,C)=>l==="rtl"?w(y,C.length):g(y,C.length))),c.set("arrowleft",f((y,C)=>l==="rtl"?g(y,C.length):w(y,C.length))),c.set("arrowup",f((y,C)=>{let x=y-d();return x<0&&(x=y+d()*Math.floor(C.length/d()),x>C.length-1&&(x-=d())),x})),c.set("arrowdown",f((y,C)=>{let x=y+d();return x>C.length-1&&(x=y%d()),x}));function f(y){return C=>{const x=i.find(U=>U.element===n.focusedElement),N=i.getIndex(x),F=y(N,i);i.get(F).focus(),C.stopPropagation(),C.preventDefault()}}function g(y,C){return y===C-1?0:y+1}function w(y,C){return y===0?C-1:y-1}}function k(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const v=k(),A={isMac:E(v),isWindows:T(v),isGecko:L(v),isSafari:M(v),isiOS:S(v),isAndroid:I(v),isBlink:R(v),features:{isRegExpUnicodePropertySupported:j()}};function E(c){return c.indexOf("macintosh")>-1}function T(c){return c.indexOf("windows")>-1}function L(c){return!!c.match(/gecko\/\d+/)}function M(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}function S(c){return!!c.match(/iphone|ipad/i)||E(c)&&navigator.maxTouchPoints>0}function I(c){return c.indexOf("android")>-1}function R(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}function j(){let c=!1;try{c="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}function V(c,n,i,s){i=i||function(w,y){return w===y};const l=Array.isArray(c)?c:Array.prototype.slice.call(c),d=Array.isArray(n)?n:Array.prototype.slice.call(n),f=H(l,d,i);return s?Le(f,d.length):de(d,f)}function H(c,n,i){const s=J(c,n,i);if(s===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const l=oe(c,s),d=oe(n,s),f=J(l,d,i),g=c.length-f,w=n.length-f;return{firstIndex:s,lastIndexOld:g,lastIndexNew:w}}function J(c,n,i){for(let s=0;s<Math.max(c.length,n.length);s++)if(c[s]===void 0||n[s]===void 0||!i(c[s],n[s]))return s;return-1}function oe(c,n){return c.slice(n).reverse()}function de(c,n){const i=[],{firstIndex:s,lastIndexOld:l,lastIndexNew:d}=n;return d-s>0&&i.push({index:s,type:"insert",values:c.slice(s,d)}),l-s>0&&i.push({index:s+(d-s),type:"delete",howMany:l-s}),i}function Le(c,n){const{firstIndex:i,lastIndexOld:s,lastIndexNew:l}=c;if(i===-1)return Array(n).fill("equal");let d=[];return i>0&&(d=d.concat(Array(i).fill("equal"))),l-i>0&&(d=d.concat(Array(l-i).fill("insert"))),s-i>0&&(d=d.concat(Array(s-i).fill("delete"))),l<n&&(d=d.concat(Array(n-l).fill("equal"))),d}function te(c,n,i){i=i||function(G,ae){return G===ae};const s=c.length,l=n.length;if(s>200||l>200||s+l>300)return te.fastDiff(c,n,i,!0);let d,f;if(l<s){const G=c;c=n,n=G,d="delete",f="insert"}else d="insert",f="delete";const g=c.length,w=n.length,y=w-g,C={},x={};function N(G){const ae=(x[G-1]!==void 0?x[G-1]:-1)+1,Te=x[G+1]!==void 0?x[G+1]:-1,Oe=ae>Te?-1:1;C[G+Oe]&&(C[G]=C[G+Oe].slice(0)),C[G]||(C[G]=[]),C[G].push(ae>Te?d:f);let Tt=Math.max(ae,Te),fn=Tt-G;for(;fn<g&&Tt<w&&i(c[fn],n[Tt]);)fn++,Tt++,C[G].push("equal");return Tt}let F=0,U;do{for(U=-F;U<y;U++)x[U]=N(U);for(U=y+F;U>y;U--)x[U]=N(U);x[y]=N(y),F++}while(x[y]!==w);return C[y].slice(1)}te.fastDiff=V;function ie(c,...n){n.forEach(i=>{const s=Object.getOwnPropertyNames(i),l=Object.getOwnPropertySymbols(i);s.concat(l).forEach(d=>{if(d in c.prototype||typeof i=="function"&&(d=="length"||d=="name"||d=="prototype"))return;const f=Object.getOwnPropertyDescriptor(i,d);f.enumerable=!1,Object.defineProperty(c.prototype,d,f)})})}function _e(){return function c(){c.called=!0}}const Ee=_e;class qe{constructor(n,i){this.source=n,this.name=i,this.path=[],this.stop=Ee(),this.off=Ee()}}const ze=new Array(256).fill("").map((c,n)=>("0"+n.toString(16)).slice(-2));function le(){const c=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0,s=Math.random()*4294967296>>>0;return"e"+ze[c>>0&255]+ze[c>>8&255]+ze[c>>16&255]+ze[c>>24&255]+ze[n>>0&255]+ze[n>>8&255]+ze[n>>16&255]+ze[n>>24&255]+ze[i>>0&255]+ze[i>>8&255]+ze[i>>16&255]+ze[i>>24&255]+ze[s>>0&255]+ze[s>>8&255]+ze[s>>16&255]+ze[s>>24&255]}const W={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Ae(c,n){const i=W.get(n.priority);for(let s=0;s<c.length;s++)if(W.get(c[s].priority)<i){c.splice(s,0,n);return}c.push(n)}const xe="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class O extends Error{constructor(n,i,s){super(Lt(n,s)),this.name="CKEditorError",this.context=i,this.data=s}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,i){if(n.is&&n.is("CKEditorError"))throw n;const s=new O(n.message,i);throw s.stack=n.stack,s}}function Be(c,n){console.warn(...Rn(c,n))}function rt(c,n){console.error(...Rn(c,n))}function bt(c){return`
Read more: ${xe}#error-${c}`}function Lt(c,n){const i=new WeakSet,l=n?` ${JSON.stringify(n,(f,g)=>{if(typeof g=="object"&&g!==null){if(i.has(g))return`[object ${g.constructor.name}]`;i.add(g)}return g})}`:"",d=bt(c);return c+l+d}function Rn(c,n){const i=bt(c);return n?[c,n,i]:[c,i]}const Ar="36.0.1",cn=typeof window=="object"?window:a.g;if(cn.CKEDITOR_VERSION)throw new O("ckeditor-duplicated-modules",null);cn.CKEDITOR_VERSION=Ar;const ln=Symbol("listeningTo"),$t=Symbol("emitterId"),wt=Symbol("delegations"),Bt=z(Object);function z(c){if(!c)return Bt;class n extends c{on(s,l,d){this.listenTo(this,s,l,d)}once(s,l,d){let f=!1;const g=(w,...y)=>{f||(f=!0,w.off(),l.call(this,w,...y))};this.listenTo(this,s,g,d)}off(s,l){this.stopListening(this,s,l)}listenTo(s,l,d,f={}){let g,w;this[ln]||(this[ln]={});const y=this[ln];ke(s)||Z(s);const C=ke(s);(g=y[C])||(g=y[C]={emitter:s,callbacks:{}}),(w=g.callbacks[l])||(w=g.callbacks[l]=[]),w.push(d),X(this,s,l,d,f)}stopListening(s,l,d){const f=this[ln];let g=s&&ke(s);const w=f&&g?f[g]:void 0,y=w&&l?w.callbacks[l]:void 0;if(!(!f||s&&!w||l&&!y))if(d)re(this,s,l,d),y.indexOf(d)!==-1&&(y.length===1?delete w.callbacks[l]:re(this,s,l,d));else if(y){for(;d=y.pop();)re(this,s,l,d);delete w.callbacks[l]}else if(w){for(l in w.callbacks)this.stopListening(s,l);delete f[g]}else{for(g in f)this.stopListening(f[g].emitter);delete this[ln]}}fire(s,...l){try{const d=s instanceof qe?s:new qe(this,s),f=d.name;let g=At(this,f);if(d.path.push(this),g){const y=[d,...l];g=Array.from(g);for(let C=0;C<g.length&&(g[C].callback.apply(this,y),d.off.called&&(delete d.off.called,this._removeEventListener(f,g[C].callback)),!d.stop.called);C++);}const w=this[wt];if(w){const y=w.get(f),C=w.get("*");y&&En(y,d,l),C&&En(C,d,l)}return d.return}catch(d){O.rethrowUnexpectedError(d,this)}}delegate(...s){return{to:(l,d)=>{this[wt]||(this[wt]=new Map),s.forEach(f=>{const g=this[wt].get(f);g?g.set(l,d):this[wt].set(f,new Map([[l,d]]))})}}}stopDelegating(s,l){if(this[wt])if(!s)this[wt].clear();else if(!l)this[wt].delete(s);else{const d=this[wt].get(s);d&&d.delete(l)}}_addEventListener(s,l,d){je(this,s);const f=xt(this,s),g=W.get(d.priority),w={callback:l,priority:g};for(const y of f)Ae(y,w)}_removeEventListener(s,l){const d=xt(this,s);for(const f of d)for(let g=0;g<f.length;g++)f[g].callback==l&&(f.splice(g,1),g--)}}return n}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{z[c]=Bt.prototype[c]});function K(c,n){const i=c[ln];return i&&i[n]?i[n].emitter:null}function Z(c,n){c[$t]||(c[$t]=n||le())}function ke(c){return c[$t]}function Se(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function ue(){return{callbacks:[],childEvents:[]}}function je(c,n){const i=Se(c);if(i[n])return;let s=n,l=null;const d=[];for(;s!==""&&!i[s];)i[s]=ue(),d.push(i[s]),l&&i[s].childEvents.push(l),l=s,s=s.substr(0,s.lastIndexOf(":"));if(s!==""){for(const f of d)f.callbacks=i[s].callbacks.slice();i[s].childEvents.push(l)}}function xt(c,n){const i=Se(c)[n];if(!i)return[];let s=[i.callbacks];for(let l=0;l<i.childEvents.length;l++){const d=xt(c,i.childEvents[l]);s=s.concat(d)}return s}function At(c,n){let i;return!c._events||!(i=c._events[n])||!i.callbacks.length?n.indexOf(":")>-1?At(c,n.substr(0,n.lastIndexOf(":"))):null:i.callbacks}function En(c,n,i){for(let[s,l]of c){l?typeof l=="function"&&(l=l(n.name)):l=n.name;const d=new qe(n.source,l);d.path=[...n.path],s.fire(d,...i)}}function X(c,n,i,s,l){n._addEventListener?n._addEventListener(i,s,l):c._addEventListener.call(n,i,s,l)}function re(c,n,i,s){n._removeEventListener?n._removeEventListener(i,s):c._removeEventListener.call(n,i,s)}function pe(c){var n=typeof c;return c!=null&&(n=="object"||n=="function")}const ve=pe,De=Symbol("observableProperties"),et=Symbol("boundObservables"),Je=Symbol("boundProperties"),ct=Symbol("decoratedMethods"),Fe=Symbol("decoratedOriginal"),Ut=Me(z());function Me(c){if(!c)return Ut;class n extends c{set(s,l){if(ve(s)){Object.keys(s).forEach(f=>{this.set(f,s[f])},this);return}zt(this);const d=this[De];if(s in this&&!d.has(s))throw new O("observable-set-cannot-override",this);Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get(){return d.get(s)},set(f){const g=d.get(s);let w=this.fire(`set:${s}`,s,f,g);w===void 0&&(w=f),(g!==w||!d.has(s))&&(d.set(s,w),this.fire(`change:${s}`,s,w,g))}}),this[s]=l}bind(...s){if(!s.length||!Wo(s))throw new O("observable-bind-wrong-properties",this);if(new Set(s).size!==s.length)throw new O("observable-bind-duplicate-properties",this);zt(this);const l=this[Je];s.forEach(f=>{if(l.has(f))throw new O("observable-bind-rebind",this)});const d=new Map;return s.forEach(f=>{const g={property:f,to:[]};l.set(f,g),d.set(f,g)}),{to:$r,toMany:On,_observable:this,_bindProperties:s,_to:[],_bindings:d}}unbind(...s){if(!this[De])return;const l=this[Je],d=this[et];if(s.length){if(!Wo(s))throw new O("observable-unbind-wrong-properties",this);s.forEach(f=>{const g=l.get(f);g&&(g.to.forEach(([w,y])=>{const C=d.get(w),x=C[y];x.delete(g),x.size||delete C[y],Object.keys(C).length||(d.delete(w),this.stopListening(w,"change"))}),l.delete(f))})}else d.forEach((f,g)=>{this.stopListening(g,"change")}),d.clear(),l.clear()}decorate(s){zt(this);const l=this[s];if(!l)throw new O("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:s});this.on(s,(d,f)=>{d.return=l.apply(this,f)}),this[s]=function(...d){return this.fire(s,d)},this[s][Fe]=l,this[ct]||(this[ct]=[]),this[ct].push(s)}stopListening(s,l,d){if(!s&&this[ct]){for(const f of this[ct])this[f]=this[f][Fe];delete this[ct]}super.stopListening(s,l,d)}}return n}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Me[c]=Ut.prototype[c]});function zt(c){c[De]||(Object.defineProperty(c,De,{value:new Map}),Object.defineProperty(c,et,{value:new Map}),Object.defineProperty(c,Je,{value:new Map}))}function $r(...c){const n=sn(...c),i=Array.from(this._bindings.keys()),s=i.length;if(!n.callback&&n.to.length>1)throw new O("observable-bind-to-no-callback",this);if(s>1&&n.callback)throw new O("observable-bind-to-extra-callback",this);n.to.forEach(l=>{if(l.properties.length&&l.properties.length!==s)throw new O("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),Cr(this._observable,this._to),Li(this),this._bindProperties.forEach(l=>{gn(this._observable,l)})}function On(c,n,i){if(this._bindings.size>1)throw new O("observable-bind-to-many-not-one-binding",this);this.to(...qo(c,n),i)}function qo(c,n){const i=c.map(s=>[s,n]);return Array.prototype.concat.apply([],i)}function Wo(c){return c.every(n=>typeof n=="string")}function sn(...c){if(!c.length)throw new O("observable-bind-to-parse-error",null);const n={to:[]};let i;return typeof c[c.length-1]=="function"&&(n.callback=c.pop()),c.forEach(s=>{if(typeof s=="string")i.properties.push(s);else if(typeof s=="object")i={observable:s,properties:[]},n.to.push(i);else throw new O("observable-bind-to-parse-error",null)}),n}function Hr(c,n,i,s){const l=c[et],d=l.get(i),f=d||{};f[s]||(f[s]=new Set),f[s].add(n),d||l.set(i,f)}function Li(c){let n;c._bindings.forEach((i,s)=>{c._to.forEach(l=>{n=l.properties[i.callback?0:c._bindProperties.indexOf(s)],i.to.push([l.observable,n]),Hr(c._observable,i,l.observable,n)})})}function gn(c,n){const s=c[Je].get(n);let l;s.callback?l=s.callback.apply(c,s.to.map(d=>d[0][d[1]])):(l=s.to[0],l=l[0][l[1]]),Object.prototype.hasOwnProperty.call(c,n)?c[n]=l:c.set(n,l)}function Cr(c,n){n.forEach(i=>{const s=c[et];let l;s.get(i.observable)||c.listenTo(i.observable,"change",(d,f)=>{l=s.get(i.observable)[f],l&&l.forEach(g=>{gn(c,g.property)})})})}class Bi{constructor(){this._replacedElements=[]}replace(n,i){this._replacedElements.push({element:n,newElement:i}),n.style.display="none",i&&n.parentNode.insertBefore(i,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:i})=>{n.style.display="",i&&i.remove()}),this._replacedElements=[]}}function ai(c){let n=0;for(const i of c)n++;return n}function xn(c,n){const i=Math.min(c.length,n.length);for(let s=0;s<i;s++)if(c[s]!=n[s])return s;return c.length==n.length?"same":c.length<n.length?"prefix":"extension"}function Wn(c){return!!(c&&c[Symbol.iterator])}var ra=typeof va=="object"&&va&&va.Object===Object&&va;const ci=ra;var cr=typeof self=="object"&&self&&self.Object===Object&&self,gs=ci||cr||Function("return this")();const Er=gs;var Go=Er.Symbol;const zi=Go;var ia=Object.prototype,Fi=ia.hasOwnProperty,Dl=ia.toString,bs=zi?zi.toStringTag:void 0;function Pl(c){var n=Fi.call(c,bs),i=c[bs];try{c[bs]=void 0;var s=!0}catch{}var l=Dl.call(c);return s&&(n?c[bs]=i:delete c[bs]),l}const oa=Pl;var qf=Object.prototype,tt=qf.toString;function $(c){return tt.call(c)}const be=$;var Re="[object Null]",Ft="[object Undefined]",Sn=zi?zi.toStringTag:void 0;function li(c){return c==null?c===void 0?Ft:Re:Sn&&Sn in Object(c)?oa(c):be(c)}const Zt=li;var xr=Array.isArray;const un=xr;function rc(c){return c!=null&&typeof c=="object"}const qr=rc;var zb="[object String]";function Fb(c){return typeof c=="string"||!un(c)&&qr(c)&&Zt(c)==zb}const Jt=Fb;function jb(c,n,i={},s=[]){const l=i&&i.xmlns,d=l?c.createElementNS(l,n):c.createElement(n);for(const f in i)d.setAttribute(f,i[f]);(Jt(s)||!Wn(s))&&(s=[s]);for(let f of s)Jt(f)&&(f=c.createTextNode(f)),d.appendChild(f);return d}function Wf(c,n){return function(i){return c(n(i))}}const Gf=Wf;var Ml=Gf(Object.getPrototypeOf,Object);const Nl=Ml;var ic="[object Object]",Vb=Function.prototype,aA=Object.prototype,Ub=Vb.toString,$b=aA.hasOwnProperty,cA=Ub.call(Object);function Kf(c){if(!qr(c)||Zt(c)!=ic)return!1;var n=Nl(c);if(n===null)return!0;var i=$b.call(n,"constructor")&&n.constructor;return typeof i=="function"&&i instanceof i&&Ub.call(i)==cA}const Wr=Kf;function lA(){this.__data__=[],this.size=0}const uA=lA;function dA(c,n){return c===n||c!==c&&n!==n}const oc=dA;function Yf(c,n){for(var i=c.length;i--;)if(oc(c[i][0],n))return i;return-1}const Cd=Yf;var hA=Array.prototype,fA=hA.splice;function pA(c){var n=this.__data__,i=Cd(n,c);if(i<0)return!1;var s=n.length-1;return i==s?n.pop():fA.call(n,i,1),--this.size,!0}const Qf=pA;function mA(c){var n=this.__data__,i=Cd(n,c);return i<0?void 0:n[i][1]}const Hb=mA;function qb(c){return Cd(this.__data__,c)>-1}const Wb=qb;function Gb(c,n){var i=this.__data__,s=Cd(i,c);return s<0?(++this.size,i.push([c,n])):i[s][1]=n,this}const gA=Gb;function sc(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}sc.prototype.clear=uA,sc.prototype.delete=Qf,sc.prototype.get=Hb,sc.prototype.has=Wb,sc.prototype.set=gA;const Ed=sc;function Kb(){this.__data__=new Ed,this.size=0}const bA=Kb;function Yb(c){var n=this.__data__,i=n.delete(c);return this.size=n.size,i}const Zf=Yb;function wA(c){return this.__data__.get(c)}const Qb=wA;function Jf(c){return this.__data__.has(c)}const Zb=Jf;var kA="[object AsyncFunction]",Jb="[object Function]",vA="[object GeneratorFunction]",yA="[object Proxy]";function Xf(c){if(!ve(c))return!1;var n=Zt(c);return n==Jb||n==vA||n==kA||n==yA}const Ko=Xf;var ep=Er["__core-js_shared__"];const Rl=ep;var tp=function(){var c=/[^.]+$/.exec(Rl&&Rl.keys&&Rl.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function Xb(c){return!!tp&&tp in c}const ew=Xb;var tw=Function.prototype,nw=tw.toString;function _A(c){if(c!=null){try{return nw.call(c)}catch{}try{return c+""}catch{}}return""}const sa=_A;var AA=/[\\^$.*+?()[\]{}|]/g,CA=/^\[object .+?Constructor\]$/,EA=Function.prototype,aa=Object.prototype,np=EA.toString,xA=aa.hasOwnProperty,SA=RegExp("^"+np.call(xA).replace(AA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rw(c){if(!ve(c)||ew(c))return!1;var n=Ko(c)?SA:CA;return n.test(sa(c))}const rp=rw;function TA(c,n){return c==null?void 0:c[n]}const IA=TA;function DA(c,n){var i=IA(c,n);return rp(i)?i:void 0}const ws=DA;var iw=ws(Er,"Map");const Ol=iw;var PA=ws(Object,"create");const Ll=PA;function ow(){this.__data__=Ll?Ll(null):{},this.size=0}const MA=ow;function NA(c){var n=this.has(c)&&delete this.__data__[c];return this.size-=n?1:0,n}const RA=NA;var sw="__lodash_hash_undefined__",OA=Object.prototype,LA=OA.hasOwnProperty;function aw(c){var n=this.__data__;if(Ll){var i=n[c];return i===sw?void 0:i}return LA.call(n,c)?n[c]:void 0}const BA=aw;var cw=Object.prototype,lw=cw.hasOwnProperty;function uw(c){var n=this.__data__;return Ll?n[c]!==void 0:lw.call(n,c)}const Xt=uw;var zA="__lodash_hash_undefined__";function FA(c,n){var i=this.__data__;return this.size+=this.has(c)?0:1,i[c]=Ll&&n===void 0?zA:n,this}const jA=FA;function ac(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}ac.prototype.clear=MA,ac.prototype.delete=RA,ac.prototype.get=BA,ac.prototype.has=Xt,ac.prototype.set=jA;const ip=ac;function VA(){this.size=0,this.__data__={hash:new ip,map:new(Ol||Ed),string:new ip}}const UA=VA;function $A(c){var n=typeof c;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?c!=="__proto__":c===null}const HA=$A;function op(c,n){var i=c.__data__;return HA(n)?i[typeof n=="string"?"string":"hash"]:i.map}const xd=op;function dw(c){var n=xd(this,c).delete(c);return this.size-=n?1:0,n}const hw=dw;function fw(c){return xd(this,c).get(c)}const Sr=fw;function Bl(c){return xd(this,c).has(c)}const pw=Bl;function qA(c,n){var i=xd(this,c),s=i.size;return i.set(c,n),this.size+=i.size==s?0:1,this}const mw=qA;function ca(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}ca.prototype.clear=UA,ca.prototype.delete=hw,ca.prototype.get=Sr,ca.prototype.has=pw,ca.prototype.set=mw;const cc=ca;var sp=200;function la(c,n){var i=this.__data__;if(i instanceof Ed){var s=i.__data__;if(!Ol||s.length<sp-1)return s.push([c,n]),this.size=++i.size,this;i=this.__data__=new cc(s)}return i.set(c,n),this.size=i.size,this}const WA=la;function D(c){var n=this.__data__=new Ed(c);this.size=n.size}D.prototype.clear=bA,D.prototype.delete=Zf,D.prototype.get=Qb,D.prototype.has=Zb,D.prototype.set=WA;const P=D;function B(c,n){for(var i=-1,s=c==null?0:c.length;++i<s&&n(c[i],i,c)!==!1;);return c}const Y=B;var We=function(){try{var c=ws(Object,"defineProperty");return c({},"",{}),c}catch{}}();const ot=We;function dt(c,n,i){n=="__proto__"&&ot?ot(c,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):c[n]=i}const ht=dt;var Ln=Object.prototype,Tn=Ln.hasOwnProperty;function Sd(c,n,i){var s=c[n];(!(Tn.call(c,n)&&oc(s,i))||i===void 0&&!(n in c))&&ht(c,n,i)}const Yo=Sd;function yo(c,n,i,s){var l=!i;i||(i={});for(var d=-1,f=n.length;++d<f;){var g=n[d],w=s?s(i[g],c[g],g,i,c):void 0;w===void 0&&(w=c[g]),l?ht(i,g,w):Yo(i,g,w)}return i}const no=yo;function Td(c,n){for(var i=-1,s=Array(c);++i<c;)s[i]=n(i);return s}const zl=Td;var vi="[object Arguments]";function Qo(c){return qr(c)&&Zt(c)==vi}const Id=Qo;var pr=Object.prototype,Zo=pr.hasOwnProperty,Dd=pr.propertyIsEnumerable,gQ=Id(function(){return arguments}())?Id:function(c){return qr(c)&&Zo.call(c,"callee")&&!Dd.call(c,"callee")};const GA=gQ;function bQ(){return!1}const wQ=bQ;var w2=e&&!e.nodeType&&e,k2=w2&&!0&&t&&!t.nodeType&&t,kQ=k2&&k2.exports===w2,v2=kQ?Er.Buffer:void 0,vQ=v2?v2.isBuffer:void 0,yQ=vQ||wQ;const ap=yQ;var _Q=9007199254740991,AQ=/^(?:0|[1-9]\d*)$/;function CQ(c,n){var i=typeof c;return n=n??_Q,!!n&&(i=="number"||i!="symbol"&&AQ.test(c))&&c>-1&&c%1==0&&c<n}const KA=CQ;var EQ=9007199254740991;function xQ(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=EQ}const y2=xQ;var SQ="[object Arguments]",TQ="[object Array]",IQ="[object Boolean]",DQ="[object Date]",PQ="[object Error]",MQ="[object Function]",NQ="[object Map]",RQ="[object Number]",OQ="[object Object]",LQ="[object RegExp]",BQ="[object Set]",zQ="[object String]",FQ="[object WeakMap]",jQ="[object ArrayBuffer]",VQ="[object DataView]",UQ="[object Float32Array]",$Q="[object Float64Array]",HQ="[object Int8Array]",qQ="[object Int16Array]",WQ="[object Int32Array]",GQ="[object Uint8Array]",KQ="[object Uint8ClampedArray]",YQ="[object Uint16Array]",QQ="[object Uint32Array]",bn={};bn[UQ]=bn[$Q]=bn[HQ]=bn[qQ]=bn[WQ]=bn[GQ]=bn[KQ]=bn[YQ]=bn[QQ]=!0,bn[SQ]=bn[TQ]=bn[jQ]=bn[IQ]=bn[VQ]=bn[DQ]=bn[PQ]=bn[MQ]=bn[NQ]=bn[RQ]=bn[OQ]=bn[LQ]=bn[BQ]=bn[zQ]=bn[FQ]=!1;function ZQ(c){return qr(c)&&y2(c.length)&&!!bn[Zt(c)]}const JQ=ZQ;function XQ(c){return function(n){return c(n)}}const YA=XQ;var _2=e&&!e.nodeType&&e,cp=_2&&!0&&t&&!t.nodeType&&t,eZ=cp&&cp.exports===_2,QA=eZ&&ci.process,tZ=function(){try{var c=cp&&cp.require&&cp.require("util").types;return c||QA&&QA.binding&&QA.binding("util")}catch{}}();const Pd=tZ;var A2=Pd&&Pd.isTypedArray,nZ=A2?YA(A2):JQ;const ZA=nZ;var rZ=Object.prototype,iZ=rZ.hasOwnProperty;function oZ(c,n){var i=un(c),s=!i&&GA(c),l=!i&&!s&&ap(c),d=!i&&!s&&!l&&ZA(c),f=i||s||l||d,g=f?zl(c.length,String):[],w=g.length;for(var y in c)(n||iZ.call(c,y))&&!(f&&(y=="length"||l&&(y=="offset"||y=="parent")||d&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||KA(y,w)))&&g.push(y);return g}const C2=oZ;var sZ=Object.prototype;function aZ(c){var n=c&&c.constructor,i=typeof n=="function"&&n.prototype||sZ;return c===i}const JA=aZ;var cZ=Gf(Object.keys,Object);const lZ=cZ;var uZ=Object.prototype,dZ=uZ.hasOwnProperty;function hZ(c){if(!JA(c))return lZ(c);var n=[];for(var i in Object(c))dZ.call(c,i)&&i!="constructor"&&n.push(i);return n}const fZ=hZ;function pZ(c){return c!=null&&y2(c.length)&&!Ko(c)}const gw=pZ;function mZ(c){return gw(c)?C2(c):fZ(c)}const XA=mZ;function gZ(c,n){return c&&no(n,XA(n),c)}const bZ=gZ;function wZ(c){var n=[];if(c!=null)for(var i in Object(c))n.push(i);return n}const kZ=wZ;var vZ=Object.prototype,yZ=vZ.hasOwnProperty;function _Z(c){if(!ve(c))return kZ(c);var n=JA(c),i=[];for(var s in c)s=="constructor"&&(n||!yZ.call(c,s))||i.push(s);return i}const AZ=_Z;function CZ(c){return gw(c)?C2(c,!0):AZ(c)}const Md=CZ;function EZ(c,n){return c&&no(n,Md(n),c)}const xZ=EZ;var E2=e&&!e.nodeType&&e,x2=E2&&!0&&t&&!t.nodeType&&t,SZ=x2&&x2.exports===E2,S2=SZ?Er.Buffer:void 0,T2=S2?S2.allocUnsafe:void 0;function TZ(c,n){if(n)return c.slice();var i=c.length,s=T2?T2(i):new c.constructor(i);return c.copy(s),s}const I2=TZ;function IZ(c,n){var i=-1,s=c.length;for(n||(n=Array(s));++i<s;)n[i]=c[i];return n}const D2=IZ;function DZ(c,n){for(var i=-1,s=c==null?0:c.length,l=0,d=[];++i<s;){var f=c[i];n(f,i,c)&&(d[l++]=f)}return d}const PZ=DZ;function MZ(){return[]}const P2=MZ;var NZ=Object.prototype,RZ=NZ.propertyIsEnumerable,M2=Object.getOwnPropertySymbols,OZ=M2?function(c){return c==null?[]:(c=Object(c),PZ(M2(c),function(n){return RZ.call(c,n)}))}:P2;const eC=OZ;function LZ(c,n){return no(c,eC(c),n)}const BZ=LZ;function zZ(c,n){for(var i=-1,s=n.length,l=c.length;++i<s;)c[l+i]=n[i];return c}const N2=zZ;var FZ=Object.getOwnPropertySymbols,jZ=FZ?function(c){for(var n=[];c;)N2(n,eC(c)),c=Nl(c);return n}:P2;const R2=jZ;function VZ(c,n){return no(c,R2(c),n)}const UZ=VZ;function $Z(c,n,i){var s=n(c);return un(c)?s:N2(s,i(c))}const O2=$Z;function HZ(c){return O2(c,XA,eC)}const tC=HZ;function qZ(c){return O2(c,Md,R2)}const WZ=qZ;var GZ=ws(Er,"DataView");const nC=GZ;var KZ=ws(Er,"Promise");const rC=KZ;var YZ=ws(Er,"Set");const iC=YZ;var QZ=ws(Er,"WeakMap");const oC=QZ;var L2="[object Map]",ZZ="[object Object]",B2="[object Promise]",z2="[object Set]",F2="[object WeakMap]",j2="[object DataView]",JZ=sa(nC),XZ=sa(Ol),eJ=sa(rC),tJ=sa(iC),nJ=sa(oC),Fl=Zt;(nC&&Fl(new nC(new ArrayBuffer(1)))!=j2||Ol&&Fl(new Ol)!=L2||rC&&Fl(rC.resolve())!=B2||iC&&Fl(new iC)!=z2||oC&&Fl(new oC)!=F2)&&(Fl=function(c){var n=Zt(c),i=n==ZZ?c.constructor:void 0,s=i?sa(i):"";if(s)switch(s){case JZ:return j2;case XZ:return L2;case eJ:return B2;case tJ:return z2;case nJ:return F2}return n});const lp=Fl;var rJ=Object.prototype,iJ=rJ.hasOwnProperty;function oJ(c){var n=c.length,i=new c.constructor(n);return n&&typeof c[0]=="string"&&iJ.call(c,"index")&&(i.index=c.index,i.input=c.input),i}const sJ=oJ;var aJ=Er.Uint8Array;const bw=aJ;function cJ(c){var n=new c.constructor(c.byteLength);return new bw(n).set(new bw(c)),n}const sC=cJ;function lJ(c,n){var i=n?sC(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.byteLength)}const uJ=lJ;var dJ=/\w*$/;function hJ(c){var n=new c.constructor(c.source,dJ.exec(c));return n.lastIndex=c.lastIndex,n}const fJ=hJ;var V2=zi?zi.prototype:void 0,U2=V2?V2.valueOf:void 0;function pJ(c){return U2?Object(U2.call(c)):{}}const mJ=pJ;function gJ(c,n){var i=n?sC(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.length)}const $2=gJ;var bJ="[object Boolean]",wJ="[object Date]",kJ="[object Map]",vJ="[object Number]",yJ="[object RegExp]",_J="[object Set]",AJ="[object String]",CJ="[object Symbol]",EJ="[object ArrayBuffer]",xJ="[object DataView]",SJ="[object Float32Array]",TJ="[object Float64Array]",IJ="[object Int8Array]",DJ="[object Int16Array]",PJ="[object Int32Array]",MJ="[object Uint8Array]",NJ="[object Uint8ClampedArray]",RJ="[object Uint16Array]",OJ="[object Uint32Array]";function LJ(c,n,i){var s=c.constructor;switch(n){case EJ:return sC(c);case bJ:case wJ:return new s(+c);case xJ:return uJ(c,i);case SJ:case TJ:case IJ:case DJ:case PJ:case MJ:case NJ:case RJ:case OJ:return $2(c,i);case kJ:return new s;case vJ:case AJ:return new s(c);case yJ:return fJ(c);case _J:return new s;case CJ:return mJ(c)}}const BJ=LJ;var H2=Object.create,zJ=function(){function c(){}return function(n){if(!ve(n))return{};if(H2)return H2(n);c.prototype=n;var i=new c;return c.prototype=void 0,i}}();const FJ=zJ;function jJ(c){return typeof c.constructor=="function"&&!JA(c)?FJ(Nl(c)):{}}const q2=jJ;var VJ="[object Map]";function UJ(c){return qr(c)&&lp(c)==VJ}const $J=UJ;var W2=Pd&&Pd.isMap,HJ=W2?YA(W2):$J;const qJ=HJ;var WJ="[object Set]";function GJ(c){return qr(c)&&lp(c)==WJ}const KJ=GJ;var G2=Pd&&Pd.isSet,YJ=G2?YA(G2):KJ;const QJ=YJ;var ZJ=1,JJ=2,XJ=4,K2="[object Arguments]",eX="[object Array]",tX="[object Boolean]",nX="[object Date]",rX="[object Error]",Y2="[object Function]",iX="[object GeneratorFunction]",oX="[object Map]",sX="[object Number]",Q2="[object Object]",aX="[object RegExp]",cX="[object Set]",lX="[object String]",uX="[object Symbol]",dX="[object WeakMap]",hX="[object ArrayBuffer]",fX="[object DataView]",pX="[object Float32Array]",mX="[object Float64Array]",gX="[object Int8Array]",bX="[object Int16Array]",wX="[object Int32Array]",kX="[object Uint8Array]",vX="[object Uint8ClampedArray]",yX="[object Uint16Array]",_X="[object Uint32Array]",dn={};dn[K2]=dn[eX]=dn[hX]=dn[fX]=dn[tX]=dn[nX]=dn[pX]=dn[mX]=dn[gX]=dn[bX]=dn[wX]=dn[oX]=dn[sX]=dn[Q2]=dn[aX]=dn[cX]=dn[lX]=dn[uX]=dn[kX]=dn[vX]=dn[yX]=dn[_X]=!0,dn[rX]=dn[Y2]=dn[dX]=!1;function ww(c,n,i,s,l,d){var f,g=n&ZJ,w=n&JJ,y=n&XJ;if(i&&(f=l?i(c,s,l,d):i(c)),f!==void 0)return f;if(!ve(c))return c;var C=un(c);if(C){if(f=sJ(c),!g)return D2(c,f)}else{var x=lp(c),N=x==Y2||x==iX;if(ap(c))return I2(c,g);if(x==Q2||x==K2||N&&!l){if(f=w||N?{}:q2(c),!g)return w?UZ(c,xZ(f,c)):BZ(c,bZ(f,c))}else{if(!dn[x])return l?c:{};f=BJ(c,x,g)}}d||(d=new P);var F=d.get(c);if(F)return F;d.set(c,f),QJ(c)?c.forEach(function(ae){f.add(ww(ae,n,i,ae,c,d))}):qJ(c)&&c.forEach(function(ae,Te){f.set(Te,ww(ae,n,i,Te,c,d))});var U=y?w?WZ:tC:w?Md:XA,G=C?void 0:U(c);return Y(G||c,function(ae,Te){G&&(Te=ae,ae=c[Te]),Yo(f,Te,ww(ae,n,i,Te,c,d))}),f}const aC=ww;var AX=1,CX=4;function EX(c,n){return n=typeof n=="function"?n:void 0,aC(c,AX|CX,n)}const Z2=EX;function xX(c){return qr(c)&&c.nodeType===1&&!Wr(c)}const up=xX;class J2{constructor(n,i){this._config={},i&&this.define(X2(i)),n&&this._setObjectToTarget(this._config,n)}set(n,i){this._setToTarget(this._config,n,i)}define(n,i){this._setToTarget(this._config,n,i,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,i,s,l=!1){if(Wr(i)){this._setObjectToTarget(n,i,l);return}const d=i.split(".");i=d.pop();for(const f of d)Wr(n[f])||(n[f]={}),n=n[f];if(Wr(s)){Wr(n[i])||(n[i]={}),n=n[i],this._setObjectToTarget(n,s,l);return}l&&typeof n[i]<"u"||(n[i]=s)}_getFromSource(n,i){const s=i.split(".");i=s.pop();for(const l of s){if(!Wr(n[l])){n=null;break}n=n[l]}return n?X2(n[i]):void 0}_setObjectToTarget(n,i,s){Object.keys(i).forEach(l=>{this._setToTarget(n,l,i[l],s)})}}function X2(c){return Z2(c,SX)}function SX(c){return up(c)?c:void 0}function lc(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function kw(c){const n=Object.prototype.toString.apply(c);return n=="[object Window]"||n=="[object global]"}const eR=uc(z());function uc(c){if(!c)return eR;class n extends c{listenTo(s,l,d,f={}){if(lc(s)||kw(s)){const g={capture:!!f.useCapture,passive:!!f.usePassive},w=this._getProxyEmitter(s,g)||new TX(s,g);this.listenTo(w,l,d,f)}else super.listenTo(s,l,d,f)}stopListening(s,l,d){if(lc(s)||kw(s)){const f=this._getAllProxyEmitters(s);for(const g of f)this.stopListening(g,l,d)}else super.stopListening(s,l,d)}_getProxyEmitter(s,l){return K(this,tR(s,l))}_getAllProxyEmitters(s){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(l=>this._getProxyEmitter(s,l)).filter(l=>!!l)}}return n}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{uc[c]=eR.prototype[c]});class TX extends z(){constructor(n,i){super(),Z(this,tR(n,i)),this._domNode=n,this._options=i}attach(n){if(this._domListeners&&this._domListeners[n])return;const i=this._createDomListener(n);this._domNode.addEventListener(n,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=i}detach(n){let i;this._domListeners[n]&&(!(i=this._events[n])||!i.callbacks.length)&&this._domListeners[n].removeListener()}_addEventListener(n,i,s){this.attach(n),z().prototype._addEventListener.call(this,n,i,s)}_removeEventListener(n,i){z().prototype._removeEventListener.call(this,n,i),this.detach(n)}_createDomListener(n){const i=s=>{this.fire(n,s)};return i.removeListener=()=>{this._domNode.removeEventListener(n,i,this._options),delete this._domListeners[n]},i}}function IX(c){return c["data-ck-expando"]||(c["data-ck-expando"]=le())}function tR(c,n){let i=IX(c);for(const s of Object.keys(n).sort())n[s]&&(i+="-"+s);return i}let cC;try{cC={window,document}}catch{cC={window:{},document:{}}}const vt=cC;function nR(c){const n=[];let i=c;for(;i&&i.nodeType!=Node.DOCUMENT_NODE;)n.unshift(i),i=i.parentNode;return n}function DX(c){return c instanceof HTMLTextAreaElement?c.value:c.innerHTML}function Gn(c){return Object.prototype.toString.call(c)=="[object Text]"}function vw(c){return Object.prototype.toString.apply(c)=="[object Range]"}function rR(c){const n=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}const iR=["top","right","bottom","left","width","height"];class an{constructor(n){const i=vw(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),sR(n)||i)if(i){const s=an.getDomRangeRects(n);yw(this,an.getBoundingRect(s))}else yw(this,n.getBoundingClientRect());else if(kw(n)){const{innerWidth:s,innerHeight:l}=n;yw(this,{top:0,right:s,bottom:l,left:0,width:s,height:l})}else yw(this,n)}clone(){return new an(this)}moveTo(n,i){return this.top=i,this.right=n+this.width,this.bottom=i+this.height,this.left=n,this}moveBy(n,i){return this.top+=i,this.right+=n,this.left+=n,this.bottom+=i,this}getIntersection(n){const i={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0?null:new an(i)}getIntersectionArea(n){const i=this.getIntersection(n);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let i=this.clone();if(!oR(n)){let s=n.parentNode||n.commonAncestorContainer;for(;s&&!oR(s);){const l=new an(s),d=i.getIntersection(l);if(d)d.getArea()<i.getArea()&&(i=d);else return null;s=s.parentNode}}return i}isEqual(n){for(const i of iR)if(this[i]!==n[i])return!1;return!0}contains(n){const i=this.getIntersection(n);return!!(i&&i.isEqual(n))}excludeScrollbarsAndBorders(){const n=this._source;let i,s,l;if(kw(n))i=n.innerWidth-n.document.documentElement.clientWidth,s=n.innerHeight-n.document.documentElement.clientHeight,l=n.getComputedStyle(n.document.documentElement).direction;else{const d=rR(n);i=n.offsetWidth-n.clientWidth-d.left-d.right,s=n.offsetHeight-n.clientHeight-d.top-d.bottom,l=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,l==="ltr"?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(n){const i=[],s=Array.from(n.getClientRects());if(s.length)for(const l of s)i.push(new an(l));else{let l=n.startContainer;Gn(l)&&(l=l.parentNode);const d=new an(l.getBoundingClientRect());d.right=d.left,d.width=0,i.push(d)}return i}static getBoundingRect(n){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const l of n)s++,i.left=Math.min(i.left,l.left),i.top=Math.min(i.top,l.top),i.right=Math.max(i.right,l.right),i.bottom=Math.max(i.bottom,l.bottom);return s==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new an(i))}}function yw(c,n){for(const i of iR)c[i]=n[i]}function oR(c){return sR(c)?c===c.ownerDocument.body:!1}function sR(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}class wn{constructor(n,i){wn._observerInstance||wn._createObserver(),this._element=n,this._callback=i,wn._addElementCallback(n,i),wn._observerInstance.observe(n)}destroy(){wn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(n,i){wn._elementCallbacks||(wn._elementCallbacks=new Map);let s=wn._elementCallbacks.get(n);s||(s=new Set,wn._elementCallbacks.set(n,s)),s.add(i)}static _deleteElementCallback(n,i){const s=wn._getElementCallbacks(n);s&&(s.delete(i),s.size||(wn._elementCallbacks.delete(n),wn._observerInstance.unobserve(n))),wn._elementCallbacks&&!wn._elementCallbacks.size&&(wn._observerInstance=null,wn._elementCallbacks=null)}static _getElementCallbacks(n){return wn._elementCallbacks?wn._elementCallbacks.get(n):null}static _createObserver(){wn._observerInstance=new vt.window.ResizeObserver(n=>{for(const i of n){const s=wn._getElementCallbacks(i.target);if(s)for(const l of s)l(i)}})}}wn._observerInstance=null,wn._elementCallbacks=null;function aR(c,n){c instanceof HTMLTextAreaElement&&(c.value=n),c.innerHTML=n}function lC(c){return n=>n+c}function _w(c){let n=0;for(;c.previousSibling;)c=c.previousSibling,n++;return n}function cR(c,n,i){c.insertBefore(i,c.childNodes[n]||null)}function Nd(c){return c&&c.nodeType===Node.COMMENT_NODE}function jl(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}function PX(c){return!c||!c.parentNode||c.offsetParent===vt.document.body?null:c.offsetParent}function lR({element:c,target:n,positions:i,limiter:s,fitInViewport:l,viewportOffsetConfig:d}){Ko(n)&&(n=n()),Ko(s)&&(s=s());const f=PX(c),g=new an(c),w=new an(n);let y;const C=l&&MX(d)||null,x={targetRect:w,elementRect:g,positionedElementAncestor:f,viewportRect:C};if(!s&&!l)y=new uC(i[0],x);else{const N=s&&new an(s).getVisible();Object.assign(x,{limiterRect:N,viewportRect:C}),y=NX(i,x)||new uC(i[0],x)}return y}function MX(c){c=Object.assign({top:0,bottom:0,left:0,right:0},c);const n=new an(vt.window);return n.top+=c.top,n.height-=c.top,n.bottom-=c.bottom,n.height-=c.bottom,n}function NX(c,n){const{elementRect:i}=n,s=i.getArea(),l=c.map(g=>new uC(g,n)).filter(g=>!!g.name);let d=0,f=null;for(const g of l){const{limiterIntersectionArea:w,viewportIntersectionArea:y}=g;if(w===s)return g;const C=y**2+w**2;C>d&&(d=C,f=g)}return f}function RX(c,n){const i=uR(new an(n)),s=rR(n);let l=0,d=0;l-=i.left,d-=i.top,l+=n.scrollLeft,d+=n.scrollTop,l-=s.left,d-=s.top,c.moveBy(l,d)}function uR(c){const{scrollX:n,scrollY:i}=vt.window;return c.clone().moveBy(n,i)}class uC{constructor(n,i){const s=n(i.targetRect,i.elementRect,i.viewportRect);if(!s)return;const{left:l,top:d,name:f,config:g}=s;this.name=f,this.config=g,this._positioningFunctionCorrdinates={left:l,top:d},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;if(n){const i=this._options.viewportRect;if(i){const s=n.getIntersection(i);if(s)return s.getIntersectionArea(this._rect)}else return n.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const n=this._options.viewportRect;return n?n.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=uR(this._rect),this._options.positionedElementAncestor&&RX(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}function dR(c){const n=c.parentNode;n&&n.removeChild(c)}function OX({target:c,viewportOffset:n=0}){const i=dC(c);let s=i,l=null;for(;s;){let d;s==i?d=gR(c):d=gR(l),BX(d,()=>bR(c,s));const f=bR(c,s);if(LX(s,f,n),s.parent!=s){if(l=s.frameElement,s=s.parent,!l)return}else s=null}}function LX(c,n,i){const s=n.clone().moveBy(0,i),l=n.clone().moveBy(0,-i),d=new an(c).excludeScrollbarsAndBorders();if(![l,s].every(g=>d.contains(g))){let{scrollX:g,scrollY:w}=c;fR(l,d)?w-=d.top-n.top+i:hR(s,d)&&(w+=n.bottom-d.bottom+i),pR(n,d)?g-=d.left-n.left+i:mR(n,d)&&(g+=n.right-d.right+i),c.scrollTo(g,w)}}function BX(c,n){const i=dC(c);let s,l;for(;c!=i.document.body;)l=n(),s=new an(c).excludeScrollbarsAndBorders(),s.contains(l)||(fR(l,s)?c.scrollTop-=s.top-l.top:hR(l,s)&&(c.scrollTop+=l.bottom-s.bottom),pR(l,s)?c.scrollLeft-=s.left-l.left:mR(l,s)&&(c.scrollLeft+=l.right-s.right)),c=c.parentNode}function hR(c,n){return c.bottom>n.bottom}function fR(c,n){return c.top<n.top}function pR(c,n){return c.left<n.left}function mR(c,n){return c.right>n.right}function dC(c){return vw(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function gR(c){if(vw(c)){let n=c.commonAncestorContainer;return Gn(n)&&(n=n.parentNode),n}else return c.parentNode}function bR(c,n){const i=dC(c),s=new an(c);if(i===n)return s;{let l=i;for(;l!=n;){const d=l.frameElement,f=new an(d).excludeScrollbarsAndBorders();s.moveBy(f.left,f.top),l=l.parent}}return s}const zX={ctrl:"",cmd:"",alt:"",shift:""},FX={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},St=HX(),jX=Object.fromEntries(Object.entries(St).map(([c,n])=>[n,c.charAt(0).toUpperCase()+c.slice(1)]));function Rd(c){let n;if(typeof c=="string"){if(n=St[c.toLowerCase()],!n)throw new O("keyboard-unknown-key",null,{key:c})}else n=c.keyCode+(c.altKey?St.alt:0)+(c.ctrlKey?St.ctrl:0)+(c.shiftKey?St.shift:0)+(c.metaKey?St.cmd:0);return n}function hC(c){return typeof c=="string"&&(c=qX(c)),c.map(n=>typeof n=="string"?UX(n):n).reduce((n,i)=>i+n,0)}function wR(c){let n=hC(c);return Object.entries(A.isMac?zX:FX).reduce((l,[d,f])=>(n&St[d]&&(n&=~St[d],l+=f),l),"")+(n?jX[n]:"")}function VX(c){return c==St.arrowright||c==St.arrowleft||c==St.arrowup||c==St.arrowdown}function fC(c,n){const i=n==="ltr";switch(c){case St.arrowleft:return i?"left":"right";case St.arrowright:return i?"right":"left";case St.arrowup:return"up";case St.arrowdown:return"down"}}function UX(c){if(c.endsWith("!"))return Rd(c.slice(0,-1));const n=Rd(c);return A.isMac&&n==St.ctrl?St.cmd:n}function $X(c,n){const i=fC(c,n);return i==="down"||i==="right"}function HX(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++){const i=String.fromCharCode(n);c[i.toLowerCase()]=n}for(let n=48;n<=57;n++)c[n-48]=n;for(let n=112;n<=123;n++)c["f"+(n-111)]=n;for(const n of"`-=[];',./\\")c[n]=n.charCodeAt(0);return c}function qX(c){return c.split("+").map(n=>n.trim())}function Tr(c){return Array.isArray(c)?c:[c]}vt.window.CKEDITOR_TRANSLATIONS||(vt.window.CKEDITOR_TRANSLATIONS={});function WX(c,n,i=1){if(typeof i!="number")throw new O("translation-service-quantity-not-a-number",null,{quantity:i});const s=KX();s===1&&(c=Object.keys(vt.window.CKEDITOR_TRANSLATIONS)[0]);const l=n.id||n.string;if(s===0||!GX(c,l))return i!==1?n.plural:n.string;const d=vt.window.CKEDITOR_TRANSLATIONS[c].dictionary,f=vt.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(y=>y===1?0:1),g=d[l];if(typeof g=="string")return g;const w=Number(f(i));return g[w]}function GX(c,n){return!!vt.window.CKEDITOR_TRANSLATIONS[c]&&!!vt.window.CKEDITOR_TRANSLATIONS[c].dictionary[n]}function KX(){return Object.keys(vt.window.CKEDITOR_TRANSLATIONS).length}const YX=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function kR(c){return YX.includes(c)?"rtl":"ltr"}class QX{constructor({uiLanguage:n="en",contentLanguage:i}={}){this.uiLanguage=n,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=kR(this.uiLanguage),this.contentLanguageDirection=kR(this.contentLanguage),this.t=(s,l)=>this._t(s,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,i=[]){i=Tr(i),typeof n=="string"&&(n={string:n});const l=!!n.plural?i[0]:1,d=WX(this.uiLanguage,n,l);return ZX(d,i)}}function ZX(c,n){return c.replace(/%(\d+)/g,(i,s)=>s<n.length?n[s]:i)}class yi extends z(){constructor(n={},i={}){super();const s=Wn(n);if(s||(i=n),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const l of n)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,i){return this.addMany([n],i)}addMany(n,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new O("collection-add-item-invalid-index",this);let s=0;for(const l of n){const d=this._getItemIdBeforeAdding(l),f=i+s;this._items.splice(f,0,l),this._itemMap.set(d,l),this.fire("add",l,f),s++}return this.fire("change",{added:n,removed:[],index:i}),this}get(n){let i;if(typeof n=="string")i=this._itemMap.get(n);else if(typeof n=="number")i=this._items[n];else throw new O("collection-get-invalid-arg",this);return i||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const i=this._idProperty,s=n[i];return s&&this._itemMap.has(s)}}getIndex(n){let i;return typeof n=="string"?i=this._itemMap.get(n):i=n,i?this._items.indexOf(i):-1}remove(n){const[i,s]=this._remove(n);return this.fire("change",{added:[],removed:[i],index:s}),i}map(n,i){return this._items.map(n,i)}find(n,i){return this._items.find(n,i)}filter(n,i){return this._items.filter(n,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new O("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(n){const i=this._bindToCollection,s=(l,d,f)=>{const g=i._bindToCollection==this,w=i._bindToInternalToExternalMap.get(d);if(g&&w)this._bindToExternalToInternalMap.set(d,w),this._bindToInternalToExternalMap.set(w,d);else{const y=n(d);if(!y){this._skippedIndexesFromExternal.push(f);return}let C=f;for(const x of this._skippedIndexesFromExternal)f>x&&C--;for(const x of i._skippedIndexesFromExternal)C>=x&&C++;this._bindToExternalToInternalMap.set(d,y),this._bindToInternalToExternalMap.set(y,d),this.add(y,C);for(let x=0;x<i._skippedIndexesFromExternal.length;x++)C<=i._skippedIndexesFromExternal[x]&&i._skippedIndexesFromExternal[x]++}};for(const l of i)s(null,l,i.getIndex(l));this.listenTo(i,"add",s),this.listenTo(i,"remove",(l,d,f)=>{const g=this._bindToExternalToInternalMap.get(d);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,y)=>(f<y&&w.push(y-1),f>y&&w.push(y),w),[])})}_getItemIdBeforeAdding(n){const i=this._idProperty;let s;if(i in n){if(s=n[i],typeof s!="string")throw new O("collection-add-invalid-id",this);if(this.get(s))throw new O("collection-add-item-already-exists",this)}else n[i]=s=le();return s}_remove(n){let i,s,l,d=!1;const f=this._idProperty;if(typeof n=="string"?(s=n,l=this._itemMap.get(s),d=!l,l&&(i=this._items.indexOf(l))):typeof n=="number"?(i=n,l=this._items[i],d=!l,l&&(s=l[f])):(l=n,s=l[f],i=this._items.indexOf(l),d=i==-1||!this._itemMap.get(s)),d)throw new O("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const g=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(g),this.fire("remove",l,i),[l,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Bn(c){const n=c.next();return n.done?null:n.value}class ji extends uc(Me()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new O("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class _o{constructor(){this._listener=new(uc())}listenTo(n){this._listener.listenTo(n,"keydown",(i,s)=>{this._listener.fire("_keydown:"+Rd(s),s)})}set(n,i,s={}){const l=hC(n),d=s.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(f,g)=>{i(g,()=>{g.preventDefault(),g.stopPropagation(),f.stop()}),f.return=!0},{priority:d})}press(n){return!!this._listener.fire("_keydown:"+Rd(n),n)}destroy(){this._listener.stopListening()}}function JX(c){const n=new Map;for(const i in c)n.set(i,c[i]);return n}function ks(c){return Wn(c)?new Map(c):JX(c)}const XX=1e4;function eee(c,n,i,s){if(Math.max(n.length,c.length)>XX)return c.slice(0,i).concat(n).concat(c.slice(i+s,c.length));{const l=Array.from(c);return l.splice(i,s,...n),l}}function tee(c){return!!c&&c.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(c)}function nee(c){return!!c&&c.length==1&&/[\ud800-\udbff]/.test(c)}function ree(c){return!!c&&c.length==1&&/[\udc00-\udfff]/.test(c)}function vR(c,n){return nee(c.charAt(n-1))&&ree(c.charAt(n))}function yR(c,n){return tee(c.charAt(n))}const iee=see();function oee(c,n){const i=String(c).matchAll(iee);return Array.from(i).some(s=>s.index<n&&n<s.index+s[0].length)}function see(){const c=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],n=/\p{Regional_Indicator}{2}/u.source,i="(?:"+c.map(l=>l.source).join("|")+")",s=`${n}|${i}(?:${i})*`;return new RegExp(s,"ug")}class ua extends yi{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(i,s,l)=>{this._renderViewIntoCollectionParent(s,l)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...n){if(!n.length||!aee(n))throw new O("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const l of n)s.delegate(l).to(i);this.on("add",(s,l)=>{for(const d of n)l.delegate(d).to(i)}),this.on("remove",(s,l)=>{for(const d of n)l.stopDelegating(d,i)})}}}_renderViewIntoCollectionParent(n,i){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[i])}}function aee(c){return c.every(n=>typeof n=="string")}var cee=a(3379),nt=a.n(cee),_R=a(6150),pC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};pC.insert="head",pC.singleton=!0,nt()(_R.Z,pC),_R.Z.locals;class yt extends uc(Me()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new yi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=n,s.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Vi.bind(this,this)}createCollection(n){const i=new ua(n);return this._viewCollections.add(i),i}registerChild(n){Wn(n)||(n=[n]);for(const i of n)this._unboundChildren.add(i)}deregisterChild(n){Wn(n)||(n=[n]);for(const i of n)this._unboundChildren.remove(i)}setTemplate(n){this.template=new Vi(n)}extendTemplate(n){Vi.extend(this.template,n)}render(){if(this.isRendered)throw new O("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const lee="http://www.w3.org/1999/xhtml";class Vi extends z(){constructor(n){super(),Object.assign(this,xR(ER(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData=MR(),this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new O("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){function*n(i){if(i.children)for(const s of i.children)Cw(s)?yield s:mC(s)&&(yield*n(s))}yield*n(this)}static bind(n,i){return{to(s,l){return new uee({eventNameOrFunction:s,attribute:s,observable:n,emitter:i,callback:l})},if(s,l,d){return new AR({observable:n,emitter:i,attribute:s,valueIfTrue:l,callback:d})}}}static extend(n,i){if(n._isRendered)throw new O("template-extend-render",[this,n]);DR(n,xR(ER(i)))}_renderNode(n){let i;if(n.node?i=this.tag&&this.text:i=this.tag?this.text:!this.text,i)throw new O("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let i=n.node;return i||(i=n.node=document.createElementNS(this.ns||lee,this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),i}_renderText(n){let i=n.node;return i?n.revertData.text=i.textContent:i=n.node=document.createTextNode(""),Aw(this.text)?this._bindToObservable({schema:this.text,updater:hee(i),data:n}):i.textContent=this.text.join(""),i}_renderAttributes(n){if(!this.attributes)return;const i=n.node,s=n.revertData;for(const l in this.attributes){const d=i.getAttribute(l),f=this.attributes[l];s&&(s.attributes[l]=d);const g=PR(f)?f[0].ns:null;if(Aw(f)){const w=PR(f)?f[0].value:f;s&&NR(l)&&w.unshift(d),this._bindToObservable({schema:w,updater:fee(i,l,g),data:n})}else if(l=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],n);else{s&&d&&NR(l)&&f.unshift(d);const w=f.map(y=>y&&(y.value||y)).reduce((y,C)=>y.concat(C),[]).reduce(TR,"");Od(w)||i.setAttributeNS(g,l,w)}}}_renderStyleAttribute(n,i){const s=i.node;for(const l in n){const d=n[l];Aw(d)?this._bindToObservable({schema:[d],updater:pee(s,l),data:i}):s.style[l]=d}}_renderElementChildren(n){const i=n.node,s=n.intoFragment?document.createDocumentFragment():i,l=n.isApplying;let d=0;for(const f of this.children)if(gC(f)){if(!l){f.setParent(i);for(const g of f)s.appendChild(g.element)}}else if(Cw(f))l||(f.isRendered||f.render(),s.appendChild(f.element));else if(lc(f))s.appendChild(f);else if(l){const g=n.revertData,w=MR();g.children.push(w),f._renderNode({intoFragment:!1,node:s.childNodes[d++],isApplying:!0,revertData:w})}else s.appendChild(f.render());n.intoFragment&&i.appendChild(s)}_setUpListeners(n){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(l=>{const[d,f]=i.split("@");return l.activateDomEventListener(d,f,n)});n.revertData&&n.revertData.bindings.push(s)}}_bindToObservable({schema:n,updater:i,data:s}){const l=s.revertData;CR(n,i,s);const d=n.filter(f=>!Od(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(n,i,s));l&&l.bindings.push(d)}_revertTemplateFromNode(n,i){for(const l of i.bindings)for(const d of l)d();if(i.text){n.textContent=i.text;return}const s=n;for(const l in i.attributes){const d=i.attributes[l];d===null?s.removeAttribute(l):s.setAttribute(l,d)}for(let l=0;l<i.children.length;++l)this._revertTemplateFromNode(s.childNodes[l],i.children[l])}}class dp{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const i=this.observable[this.attribute];return this.callback?this.callback(i,n):i}activateAttributeListener(n,i,s){const l=()=>CR(n,i,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class uee extends dp{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,i,s){const l=(d,f)=>{(!i||f.target.matches(i))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(s.node,n,l),()=>{this.emitter.stopListening(s.node,n,l)}}}class AR extends dp{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){const i=super.getValue(n);return Od(i)?!1:this.valueIfTrue||!0}}function Aw(c){return c?(c.value&&(c=c.value),Array.isArray(c)?c.some(Aw):c instanceof dp):!1}function dee(c,n){return c.map(i=>i instanceof dp?i.getValue(n):i)}function CR(c,n,{node:i}){const s=dee(c,i);let l;c.length==1&&c[0]instanceof AR?l=s[0]:l=s.reduce(TR,""),Od(l)?n.remove():n.set(l)}function hee(c){return{set(n){c.textContent=n},remove(){c.textContent=""}}}function fee(c,n,i){return{set(s){c.setAttributeNS(i,n,s)},remove(){c.removeAttributeNS(i,n)}}}function pee(c,n){return{set(i){c.style[n]=i},remove(){c.style[n]=null}}}function ER(c){return Z2(c,i=>{if(i&&(i instanceof dp||mC(i)||Cw(i)||gC(i)))return i})}function xR(c){if(typeof c=="string"?c=bee(c):c.text&&wee(c),c.on&&(c.eventListeners=gee(c.on),delete c.on),!c.text){c.attributes&&mee(c.attributes);const n=[];if(c.children)if(gC(c.children))n.push(c.children);else for(const i of c.children)mC(i)||Cw(i)||lc(i)?n.push(i):n.push(new Vi(i));c.children=n}return c}function mee(c){for(const n in c)c[n].value&&(c[n].value=Tr(c[n].value)),SR(c,n)}function gee(c){for(const n in c)SR(c,n);return c}function bee(c){return{text:[c]}}function wee(c){c.text=Tr(c.text)}function SR(c,n){c[n]=Tr(c[n])}function TR(c,n){return Od(n)?c:Od(c)?n:`${c} ${n}`}function IR(c,n){for(const i in n)c[i]?c[i].push(...n[i]):c[i]=n[i]}function DR(c,n){if(n.attributes&&(c.attributes||(c.attributes={}),IR(c.attributes,n.attributes)),n.eventListeners&&(c.eventListeners||(c.eventListeners={}),IR(c.eventListeners,n.eventListeners)),n.text&&c.text.push(...n.text),n.children&&n.children.length){if(c.children.length!=n.children.length)throw new O("ui-template-extend-children-mismatch",c);let i=0;for(const s of n.children)DR(c.children[i++],s)}}function Od(c){return!c&&c!==0}function Cw(c){return c instanceof yt}function mC(c){return c instanceof Vi}function gC(c){return c instanceof ua}function PR(c){return ve(c[0])&&c[0].ns}function MR(){return{children:[],bindings:[],attributes:{}}}function NR(c){return c=="class"||c=="style"}class kee extends ua{constructor(n,i=[]){super(i),this.locale=n}attachToDom(){this._bodyCollectionContainer=new Vi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=jb(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var RR=a(1174),bC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};bC.insert="head",bC.singleton=!0,nt()(RR.Z,bC),RR.Z.locals;class Vl extends yt{constructor(){super();const n=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",n.if("isColorInherited","ck-icon_inherit-color")],viewBox:n.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const i=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),s=i.getAttribute("viewBox");s&&(this.viewBox=s);for(const{name:l,value:d}of Array.from(i.attributes))Vl.presentationalAttributeNames.includes(l)&&this.element.setAttribute(l,d);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(n=>{n.style.fill=this.fillColor})}}Vl.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var OR=a(4499),wC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wC.insert="head",wC.singleton=!0,nt()(OR.Z,wC),OR.Z.locals;class Ht extends yt{constructor(n){super(n);const i=this.bindTemplate,s=le();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(s),this.iconView=new Vl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",d=>!d),i.if("isVisible","ck-hidden",d=>!d),i.to("isOn",d=>d?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",d=>d||"button"),tabindex:i.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${s}`,"aria-disabled":i.if("isEnabled",!0,d=>!d),"aria-pressed":i.to("isOn",d=>this.isToggleable?String(!!d):!1),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};A.isSafari&&(l.on.mousedown=i.to(d=>{this.focus(),d.preventDefault()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(n){const i=new yt,s=this.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:s.to("labelStyle"),id:`ck-editor__aria-label_${n}`},children:[{text:this.bindTemplate.to("label")}]}),i}_createKeystrokeView(){const n=new yt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>wR(i))}]}),n}_getTooltipString(n,i,s){return n?typeof n=="string"?n:(s&&(s=wR(s)),n instanceof Function?n(i,s):`${i}${s?` (${s})`:""}`):""}}var LR=a(9681),kC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};kC.insert="head",kC.singleton=!0,nt()(LR.Z,kC),LR.Z.locals;class Ew extends Ht{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new yt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}function vee(c,n){const i=c.t,s={Black:i("Black"),"Dim grey":i("Dim grey"),Grey:i("Grey"),"Light grey":i("Light grey"),White:i("White"),Red:i("Red"),Orange:i("Orange"),Yellow:i("Yellow"),"Light green":i("Light green"),Green:i("Green"),Aquamarine:i("Aquamarine"),Turquoise:i("Turquoise"),"Light blue":i("Light blue"),Blue:i("Blue"),Purple:i("Purple")};return n.map(l=>{const d=s[l.label];return d&&d!=l.label&&(l.label=d),l})}function yee(c){return c.map(_ee).filter(n=>!!n)}function _ee(c){return typeof c=="string"?{model:c,label:c,hasBorder:!1,view:{name:"span",styles:{color:c}}}:{model:c.color,label:c.label||c.color,hasBorder:c.hasBorder===void 0?!1:c.hasBorder,view:{name:"span",styles:{color:`${c.color}`}}}}const Aee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class BR extends Ht{constructor(n){super(n);const i=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=Aee,this.extendTemplate({attributes:{style:{backgroundColor:i.to("color")},class:["ck","ck-color-grid__tile",i.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var zR=a(4923),vC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};vC.insert="head",vC.singleton=!0,nt()(zR.Z,vC),zR.Z.locals;class FR extends yt{constructor(n,i){super(n);const s=i&&i.colorDefinitions||[];this.columns=i&&i.columns?i.columns:5;const l={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new _o,this.items.on("add",(d,f)=>{f.isOn=f.color===this.selectedColor}),s.forEach(d=>{const f=new BR;f.set({color:d.color,label:d.label,tooltip:!0,hasBorder:d.options.hasBorder}),f.on("execute",()=>{this.fire("execute",{value:d.color,hasBorder:d.options.hasBorder,label:d.label})}),this.items.add(f)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:l}}),this.on("change:selectedColor",(d,f,g)=>{for(const w of this.items)w.isOn=w.color===g})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),b({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class Cee{constructor(n){this.editor=n,this._components=new Map}*names(){for(const n of this._components.values())yield n.originalName}add(n,i){this._components.set(yC(n),{callback:i,originalName:n})}create(n){if(!this.has(n))throw new O("componentfactory-item-missing",this,{name:n});return this._components.get(yC(n)).callback(this.editor.locale)}has(n){return this._components.has(yC(n))}}function yC(c){return String(c).toLowerCase()}var jR=a(3488),_C={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_C.insert="head",_C.singleton=!0,nt()(jR.Z,_C),jR.Z.locals;class Ld extends yt{constructor(n,i,s){super(n);const l=this.bindTemplate;this.buttonView=i,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new _o,this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",l.to("class"),l.if("isEnabled","ck-disabled",d=>!d)],id:l.to("id"),"aria-describedby":l.to("ariaDescribedById")},children:[i,s]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":l.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(i,s,l)=>{l&&(this.panelPosition==="auto"?this.panelView.position=Ld._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const n=(i,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(i,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(i,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",n),this.keystrokes.set("esc",n)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:n,north:i,southEast:s,southWest:l,northEast:d,northWest:f,southMiddleEast:g,southMiddleWest:w,northMiddleEast:y,northMiddleWest:C}=Ld.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,l,g,w,n,d,f,y,C,i]:[l,s,w,g,n,f,d,C,y,i]}}Ld.defaultPanelPositions={south:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,n)=>({top:c.bottom,left:c.left-n.width+c.width,name:"sw"}),southMiddleEast:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)/4,name:"sme"}),southMiddleWest:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)*3/4,name:"smw"}),north:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)/2,name:"n"}),northEast:(c,n)=>({top:c.top-n.height,left:c.left,name:"ne"}),northWest:(c,n)=>({top:c.top-n.height,left:c.left-n.width+c.width,name:"nw"}),northMiddleEast:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)/4,name:"nme"}),northMiddleWest:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)*3/4,name:"nmw"})},Ld._getOptimalPosition=lR;const VR='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class UR extends Ht{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new Vl;return n.content=VR,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}var $R=a(66),AC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};AC.insert="head",AC.singleton=!0,nt()($R.Z,AC),$R.Z.locals;class xw extends yt{constructor(n){super(n);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new _o,this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(n,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const n=new Ht;return n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const n=new Ht,i=n.bindTemplate;return n.icon=VR,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}class Eee extends yt{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:i.to(s=>s.preventDefault())}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():Be("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}class Ul{constructor(n){if(this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const i in n.actions){let s=n.actions[i];typeof s=="string"&&(s=[s]);for(const l of s)n.keystrokeHandler.set(l,(d,f)=>{this[i](),f()})}}get first(){return this.focusables.find(CC)||null}get last(){return this.focusables.filter(CC).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const l=i.element===this.focusTracker.focusedElement;return l&&(n=s),l}),n)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(n){n&&n.focus()}_getFocusableItem(n){const i=this.current,s=this.focusables.length;if(!s)return null;if(i===null)return this[n===1?"first":"last"];let l=(i+s+n)%s;do{const d=this.focusables.get(l);if(CC(d))return d;l=(l+s+n)%s}while(l!==i);return null}}function CC(c){return!!(c.focus&&jl(c.element))}class HR extends yt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class xee extends yt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function See(c){return c.bindTemplate.to(n=>{n.target===c.element&&n.preventDefault()})}function qR(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class he extends Me(){constructor(n){super(),this.editor=n,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",WR,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",WR),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function WR(c){c.return=!1,c.stop()}class ft extends Me(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"}),this.listenTo(n,"change:isReadOnly",(i,s,l)=>{l&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",GR,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",GR),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function GR(c){c.return=!1,c.stop()}class KR extends ft{constructor(n){super(n),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const i=this._getFirstEnabledCommand();return!!i&&i.execute(n)}registerChildCommand(n,i={}){Ae(this._childCommandsDefinitions,{command:n,priority:i.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return n&&n.command}}class YR extends z(){constructor(n,i=[],s=[]){super(),this._context=n,this._plugins=new Map,this._availablePlugins=new Map;for(const l of i)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,d]of s)this._contextPlugins.set(l,d),this._contextPlugins.set(d,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const i=this._plugins.get(n);if(!i){let s=n;throw typeof n=="function"&&(s=n.pluginName||n.name),new O("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(n){return this._plugins.has(n)}init(n,i=[],s=[]){const l=this,d=this._context;F(n),G(n);const f=n.filter(Ge=>!x(Ge,i)),g=[...U(f)];Qn(g,s);const w=Tt(g);return fn(w,"init").then(()=>fn(w,"afterInit")).then(()=>w);function y(Ge){return typeof Ge=="function"}function C(Ge){return y(Ge)&&Ge.isContextPlugin}function x(Ge,lt){return lt.some(it=>it===Ge||N(Ge)===it||N(it)===Ge)}function N(Ge){return y(Ge)?Ge.pluginName||Ge.name:Ge}function F(Ge,lt=new Set){Ge.forEach(it=>{y(it)&&(lt.has(it)||(lt.add(it),it.pluginName&&!l._availablePlugins.has(it.pluginName)&&l._availablePlugins.set(it.pluginName,it),it.requires&&F(it.requires,lt)))})}function U(Ge,lt=new Set){return Ge.map(it=>y(it)?it:l._availablePlugins.get(it)).reduce((it,Fn)=>lt.has(Fn)?it:(lt.add(Fn),Fn.requires&&(G(Fn.requires,Fn),U(Fn.requires,lt).forEach(su=>it.add(su))),it.add(Fn)),new Set)}function G(Ge,lt=null){Ge.map(it=>y(it)?it:l._availablePlugins.get(it)||it).forEach(it=>{ae(it,lt),Te(it,lt),Oe(it,lt)})}function ae(Ge,lt){if(!y(Ge))throw lt?new O("plugincollection-soft-required",d,{missingPlugin:Ge,requiredBy:N(lt)}):new O("plugincollection-plugin-not-found",d,{plugin:Ge})}function Te(Ge,lt){if(C(lt)&&!C(Ge))throw new O("plugincollection-context-required",d,{plugin:N(Ge),requiredBy:N(lt)})}function Oe(Ge,lt){if(lt&&x(Ge,i))throw new O("plugincollection-required",d,{plugin:N(Ge),requiredBy:N(lt)})}function Tt(Ge){return Ge.map(lt=>{let it=l._contextPlugins.get(lt);return it=it||new lt(d),l._add(lt,it),it})}function fn(Ge,lt){return Ge.reduce((it,Fn)=>!Fn[lt]||l._contextPlugins.has(Fn)?it:it.then(Fn[lt].bind(Fn)),Promise.resolve())}function Qn(Ge,lt){for(const it of lt){if(typeof it!="function")throw new O("plugincollection-replace-plugin-invalid-type",null,{pluginItem:it});const Fn=it.pluginName;if(!Fn)throw new O("plugincollection-replace-plugin-missing-name",null,{pluginItem:it});if(it.requires&&it.requires.length)throw new O("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Fn});const su=l._availablePlugins.get(Fn);if(!su)throw new O("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Fn});const KF=Ge.indexOf(su);if(KF===-1){if(l._contextPlugins.has(su))return;throw new O("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Fn})}if(su.requires&&su.requires.length)throw new O("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Fn});Ge.splice(KF,1,it),l._availablePlugins.set(Fn,it)}}}destroy(){const n=[];for(const[,i]of this)typeof i.destroy=="function"&&!this._contextPlugins.has(i)&&n.push(i.destroy());return Promise.all(n)}_add(n,i){this._plugins.set(n,i);const s=n.pluginName;if(s){if(this._plugins.has(s))throw new O("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:n});this._plugins.set(s,i)}}}class Tee{constructor(n){this.config=new J2(n,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new YR(this,i);const s=this.config.get("language")||{};this.locale=new QX({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new yi,this._contextOwner=null}initPlugins(){const n=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of n.concat(i)){if(typeof s!="function")throw new O("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new O("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(n,[],i)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,i){if(this._contextOwner)throw new O("context-addeditor-private-context");this.editors.add(n),i&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(n[i]=this.config.get(i));return n}static create(n){return new Promise(i=>{const s=new this(n);i(s.initPlugins().then(()=>s))})}}class Sw extends Me(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var QR=a(8894),EC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};EC.insert="head",EC.singleton=!0,nt()(QR.Z,EC),QR.Z.locals;const Tw=new WeakMap;function ZR(c){const{view:n,element:i,text:s,isDirectHost:l=!0,keepOnFocus:d=!1}=c,f=n.document;Tw.has(f)||(Tw.set(f,new Map),f.registerPostFixer(g=>xC(f,g)),f.on("change:isComposing",()=>{n.change(g=>xC(f,g))},{priority:"high"})),Tw.get(f).set(i,{text:s,isDirectHost:l,keepOnFocus:d,hostElement:l?i:null}),n.change(g=>xC(f,g))}function Iee(c,n){return n.hasClass("ck-placeholder")?!1:(c.addClass("ck-placeholder",n),!0)}function Dee(c,n){return n.hasClass("ck-placeholder")?(c.removeClass("ck-placeholder",n),!0):!1}function Pee(c,n){if(!c.isAttached()||Array.from(c.getChildren()).some(f=>!f.is("uiElement")))return!1;const s=c.document,d=s.selection.anchor;return s.isComposing&&d&&d.parent===c?!1:n||!s.isFocused?!0:!!d&&d.parent!==c}function xC(c,n){const i=Tw.get(c),s=[];let l=!1;for(const[d,f]of i)f.isDirectHost&&(s.push(d),JR(n,d,f)&&(l=!0));for(const[d,f]of i){if(f.isDirectHost)continue;const g=Mee(d);g&&(s.includes(g)||(f.hostElement=g,JR(n,d,f)&&(l=!0)))}return l}function JR(c,n,i){const{text:s,isDirectHost:l,hostElement:d}=i;let f=!1;return d.getAttribute("data-placeholder")!==s&&(c.setAttribute("data-placeholder",s,d),f=!0),(l||n.childCount==1)&&Pee(d,i.keepOnFocus)?Iee(c,d)&&(f=!0):Dee(c,d)&&(f=!0),f}function Mee(c){if(c.childCount){const n=c.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class $l{is(){throw new Error("is() method is abstract")}}var Nee=4;function Ree(c){return aC(c,Nee)}const XR=Ree;class Hl extends z($l){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new O("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.index),i=i.parent;return n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(n,i={}){const s=this.getAncestors(i),l=n.getAncestors(i);let d=0;for(;s[d]==l[d]&&s[d];)d++;return d===0?null:s[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),s=n.getPath(),l=xn(i,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<s[l]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,i){this.fire(`change:${n}`,i),this.parent&&this.parent._fireChange(n,i)}toJSON(){const n=XR(this);return delete n.parent,n}}Hl.prototype.is=function(c){return c==="node"||c==="view:node"};class en extends Hl{constructor(n,i){super(n),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof en?this===n||this.data===n.data:!1}_clone(){return new en(this.document,this.data)}}en.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class vs extends $l{constructor(n,i,s){if(super(),this.textNode=n,i<0||i>n.data.length)throw new O("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>n.data.length)throw new O("view-textproxy-wrong-length",this);this.data=n.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const i=[];let s=n.includeSelf?this.textNode:this.parent;for(;s!==null;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}}vs.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class ys{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let i of n)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...n){for(const i of n)for(const s of this._patterns){const l=eO(i,s);if(l)return{element:i,pattern:s,match:l}}return null}matchAll(...n){const i=[];for(const s of n)for(const l of this._patterns){const d=eO(s,l);d&&i.push({element:s,pattern:l,match:d})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],i=n.name;return typeof n!="function"&&i&&!(i instanceof RegExp)?i:null}}function eO(c,n){if(typeof n=="function")return n(c);const i={};return n.name&&(i.name=Oee(n.name,c.name),!i.name)||n.attributes&&(i.attributes=Fee(n.attributes,c),!i.attributes)||n.classes&&(i.classes=jee(n.classes,c),!i.classes)||n.styles&&(i.styles=Vee(n.styles,c),!i.styles)?null:i}function Oee(c,n){return c instanceof RegExp?!!n.match(c):c===n}function SC(c,n,i){const s=Lee(c),l=Array.from(n),d=[];if(s.forEach(([f,g])=>{l.forEach(w=>{Bee(f,w)&&zee(g,w,i)&&d.push(w)})}),!(!s.length||d.length<s.length))return d}function Lee(c){return Array.isArray(c)?c.map(n=>Wr(n)?((n.key===void 0||n.value===void 0)&&Be("matcher-pattern-missing-key-or-value",n),[n.key,n.value]):[n,!0]):Wr(c)?Object.entries(c):[[c,!0]]}function Bee(c,n){return c===!0||c===n||c instanceof RegExp&&n.match(c)}function zee(c,n,i){if(c===!0)return!0;const s=i(n);return c===s||c instanceof RegExp&&!!String(s).match(c)}function Fee(c,n){const i=new Set(n.getAttributeKeys());return Wr(c)?(c.style!==void 0&&Be("matcher-pattern-deprecated-attributes-style-key",c),c.class!==void 0&&Be("matcher-pattern-deprecated-attributes-class-key",c)):(i.delete("style"),i.delete("class")),SC(c,i,s=>n.getAttribute(s))}function jee(c,n){return SC(c,n.getClassNames(),()=>{})}function Vee(c,n){return SC(c,n.getStyleNames(!0),i=>n.getStyle(i))}var Uee="[object Symbol]";function $ee(c){return typeof c=="symbol"||qr(c)&&Zt(c)==Uee}const Iw=$ee;var Hee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qee=/^\w*$/;function Wee(c,n){if(un(c))return!1;var i=typeof c;return i=="number"||i=="symbol"||i=="boolean"||c==null||Iw(c)?!0:qee.test(c)||!Hee.test(c)||n!=null&&c in Object(n)}const Gee=Wee;var Kee="Expected a function";function TC(c,n){if(typeof c!="function"||n!=null&&typeof n!="function")throw new TypeError(Kee);var i=function(){var s=arguments,l=n?n.apply(this,s):s[0],d=i.cache;if(d.has(l))return d.get(l);var f=c.apply(this,s);return i.cache=d.set(l,f)||d,f};return i.cache=new(TC.Cache||cc),i}TC.Cache=cc;const Yee=TC;var Qee=500;function Zee(c){var n=Yee(c,function(s){return i.size===Qee&&i.clear(),s}),i=n.cache;return n}const Jee=Zee;var Xee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ete=/\\(\\)?/g,tte=Jee(function(c){var n=[];return c.charCodeAt(0)===46&&n.push(""),c.replace(Xee,function(i,s,l,d){n.push(l?d.replace(ete,"$1"):s||i)}),n});const nte=tte;function rte(c,n){for(var i=-1,s=c==null?0:c.length,l=Array(s);++i<s;)l[i]=n(c[i],i,c);return l}const ite=rte;var ote=1/0,tO=zi?zi.prototype:void 0,nO=tO?tO.toString:void 0;function rO(c){if(typeof c=="string")return c;if(un(c))return ite(c,rO)+"";if(Iw(c))return nO?nO.call(c):"";var n=c+"";return n=="0"&&1/c==-ote?"-0":n}const ste=rO;function ate(c){return c==null?"":ste(c)}const IC=ate;function cte(c,n){return un(c)?c:Gee(c,n)?[c]:nte(IC(c))}const DC=cte;function lte(c){var n=c==null?0:c.length;return n?c[n-1]:void 0}const ute=lte;var dte=1/0;function hte(c){if(typeof c=="string"||Iw(c))return c;var n=c+"";return n=="0"&&1/c==-dte?"-0":n}const PC=hte;function fte(c,n){n=DC(n,c);for(var i=0,s=n.length;c!=null&&i<s;)c=c[PC(n[i++])];return i&&i==s?c:void 0}const iO=fte;function pte(c,n,i){var s=-1,l=c.length;n<0&&(n=-n>l?0:l+n),i=i>l?l:i,i<0&&(i+=l),l=n>i?0:i-n>>>0,n>>>=0;for(var d=Array(l);++s<l;)d[s]=c[s+n];return d}const oO=pte;function mte(c,n){return n.length<2?c:iO(c,oO(n,0,-1))}const gte=mte;function bte(c,n){return n=DC(n,c),c=gte(c,n),c==null||delete c[PC(ute(n))]}const wte=bte;function kte(c,n){return c==null?!0:wte(c,n)}const vte=kte;function yte(c,n,i){var s=c==null?void 0:iO(c,n);return s===void 0?i:s}const Dw=yte;function _te(c,n,i){(i!==void 0&&!oc(c[n],i)||i===void 0&&!(n in c))&&ht(c,n,i)}const MC=_te;function Ate(c){return function(n,i,s){for(var l=-1,d=Object(n),f=s(n),g=f.length;g--;){var w=f[c?g:++l];if(i(d[w],w,d)===!1)break}return n}}var Cte=Ate();const Ete=Cte;function xte(c){return qr(c)&&gw(c)}const Ste=xte;function Tte(c,n){if(!(n==="constructor"&&typeof c[n]=="function")&&n!="__proto__")return c[n]}const NC=Tte;function Ite(c){return no(c,Md(c))}const Dte=Ite;function Pte(c,n,i,s,l,d,f){var g=NC(c,i),w=NC(n,i),y=f.get(w);if(y){MC(c,i,y);return}var C=d?d(g,w,i+"",c,n,f):void 0,x=C===void 0;if(x){var N=un(w),F=!N&&ap(w),U=!N&&!F&&ZA(w);C=w,N||F||U?un(g)?C=g:Ste(g)?C=D2(g):F?(x=!1,C=I2(w,!0)):U?(x=!1,C=$2(w,!0)):C=[]:Wr(w)||GA(w)?(C=g,GA(g)?C=Dte(g):(!ve(g)||Ko(g))&&(C=q2(w))):x=!1}x&&(f.set(w,C),l(C,w,s,d,f),f.delete(w)),MC(c,i,C)}const Mte=Pte;function sO(c,n,i,s,l){c!==n&&Ete(n,function(d,f){if(l||(l=new P),ve(d))Mte(c,n,f,i,sO,s,l);else{var g=s?s(NC(c,f),d,f+"",c,n,l):void 0;g===void 0&&(g=d),MC(c,f,g)}},Md)}const Nte=sO;function Rte(c){return c}const ql=Rte;function Ote(c,n,i){switch(i.length){case 0:return c.call(n);case 1:return c.call(n,i[0]);case 2:return c.call(n,i[0],i[1]);case 3:return c.call(n,i[0],i[1],i[2])}return c.apply(n,i)}const Lte=Ote;var aO=Math.max;function Bte(c,n,i){return n=aO(n===void 0?c.length-1:n,0),function(){for(var s=arguments,l=-1,d=aO(s.length-n,0),f=Array(d);++l<d;)f[l]=s[n+l];l=-1;for(var g=Array(n+1);++l<n;)g[l]=s[l];return g[n]=i(f),Lte(c,this,g)}}const zte=Bte;function Fte(c){return function(){return c}}const jte=Fte;var Vte=ot?function(c,n){return ot(c,"toString",{configurable:!0,enumerable:!1,value:jte(n),writable:!0})}:ql;const Ute=Vte;var $te=800,Hte=16,qte=Date.now;function Wte(c){var n=0,i=0;return function(){var s=qte(),l=Hte-(s-i);if(i=s,l>0){if(++n>=$te)return arguments[0]}else n=0;return c.apply(void 0,arguments)}}var Gte=Wte(Ute);const Kte=Gte;function Yte(c,n){return Kte(zte(c,n,ql),c+"")}const Qte=Yte;function Zte(c,n,i){if(!ve(i))return!1;var s=typeof n;return(s=="number"?gw(i)&&KA(n,i.length):s=="string"&&n in i)?oc(i[n],c):!1}const Jte=Zte;function Xte(c){return Qte(function(n,i){var s=-1,l=i.length,d=l>1?i[l-1]:void 0,f=l>2?i[2]:void 0;for(d=c.length>3&&typeof d=="function"?(l--,d):void 0,f&&Jte(i[0],i[1],f)&&(d=l<3?void 0:d,l=1),n=Object(n);++s<l;){var g=i[s];g&&c(n,g,s,d)}return n})}const cO=Xte;var ene=cO(function(c,n,i){Nte(c,n,i)});const lO=ene;function tne(c,n,i,s){if(!ve(c))return c;n=DC(n,c);for(var l=-1,d=n.length,f=d-1,g=c;g!=null&&++l<d;){var w=PC(n[l]),y=i;if(w==="__proto__"||w==="constructor"||w==="prototype")return c;if(l!=f){var C=g[w];y=s?s(C,w,g):void 0,y===void 0&&(y=ve(C)?C:KA(n[l+1])?[]:{})}Yo(g,w,y),g=g[w]}return c}const nne=tne;function rne(c,n,i){return c==null?c:nne(c,n,i)}const ine=rne;class one{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){const n=Object.entries(this._styles);return!Array.from(n).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const i=Array.from(ane(n).entries());for(const[s,l]of i)this._styleProcessor.toNormalizedForm(s,l,this._styles)}has(n){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(n,this._styles).find(([l])=>l===n);return Array.isArray(s)}set(n,i){if(ve(n))for(const[s,l]of Object.entries(n))this._styleProcessor.toNormalizedForm(s,l,this._styles);else this._styleProcessor.toNormalizedForm(n,i,this._styles)}remove(n){const i=RC(n);vte(this._styles,i),delete this._styles[n],this._cleanEmptyObjectsOnPath(i)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!ve(this._styles[n]))return this._styles[n];const s=this._styleProcessor.getReducedForm(n,this._styles).find(([l])=>l===n);if(Array.isArray(s))return s[1]}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const n=[],i=Object.keys(this._styles);for(const s of i)n.push(...this._styleProcessor.getReducedForm(s,this._styles));return n}_cleanEmptyObjectsOnPath(n){const i=n.split(".");if(!(i.length>1))return;const l=i.splice(0,i.length-1).join("."),d=Dw(this._styles,l);if(!d)return;!Array.from(Object.keys(d)).length&&this.remove(l)}}class sne{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,i,s){if(ve(i)){OC(s,RC(n),i);return}if(this._normalizers.has(n)){const l=this._normalizers.get(n),{path:d,value:f}=l(i);OC(s,d,f)}else OC(s,n,i)}getNormalized(n,i){if(!n)return lO({},i);if(i[n]!==void 0)return i[n];if(this._extractors.has(n)){const s=this._extractors.get(n);if(typeof s=="string")return Dw(i,s);const l=s(n,i);if(l)return l}return Dw(i,RC(n))}getReducedForm(n,i){const s=this.getNormalized(n,i);return s===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(s):[[n,s]]}getStyleNames(n){const i=Array.from(this._consumables.keys()).filter(l=>{const d=this.getNormalized(l,n);return d&&typeof d=="object"?Object.keys(d).length:d}),s=new Set([...i,...Object.keys(n)]);return Array.from(s.values())}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,i){this._normalizers.set(n,i)}setExtractor(n,i){this._extractors.set(n,i)}setReducer(n,i){this._reducers.set(n,i)}setStyleRelation(n,i){this._mapStyleNames(n,i);for(const s of i)this._mapStyleNames(s,[n])}_mapStyleNames(n,i){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...i)}}function ane(c){let n=null,i=0,s=0,l=null;const d=new Map;if(c==="")return d;c.charAt(c.length-1)!=";"&&(c=c+";");for(let f=0;f<c.length;f++){const g=c.charAt(f);if(n===null)switch(g){case":":l||(l=c.substr(i,f-i),s=f+1);break;case'"':case"'":n=g;break;case";":{const w=c.substr(s,f-s);l&&d.set(l.trim(),w.trim()),l=null,i=f+1;break}}else g===n&&(n=null)}return d}function RC(c){return c.replace("-",".")}function OC(c,n,i){let s=i;ve(i)&&(s=lO({},Dw(c,n),i)),ine(c,n,s)}class ro extends Hl{constructor(n,i,s,l){if(super(n),this.name=i,this._attrs=cne(s),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");uO(this._classes,d),this._attrs.delete("class")}this._styles=new one(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof ro))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[i,s]of this._attrs)if(!n._attrs.has(i)||n._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!n._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!n._styles.has(i)||n._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...n){for(const i of n)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const i of n)if(!this._styles.has(i))return!1;return!0}findAncestor(...n){const i=new ys(...n);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const i=[];if(n)for(const l of this.getChildren())i.push(l._clone(n));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,i){this._fireChange("children",this);let s=0;const l=lne(this.document,i);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(n,0,d),n++,s++;return s}_removeChildren(n,i=1){this._fireChange("children",this);for(let s=n;s<n+i;s++)this._children[s].parent=null;return this._children.splice(n,i)}_setAttribute(n,i){const s=String(i);this._fireChange("attributes",this),n=="class"?uO(this._classes,s):n=="style"?this._styles.setTo(s):this._attrs.set(n,s)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:n=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const i of Tr(n))this._classes.add(i)}_removeClass(n){this._fireChange("attributes",this);for(const i of Tr(n))this._classes.delete(i)}_setStyle(n,i){this._fireChange("attributes",this),Wr(n)?this._styles.set(n):this._styles.set(n,i)}_removeStyle(n){this._fireChange("attributes",this);for(const i of Tr(n))this._styles.remove(i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}ro.prototype.is=function(c,n){return n?n===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};function cne(c){const n=ks(c);for(const[i,s]of n)s===null?n.delete(i):typeof s!="string"&&n.set(i,String(s));return n}function uO(c,n){const i=n.split(/\s+/);c.clear(),i.forEach(s=>c.add(s))}function lne(c,n){return typeof n=="string"?[new en(c,n)]:(Wn(n)||(n=[n]),Array.from(n).map(i=>typeof i=="string"?new en(c,i):i instanceof vs?new en(c,i.data):i))}class hp extends ro{constructor(...n){super(...n),this.getFillerOffset=dO}}hp.prototype.is=function(c,n){return n?n===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function dO(){const c=[...this.getChildren()],n=c[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const i of c)if(!i.is("uiElement"))return null;return this.childCount}class Pw extends Me(hp){constructor(...n){super(...n);const i=n[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",s=>s&&i.selection.editableElement==this),this.listenTo(i.selection,"change",()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this})}destroy(){this.stopListening()}}Pw.prototype.is=function(c,n){return n?n===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const hO=Symbol("rootName");class fO extends Pw{constructor(n,i){super(n,i),this.rootName="main"}get rootName(){return this.getCustomProperty(hO)}set rootName(n){this._setCustomProperty(hO,n)}set _name(n){this.name=n}}fO.prototype.is=function(c,n){return n?n===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Wl{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new O("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new O("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this.position=Ce._createAt(n.startPosition):this.position=Ce._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(n){let i,s,l;do l=this.position,{done:i,value:s}=this.next();while(!i&&n(s));i||(this.position=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const i=this.position,s=n.parent;if(s.parent===null&&n.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(s instanceof en){if(n.isAtEnd)return this.position=Ce._createAfter(s),this._next();l=s.data[n.offset]}else l=s.getChild(n.offset);if(l instanceof ro)return this.shallow?n.offset++:n=new Ce(l,0),this.position=n,this._formatReturnValue("elementStart",l,i,n,1);if(l instanceof en){if(this.singleCharacters)return n=new Ce(l,0),this.position=n,this._next();{let d=l.data.length,f;return l==this._boundaryEndParent?(d=this.boundaries.end.offset,f=new vs(l,0,d),n=Ce._createAfter(f)):(f=new vs(l,0,l.data.length),n.offset++),this.position=n,this._formatReturnValue("text",f,i,n,d)}}else if(typeof l=="string"){let d;this.singleCharacters?d=1:d=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-n.offset;const f=new vs(s,n.offset,d);return n.offset+=d,this.position=n,this._formatReturnValue("text",f,i,n,d)}else return n=Ce._createAfter(s),this.position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,n)}_previous(){let n=this.position.clone();const i=this.position,s=n.parent;if(s.parent===null&&n.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(s instanceof en){if(n.isAtStart)return this.position=Ce._createBefore(s),this._previous();l=s.data[n.offset-1]}else l=s.getChild(n.offset-1);if(l instanceof ro)return this.shallow?(n.offset--,this.position=n,this._formatReturnValue("elementStart",l,i,n,1)):(n=new Ce(l,l.childCount),this.position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,i,n));if(l instanceof en){if(this.singleCharacters)return n=new Ce(l,l.data.length),this.position=n,this._previous();{let d=l.data.length,f;if(l==this._boundaryStartParent){const g=this.boundaries.start.offset;f=new vs(l,g,l.data.length-g),d=f.data.length,n=Ce._createBefore(f)}else f=new vs(l,0,l.data.length),n.offset--;return this.position=n,this._formatReturnValue("text",f,i,n,d)}}else if(typeof l=="string"){let d;if(this.singleCharacters)d=1;else{const g=s===this._boundaryStartParent?this.boundaries.start.offset:0;d=n.offset-g}n.offset-=d;const f=new vs(s,n.offset,d);return this.position=n,this._formatReturnValue("text",f,i,n,d)}else return n=Ce._createBefore(s),this.position=n,this._formatReturnValue("elementStart",s,i,n,1)}_formatReturnValue(n,i,s,l,d){return i instanceof vs&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(l=Ce._createAfter(i.textNode),this.position=l):s=Ce._createAfter(i.textNode)),i.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(l=Ce._createBefore(i.textNode),this.position=l):s=Ce._createBefore(i.textNode))),{done:!1,value:{type:n,item:i,previousPosition:s,nextPosition:l,length:d}}}}class Ce extends $l{constructor(n,i){super(),this.parent=n,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof Pw);)if(n.parent)n=n.parent;else return null;return n}getShiftedBy(n){const i=Ce._createAt(this),s=i.offset+n;return i.offset=s<0?0:s,i}getLastMatchingPosition(n,i={}){i.startPosition=this;const s=new Wl(i);return s.skip(n),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const i=this.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]==s[l]&&i[l];)l++;return l===0?null:i[l-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=n.parent.is("node")?n.parent.getPath():[];i.push(this.offset),s.push(n.offset);const l=xn(i,s);switch(l){case"prefix":return"before";case"extension":return"after";default:return i[l]<s[l]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new Wl(n)}clone(){return new Ce(this.parent,this.offset)}static _createAt(n,i){if(n instanceof Ce)return new this(n.parent,n.offset);{const s=n;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new O("view-createpositionat-offset-required",s)}return new Ce(s,i)}}static _createAfter(n){if(n.is("$textProxy"))return new Ce(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new O("view-position-after-root",n,{root:n});return new Ce(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new Ce(n.textNode,n.offsetInText);if(!n.parent)throw new O("view-position-before-root",n,{root:n});return new Ce(n.parent,n.index)}}Ce.prototype.is=function(c){return c==="position"||c==="view:position"};class st extends $l{constructor(n,i=null){super(),this.start=n.clone(),this.end=i?i.clone():n.clone()}*[Symbol.iterator](){yield*new Wl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Mw,{direction:"backward"}),i=this.end.getLastMatchingPosition(Mw);return n.parent.is("$text")&&n.isAtStart&&(n=Ce._createBefore(n.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Ce._createAfter(i.parent)),new st(n,i)}getTrimmed(){let n=this.start.getLastMatchingPosition(Mw);if(n.isAfter(this.end)||n.isEqual(this.end))return new st(n,n);let i=this.end.getLastMatchingPosition(Mw,{direction:"backward"});const s=n.nodeAfter,l=i.nodeBefore;return s&&s.is("$text")&&(n=new Ce(s,0)),l&&l.is("$text")&&(i=new Ce(l,l.data.length)),new st(n,i)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const s=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return s&&l}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new st(this.start,n.start)),this.containsPosition(n.end)&&i.push(new st(n.end,this.end))):i.push(this.clone()),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,s=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(s=n.end),new st(i,s)}return null}getWalker(n={}){return n.boundaries=this,new Wl(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),n&&n.is("element")&&n===i?n:null}clone(){return new st(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Wl(n);for(const s of i)yield s.item}*getPositions(n={}){n.boundaries=this;const i=new Wl(n);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,i,s,l){return new this(new Ce(n,i),new Ce(s,l))}static _createFromPositionAndShift(n,i){const s=n,l=n.getShiftedBy(i);return i>0?new this(s,l):new this(l,s)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const i=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(Ce._createBefore(n),i)}}st.prototype.is=function(c){return c==="range"||c==="view:range"};function Mw(c){return!!(c.item.is("attributeElement")||c.item.is("uiElement"))}class _s extends z($l){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const i of this._ranges)(!n||i.start.isBefore(n.start))&&(n=i);return n?n.clone():null}getLastRange(){let n=null;for(const i of this._ranges)(!n||i.end.isAfter(n.end))&&(n=i);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let s=!1;for(const l of n._ranges)if(i.isEqual(l)){s=!0;break}if(!s)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const i=ai(this.getRanges()),s=ai(n.getRanges());if(i!=s)return!1;if(i==0)return!0;for(let l of this.getRanges()){l=l.getTrimmed();let d=!1;for(let f of n.getRanges())if(f=f.getTrimmed(),l.start.isEqual(f.start)&&l.end.isEqual(f.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[i,s,l]=n;if(typeof s=="object"&&(l=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(l);else if(i instanceof _s||i instanceof LC)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof st)this._setRanges([i],l&&l.backward),this._setFakeOptions(l);else if(i instanceof Ce)this._setRanges([new st(i)]),this._setFakeOptions(l);else if(i instanceof Hl){const d=!!l&&!!l.backward;let f;if(s===void 0)throw new O("view-selection-setto-required-second-parameter",this);s=="in"?f=st._createIn(i):s=="on"?f=st._createOn(i):f=new st(Ce._createAt(i,s)),this._setRanges([f],d),this._setFakeOptions(l)}else if(Wn(i))this._setRanges(i,l&&l.backward),this._setFakeOptions(l);else throw new O("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(n,i){if(this.anchor===null)throw new O("view-selection-setfocus-no-ranges",this);const s=Ce._createAt(n,i);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),s.compareWith(l)=="before"?this._addRange(new st(s,l),!0):this._addRange(new st(l,s)),this.fire("change")}_setRanges(n,i=!1){n=Array.from(n),this._ranges=[];for(const s of n)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,i=!1){if(!(n instanceof st))throw new O("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!i}_pushRange(n){for(const i of this._ranges)if(n.isIntersecting(i))throw new O("view-selection-range-intersects",this,{addedRange:n,intersectingRange:i});this._ranges.push(new st(n.start,n.end))}}_s.prototype.is=function(c){return c==="selection"||c==="view:selection"};class LC extends z($l){constructor(...n){super(),this._selection=new _s,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,i){this._selection.setFocus(n,i)}}LC.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Bd extends qe{constructor(n,i,s){super(n,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const BC=Symbol("bubbling contexts");function zC(c){class n extends c{fire(s,...l){try{const d=s instanceof qe?s:new qe(this,s),f=FC(this);if(!f.size)return;if(fp(d,"capturing",this),zd(f,"$capture",d,...l))return d.return;const g=d.startRange||this.selection.getFirstRange(),w=g?g.getContainedElement():null,y=w?Boolean(pO(f,w)):!1;let C=w||une(g);if(fp(d,"atTarget",C),!y){if(zd(f,"$text",d,...l))return d.return;fp(d,"bubbling",C)}for(;C;){if(C.is("rootElement")){if(zd(f,"$root",d,...l))return d.return}else if(C.is("element")&&zd(f,C.name,d,...l))return d.return;if(zd(f,C,d,...l))return d.return;C=C.parent,fp(d,"bubbling",C)}return fp(d,"bubbling",this),zd(f,"$document",d,...l),d.return}catch(d){O.rethrowUnexpectedError(d,this)}}_addEventListener(s,l,d){const f=Tr(d.context||"$document"),g=FC(this);for(const w of f){let y=g.get(w);y||(y=new(z()),g.set(w,y)),this.listenTo(y,s,l,d)}}_removeEventListener(s,l){const d=FC(this);for(const f of d.values())this.stopListening(f,s,l)}}return n}{const c=zC(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{zC[n]=c.prototype[n]})}function fp(c,n,i){c instanceof Bd&&(c._eventPhase=n,c._currentTarget=i)}function zd(c,n,i,...s){const l=typeof n=="string"?c.get(n):pO(c,n);return l?(l.fire(i,...s),i.stop.called):!1}function pO(c,n){for(const[i,s]of c)if(typeof i=="function"&&i(n))return s;return null}function FC(c){return c[BC]||(c[BC]=new Map),c[BC]}function une(c){if(!c)return null;const n=c.start.parent,i=c.end.parent,s=n.getPath(),l=i.getPath();return s.length>l.length?n:i}class Nw extends zC(Me()){constructor(n){super(),this.selection=new LC,this.roots=new yi({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.map(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let i=!1;do for(const s of this._postFixers)if(i=s(n),i)break;while(i)}}const mO=10;class Gl extends ro{constructor(...n){super(...n),this.getFillerOffset=dne,this._priority=mO,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new O("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const i=super._clone(n);return i._priority=this._priority,i._id=this._id,i}}Gl.DEFAULT_PRIORITY=mO,Gl.prototype.is=function(c,n){return n?n===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function dne(){if(jC(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(jC(c)>1)return null;c=c.parent}return!c||jC(c)>1?null:this.childCount}function jC(c){return Array.from(c.getChildren()).filter(n=>!n.is("uiElement")).length}class VC extends ro{constructor(n,i,s,l){super(n,i,s,l),this.getFillerOffset=hne}_insertChild(n,i){if(i&&(i instanceof Hl||Array.from(i).length>0))throw new O("view-emptyelement-cannot-add",[this,i]);return 0}}VC.prototype.is=function(c,n){return n?n===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function hne(){return null}class Rw extends ro{constructor(...n){super(...n),this.getFillerOffset=pne}_insertChild(n,i){if(i&&(i instanceof Hl||Array.from(i).length>0))throw new O("view-uielement-cannot-add",[this,i]);return 0}render(n,i){return this.toDomElement(n)}toDomElement(n){const i=n.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}Rw.prototype.is=function(c,n){return n?n===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function fne(c){c.document.on("arrowKey",(n,i)=>mne(n,i,c.domConverter),{priority:"low"})}function pne(){return null}function mne(c,n,i){if(n.keyCode==St.arrowright){const s=n.domTarget.ownerDocument.defaultView.getSelection(),l=s.rangeCount==1&&s.getRangeAt(0).collapsed;if(l||n.shiftKey){const d=s.focusNode,f=s.focusOffset,g=i.domPositionToView(d,f);if(g===null)return;let w=!1;const y=g.getLastMatchingPosition(C=>(C.item.is("uiElement")&&(w=!0),!!(C.item.is("uiElement")||C.item.is("attributeElement"))));if(w){const C=i.viewPositionToDom(y);l?s.collapse(C.parent,C.offset):s.extend(C.parent,C.offset)}}}}class UC extends ro{constructor(...n){super(...n),this.getFillerOffset=gne}_insertChild(n,i){if(i&&(i instanceof Hl||Array.from(i).length>0))throw new O("view-rawelement-cannot-add",[this,i]);return 0}render(){}}UC.prototype.is=function(c,n){return n?n===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function gne(){return null}class Kl extends z($l){constructor(n,i){super(),this.document=n,this._children=[],i&&this._insertChild(0,i),this._customProperties=new Map}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,i){this._fireChange("children",this);let s=0;const l=bne(this.document,i);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(n,0,d),n++,s++;return s}_removeChildren(n,i=1){this._fireChange("children",this);for(let s=n;s<n+i;s++)this._children[s].parent=null;return this._children.splice(n,i)}_fireChange(n,i){this.fire("change:"+n,i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Kl.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};function bne(c,n){return typeof n=="string"?[new en(c,n)]:(Wn(n)||(n=[n]),Array.from(n).map(i=>typeof i=="string"?new en(c,i):i instanceof vs?new en(c,i.data):i))}class gO{constructor(n){this.document=n,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(...n){this.document.selection._setFocus(...n)}createDocumentFragment(n){return new Kl(this.document,n)}createText(n){return new en(this.document,n)}createAttributeElement(n,i,s={}){const l=new Gl(this.document,n,i);return typeof s.priority=="number"&&(l._priority=s.priority),s.id&&(l._id=s.id),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createContainerElement(n,i,s={},l={}){let d=null;Wr(s)?l=s:d=s;const f=new hp(this.document,n,i,d);return l.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),f}createEditableElement(n,i,s={}){const l=new Pw(this.document,n,i);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createEmptyElement(n,i,s={}){const l=new VC(this.document,n,i);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createUIElement(n,i,s){const l=new Rw(this.document,n,i);return s&&(l.render=s),l}createRawElement(n,i,s,l={}){const d=new UC(this.document,n,i);return s&&(d.render=s),l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}setAttribute(n,i,s){s._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,s){Wr(n)&&s===void 0?i._setStyle(n):s._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,s){s._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}breakAttributes(n){return n instanceof Ce?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const i=n.parent;if(!i.is("containerElement"))throw new O("view-writer-break-non-container-element",this.document);if(!i.parent)throw new O("view-writer-break-root",this.document);if(n.isAtStart)return Ce._createBefore(i);if(!n.isAtEnd){const s=i._clone(!1);this.insert(Ce._createAfter(i),s);const l=new st(n,Ce._createAt(i,"end")),d=new Ce(s,0);this.move(l,d)}return Ce._createAfter(i)}mergeAttributes(n){const i=n.offset,s=n.parent;if(s.is("$text"))return n;if(s.is("attributeElement")&&s.childCount===0){const f=s.parent,g=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ce(f,g))}const l=s.getChild(i-1),d=s.getChild(i);if(!l||!d)return n;if(l.is("$text")&&d.is("$text"))return wO(l,d);if(l.is("attributeElement")&&d.is("attributeElement")&&l.isSimilar(d)){const f=l.childCount;return l._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new Ce(l,f))}return n}mergeContainers(n){const i=n.nodeBefore,s=n.nodeAfter;if(!i||!s||!i.is("containerElement")||!s.is("containerElement"))throw new O("view-writer-merge-containers-invalid-position",this.document);const l=i.getChild(i.childCount-1),d=l instanceof en?Ce._createAt(l,"end"):Ce._createAt(i,"end");return this.move(st._createIn(s),Ce._createAt(i,"end")),this.remove(st._createOn(s)),d}insert(n,i){i=Wn(i)?[...i]:[i],kO(i,this.document);const s=i.reduce((f,g)=>{const w=f[f.length-1],y=!g.is("uiElement");return!w||w.breakAttributes!=y?f.push({breakAttributes:y,nodes:[g]}):w.nodes.push(g),f},[]);let l=null,d=n;for(const{nodes:f,breakAttributes:g}of s){const w=this._insertNodes(d,f,g);l||(l=w.start),d=w.end}return l?new st(l,d):new st(n)}remove(n){const i=n instanceof st?n:st._createOn(n);if(pp(i,this.document),i.isCollapsed)return new Kl(this.document);const{start:s,end:l}=this._breakAttributesRange(i,!0),d=s.parent,f=l.offset-s.offset,g=d._removeChildren(s.offset,f);for(const y of g)this._removeFromClonedElementsGroup(y);const w=this.mergeAttributes(s);return i.start=w,i.end=w.clone(),new Kl(this.document,g)}clear(n,i){pp(n,this.document);const s=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of s){const d=l.item;let f;if(d.is("element")&&i.isSimilar(d))f=st._createOn(d);else if(!l.nextPosition.isAfter(n.start)&&d.is("$textProxy")){const g=d.getAncestors().find(w=>w.is("element")&&i.isSimilar(w));g&&(f=st._createIn(g))}f&&(f.end.isAfter(n.end)&&(f.end=n.end),f.start.isBefore(n.start)&&(f.start=n.start),this.remove(f))}}move(n,i){let s;if(i.isAfter(n.end)){i=this._breakAttributes(i,!0);const l=i.parent,d=l.childCount;n=this._breakAttributesRange(n,!0),s=this.remove(n),i.offset+=l.childCount-d}else s=this.remove(n);return this.insert(i,s)}wrap(n,i){if(!(i instanceof Gl))throw new O("view-writer-wrap-invalid-attribute",this.document);if(pp(n,this.document),n.isCollapsed){let s=n.start;s.parent.is("element")&&!wne(s.parent)&&(s=s.getLastMatchingPosition(d=>d.item.is("uiElement"))),s=this._wrapPosition(s,i);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(n.start)&&this.setSelection(s),new st(s)}else return this._wrapRange(n,i)}unwrap(n,i){if(!(i instanceof Gl))throw new O("view-writer-unwrap-invalid-attribute",this.document);if(pp(n,this.document),n.isCollapsed)return n;const{start:s,end:l}=this._breakAttributesRange(n,!0),d=s.parent,f=this._unwrapChildren(d,s.offset,l.offset,i),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new st(g,w)}rename(n,i){const s=new hp(this.document,n,i.getAttributes());return this.insert(Ce._createAfter(i),s),this.move(st._createIn(i),Ce._createAt(s,0)),this.remove(st._createOn(i)),s}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,i){return Ce._createAt(n,i)}createPositionAfter(n){return Ce._createAfter(n)}createPositionBefore(n){return Ce._createBefore(n)}createRange(...n){return new st(...n)}createRangeOn(n){return st._createOn(n)}createRangeIn(n){return st._createIn(n)}createSelection(...n){return new _s(...n)}createSlot(n){if(!this._slotFactory)throw new O("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,i,s){let l;if(s?l=$C(n):l=n.parent.is("$text")?n.parent.parent:n.parent,!l)throw new O("view-writer-invalid-position-container",this.document);let d;s?d=this._breakAttributes(n,!0):d=n.parent.is("$text")?HC(n):n;const f=l._insertChild(d.offset,i);for(const C of i)this._addToClonedElementsGroup(C);const g=d.getShiftedBy(f),w=this.mergeAttributes(d);w.isEqual(d)||g.offset--;const y=this.mergeAttributes(g);return new st(w,y)}_wrapChildren(n,i,s,l){let d=i;const f=[];for(;d<s;){const w=n.getChild(d),y=w.is("$text"),C=w.is("attributeElement");if(C&&this._wrapAttributeElement(l,w))f.push(new Ce(n,d));else if(y||!C||kne(l,w)){const x=l._clone();w._remove(),x._appendChild(w),n._insertChild(d,x),this._addToClonedElementsGroup(x),f.push(new Ce(n,d))}else this._wrapChildren(w,0,w.childCount,l);d++}let g=0;for(const w of f){if(w.offset-=g,w.offset==i)continue;this.mergeAttributes(w).isEqual(w)||(g++,s--)}return st._createFromParentsAndOffsets(n,i,n,s)}_unwrapChildren(n,i,s,l){let d=i;const f=[];for(;d<s;){const w=n.getChild(d);if(!w.is("attributeElement")){d++;continue}if(w.isSimilar(l)){const y=w.getChildren(),C=w.childCount;w._remove(),n._insertChild(d,y),this._removeFromClonedElementsGroup(w),f.push(new Ce(n,d),new Ce(n,d+C)),d+=C,s+=C-1;continue}if(this._unwrapAttributeElement(l,w)){f.push(new Ce(n,d),new Ce(n,d+1)),d++;continue}this._unwrapChildren(w,0,w.childCount,l),d++}let g=0;for(const w of f){if(w.offset-=g,w.offset==i||w.offset==s)continue;this.mergeAttributes(w).isEqual(w)||(g++,s--)}return st._createFromParentsAndOffsets(n,i,n,s)}_wrapRange(n,i){const{start:s,end:l}=this._breakAttributesRange(n,!0),d=s.parent,f=this._wrapChildren(d,s.offset,l.offset,i),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new st(g,w)}_wrapPosition(n,i){if(i.isSimilar(n.parent))return bO(n.clone());n.parent.is("$text")&&(n=HC(n));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,n.parent._insertChild(n.offset,s);const l=new st(n,n.getShiftedBy(1));this.wrap(l,i);const d=new Ce(s.parent,s.index);s._remove();const f=d.nodeBefore,g=d.nodeAfter;return f instanceof en&&g instanceof en?wO(f,g):bO(d)}_wrapAttributeElement(n,i){if(!vO(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const s of n.getAttributeKeys())if(!(s==="class"||s==="style")&&i.hasAttribute(s)&&i.getAttribute(s)!==n.getAttribute(s))return!1;for(const s of n.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==n.getStyle(s))return!1;for(const s of n.getAttributeKeys())s==="class"||s==="style"||i.hasAttribute(s)||this.setAttribute(s,n.getAttribute(s),i);for(const s of n.getStyleNames())i.hasStyle(s)||this.setStyle(s,n.getStyle(s),i);for(const s of n.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(n,i){if(!vO(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const s of n.getAttributeKeys())if(!(s==="class"||s==="style")&&(!i.hasAttribute(s)||i.getAttribute(s)!==n.getAttribute(s)))return!1;if(!i.hasClass(...n.getClassNames()))return!1;for(const s of n.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==n.getStyle(s))return!1;for(const s of n.getAttributeKeys())s==="class"||s==="style"||this.removeAttribute(s,i);return this.removeClass(Array.from(n.getClassNames()),i),this.removeStyle(Array.from(n.getStyleNames()),i),!0}_breakAttributesRange(n,i=!1){const s=n.start,l=n.end;if(pp(n,this.document),n.isCollapsed){const w=this._breakAttributes(n.start,i);return new st(w,w)}const d=this._breakAttributes(l,i),f=d.parent.childCount,g=this._breakAttributes(s,i);return d.offset+=d.parent.childCount-f,new st(g,d)}_breakAttributes(n,i=!1){const s=n.offset,l=n.parent;if(n.parent.is("emptyElement"))throw new O("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new O("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new O("view-writer-cannot-break-raw-element",this.document);if(!i&&l.is("$text")&&qC(l.parent)||qC(l))return n.clone();if(l.is("$text"))return this._breakAttributes(HC(n),i);const d=l.childCount;if(s==d){const f=new Ce(l.parent,l.index+1);return this._breakAttributes(f,i)}else if(s===0){const f=new Ce(l.parent,l.index);return this._breakAttributes(f,i)}else{const f=l.index+1,g=l._clone();l.parent._insertChild(f,g),this._addToClonedElementsGroup(g);const w=l.childCount-s,y=l._removeChildren(s,w);g._appendChild(y);const C=new Ce(l.parent,f);return this._breakAttributes(C,i)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const l of n.getChildren())this._addToClonedElementsGroup(l);const i=n.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(n),n._clonesGroup=s}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const l of n.getChildren())this._removeFromClonedElementsGroup(l);const i=n.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(n)}}function wne(c){return Array.from(c.getChildren()).some(n=>!n.is("uiElement"))}function $C(c){let n=c.parent;for(;!qC(n);){if(!n)return;n=n.parent}return n}function kne(c,n){return c.priority<n.priority?!0:c.priority>n.priority?!1:c.getIdentity()<n.getIdentity()}function bO(c){const n=c.nodeBefore;if(n&&n.is("$text"))return new Ce(n,n.data.length);const i=c.nodeAfter;return i&&i.is("$text")?new Ce(i,0):c}function HC(c){if(c.offset==c.parent.data.length)return new Ce(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Ce(c.parent.parent,c.parent.index);const n=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new en(c.root.document,n)),new Ce(c.parent.parent,c.parent.index+1)}function wO(c,n){const i=c.data.length;return c._data+=n.data,n._remove(),new Ce(c,i)}const vne=[en,Gl,hp,VC,UC,Rw];function kO(c,n){for(const i of c){if(!vne.some(s=>i instanceof s))throw new O("view-writer-insert-invalid-node-type",n);i.is("$text")||kO(i.getChildren(),n)}}function qC(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function pp(c,n){const i=$C(c.start),s=$C(c.end);if(!i||!s||i!==s)throw new O("view-writer-invalid-range-container",n)}function vO(c,n){return c.id===null&&n.id===null}const yO=c=>c.createTextNode(""),_O=c=>{const n=c.createElement("span");return n.dataset.ckeFiller="true",n.innerText="",n},AO=c=>{const n=c.createElement("br");return n.dataset.ckeFiller="true",n},As=7,Ow="".repeat(As);function io(c){return Gn(c)&&c.data.substr(0,As)===Ow}function mp(c){return c.data.length==As&&io(c)}function CO(c){return io(c)?c.data.slice(As):c.data}function yne(c){c.document.on("arrowKey",_ne,{priority:"low"})}function _ne(c,n){if(n.keyCode==St.arrowleft){const i=n.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,l=i.getRangeAt(0).startOffset;io(s)&&l<=As&&i.collapse(s,0)}}}var EO=a(4401),WC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};WC.insert="head",WC.singleton=!0,nt()(EO.Z,WC),EO.Z.locals;class Ane extends Me(){constructor(n,i){super(),this.domDocuments=new Set,this.domConverter=n,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),A.isBlink&&!A.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(n,i){if(n==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(n==="attributes")this.markedAttributes.add(i);else if(n==="children")this.markedChildren.add(i);else throw new O("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!A.isAndroid)return;let n=null;const i=A.isBlink&&!A.isAndroid?!this.isSelecting:!0;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=Ce._createBefore(n.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:n});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:n});if(i)if(n){const s=this.domConverter.viewPositionToDom(n),l=s.parent.ownerDocument;io(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=xO(l,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){if(!this.domConverter.mapViewToDom(n))return;const s=Array.from(this.domConverter.mapViewToDom(n).childNodes),l=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),d=this._diffNodeLists(s,l),f=this._findReplaceActions(d,s,l);if(f.indexOf("replace")!==-1){const g={equal:0,insert:0,delete:0};for(const w of f)if(w==="replace"){const y=g.equal+g.insert,C=g.equal+g.delete,x=n.getChild(y);x&&!(x.is("uiElement")||x.is("rawElement"))&&this._updateElementMappings(x,s[C]),dR(l[y]),g.equal++}else g[w]++}}_updateElementMappings(n,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?Ce._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(n);return!!(i&&Gn(i.parent)&&io(i.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!io(n))throw new O("view-renderer-filler-was-lost",this);mp(n)?n.remove():n.data=n.data.substr(As),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=n.parent,s=n.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!Cne(i)||s===i.getFillerOffset())return!1;const l=n.nodeBefore,d=n.nodeAfter;return!(l instanceof en||d instanceof en||A.isAndroid&&(l||d))}_updateText(n,i){const s=this.domConverter.findCorrespondingDomText(n);let d=this.domConverter.viewToDom(n).data;const f=i.inlineFillerPosition;f&&f.parent==n.parent&&f.offset==n.index&&(d=Ow+d),IO(s,d)}_updateAttrs(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const s=Array.from(i.attributes).map(d=>d.name),l=n.getAttributeKeys();for(const d of l)this.domConverter.setDomElementAttribute(i,d,n.getAttribute(d),n);for(const d of s)n.hasAttribute(d)||this.domConverter.removeDomElementAttribute(i,d)}_updateChildren(n,i){const s=this.domConverter.mapViewToDom(n);if(!s)return;if(A.isAndroid){let x=null;for(const N of Array.from(s.childNodes)){if(x&&Gn(x)&&Gn(N)){s.normalize();break}x=N}}const l=i.inlineFillerPosition,d=s.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));l&&l.parent===n&&xO(s.ownerDocument,f,l.offset);const g=this._diffNodeLists(d,f),w=A.isAndroid?this._findReplaceActions(g,d,f,{replaceText:!0}):g;let y=0;const C=new Set;for(const x of w)x==="delete"?(C.add(d[y]),dR(d[y])):(x==="equal"||x==="replace")&&y++;y=0;for(const x of w)x==="insert"?(cR(s,y,f[y]),y++):x==="replace"?(IO(d[y],f[y].data),y++):x==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[y])),y++);for(const x of C)x.parentNode||this.domConverter.unbindDomElement(x)}_diffNodeLists(n,i){return n=Sne(n,this._fakeSelectionContainer),te(n,i,Ene.bind(null,this.domConverter))}_findReplaceActions(n,i,s,l={}){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let d=[],f=[],g=[];const w={equal:0,insert:0,delete:0};for(const y of n)y==="insert"?g.push(s[w.equal+w.insert]):y==="delete"?f.push(i[w.equal+w.delete]):(d=d.concat(te(f,g,l.replaceText?TO:SO).map(C=>C==="equal"?"replace":C)),d.push("equal"),f=[],g=[]),w[y]++;return d.concat(te(f,g,l.replaceText?TO:SO).map(y=>y==="equal"?"replace":y))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const i of n.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(A.isBlink&&!A.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const n=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!n||(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&A.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const i=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Tne(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(n))return;(!s.parentElement||s.parentElement!=n)&&n.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const l=i.getSelection(),d=i.createRange();l.removeAllRanges(),d.selectNodeContents(s),l.addRange(d)}_updateDomSelection(n){const i=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);i.collapse(s.parent,s.offset),i.extend(l.parent,l.offset),A.isGecko&&xne(l,i)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const i=n&&this.domConverter.domSelectionToView(n);return!(i&&this.selection.isEqual(i)||!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(n){const i=this._fakeSelectionContainer,s=n.ownerDocument.getSelection();return!i||i.parentElement!==n||s.anchorNode!==i&&!i.contains(s.anchorNode)?!0:i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const i=n.getSelection();if(i.rangeCount){const s=n.activeElement,l=this.domConverter.mapDomToView(s);s&&l&&i.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function Cne(c){if(c.getAttribute("contenteditable")=="false")return!1;const n=c.findAncestor(i=>i.hasAttribute("contenteditable"));return!n||n.getAttribute("contenteditable")=="true"}function xO(c,n,i){const s=n instanceof Array?n:n.childNodes,l=s[i];if(Gn(l))return l.data=Ow+l.data,l;{const d=c.createTextNode(Ow);return Array.isArray(n)?s.splice(i,0,d):cR(n,i,d),d}}function SO(c,n){return lc(c)&&lc(n)&&!Gn(c)&&!Gn(n)&&!Nd(c)&&!Nd(n)&&c.tagName.toLowerCase()===n.tagName.toLowerCase()}function TO(c,n){return lc(c)&&lc(n)&&Gn(c)&&Gn(n)}function Ene(c,n,i){return n===i?!0:Gn(n)&&Gn(i)?n.data===i.data:!!(c.isBlockFiller(n)&&c.isBlockFiller(i))}function xne(c,n){const i=c.parent;if(i.nodeType!=Node.ELEMENT_NODE||c.offset!=i.childNodes.length-1)return;const s=i.childNodes[c.offset];s&&s.tagName=="BR"&&n.addRange(n.getRangeAt(0))}function Sne(c,n){const i=Array.from(c);return i.length==0||!n||i[i.length-1]==n&&i.pop(),i}function Tne(c){const n=c.createElement("div");return n.className="ck-fake-selection-container",Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent="",n}function IO(c,n){const i=c.data;if(i==n)return;const s=V(i,n);for(const l of s)l.type==="insert"?c.insertData(l.index,l.values.join("")):c.deleteData(l.index,l.howMany)}const Ine=AO(vt.document),Dne=yO(vt.document),Pne=_O(vt.document),Lw="data-ck-unsafe-attribute-",DO="data-ck-unsafe-element";class Bw{constructor(n,i={}){this.document=n,this.renderingMode=i.renderingMode||"editing",this.blockFillerMode=i.blockFillerMode||(this.renderingMode==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?vt.document:vt.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ys,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(n,i){this._fakeSelectionMapping.set(n,new _s(i))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}unbindDomElement(n){const i=this._domToViewMapping.get(n);if(i){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(i);for(const s of Array.from(n.children))this.unbindDomElement(s)}}bindDocumentFragments(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}shouldRenderAttribute(n,i,s){return this.renderingMode==="data"?!0:(n=n.toLowerCase(),n.startsWith("on")||n==="srcdoc"&&i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:s==="img"&&(n==="src"||n==="srcset")||s==="source"&&n==="srcset"?!0:!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,i){if(this.renderingMode==="data"){n.innerHTML=i;return}const s=new DOMParser().parseFromString(i,"text/html"),l=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);const f=s.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),g=[];let w;for(;w=f.nextNode();)g.push(w);for(const y of g){for(const x of y.getAttributeNames())this.setDomElementAttribute(y,x,y.getAttribute(x));const C=y.tagName.toLowerCase();this._shouldRenameElement(C)&&(NO(C),y.replaceWith(this._createReplacementDomElement(C,y)))}for(;n.firstChild;)n.firstChild.remove();n.append(l)}viewToDom(n,i={}){if(n.is("$text")){const s=this._processDataFromViewText(n);return this._domDocument.createTextNode(s)}else{if(this.mapViewToDom(n))return this.mapViewToDom(n);let s;if(n.is("documentFragment"))s=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(s,n);else{if(n.is("uiElement"))return n.name==="$comment"?s=this._domDocument.createComment(n.getCustomProperty("$rawContent")):s=n.render(this._domDocument,this),i.bind&&this.bindElements(s,n),s;this._shouldRenameElement(n.name)?(NO(n.name),s=this._createReplacementDomElement(n.name)):n.hasAttribute("xmlns")?s=this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):s=this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(s,this),i.bind&&this.bindElements(s,n);for(const l of n.getAttributeKeys())this.setDomElementAttribute(s,l,n.getAttribute(l),n)}if(i.withChildren!==!1)for(const l of this.viewChildrenToDom(n,i))s.appendChild(l);return s}}setDomElementAttribute(n,i,s,l){const d=this.shouldRenderAttribute(i,s,n.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(i);d||Be("domconverter-unsafe-attribute-detected",{domElement:n,key:i,value:s}),n.hasAttribute(i)&&!d?n.removeAttribute(i):n.hasAttribute(Lw+i)&&d&&n.removeAttribute(Lw+i),n.setAttribute(d?i:Lw+i,s)}removeDomElementAttribute(n,i){i!=DO&&(n.removeAttribute(i),n.removeAttribute(Lw+i))}*viewChildrenToDom(n,i={}){const s=n.getFillerOffset&&n.getFillerOffset();let l=0;for(const d of n.getChildren()){s===l&&(yield this._getBlockFiller());const f=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!Bn(d.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,i):(f&&Be("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,i)),l++}s===l&&(yield this._getBlockFiller())}viewRangeToDom(n){const i=this.viewPositionToDom(n.start),s=this.viewPositionToDom(n.end),l=this._domDocument.createRange();return l.setStart(i.parent,i.offset),l.setEnd(s.parent,s.offset),l}viewPositionToDom(n){const i=n.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let l=n.offset;return io(s)&&(l+=As),{parent:s,offset:l}}else{let s,l,d;if(n.offset===0){if(s=this.mapViewToDom(i),!s)return null;d=s.childNodes[0]}else{const g=n.nodeBefore;if(l=g.is("$text")?this.findCorrespondingDomText(g):this.mapViewToDom(g),!l)return null;s=l.parentNode,d=l.nextSibling}if(Gn(d)&&io(d))return{parent:d,offset:As};const f=l?_w(l)+1:0;return{parent:s,offset:f}}}domToView(n,i={}){if(this.isBlockFiller(n))return null;const s=this.getHostViewElement(n);if(s)return s;if(Nd(n)&&i.skipComments)return null;if(Gn(n)){if(mp(n))return null;{const l=this._processDataFromDomText(n);return l===""?null:new en(this.document,l)}}else{if(this.mapDomToView(n))return this.mapDomToView(n);let l;if(this.isDocumentFragment(n))l=new Kl(this.document),i.bind&&this.bindDocumentFragments(n,l);else{l=this._createViewElement(n,i),i.bind&&this.bindElements(n,l);const d=n.attributes;if(d)for(let f=d.length,g=0;g<f;g++)l._setAttribute(d[g].name,d[g].value);if(this._isViewElementWithRawContent(l,i)||Nd(n)){const f=Nd(n)?n.data:n.innerHTML;return l._setCustomProperty("$rawContent",f),this._encounteredRawContentDomNodes.add(n),l}}if(i.withChildren!==!1)for(const d of this.domChildrenToView(n,i))l._appendChild(d);return l}}*domChildrenToView(n,i){for(let s=0;s<n.childNodes.length;s++){const l=n.childNodes[s],d=this.domToView(l,i);d!==null&&(yield d)}}domSelectionToView(n){if(n.rangeCount===1){let l=n.getRangeAt(0).startContainer;Gn(l)&&(l=l.parentNode);const d=this.fakeSelectionToView(l);if(d)return d}const i=this.isDomSelectionBackward(n),s=[];for(let l=0;l<n.rangeCount;l++){const d=n.getRangeAt(l),f=this.domRangeToView(d);f&&s.push(f)}return new _s(s,{backward:i})}domRangeToView(n){const i=this.domPositionToView(n.startContainer,n.startOffset),s=this.domPositionToView(n.endContainer,n.endOffset);return i&&s?new st(i,s):null}domPositionToView(n,i=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,_w(n));const s=this.mapDomToView(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return Ce._createBefore(s);if(Gn(n)){if(mp(n))return this.domPositionToView(n.parentNode,_w(n));const l=this.findCorrespondingViewText(n);let d=i;return l?(io(n)&&(d-=As,d=d<0?0:d),new Ce(l,d)):null}else{if(i===0){const l=this.mapDomToView(n);if(l)return new Ce(l,0)}else{const l=n.childNodes[i-1];if(Gn(l)&&mp(l))return this.domPositionToView(l.parentNode,_w(l));const d=Gn(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(d&&d.parent)return new Ce(d.parent,d.index+1)}return null}}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(mp(n))return null;const i=this.getHostViewElement(n);if(i)return i;const s=n.previousSibling;if(s){if(!this.isElement(s))return null;const l=this.mapDomToView(s);if(l){const d=l.nextSibling;return d instanceof en?d:null}}else{const l=this.mapDomToView(n.parentNode);if(l){const d=l.getChild(0);return d instanceof en?d:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const i=n.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const i=this.mapViewToDom(n);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:l}=vt.window,d=[];PO(i,f=>{const{scrollLeft:g,scrollTop:w}=f;d.push([g,w])}),i.focus(),PO(i,f=>{const[g,w]=d.shift();f.scrollLeft=g,f.scrollTop=w}),vt.window.scrollTo(s,l)}}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(Ine):n.tagName==="BR"&&MO(n,this.blockElements)&&n.parentNode.childNodes.length===1?!0:n.isEqualNode(Pne)||Nne(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(n.anchorNode,n.anchorOffset),i.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const s=i.collapsed;return i.detach(),s}getHostViewElement(n){const i=nR(n);for(i.pop();i.length;){const s=i.pop(),l=this._domToViewMapping.get(s);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return yO(this._domDocument);case"markedNbsp":return _O(this._domDocument);case"br":return AO(this._domDocument)}}_isDomSelectionPositionCorrect(n,i){if(Gn(n)&&io(n)&&i<As||this.isElement(n)&&io(n.childNodes[i]))return!1;const s=this.mapDomToView(n);return!(s&&(s.is("uiElement")||s.is("rawElement")))}_processDataFromViewText(n){let i=n.data;if(n.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(i.charAt(0)==" "){const s=this._getTouchingInlineViewNode(n,!1);(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s)||!s)&&(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const s=this._getTouchingInlineViewNode(n,!0),l=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";(i.charAt(i.length-2)==" "||!s||l)&&(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(n);return i.charAt(i.length-1)==" "}_processDataFromDomText(n){let i=n.data;if(Mne(n,this.preElements))return CO(n);i=i.replace(/[ \n\t\r]{1,}/g," ");const s=this._getTouchingInlineDomNode(n,!1),l=this._getTouchingInlineDomNode(n,!0),d=this._checkShouldLeftTrimDomText(n,s),f=this._checkShouldRightTrimDomText(n,l);d&&(i=i.replace(/^ /,"")),f&&(i=i.replace(/ $/,"")),i=CO(new Text(i)),i=i.replace(/ \u00A0/g,"  ");const g=l&&this.isElement(l)&&l.tagName!="BR",w=l&&Gn(l)&&l.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(i)||!l||g||w)&&(i=i.replace(/\u00A0$/," ")),(d||s&&this.isElement(s)&&s.tagName!="BR")&&(i=i.replace(/^\u00A0/," ")),i}_checkShouldLeftTrimDomText(n,i){return i?this.isElement(i)?i.tagName==="BR":this._encounteredRawContentDomNodes.has(n.previousSibling)?!1:/[^\S\u00A0]/.test(i.data.charAt(i.data.length-1)):!0}_checkShouldRightTrimDomText(n,i){return i?!1:!io(n)}_getTouchingInlineViewNode(n,i){const s=new Wl({startPosition:i?Ce._createAfter(n):Ce._createBefore(n),direction:i?"forward":"backward"});for(const l of s){if(l.item.is("element")&&this.inlineObjectElements.includes(l.item.name))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("element","br"))return null;if(l.item.is("$textProxy"))return l.item}return null}_getTouchingInlineDomNode(n,i){if(!n.parentNode)return null;const s=i?"firstChild":"lastChild",l=i?"nextSibling":"previousSibling";let d=!0,f=n;do if(!d&&f[s]?f=f[s]:f[l]?(f=f[l],d=!1):(f=f.parentNode,d=!0),!f||this._isBlockElement(f))return null;while(!(Gn(f)||f.tagName=="BR"||this._isInlineObjectElement(f)));return f}_isBlockElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isInlineObjectElement(n){return this.isElement(n)&&this.inlineObjectElements.includes(n.tagName.toLowerCase())}_createViewElement(n,i){if(Nd(n))return new Rw(this.document,"$comment");const s=i.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new ro(this.document,s)}_isViewElementWithRawContent(n,i){return i.withChildren!==!1&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const i=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(n,i){const s=this._domDocument.createElement("span");if(s.setAttribute(DO,n),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const l of i.getAttributeNames())s.setAttribute(l,i.getAttribute(l))}return s}}function Mne(c,n){return nR(c).some(s=>s.tagName&&n.includes(s.tagName.toLowerCase()))}function PO(c,n){let i=c;for(;i;)n(i),i=i.parentElement}function Nne(c,n){return c.isEqualNode(Dne)&&MO(c,n)&&c.parentNode.childNodes.length===1}function MO(c,n){const i=c.parentNode;return!!i&&!!i.tagName&&n.includes(i.tagName.toLowerCase())}function NO(c){c==="script"&&Be("domconverter-unsafe-script-element-detected"),c==="style"&&Be("domconverter-unsafe-style-element-detected")}class Cs extends uc(){constructor(n){super(),this.view=n,this.document=n.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!n||n.nodeType!==1?!1:n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var Rne=cO(function(c,n){no(n,Md(n),c)});const RO=Rne;class Fd{constructor(n,i,s){this.view=n,this.document=n.document,this.domEvent=i,this.domTarget=i.target,RO(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class dc extends Cs{constructor(n){super(n),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(n,s,(l,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}fire(n,i,s){this.isEnabled&&this.document.fire(n,new Fd(this.view,i,s))}}class One extends dc{constructor(n){super(n),this.domEventType=["keydown","keyup"]}onDomEvent(n){const i={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return Rd(this)}};this.fire(n.type,n,i)}}var Lne=function(){return Er.Date.now()};const GC=Lne;var Bne=/\s/;function zne(c){for(var n=c.length;n--&&Bne.test(c.charAt(n)););return n}const Fne=zne;var jne=/^\s+/;function Vne(c){return c&&c.slice(0,Fne(c)+1).replace(jne,"")}const Une=Vne;var OO=0/0,$ne=/^[-+]0x[0-9a-f]+$/i,Hne=/^0b[01]+$/i,qne=/^0o[0-7]+$/i,Wne=parseInt;function Gne(c){if(typeof c=="number")return c;if(Iw(c))return OO;if(ve(c)){var n=typeof c.valueOf=="function"?c.valueOf():c;c=ve(n)?n+"":n}if(typeof c!="string")return c===0?c:+c;c=Une(c);var i=Hne.test(c);return i||qne.test(c)?Wne(c.slice(2),i?2:8):$ne.test(c)?OO:+c}const LO=Gne;var Kne="Expected a function",Yne=Math.max,Qne=Math.min;function Zne(c,n,i){var s,l,d,f,g,w,y=0,C=!1,x=!1,N=!0;if(typeof c!="function")throw new TypeError(Kne);n=LO(n)||0,ve(i)&&(C=!!i.leading,x="maxWait"in i,d=x?Yne(LO(i.maxWait)||0,n):d,N="trailing"in i?!!i.trailing:N);function F(Ge){var lt=s,it=l;return s=l=void 0,y=Ge,f=c.apply(it,lt),f}function U(Ge){return y=Ge,g=setTimeout(Te,n),C?F(Ge):f}function G(Ge){var lt=Ge-w,it=Ge-y,Fn=n-lt;return x?Qne(Fn,d-it):Fn}function ae(Ge){var lt=Ge-w,it=Ge-y;return w===void 0||lt>=n||lt<0||x&&it>=d}function Te(){var Ge=GC();if(ae(Ge))return Oe(Ge);g=setTimeout(Te,G(Ge))}function Oe(Ge){return g=void 0,N&&s?F(Ge):(s=l=void 0,f)}function Tt(){g!==void 0&&clearTimeout(g),y=0,s=w=l=g=void 0}function fn(){return g===void 0?f:Oe(GC())}function Qn(){var Ge=GC(),lt=ae(Ge);if(s=arguments,l=this,w=Ge,lt){if(g===void 0)return U(w);if(x)return clearTimeout(g),g=setTimeout(Te,n),F(w)}return g===void 0&&(g=setTimeout(Te,n)),f}return Qn.cancel=Tt,Qn.flush=fn,Qn}const gp=Zne;class Jne extends Cs{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=gp(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const n=this.document;n.on("arrowKey",(i,s)=>{n.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),n.on("arrowKey",(i,s)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const i=this.document.selection,s=new _s(i.getRanges(),{backward:i.isBackward,fake:!1});(n==St.arrowleft||n==St.arrowup)&&s.setTo(s.getFirstPosition()),(n==St.arrowright||n==St.arrowdown)&&s.setTo(s.getLastPosition());const l={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}var Xne="__lodash_hash_undefined__";function ere(c){return this.__data__.set(c,Xne),this}const tre=ere;function nre(c){return this.__data__.has(c)}const rre=nre;function zw(c){var n=-1,i=c==null?0:c.length;for(this.__data__=new cc;++n<i;)this.add(c[n])}zw.prototype.add=zw.prototype.push=tre,zw.prototype.has=rre;const ire=zw;function ore(c,n){for(var i=-1,s=c==null?0:c.length;++i<s;)if(n(c[i],i,c))return!0;return!1}const sre=ore;function are(c,n){return c.has(n)}const cre=are;var lre=1,ure=2;function dre(c,n,i,s,l,d){var f=i&lre,g=c.length,w=n.length;if(g!=w&&!(f&&w>g))return!1;var y=d.get(c),C=d.get(n);if(y&&C)return y==n&&C==c;var x=-1,N=!0,F=i&ure?new ire:void 0;for(d.set(c,n),d.set(n,c);++x<g;){var U=c[x],G=n[x];if(s)var ae=f?s(G,U,x,n,c,d):s(U,G,x,c,n,d);if(ae!==void 0){if(ae)continue;N=!1;break}if(F){if(!sre(n,function(Te,Oe){if(!cre(F,Oe)&&(U===Te||l(U,Te,i,s,d)))return F.push(Oe)})){N=!1;break}}else if(!(U===G||l(U,G,i,s,d))){N=!1;break}}return d.delete(c),d.delete(n),N}const BO=dre;function hre(c){var n=-1,i=Array(c.size);return c.forEach(function(s,l){i[++n]=[l,s]}),i}const fre=hre;function pre(c){var n=-1,i=Array(c.size);return c.forEach(function(s){i[++n]=s}),i}const mre=pre;var gre=1,bre=2,wre="[object Boolean]",kre="[object Date]",vre="[object Error]",yre="[object Map]",_re="[object Number]",Are="[object RegExp]",Cre="[object Set]",Ere="[object String]",xre="[object Symbol]",Sre="[object ArrayBuffer]",Tre="[object DataView]",zO=zi?zi.prototype:void 0,KC=zO?zO.valueOf:void 0;function Ire(c,n,i,s,l,d,f){switch(i){case Tre:if(c.byteLength!=n.byteLength||c.byteOffset!=n.byteOffset)return!1;c=c.buffer,n=n.buffer;case Sre:return!(c.byteLength!=n.byteLength||!d(new bw(c),new bw(n)));case wre:case kre:case _re:return oc(+c,+n);case vre:return c.name==n.name&&c.message==n.message;case Are:case Ere:return c==n+"";case yre:var g=fre;case Cre:var w=s&gre;if(g||(g=mre),c.size!=n.size&&!w)return!1;var y=f.get(c);if(y)return y==n;s|=bre,f.set(c,n);var C=BO(g(c),g(n),s,l,d,f);return f.delete(c),C;case xre:if(KC)return KC.call(c)==KC.call(n)}return!1}const Dre=Ire;var Pre=1,Mre=Object.prototype,Nre=Mre.hasOwnProperty;function Rre(c,n,i,s,l,d){var f=i&Pre,g=tC(c),w=g.length,y=tC(n),C=y.length;if(w!=C&&!f)return!1;for(var x=w;x--;){var N=g[x];if(!(f?N in n:Nre.call(n,N)))return!1}var F=d.get(c),U=d.get(n);if(F&&U)return F==n&&U==c;var G=!0;d.set(c,n),d.set(n,c);for(var ae=f;++x<w;){N=g[x];var Te=c[N],Oe=n[N];if(s)var Tt=f?s(Oe,Te,N,n,c,d):s(Te,Oe,N,c,n,d);if(!(Tt===void 0?Te===Oe||l(Te,Oe,i,s,d):Tt)){G=!1;break}ae||(ae=N=="constructor")}if(G&&!ae){var fn=c.constructor,Qn=n.constructor;fn!=Qn&&"constructor"in c&&"constructor"in n&&!(typeof fn=="function"&&fn instanceof fn&&typeof Qn=="function"&&Qn instanceof Qn)&&(G=!1)}return d.delete(c),d.delete(n),G}const Ore=Rre;var Lre=1,FO="[object Arguments]",jO="[object Array]",Fw="[object Object]",Bre=Object.prototype,VO=Bre.hasOwnProperty;function zre(c,n,i,s,l,d){var f=un(c),g=un(n),w=f?jO:lp(c),y=g?jO:lp(n);w=w==FO?Fw:w,y=y==FO?Fw:y;var C=w==Fw,x=y==Fw,N=w==y;if(N&&ap(c)){if(!ap(n))return!1;f=!0,C=!1}if(N&&!C)return d||(d=new P),f||ZA(c)?BO(c,n,i,s,l,d):Dre(c,n,w,i,s,l,d);if(!(i&Lre)){var F=C&&VO.call(c,"__wrapped__"),U=x&&VO.call(n,"__wrapped__");if(F||U){var G=F?c.value():c,ae=U?n.value():n;return d||(d=new P),l(G,ae,i,s,d)}}return N?(d||(d=new P),Ore(c,n,i,s,l,d)):!1}const Fre=zre;function UO(c,n,i,s,l){return c===n?!0:c==null||n==null||!qr(c)&&!qr(n)?c!==c&&n!==n:Fre(c,n,i,s,UO,l)}const $O=UO;function jre(c,n,i){i=typeof i=="function"?i:void 0;var s=i?i(c,n):void 0;return s===void 0?$O(c,n,void 0,i):!!s}const Vre=jre;class HO extends Cs{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.push(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const i=this.domConverter,s=new Set,l=new Set;for(const f of n){const g=i.mapDomToView(f.target);g&&(g.is("uiElement")||g.is("rawElement")||f.type==="childList"&&!this._isBogusBrMutation(f)&&l.add(g))}for(const f of n){const g=i.mapDomToView(f.target);if(!(g&&(g.is("uiElement")||g.is("rawElement")))&&f.type==="characterData"){const w=i.findCorrespondingViewText(f.target);w&&!l.has(w.parent)?s.add(w):!w&&io(f.target)&&l.add(i.mapDomToView(f.target.parentNode))}}let d=!1;for(const f of s)d=!0,this.renderer.markToSync("text",f);for(const f of l){const g=i.mapViewToDom(f),w=Array.from(f.getChildren()),y=Array.from(i.domChildrenToView(g,{withChildren:!1}));Vre(w,y,Ure)||(d=!0,this.renderer.markToSync("children",f))}d&&this.view.forceRender()}_isBogusBrMutation(n){let i=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(i=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function Ure(c,n){if(!Array.isArray(c))return c===n?!0:c.is("$text")&&n.is("$text")?c.data===n.data:!1}class YC extends dc{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),i.on("blur",(s,l)=>{const d=i.selection.editableElement;(d===null||d===l.target)&&(i.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class $re extends Cs{constructor(n){super(n),this.mutationObserver=n.getObserver(HO),this.focusObserver=n.getObserver(YC),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=gp(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=gp(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const i=n.ownerDocument,s=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},l=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",s,{priority:"highest"}),this.listenTo(n,"keydown",l,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",l,{priority:"highest",useCapture:!0}),!this._documents.has(i)&&(this.listenTo(i,"mouseup",l,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(d,f)=>{this.document.isComposing&&!A.isAndroid||(this._handleSelectionChange(f,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(n,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(s);if(l.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(l)&&this.domConverter.isDomSelectionCorrect(s))&&!(++this._loopbackCounter>60))if(this.focusObserver.flush(),this.selection.isSimilar(l))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:l,domSelection:s};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Hre extends dc{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class qO{constructor(n,i={}){this._files=i.cacheFiles?WO(n):null,this._native=n}get files(){return this._files||(this._files=WO(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,i){this._native.setData(n,i)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function WO(c){const n=Array.from(c.files||[]),i=Array.from(c.items||[]);return n.length?n:i.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class qre extends dc{constructor(n){super(n),this.domEventType=["beforeinput"]}onDomEvent(n){const i=n.getTargetRanges(),s=this.view,l=s.document;let d=null,f=null,g=[];if(n.dataTransfer&&(d=new qO(n.dataTransfer)),n.data!==null?f=n.data:d&&(f=d.getData("text/plain")),l.selection.isFake)g=Array.from(l.selection.getRanges());else if(i.length)g=i.map(w=>s.domConverter.domRangeToView(w));else if(A.isAndroid){const w=n.target.ownerDocument.defaultView.getSelection();g=Array.from(s.domConverter.domSelectionToView(w).getRanges())}if(A.isAndroid&&n.inputType=="insertCompositionText"&&f&&f.endsWith(`
`)){this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[s.createRange(g[0].end)]});return}if(n.inputType=="insertText"&&f&&f.includes(`
`)){const w=f.split(/\n{1,2}/g);let y=g;for(let C=0;C<w.length;C++){const x=w[C];x!=""&&(this.fire(n.type,n,{data:x,dataTransfer:d,targetRanges:y,inputType:n.inputType,isComposing:n.isComposing}),y=[l.selection.getFirstRange()]),C+1<w.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:y}),y=[l.selection.getFirstRange()])}return}this.fire(n.type,n,{data:f,dataTransfer:d,targetRanges:g,inputType:n.inputType,isComposing:n.isComposing})}}class Wre extends Cs{constructor(n){super(n),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&VX(s.keyCode)){const l=new Bd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,s),l.stop.called&&i.stop()}})}observe(){}}class Gre extends Cs{constructor(n){super(n);const i=this.document;i.on("keydown",(s,l)=>{if(!this.isEnabled||l.keyCode!=St.tab||l.ctrlKey)return;const d=new Bd(i,"tab",i.selection.getFirstRange());i.fire(d,l),d.stop.called&&s.stop()})}observe(){}}class Kre extends Me(){constructor(n){super(),this.document=new Nw(n),this.domConverter=new Bw(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ane(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new gO(this.document),this.addObserver(HO),this.addObserver(YC),this.addObserver($re),this.addObserver(One),this.addObserver(Jne),this.addObserver(Hre),this.addObserver(Wre),this.addObserver(qre),this.addObserver(Gre),yne(this),fne(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(n,i="main"){const s=this.document.getRoot(i);s._name=n.tagName.toLowerCase();const l={};for(const{name:f,value:g}of Array.from(n.attributes))l[f]=g,f==="class"?this._writer.addClass(g.split(" "),s):this._writer.setAttribute(f,g,s);this._initialDomRootAttributes.set(n,l);const d=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};d(),this.domRoots.set(i,n),this.domConverter.bindElements(n,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(n.ownerDocument),s.on("change:children",(f,g)=>this._renderer.markToSync("children",g)),s.on("change:attributes",(f,g)=>this._renderer.markToSync("attributes",g)),s.on("change:text",(f,g)=>this._renderer.markToSync("text",g)),s.on("change:isReadOnly",()=>this.change(d)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(n,i)}detachDomRoot(n){const i=this.domRoots.get(n);Array.from(i.attributes).forEach(({name:l})=>i.removeAttribute(l));const s=this._initialDomRootAttributes.get(i);for(const l in s)i.setAttribute(l,s[l]);this.domRoots.delete(n),this.domConverter.unbindDomElement(i)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let i=this._observers.get(n);if(i)return i;i=new n(this),this._observers.set(n,i);for(const[s,l]of this.domRoots)i.observe(l,s);return i.enable(),i}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection(){const n=this.document.selection.getFirstRange();n&&OX({target:this.domConverter.viewRangeToDom(n),viewportOffset:20})}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new O("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const i=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){O.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(YC).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,i){return Ce._createAt(n,i)}createPositionAfter(n){return Ce._createAfter(n)}createPositionBefore(n){return Ce._createBefore(n)}createRange(...n){return new st(...n)}createRangeOn(n){return st._createOn(n)}createRangeIn(n){return st._createIn(n)}createSelection(...n){return new _s(...n)}_disableRendering(n){this._renderingDisabled=n,n==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class hc{is(){throw new Error("is() method is abstract")}}class jd extends hc{constructor(n){super(),this.parent=null,this._attrs=ks(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new O("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new O("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.startOffset),i=i.parent;return n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(n,i={}){const s=this.getAncestors(i),l=n.getAncestors(i);let d=0;for(;s[d]==l[d]&&s[d];)d++;return d===0?null:s[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),s=n.getPath(),l=xn(i,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<s[l]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,i){this._attrs.set(n,i)}_setAttributesTo(n){this._attrs=ks(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}jd.prototype.is=function(c){return c==="node"||c==="model:node"};class bp{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,i)=>n+i.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const i=this._nodes.indexOf(n);return i==-1?null:i}getNodeStartOffset(n){const i=this.getNodeIndex(n);return i===null?null:this._nodes.slice(0,i).reduce((s,l)=>s+l.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const i=this._nodes[n];if(!i)throw new O("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(n){let i=0;for(const s of this._nodes){if(n>=i&&n<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=n)throw new O("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,i){for(const s of i)if(!(s instanceof jd))throw new O("model-nodelist-insertnodes-not-node",this);this._nodes=eee(this._nodes,Array.from(i),n,0)}_removeNodes(n,i=1){return this._nodes.splice(n,i)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class tn extends jd{constructor(n,i){super(i),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new tn(this.data,this.getAttributes())}static fromJSON(n){return new tn(n.data,n.attributes)}}tn.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class Jo extends hc{constructor(n,i,s){if(super(),this.textNode=n,i<0||i>n.offsetSize)throw new O("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>n.offsetSize)throw new O("model-textproxy-wrong-length",this);this.data=n.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Jo.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class qt extends jd{constructor(n,i,s){super(i),this._children=new bp,this.name=n,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let i=this;for(const s of n)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(n,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===n)return s;s=s.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const i of this._children)n.children.push(i.toJSON())}return n}_clone(n=!1){const i=n?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new qt(this.name,this.getAttributes(),i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const s=Yre(i);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,i=1){const s=this._children._removeNodes(n,i);for(const l of s)l.parent=null;return s}static fromJSON(n){let i;if(n.children){i=[];for(const s of n.children)s.name?i.push(qt.fromJSON(s)):i.push(tn.fromJSON(s))}return new qt(n.name,n.attributes,i)}}qt.prototype.is=function(c,n){return n?n===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};function Yre(c){return typeof c=="string"?[new tn(c)]:(Wn(c)||(c=[c]),Array.from(c).map(n=>typeof n=="string"?new tn(n):n instanceof Jo?new tn(n.data,n.getAttributes()):n))}class Es{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new O("model-tree-walker-no-start-position",null);const i=n.direction||"forward";if(i!="forward"&&i!="backward")throw new O("model-tree-walker-unknown-direction",n,{direction:i});this.direction=i,this.boundaries=n.boundaries||null,n.startPosition?this.position=n.startPosition.clone():this.position=fe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(n){let i,s,l,d;do l=this.position,d=this._visitedParent,{done:i,value:s}=this.next();while(!i&&n(s));i||(this.position=l,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=wp(i,s),d=l||GO(i,s,l);if(d instanceof qt)return this.shallow?i.offset++:(i.path.push(0),this._visitedParent=d),this.position=i,Yl("elementStart",d,n,i,1);if(d instanceof tn){let f;if(this.singleCharacters)f=1;else{let y=d.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<y&&(y=this.boundaries.end.offset),f=y-i.offset}const g=i.offset-d.startOffset,w=new Jo(d,g,f);return i.offset+=f,this.position=i,Yl("text",w,n,i,f)}else return i.path.pop(),i.offset++,this.position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Yl("elementEnd",s,n,i)}_previous(){const n=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=i.parent,d=wp(i,l),f=d||KO(i,l,d);if(f instanceof qt)return i.offset--,this.shallow?(this.position=i,Yl("elementStart",f,n,i,1)):(i.path.push(f.maxOffset),this.position=i,this._visitedParent=f,this.ignoreElementEnd?this._previous():Yl("elementEnd",f,n,i));if(f instanceof tn){let g;if(this.singleCharacters)g=1;else{let C=f.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>C&&(C=this.boundaries.start.offset),g=i.offset-C}const w=i.offset-f.startOffset,y=new Jo(f,w-g,g);return i.offset-=g,this.position=i,Yl("text",y,n,i,g)}else return i.path.pop(),this.position=i,this._visitedParent=s.parent,Yl("elementStart",s,n,i,1)}}function Yl(c,n,i,s,l){return{done:!1,value:{type:c,item:n,previousPosition:i,nextPosition:s,length:l}}}class fe extends hc{constructor(n,i,s="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new O("model-position-root-invalid",n);if(!(i instanceof Array)||i.length===0)throw new O("model-position-path-incorrect-format",n,{path:i});n.is("rootElement")?i=i.slice():(i=[...n.getPath(),...i],n=n.root),this.root=n,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let i=0;i<this.path.length-1;i++)if(n=n.getChild(n.offsetToIndex(this.path[i])),!n)throw new O("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new O("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return wp(this,this.parent)}get nodeAfter(){const n=this.parent;return GO(this,n,wp(this,n))}get nodeBefore(){const n=this.parent;return KO(this,n,wp(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const i=xn(this.path,n.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<n.path[i]?"before":"after"}}getLastMatchingPosition(n,i={}){i.startPosition=this;const s=new Es(i);return s.skip(n),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const i=this.parent;return i.is("element")?i.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const i=xn(this.path,n.path),s=typeof i=="string"?Math.min(this.path.length,n.path.length):i;return this.path.slice(0,s)}getCommonAncestor(n){const i=this.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]==s[l]&&i[l];)l++;return l===0?null:i[l-1]}getShiftedBy(n){const i=this.clone(),s=i.offset+n;return i.offset=s<0?0:s,i}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const i=Math.min(this.path.length,n.path.length);for(let s=0;s<i;s++){const l=this.path[s]-n.path[s];if(l<-1||l>1)return!1;if(l===1)return YO(n,this,s);if(l===-1)return YO(this,n,s)}return this.path.length===n.path.length?!0:this.path.length>n.path.length?QC(this.path,i):QC(n.path,i)}hasSameParentAs(n){if(this.root!==n.root)return!1;const i=this.getParentPath(),s=n.getParentPath();return xn(i,s)=="same"}getTransformedByOperation(n){let i;switch(n.type){case"insert":i=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(n);break;case"split":i=this._getTransformedBySplitOperation(n);break;case"merge":i=this._getTransformedByMergeOperation(n);break;default:i=fe._createAt(this);break}return i}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const i=n.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const i=n.movedRange,s=i.containsPosition(this)||i.start.isEqual(this);let l;return s?(l=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(l=l._getTransformedByDeletion(n.deletionPosition,1))):this.isEqual(n.deletionPosition)?l=fe._createAt(n.deletionPosition):l=this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),l}_getTransformedByDeletion(n,i){const s=fe._createAt(this);if(this.root!=n.root)return s;if(xn(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+i>this.offset)return null;s.offset-=i}}else if(xn(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;if(n.offset<=this.path[l]){if(n.offset+i>this.path[l])return null;s.path[l]-=i}}return s}_getTransformedByInsertion(n,i){const s=fe._createAt(this);if(this.root!=n.root)return s;if(xn(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(xn(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;n.offset<=this.path[l]&&(s.path[l]+=i)}return s}_getTransformedByMove(n,i,s){if(i=i._getTransformedByDeletion(n,s),n.isEqual(i))return fe._createAt(this);const l=this._getTransformedByDeletion(n,s);return l===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,i):l._getTransformedByInsertion(i,s)}_getCombined(n,i){const s=n.path.length-1,l=fe._createAt(i);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[s]-n.offset,l.path=[...l.path,...this.path.slice(s+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,i,s="toNone"){if(n instanceof fe)return new fe(n.root,n.path,n.stickiness);{const l=n;if(i=="end")i=l.maxOffset;else{if(i=="before")return this._createBefore(l,s);if(i=="after")return this._createAfter(l,s);if(i!==0&&!i)throw new O("model-createpositionat-offset-required",[this,n])}if(!l.is("element")&&!l.is("documentFragment"))throw new O("model-position-parent-incorrect",[this,n]);const d=l.getPath();return d.push(i),new this(l.root,d,s)}}static _createAfter(n,i){if(!n.parent)throw new O("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,i)}static _createBefore(n,i){if(!n.parent)throw new O("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,i)}static fromJSON(n,i){if(n.root==="$graveyard"){const s=new fe(i.graveyard,n.path);return s.stickiness=n.stickiness,s}if(!i.getRoot(n.root))throw new O("model-position-fromjson-no-root",i,{rootName:n.root});return new fe(i.getRoot(n.root),n.path,n.stickiness)}}fe.prototype.is=function(c){return c==="position"||c==="model:position"};function wp(c,n){const i=n.getChild(n.offsetToIndex(c.offset));return i&&i.is("$text")&&i.startOffset<c.offset?i:null}function GO(c,n,i){return i!==null?null:n.getChild(n.offsetToIndex(c.offset))}function KO(c,n,i){return i!==null?null:n.getChild(n.offsetToIndex(c.offset)-1)}function YO(c,n,i){return!(i+1===c.path.length||!QC(n.path,i+1)||!Qre(c,i+1))}function QC(c,n){for(;n<c.length;){if(c[n]!==0)return!1;n++}return!0}function Qre(c,n){let i=c.parent,s=c.path.length-1,l=0;for(;s>=n;){if(c.path[s]+l!==i.maxOffset)return!1;l=1,s--,i=i.parent}return!0}class ne extends hc{constructor(n,i){super(),this.start=fe._createAt(n),this.end=i?fe._createAt(i):fe._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Es({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const n=this.start.getParentPath(),i=this.end.getParentPath();return xn(n,i)=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const s=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return s&&l}containsItem(n){const i=fe._createBefore(n);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new ne(this.start,n.start)),this.containsPosition(n.end)&&i.push(new ne(n.end,this.end))):i.push(new ne(this.start,this.end)),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,s=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(s=n.end),new ne(i,s)}return null}getJoined(n,i=!1){let s=this.isIntersecting(n);if(s||(this.start.isBefore(n.start)?s=i?this.end.isTouching(n.start):this.end.isEqual(n.start):s=i?n.end.isTouching(this.start):n.end.isEqual(this.start)),!s)return null;let l=this.start,d=this.end;return n.start.isBefore(l)&&(l=n.start),n.end.isAfter(d)&&(d=n.end),new ne(l,d)}getMinimalFlatRanges(){const n=[],i=this.start.getCommonPath(this.end).length,s=fe._createAt(this.start);let l=s.parent;for(;s.path.length>i+1;){const d=l.maxOffset-s.offset;d!==0&&n.push(new ne(s,s.getShiftedBy(d))),s.path=s.path.slice(0,-1),s.offset++,l=l.parent}for(;s.path.length<=this.end.path.length;){const d=this.end.path[s.path.length-1],f=d-s.offset;f!==0&&n.push(new ne(s,s.getShiftedBy(f))),s.offset=d,s.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Es(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Es(n);for(const s of i)yield s.item}*getPositions(n={}){n.boundaries=this;const i=new Es(n);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new ne(this.start,this.end)]}getTransformedByOperations(n){const i=[new ne(this.start,this.end)];for(const s of n)for(let l=0;l<i.length;l++){const d=i[l].getTransformedByOperation(s);i.splice(l,1,...d),l+=d.length-1}for(let s=0;s<i.length;s++){const l=i[s];for(let d=s+1;d<i.length;d++){const f=i[d];(l.containsRange(f)||f.containsRange(l)||l.isEqual(f))&&i.splice(d,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,i=this.end.nodeBefore;return n&&n.is("element")&&n===i?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,i=!1){return this._getTransformedByInsertion(n.position,n.howMany,i)}_getTransformedByMoveOperation(n,i=!1){const s=n.sourcePosition,l=n.howMany,d=n.targetPosition;return this._getTransformedByMove(s,d,l,i)}_getTransformedBySplitOperation(n){const i=this.start._getTransformedBySplitOperation(n);let s=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new ne(i,s)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new ne(this.start);let i=this.start._getTransformedByMergeOperation(n),s=this.end._getTransformedByMergeOperation(n);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(n.sourcePosition.isBefore(n.targetPosition)?(i=fe._createAt(s),i.offset=0):(n.deletionPosition.isEqual(i)||(s=n.deletionPosition),i=n.targetPosition),new ne(i,s)):new ne(i,s)}_getTransformedByInsertion(n,i,s=!1){if(s&&this.containsPosition(n))return[new ne(this.start,n),new ne(n.getShiftedBy(i),this.end._getTransformedByInsertion(n,i))];{const l=new ne(this.start,this.end);return l.start=l.start._getTransformedByInsertion(n,i),l.end=l.end._getTransformedByInsertion(n,i),[l]}}_getTransformedByMove(n,i,s,l=!1){if(this.isCollapsed){const x=this.start._getTransformedByMove(n,i,s);return[new ne(x)]}const d=ne._createFromPositionAndShift(n,s),f=i._getTransformedByDeletion(n,s);if(this.containsPosition(i)&&!l&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const x=this.start._getTransformedByMove(n,i,s),N=this.end._getTransformedByMove(n,i,s);return[new ne(x,N)]}let g;const w=this.getDifference(d);let y=null;const C=this.getIntersection(d);if(w.length==1?y=new ne(w[0].start._getTransformedByDeletion(n,s),w[0].end._getTransformedByDeletion(n,s)):w.length==2&&(y=new ne(this.start,this.end._getTransformedByDeletion(n,s))),y?g=y._getTransformedByInsertion(f,s,C!==null||l):g=[],C){const x=new ne(C.start._getCombined(d.start,f),C.end._getCombined(d.start,f));g.length==2?g.splice(1,0,x):g.push(x)}return g}_getTransformedByDeletion(n,i){let s=this.start._getTransformedByDeletion(n,i),l=this.end._getTransformedByDeletion(n,i);return s==null&&l==null?null:(s==null&&(s=n),l==null&&(l=n),new ne(s,l))}static _createFromPositionAndShift(n,i){const s=n,l=n.getShiftedBy(i);return i>0?new this(s,l):new this(l,s)}static _createIn(n){return new this(fe._createAt(n,0),fe._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(fe._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new O("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const i=n[0];n.sort((d,f)=>d.start.isAfter(f.start)?1:-1);const s=n.indexOf(i),l=new this(i.start,i.end);if(s>0)for(let d=s-1;n[d].end.isEqual(l.start);d++)l.start=fe._createAt(n[d].start);for(let d=s+1;d<n.length&&n[d].start.isEqual(l.end);d++)l.end=fe._createAt(n[d].end);return l}static fromJSON(n,i){return new this(fe.fromJSON(n.start,i),fe.fromJSON(n.end,i))}}ne.prototype.is=function(c){return c==="range"||c==="model:range"};class QO extends z(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new O("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),l=this._viewToModelMapping.get(s),d=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=fe._createAt(l,d)},{priority:"low"})}bindElements(n,i){this._modelToViewMapping.set(n,i),this._viewToModelMapping.set(i,n)}unbindViewElement(n,i={}){const s=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const l of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(l);i.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(s)==n&&this._modelToViewMapping.delete(s))}unbindModelElement(n){const i=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(i)==n&&this._viewToModelMapping.delete(i)}bindElementToMarker(n,i){const s=this._markerNameToElements.get(i)||new Set;s.add(n);const l=this._elementToMarkerNames.get(n)||new Set;l.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(n,l)}unbindElementFromMarkerName(n,i){const s=this._markerNameToElements.get(i);s&&(s.delete(n),s.size==0&&this._markerNameToElements.delete(i));const l=this._elementToMarkerNames.get(n);l&&(l.delete(i),l.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,i]of this._deferredBindingRemovals)n.root==i&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new ne(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new st(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const i={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(n,i={}){const s={modelPosition:n,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(n){const i=this._markerNameToElements.get(n);if(!i)return null;const s=new Set;for(const l of i)if(l.is("attributeElement"))for(const d of l.getElementsWithSameId())s.add(d);else s.add(l);return s}registerViewToModelLength(n,i){this._viewToModelLengthCallbacks.set(n,i)}findMappedViewAncestor(n){let i=n.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(n,i,s){if(s!=n){const d=this._toModelOffset(n.parent,n.index,s),f=this._toModelOffset(n,i,n);return d+f}if(n.is("$text"))return i;let l=0;for(let d=0;d<i;d++)l+=this.getModelLength(n.getChild(d));return l}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let i=0;for(const s of n.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(n,i){let s,l=0,d=0,f=0;if(n.is("$text"))return new Ce(n,i);for(;d<i;)s=n.getChild(f),l=this.getModelLength(s),d+=l,f++;return d==i?this._moveViewPositionToTextNode(new Ce(n,f)):this.findPositionIn(s,i-(d-l))}_moveViewPositionToTextNode(n){const i=n.nodeBefore,s=n.nodeAfter;return i instanceof en?new Ce(i,i.data.length):s instanceof en?new Ce(s,0):n}}class Zre{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,i){i=jw(i),n instanceof Jo&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(i,!0)}consume(n,i){return i=jw(i),n instanceof Jo&&(n=this._getSymbolForTextProxy(n)),this.test(n,i)?(this._consumable.get(n).set(i,!1),!0):!1}test(n,i){i=jw(i),n instanceof Jo&&(n=this._getSymbolForTextProxy(n));const s=this._consumable.get(n);if(s===void 0)return null;const l=s.get(i);return l===void 0?null:l}revert(n,i){i=jw(i),n instanceof Jo&&(n=this._getSymbolForTextProxy(n));const s=this.test(n,i);return s===!1?(this._consumable.get(n).set(i,!0),!0):s===!0?!1:null}verifyAllConsumed(n){const i=[];for(const[s,l]of this._consumable)for(const[d,f]of l){const g=d.split(":")[0];f&&n==g&&i.push({event:d,item:s.name||s.description})}if(i.length)throw new O("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(n){let i=null;const s=this._textProxyRegistry.get(n.startOffset);if(s){const l=s.get(n.endOffset);l&&(i=l.get(n.parent))}return i||(i=this._addSymbolForTextProxy(n)),i}_addSymbolForTextProxy(n){const i=n.startOffset,s=n.endOffset,l=n.parent,d=Symbol("$textProxy:"+n.data);let f,g;return f=this._textProxyRegistry.get(i),f||(f=new Map,this._textProxyRegistry.set(i,f)),g=f.get(s),g||(g=new Map,f.set(s,g)),g.set(l,d),d}}function jw(c){const n=c.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?c:n.length>1?n[0]+":"+n[1]:n[0]}class ZO extends z(){constructor(n){super(),this._conversionApi={dispatcher:this,...n},this._firedEventsMap=new WeakMap}convertChanges(n,i,s){const l=this._createConversionApi(s,n.getRefreshedItems());for(const f of n.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,l);const d=this._reduceChanges(n.getChanges());for(const f of d)f.type==="insert"?this._convertInsert(ne._createFromPositionAndShift(f.position,f.length),l):f.type==="reinsert"?this._convertReinsert(ne._createFromPositionAndShift(f.position,f.length),l):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,l):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,l);for(const f of l.mapper.flushUnboundMarkerNames()){const g=i.get(f).getRange();this._convertMarkerRemove(f,g,l),this._convertMarkerAdd(f,g,l)}for(const f of n.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(n,i,s,l={}){const d=this._createConversionApi(s,void 0,l);this._convertInsert(n,d);for(const[f,g]of i)this._convertMarkerAdd(f,g,d);d.consumable.verifyAllConsumed("insert")}convertSelection(n,i,s){const l=Array.from(i.getMarkersAtPosition(n.getFirstPosition())),d=this._createConversionApi(s);if(this._addConsumablesForSelection(d.consumable,n,l),this.fire("selection",{selection:n},d),!!n.isCollapsed){for(const f of l){const g=f.getRange();if(!Jre(n.getFirstPosition(),f,d.mapper))continue;const w={item:n,markerName:f.name,markerRange:g};d.consumable.test(n,"addMarker:"+f.name)&&this.fire(`addMarker:${f.name}`,w,d)}for(const f of n.getAttributeKeys()){const g={item:n,range:n.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:n.getAttribute(f)};d.consumable.test(n,"attribute:"+g.attributeKey)&&this.fire(`attribute:${g.attributeKey}:$text`,g,d)}}}_convertInsert(n,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,Array.from(n));for(const l of Array.from(n.getWalker({shallow:!0})).map(JO))this._testAndFire("insert",l,i)}_convertRemove(n,i,s,l){this.fire(`remove:${s}`,{position:n,length:i},l)}_convertAttribute(n,i,s,l,d){this._addConsumablesForRange(d.consumable,n,`attribute:${i}`);for(const f of n){const g={item:f.item,range:ne._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:i,attributeOldValue:s,attributeNewValue:l};this._testAndFire(`attribute:${i}`,g,d)}}_convertReinsert(n,i){const s=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const l of s.map(JO))this._testAndFire("insert",{...l,reconversion:!0},i)}_convertMarkerAdd(n,i,s){if(i.root.rootName=="$graveyard")return;const l=`addMarker:${n}`;if(s.consumable.add(i,l),this.fire(l,{markerName:n,markerRange:i},s),!!s.consumable.consume(i,l)){this._addConsumablesForRange(s.consumable,i,l);for(const d of i.getItems()){if(!s.consumable.test(d,l))continue;const f={item:d,range:ne._createOn(d),markerName:n,markerRange:i};this.fire(l,f,s)}}}_convertMarkerRemove(n,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:i},s)}_reduceChanges(n){const i={changes:n};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(n,i){for(const s of i){const l=s.item;if(n.test(l,"insert")===null){n.add(l,"insert");for(const d of l.getAttributeKeys())n.add(l,"attribute:"+d)}}return n}_addConsumablesForRange(n,i,s){for(const l of i.getItems())n.add(l,s);return n}_addConsumablesForSelection(n,i,s){n.add(i,"selection");for(const l of s)n.add(i,"addMarker:"+l.name);for(const l of i.getAttributeKeys())n.add(i,"attribute:"+l);return n}_testAndFire(n,i,s){const l=Xre(n,i),d=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,f=this._firedEventsMap.get(s),g=f.get(d);if(!g)f.set(d,new Set([l]));else if(!g.has(l))g.add(l);else return;this.fire(l,i,s)}_testAndFireAddAttributes(n,i){const s={item:n,range:ne._createOn(n)};for(const l of s.item.getAttributeKeys())s.attributeKey=l,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(l),this._testAndFire(`attribute:${l}`,s,i)}_createConversionApi(n,i=new Set,s={}){const l={...this._conversionApi,consumable:new Zre,writer:n,options:s,convertItem:d=>this._convertInsert(ne._createOn(d),l),convertChildren:d=>this._convertInsert(ne._createIn(d),l,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,l),canReuseView:d=>!i.has(l.mapper.toModelElement(d))};return this._firedEventsMap.set(l,new Map),l}}function Jre(c,n,i){const s=n.getRange(),l=Array.from(c.getAncestors());return l.shift(),l.reverse(),!l.some(f=>{if(s.containsItem(f))return!!i.toViewElement(f).getCustomProperty("addHighlight")})}function Xre(c,n){const i=n.item.is("element")?n.item.name:"$text";return`${c}:${i}`}function JO(c){const n=c.item,i=ne._createFromPositionAndShift(c.previousPosition,c.length);return{item:n,range:i}}class xs extends z(hc){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let s=!1;for(const l of n._ranges)if(i.isEqual(l)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new ne(n.start,n.end)}getFirstRange(){let n=null;for(const i of this._ranges)(!n||i.start.isBefore(n.start))&&(n=i);return n?new ne(n.start,n.end):null}getLastRange(){let n=null;for(const i of this._ranges)(!n||i.end.isAfter(n.end))&&(n=i);return n?new ne(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[i,s,l]=n;if(typeof s=="object"&&(l=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof xs)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof ne)this._setRanges([i],!!l&&!!l.backward);else if(i instanceof fe)this._setRanges([new ne(i)]);else if(i instanceof jd){const d=!!l&&!!l.backward;let f;if(s=="in")f=ne._createIn(i);else if(s=="on")f=ne._createOn(i);else if(s!==void 0)f=new ne(fe._createAt(i,s));else throw new O("model-selection-setto-required-second-parameter",[this,i]);this._setRanges([f],d)}else if(Wn(i))this._setRanges(i,l&&!!l.backward);else throw new O("model-selection-setto-not-selectable",[this,i])}_setRanges(n,i=!1){const s=Array.from(n),l=s.some(d=>{if(!(d instanceof ne))throw new O("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(f=>!f.isEqual(d))});s.length===this._ranges.length&&!l||(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(n,i){if(this.anchor===null)throw new O("model-selection-setfocus-no-ranges",[this,n]);const s=fe._createAt(n,i);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(l)=="before"?(this._pushRange(new ne(s,l)),this._lastRangeBackward=!0):(this._pushRange(new ne(l,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,i){this.getAttribute(n)!==i&&(this._attrs.set(n,i),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const i of this.getRanges()){const s=eL(i.start,n);s&&ZC(s,i)&&(yield s);for(const d of i.getWalker()){const f=d.item;d.type=="elementEnd"&&eie(f,n,i)&&(yield f)}const l=eL(i.end,n);l&&!i.end.isTouching(fe._createAt(l,0))&&ZC(l,i)&&(yield l)}}containsEntireContent(n=this.anchor.root){const i=fe._createAt(n,0),s=fe._createAt(n,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new ne(n.start,n.end))}_checkRange(n){for(let i=0;i<this._ranges.length;i++)if(n.isIntersecting(this._ranges[i]))throw new O("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[i]})}_replaceAllRanges(n){this._removeAllRanges();for(const i of n)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}xs.prototype.is=function(c){return c==="selection"||c==="model:selection"};function XO(c,n){return n.has(c)?!1:(n.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function eie(c,n,i){return XO(c,n)&&ZC(c,i)}function eL(c,n){const s=c.parent.root.document.model.schema,l=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const f=l.find(g=>d?!1:(d=s.isLimit(g),!d&&XO(g,n)));return l.forEach(g=>n.add(g)),f}function ZC(c,n){const i=tie(c);return i?!n.containsRange(ne._createOn(i),!0):!0}function tie(c){const n=c.root.document.model.schema;let i=c.parent;for(;i;){if(n.isBlock(i))return i;i=i.parent}}class Xo extends z(ne){constructor(n,i){super(n,i),nie.call(this)}detach(){this.stopListening()}toRange(){return new ne(this.start,this.end)}static fromRange(n){return new Xo(n.start,n.end)}}Xo.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};function nie(){this.listenTo(this.root.document.model,"applyOperation",(c,n)=>{const i=n[0];i.isDocumentOperation&&rie.call(this,i)},{priority:"low"})}function rie(c){const n=this.getTransformedByOperation(c),i=ne._createFromRanges(n),s=!i.isEqual(this),l=iie(this,c);let d=null;if(s){i.root.rootName=="$graveyard"&&(c.type=="remove"?d=c.sourcePosition:d=c.deletionPosition);const f=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",f,{deletionPosition:d})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:d})}function iie(c,n){switch(n.type){case"insert":return c.containsPosition(n.position);case"move":case"remove":case"reinsert":case"merge":return c.containsPosition(n.sourcePosition)||c.start.isEqual(n.sourcePosition)||c.containsPosition(n.targetPosition);case"split":return c.containsPosition(n.splitPosition)||c.containsPosition(n.insertionPosition)}return!1}const kp="selection:";class Ao extends z(hc){constructor(n){super(),this._selection=new oie(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,i){this._selection.setFocus(n,i)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,i){this._selection.setAttribute(n,i)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return kp+n}static _isStoreAttributeKey(n){return n.startsWith(kp)}}Ao.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class oie extends xs{constructor(n){super(),this.markers=new yi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(i,s)=>{const l=s[0];!l.isDocumentOperation||l.type=="marker"||l.type=="rename"||l.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,l,d)=>{this._updateMarker(s,d)}),this.listenTo(this._document,"change",(i,s)=>{sie(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,i){super.setFocus(n,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,i){if(this._setAttribute(n,i)){const s=[n];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const n=le();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new O("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const i=this._prepareRange(n);i&&this._ranges.push(i)}_validateSelectionRanges(n){for(const i of n)if(!this._document._validateSelectionRange(i))throw new O("document-selection-wrong-position",this,{range:i})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const i=Xo.fromRange(n);return i.on("change:range",(s,l,d)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const f=this._ranges.indexOf(i);this._ranges.splice(f,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let i=!1;for(const l of this._model.markers){const d=l.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const f=l.getRange();for(const g of this.getRanges())f.containsRange(g,!g.isCollapsed)&&n.push(l)}const s=Array.from(this.markers);for(const l of n)this.markers.has(l)||(this.markers.add(l),i=!0);for(const l of Array.from(this.markers))n.includes(l)||(this.markers.remove(l),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(n,i){const s=n.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let l=!1;const d=Array.from(this.markers),f=this.markers.has(n);if(!i)f&&(this.markers.remove(n),l=!0);else{let g=!1;for(const w of this.getRanges())if(i.containsRange(w,!w.isCollapsed)){g=!0;break}g&&!f?(this.markers.add(n),l=!0):!g&&f&&(this.markers.remove(n),l=!0)}l&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(n){const i=ks(this._getSurroundingAttributes()),s=ks(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,f]of this._attributePriority)f=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(i);const l=[];for(const[d,f]of this.getAttributes())(!s.has(d)||s.get(d)!==f)&&l.push(d);for(const[d]of s)this.hasAttribute(d)||l.push(d);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(n,i,s=!0){const l=s?"normal":"low";return l=="low"&&this._attributePriority.get(n)=="normal"||super.getAttribute(n)===i?!1:(this._attrs.set(n,i),this._attributePriority.set(n,l),!0)}_removeAttribute(n,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(n)=="normal"||(this._attributePriority.set(n,s),!super.hasAttribute(n))?!1:(this._attrs.delete(n),!0)}_setAttributesTo(n){const i=new Set;for(const[s,l]of this.getAttributes())n.get(s)!==l&&this._removeAttribute(s,!1);for(const[s,l]of n)this._setAttribute(s,l,!1)&&i.add(s);return i}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const i of n.getAttributeKeys())i.startsWith(kp)&&(yield[i.substr(kp.length),n.getAttribute(i)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),i=this._model.schema;let s=null;if(this.isCollapsed){const l=n.textNode?n.textNode:n.nodeBefore,d=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(s=Vw(l)),s||(s=Vw(d)),!this.isGravityOverridden&&!s){let f=l;for(;f&&!i.isInline(f)&&!s;)f=f.previousSibling,s=Vw(f)}if(!s){let f=d;for(;f&&!i.isInline(f)&&!s;)f=f.nextSibling,s=Vw(f)}s||(s=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const d of l){if(d.item.is("element")&&i.isObject(d.item))break;if(d.type=="text"){s=d.item.getAttributes();break}}}return s}_fixGraveyardSelection(n){const i=this._model.schema.getNearestSelectionRange(n);i&&this._pushRange(i)}}function Vw(c){return c instanceof Jo||c instanceof tn?c.getAttributes():null}function sie(c,n){const i=c.document.differ;for(const s of i.getChanges()){if(s.type!="insert")continue;const l=s.position.parent;s.length===l.maxOffset&&c.enqueueChange(n,f=>{const g=Array.from(l.getAttributeKeys()).filter(w=>w.startsWith(kp));for(const w of g)f.removeAttribute(w,l)})}}class tL{constructor(n){this._dispatchers=n}add(n){for(const i of this._dispatchers)n(i);return this}}var aie=1,cie=4;function lie(c){return aC(c,aie|cie)}const Ql=lie;class uie extends tL{elementToElement(n){return this.add(Tie(n))}elementToStructure(n){return this.add(Iie(n))}attributeToElement(n){return this.add(Die(n))}attributeToAttribute(n){return this.add(Pie(n))}markerToElement(n){return this.add(Mie(n))}markerToHighlight(n){return this.add(Rie(n))}markerToData(n){return this.add(Nie(n))}}function nL(){return(c,n,i)=>{if(!i.consumable.consume(n.item,c.name))return;const s=i.writer,l=i.mapper.toViewPosition(n.range.start),d=s.createText(n.item.data);s.insert(l,d)}}function rL(){return(c,n,i)=>{i.convertAttributes(n.item),!n.reconversion&&n.item.is("element")&&!n.item.isEmpty&&i.convertChildren(n.item)}}function die(){return(c,n,i)=>{const s=i.mapper.toViewPosition(n.position),l=n.position.getShiftedBy(n.length),d=i.mapper.toViewPosition(l,{isPhantom:!0}),f=i.writer.createRange(s,d),g=i.writer.remove(f.getTrimmed());for(const w of i.writer.createRangeIn(g).getItems())i.mapper.unbindViewElement(w,{defer:!0})}}function iL(c,n){const i=c.createAttributeElement("span",n.attributes);return n.classes&&i._addClass(n.classes),typeof n.priority=="number"&&(i._priority=n.priority),i._id=n.id,i}function hie(){return(c,n,i)=>{const s=n.selection;if(s.isCollapsed||!i.consumable.consume(s,"selection"))return;const l=[];for(const d of s.getRanges())l.push(i.mapper.toViewRange(d));i.writer.setSelection(l,{backward:s.isBackward})}}function fie(){return(c,n,i)=>{const s=n.selection;if(!s.isCollapsed||!i.consumable.consume(s,"selection"))return;const l=i.writer,d=s.getFirstPosition(),f=i.mapper.toViewPosition(d),g=l.breakAttributes(f);l.setSelection(g)}}function pie(){return(c,n,i)=>{const s=i.writer,l=s.document.selection;for(const d of l.getRanges())d.isCollapsed&&d.end.parent.isAttached()&&i.writer.mergeAttributes(d.start);s.setSelection(null)}}function mie(c){return(n,i,s)=>{if(!s.consumable.test(i.item,n.name))return;const l=c(i.attributeOldValue,s,i),d=c(i.attributeNewValue,s,i);if(!l&&!d)return;s.consumable.consume(i.item,n.name);const f=s.writer,g=f.document.selection;if(i.item instanceof xs||i.item instanceof Ao)f.wrap(g.getFirstRange(),d);else{let w=s.mapper.toViewRange(i.range);i.attributeOldValue!==null&&l&&(w=f.unwrap(w,l)),i.attributeNewValue!==null&&d&&f.wrap(w,d)}}}function gie(c,n=Vie){return(i,s,l)=>{if(!n(s.item,l.consumable,{preflight:!0}))return;const d=c(s.item,l,s);if(!d)return;n(s.item,l.consumable);const f=l.mapper.toViewPosition(s.range.start);l.mapper.bindElements(s.item,d),l.writer.insert(f,d),l.convertAttributes(s.item),dL(d,s.item.getChildren(),l,{reconversion:s.reconversion})}}function bie(c,n){return(i,s,l)=>{if(!n(s.item,l.consumable,{preflight:!0}))return;const d=new Map;l.writer._registerSlotFactory(Bie(s.item,d,l));const f=c(s.item,l,s);if(l.writer._clearSlotFactory(),!f)return;zie(s.item,d,l),n(s.item,l.consumable);const g=l.mapper.toViewPosition(s.range.start);l.mapper.bindElements(s.item,f),l.writer.insert(g,f),l.convertAttributes(s.item),Fie(f,d,l,{reconversion:s.reconversion})}}function wie(c){return(n,i,s)=>{i.isOpening=!0;const l=c(i,s);i.isOpening=!1;const d=c(i,s);if(!l||!d)return;const f=i.markerRange;if(f.isCollapsed&&!s.consumable.consume(f,n.name))return;for(const y of f)if(!s.consumable.consume(y.item,n.name))return;const g=s.mapper,w=s.writer;w.insert(g.toViewPosition(f.start),l),s.mapper.bindElementToMarker(l,i.markerName),f.isCollapsed||(w.insert(g.toViewPosition(f.end),d),s.mapper.bindElementToMarker(d,i.markerName)),n.stop()}}function kie(){return(c,n,i)=>{const s=i.mapper.markerNameToElements(n.markerName);if(s){for(const l of s)i.mapper.unbindElementFromMarkerName(l,n.markerName),i.writer.clear(i.writer.createRangeOn(l),l);i.writer.clearClonedElementsGroup(n.markerName),c.stop()}}}function vie(c){return(n,i,s)=>{const l=c(i.markerName,s);if(!l)return;const d=i.markerRange;s.consumable.consume(d,n.name)&&(oL(d,!1,s,i,l),oL(d,!0,s,i,l),n.stop())}}function oL(c,n,i,s,l){const d=n?c.start:c.end,f=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,g=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(f||g){let y,C;n&&f||!n&&!g?(y=f,C=!0):(y=g,C=!1);const x=i.mapper.toViewElement(y);if(x){yie(x,n,C,i,s,l);return}}const w=i.mapper.toViewPosition(d);_ie(w,n,i,s,l)}function yie(c,n,i,s,l,d){const f=`data-${d.group}-${n?"start":"end"}-${i?"before":"after"}`,g=c.hasAttribute(f)?c.getAttribute(f).split(","):[];g.unshift(d.name),s.writer.setAttribute(f,g.join(","),c),s.mapper.bindElementToMarker(c,l.markerName)}function _ie(c,n,i,s,l){const d=`${l.group}-${n?"start":"end"}`,f=l.name?{name:l.name}:null,g=i.writer.createUIElement(d,f);i.writer.insert(c,g),i.mapper.bindElementToMarker(g,s.markerName)}function Aie(c){return(n,i,s)=>{const l=c(i.markerName,s);if(!l)return;const d=s.mapper.markerNameToElements(i.markerName);if(!d)return;for(const g of d)s.mapper.unbindElementFromMarkerName(g,i.markerName),g.is("containerElement")?(f(`data-${l.group}-start-before`,g),f(`data-${l.group}-start-after`,g),f(`data-${l.group}-end-before`,g),f(`data-${l.group}-end-after`,g)):s.writer.clear(s.writer.createRangeOn(g),g);s.writer.clearClonedElementsGroup(i.markerName),n.stop();function f(g,w){if(w.hasAttribute(g)){const y=new Set(w.getAttribute(g).split(","));y.delete(l.name),y.size==0?s.writer.removeAttribute(g,w):s.writer.setAttribute(g,Array.from(y).join(","),w)}}}}function Cie(c){return(n,i,s)=>{if(!s.consumable.test(i.item,n.name))return;const l=c(i.attributeOldValue,s,i),d=c(i.attributeNewValue,s,i);if(!l&&!d)return;s.consumable.consume(i.item,n.name);const f=s.mapper.toViewElement(i.item),g=s.writer;if(!f)throw new O("conversion-attribute-to-attribute-on-text",s.dispatcher,i);if(i.attributeOldValue!==null&&l)if(l.key=="class"){const w=Tr(l.value);for(const y of w)g.removeClass(y,f)}else if(l.key=="style"){const w=Object.keys(l.value);for(const y of w)g.removeStyle(y,f)}else g.removeAttribute(l.key,f);if(i.attributeNewValue!==null&&d)if(d.key=="class"){const w=Tr(d.value);for(const y of w)g.addClass(y,f)}else if(d.key=="style"){const w=Object.keys(d.value);for(const y of w)g.setStyle(y,d.value[y],f)}else g.setAttribute(d.key,d.value,f)}}function Eie(c){return(n,i,s)=>{if(!i.item||!(i.item instanceof xs||i.item instanceof Ao)&&!i.item.is("$textProxy"))return;const l=JC(c,i,s);if(!l||!s.consumable.consume(i.item,n.name))return;const d=s.writer,f=iL(d,l),g=d.document.selection;if(i.item instanceof xs||i.item instanceof Ao)d.wrap(g.getFirstRange(),f);else{const w=s.mapper.toViewRange(i.range),y=d.wrap(w,f);for(const C of y.getItems())if(C.is("attributeElement")&&C.isSimilar(f)){s.mapper.bindElementToMarker(C,i.markerName);break}}}}function xie(c){return(n,i,s)=>{if(!i.item||!(i.item instanceof qt))return;const l=JC(c,i,s);if(!l||!s.consumable.test(i.item,n.name))return;const d=s.mapper.toViewElement(i.item);if(d&&d.getCustomProperty("addHighlight")){s.consumable.consume(i.item,n.name);for(const g of ne._createIn(i.item))s.consumable.consume(g.item,n.name);d.getCustomProperty("addHighlight")(d,l,s.writer),s.mapper.bindElementToMarker(d,i.markerName)}}}function Sie(c){return(n,i,s)=>{if(i.markerRange.isCollapsed)return;const l=JC(c,i,s);if(!l)return;const d=iL(s.writer,l),f=s.mapper.markerNameToElements(i.markerName);if(f){for(const g of f)s.mapper.unbindElementFromMarkerName(g,i.markerName),g.is("attributeElement")?s.writer.unwrap(s.writer.createRangeOn(g),d):g.getCustomProperty("removeHighlight")(g,l.id,s.writer);s.writer.clearClonedElementsGroup(i.markerName),n.stop()}}}function Tie(c){const n=sL(c.model),i=vp(c.view,"container");return n.attributes.length&&(n.children=!0),s=>{s.on(`insert:${n.name}`,gie(i,uL(n)),{priority:c.converterPriority||"normal"}),(n.children||n.attributes.length)&&s.on("reduceChanges",lL(n),{priority:"low"})}}function Iie(c){const n=sL(c.model),i=vp(c.view,"container");return n.children=!0,s=>{if(s._conversionApi.schema.checkChild(n.name,"$text"))throw new O("conversion-element-to-structure-disallowed-text",s,{elementName:n.name});s.on(`insert:${n.name}`,bie(i,uL(n)),{priority:c.converterPriority||"normal"}),s.on("reduceChanges",lL(n),{priority:"low"})}}function Die(c){c=Ql(c);let n=c.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const l of n.values)c.view[l]=vp(c.view[l],"attribute");else c.view=vp(c.view,"attribute");const s=aL(c);return l=>{l.on(i,mie(s),{priority:c.converterPriority||"normal"})}}function Pie(c){c=Ql(c);let n=c.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const l of n.values)c.view[l]=cL(c.view[l]);else c.view=cL(c.view);const s=aL(c);return l=>{l.on(i,Cie(s),{priority:c.converterPriority||"normal"})}}function Mie(c){const n=vp(c.view,"ui");return i=>{i.on(`addMarker:${c.model}`,wie(n),{priority:c.converterPriority||"normal"}),i.on(`removeMarker:${c.model}`,kie(),{priority:c.converterPriority||"normal"})}}function Nie(c){c=Ql(c);const n=c.model;let i=c.view;return i||(i=s=>({group:n,name:s.substr(c.model.length+1)})),s=>{s.on(`addMarker:${n}`,vie(i),{priority:c.converterPriority||"normal"}),s.on(`removeMarker:${n}`,Aie(i),{priority:c.converterPriority||"normal"})}}function Rie(c){return n=>{n.on(`addMarker:${c.model}`,Eie(c.view),{priority:c.converterPriority||"normal"}),n.on(`addMarker:${c.model}`,xie(c.view),{priority:c.converterPriority||"normal"}),n.on(`removeMarker:${c.model}`,Sie(c.view),{priority:c.converterPriority||"normal"})}}function sL(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function vp(c,n){return typeof c=="function"?c:(i,s)=>Oie(c,s,n)}function Oie(c,n,i){typeof c=="string"&&(c={name:c});let s;const l=n.writer,d=Object.assign({},c.attributes);if(i=="container")s=l.createContainerElement(c.name,d);else if(i=="attribute"){const f={priority:c.priority||Gl.DEFAULT_PRIORITY};s=l.createAttributeElement(c.name,d,f)}else s=l.createUIElement(c.name,d);if(c.styles){const f=Object.keys(c.styles);for(const g of f)l.setStyle(g,c.styles[g],s)}if(c.classes){const f=c.classes;if(typeof f=="string")l.addClass(f,s);else for(const g of f)l.addClass(g,s)}return s}function aL(c){return c.model.values?(n,i,s)=>{const l=c.view[n];return l?l(n,i,s):null}:c.view}function cL(c){return typeof c=="string"?n=>({key:c,value:n}):typeof c=="object"?c.value?()=>c:n=>({key:c.key,value:n}):c}function JC(c,n,i){const s=typeof c=="function"?c(n,i):c;return s?(s.priority||(s.priority=10),s.id||(s.id=n.markerName),s):null}function Lie(c){return(n,i)=>{if(!n.is("element",c.name))return!1;if(i.type=="attribute"){if(c.attributes.includes(i.attributeKey))return!0}else if(c.children)return!0;return!1}}function lL(c){const n=Lie(c);return(i,s)=>{const l=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const d of s.changes){const f=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(!f||!n(f,d)){l.push(d);continue}if(!s.reconvertedElements.has(f)){s.reconvertedElements.add(f);const g=fe._createBefore(f);l.push({type:"remove",name:f.name,position:g,length:1},{type:"reinsert",name:f.name,position:g,length:1})}}s.changes=l}}function uL(c){return(n,i,s={})=>{const l=["insert"];for(const d of c.attributes)n.hasAttribute(d)&&l.push(`attribute:${d}`);return l.every(d=>i.test(n,d))?(s.preflight||l.forEach(d=>i.consume(n,d)),!0):!1}}function Bie(c,n,i){return(s,l="children")=>{const d=s.createContainerElement("$slot");let f=null;if(l==="children")f=Array.from(c.getChildren());else if(typeof l=="function")f=Array.from(c.getChildren()).filter(g=>l(g));else throw new O("conversion-slot-mode-unknown",i.dispatcher,{modeOrFilter:l});return n.set(d,f),d}}function zie(c,n,i){const s=Array.from(n.values()).flat(),l=new Set(s);if(l.size!=s.length)throw new O("conversion-slot-filter-overlap",i.dispatcher,{element:c});if(l.size!=c.childCount)throw new O("conversion-slot-filter-incomplete",i.dispatcher,{element:c})}function Fie(c,n,i,s){i.mapper.on("modelToViewPosition",f,{priority:"highest"});let l=null,d=null;for([l,d]of n)dL(c,d,i,s),i.writer.move(i.writer.createRangeIn(l),i.writer.createPositionBefore(l)),i.writer.remove(l);i.mapper.off("modelToViewPosition",f);function f(g,w){const y=w.modelPosition.nodeAfter,C=d.indexOf(y);C<0||(w.viewPosition=w.mapper.findPositionIn(l,C))}}function dL(c,n,i,s){for(const l of n)jie(c.root,l,i,s)||i.convertItem(l)}function jie(c,n,i,s){const{writer:l,mapper:d}=i;if(!s.reconversion)return!1;const f=d.toViewElement(n);return!f||f.root==c||!i.canReuseView(f)?!1:(l.move(l.createRangeOn(f),d.toViewPosition(fe._createBefore(n))),!0)}function Vie(c,n,{preflight:i}={}){return i?n.test(c,"insert"):n.consume(c,"insert")}function hL(c){const{schema:n,document:i}=c.model;for(const s of i.getRootNames()){const l=i.getRoot(s);if(l.isEmpty&&!n.checkChild(l,"$text")&&n.checkChild(l,"paragraph"))return c.insertElement("paragraph",l),!0}return!1}function fL(c,n,i){const s=i.createContext(c);return!(!i.checkChild(s,"paragraph")||!i.checkChild(s.push("paragraph"),n))}function pL(c,n){const i=n.createElement("paragraph");return n.insert(i,c),n.createPositionAt(i,0)}class Uie extends tL{elementToElement(n){return this.add(gL(n))}elementToAttribute(n){return this.add(qie(n))}attributeToAttribute(n){return this.add(Wie(n))}elementToMarker(n){return this.add(Gie(n))}dataToMarker(n){return this.add(Kie(n))}}function mL(){return(c,n,i)=>{if(!n.modelRange&&i.consumable.consume(n.viewItem,{name:!0})){const{modelRange:s,modelCursor:l}=i.convertChildren(n.viewItem,n.modelCursor);n.modelRange=s,n.modelCursor=l}}}function $ie(){return(c,n,{schema:i,consumable:s,writer:l})=>{let d=n.modelCursor;if(!s.test(n.viewItem))return;if(!i.checkChild(d,"$text")){if(!fL(d,"$text",i)||n.viewItem.data.trim().length==0)return;const g=d.nodeBefore;d=pL(d,l),g&&g.is("element","$marker")&&(l.move(l.createRangeOn(g),d),d=l.createPositionAfter(g))}s.consume(n.viewItem);const f=l.createText(n.viewItem.data);l.insert(f,d),n.modelRange=l.createRange(d,d.getShiftedBy(f.offsetSize)),n.modelCursor=n.modelRange.end}}function Hie(c,n){return(i,s)=>{const l=s.newSelection,d=[];for(const g of l.getRanges())d.push(n.toModelRange(g));const f=c.createSelection(d,{backward:l.isBackward});f.isEqual(c.document.selection)||c.change(g=>{g.setSelection(f)})}}function gL(c){c=Ql(c);const n=e1(c),i=XC(c.view),s=i?`element:${i}`:"element";return l=>{l.on(s,n,{priority:c.converterPriority||"normal"})}}function qie(c){c=Ql(c),bL(c);const n=wL(c,!1),i=XC(c.view),s=i?`element:${i}`:"element";return l=>{l.on(s,n,{priority:c.converterPriority||"low"})}}function Wie(c){c=Ql(c);let n=null;(typeof c.view=="string"||c.view.key)&&(n=Zie(c)),bL(c,n);const i=wL(c,!0);return s=>{s.on("element",i,{priority:c.converterPriority||"low"})}}function Gie(c){const n=eoe(c.model);return gL({...c,model:n})}function Kie(c){c=Ql(c),c.model||(c.model=l=>l?c.view+":"+l:c.view);const n={view:c.view,model:c.model},i=e1(kL(n,"start")),s=e1(kL(n,"end"));return l=>{l.on(`element:${c.view}-start`,i,{priority:c.converterPriority||"normal"}),l.on(`element:${c.view}-end`,s,{priority:c.converterPriority||"normal"});const d=W.get("low"),f=W.get("highest"),g=W.get(c.converterPriority)/f;l.on("element",Yie(n),{priority:d+g})}}function Yie(c){return(n,i,s)=>{const l=`data-${c.view}`;if(!s.consumable.test(i.viewItem,{attributes:l+"-end-after"})&&!s.consumable.test(i.viewItem,{attributes:l+"-start-after"})&&!s.consumable.test(i.viewItem,{attributes:l+"-end-before"})&&!s.consumable.test(i.viewItem,{attributes:l+"-start-before"}))return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),s.consumable.consume(i.viewItem,{attributes:l+"-end-after"})&&d(i.modelRange.end,i.viewItem.getAttribute(l+"-end-after").split(",")),s.consumable.consume(i.viewItem,{attributes:l+"-start-after"})&&d(i.modelRange.end,i.viewItem.getAttribute(l+"-start-after").split(",")),s.consumable.consume(i.viewItem,{attributes:l+"-end-before"})&&d(i.modelRange.start,i.viewItem.getAttribute(l+"-end-before").split(",")),s.consumable.consume(i.viewItem,{attributes:l+"-start-before"})&&d(i.modelRange.start,i.viewItem.getAttribute(l+"-start-before").split(","));function d(f,g){for(const w of g){const y=c.model(w,s),C=s.writer.createElement("$marker",{"data-name":y});s.writer.insert(C,f),i.modelCursor.isEqual(f)?i.modelCursor=i.modelCursor.getShiftedBy(1):i.modelCursor=i.modelCursor._getTransformedByInsertion(f,1),i.modelRange=i.modelRange._getTransformedByInsertion(f,1)[0]}}}}function XC(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function e1(c){const n=new ys(c.view);return(i,s,l)=>{const d=n.match(s.viewItem);if(!d)return;const f=d.match;if(f.name=!0,!l.consumable.test(s.viewItem,f))return;const g=Qie(c.model,s.viewItem,l);g&&l.safeInsert(g,s.modelCursor)&&(l.consumable.consume(s.viewItem,f),l.convertChildren(s.viewItem,g),l.updateConversionResult(g,s))}}function Qie(c,n,i){return c instanceof Function?c(n,i):i.writer.createElement(c)}function Zie(c){typeof c.view=="string"&&(c.view={key:c.view});const n=c.view.key;let i;if(n=="class"||n=="style")i={[n=="class"?"classes":"styles"]:c.view.value};else{const s=typeof c.view.value>"u"?/[\s\S]*/:c.view.value;i={attributes:{[n]:s}}}return c.view.name&&(i.name=c.view.name),c.view=i,n}function bL(c,n=null){const i=n===null?!0:d=>d.getAttribute(n),s=typeof c.model!="object"?c.model:c.model.key,l=typeof c.model!="object"||typeof c.model.value>"u"?i:c.model.value;c.model={key:s,value:l}}function wL(c,n){const i=new ys(c.view);return(s,l,d)=>{if(!l.modelRange&&n)return;const f=i.match(l.viewItem);if(!f||(Jie(c.view,l.viewItem)?f.match.name=!0:delete f.match.name,!d.consumable.test(l.viewItem,f.match)))return;const g=c.model.key,w=typeof c.model.value=="function"?c.model.value(l.viewItem,d):c.model.value;if(w===null)return;l.modelRange||Object.assign(l,d.convertChildren(l.viewItem,l.modelCursor)),Xie(l.modelRange,{key:g,value:w},n,d)&&(d.consumable.test(l.viewItem,{name:!0})&&(f.match.name=!0),d.consumable.consume(l.viewItem,f.match))}}function Jie(c,n){const i=typeof c=="function"?c(n):c;return typeof i=="object"&&!XC(i)?!1:!i.classes&&!i.attributes&&!i.styles}function Xie(c,n,i,s){let l=!1;for(const d of Array.from(c.getItems({shallow:i})))s.schema.checkAttribute(d,n.key)&&(l=!0,!d.hasAttribute(n.key)&&s.writer.setAttribute(n.key,n.value,d));return l}function eoe(c){return(n,i)=>{const s=typeof c=="string"?c:c(n,i);return i.writer.createElement("$marker",{"data-name":s})}}function kL(c,n){const i=(s,l)=>{const d=s.getAttribute("name"),f=c.model(d,l);return l.writer.createElement("$marker",{"data-name":f})};return{view:`${c.view}-${n}`,model:i}}class toe extends Me(){constructor(n,i){super(),this.model=n,this.view=new Kre(i),this.mapper=new QO,this.downcastDispatcher=new ZO({mapper:this.mapper,schema:n.schema});const s=this.model.document,l=s.selection,d=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(f=>{this.downcastDispatcher.convertChanges(s.differ,d,f),this.downcastDispatcher.convertSelection(l,d,f)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",Hie(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",nL(),{priority:"lowest"}),this.downcastDispatcher.on("insert",rL(),{priority:"lowest"}),this.downcastDispatcher.on("remove",die(),{priority:"low"}),this.downcastDispatcher.on("selection",pie(),{priority:"high"}),this.downcastDispatcher.on("selection",hie(),{priority:"low"}),this.downcastDispatcher.on("selection",fie(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(f=>{if(f.rootName=="$graveyard")return null;const g=new fO(this.view.document,f.name);return g.rootName=f.rootName,this.mapper.bindElements(f,g),g})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const i=typeof n=="string"?n:n.name,s=this.model.markers.get(i);if(!s)throw new O("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class yp{constructor(){this._consumables=new Map}add(n,i){let s;if(n.is("$text")||n.is("documentFragment")){this._consumables.set(n,!0);return}this._consumables.has(n)?s=this._consumables.get(n):(s=new noe(n),this._consumables.set(n,s)),s.add(i)}test(n,i){const s=this._consumables.get(n);return s===void 0?null:n.is("$text")||n.is("documentFragment")?s:s.test(i)}consume(n,i){return this.test(n,i)?(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(i),!0):!1}revert(n,i){const s=this._consumables.get(n);s!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):s.revert(i))}static consumablesFromElement(n){const i={element:n,name:!0,attributes:[],classes:[],styles:[]},s=n.getAttributeKeys();for(const f of s)f=="style"||f=="class"||i.attributes.push(f);const l=n.getClassNames();for(const f of l)i.classes.push(f);const d=n.getStyleNames();for(const f of d)i.styles.push(f);return i}static createFrom(n,i){if(i||(i=new yp),n.is("$text"))return i.add(n),i;n.is("element")&&i.add(n,yp.consumablesFromElement(n)),n.is("documentFragment")&&i.add(n);for(const s of n.getChildren())i=yp.createFrom(s,i);return i}}const Uw=["attributes","classes","styles"];class noe{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const i of Uw)i in n&&this._add(i,n[i])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const i of Uw)if(i in n){const s=this._test(i,n[i]);if(s!==!0)return s}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const i of Uw)i in n&&this._consume(i,n[i])}revert(n){n.name&&(this._canConsumeName=!0);for(const i of Uw)i in n&&this._revert(i,n[i])}_add(n,i){const s=un(i)?i:[i],l=this._consumables[n];for(const d of s){if(n==="attributes"&&(d==="class"||d==="style"))throw new O("viewconsumable-invalid-attribute",this);if(l.set(d,!0),n==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(f,!0)}}_test(n,i){const s=un(i)?i:[i],l=this._consumables[n];for(const d of s)if(n==="attributes"&&(d==="class"||d==="style")){const f=d=="class"?"classes":"styles",g=this._test(f,[...this._consumables[f].keys()]);if(g!==!0)return g}else{const f=l.get(d);if(f===void 0)return null;if(!f)return!1}return!0}_consume(n,i){const s=un(i)?i:[i],l=this._consumables[n];for(const d of s)if(n==="attributes"&&(d==="class"||d==="style")){const f=d=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}else if(l.set(d,!1),n=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(f,!1)}_revert(n,i){const s=un(i)?i:[i],l=this._consumables[n];for(const d of s)if(n==="attributes"&&(d==="class"||d==="style")){const f=d=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}else l.get(d)===!1&&l.set(d,!0)}}class roe extends Me(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,i)=>{i[0]=new Zl(i[0])},{priority:"highest"}),this.on("checkChild",(n,i)=>{i[0]=new Zl(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(n,i){if(this._sourceDefinitions[n])throw new O("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},i)],this._clearCache()}extend(n,i){if(!this._sourceDefinitions[n])throw new O("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let i;return typeof n=="string"?i=n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?i="$text":i=n.name,this.getDefinitions()[i]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const i=this.getDefinition(n);return!!(i&&i.isBlock)}isLimit(n){const i=this.getDefinition(n);return i?!!(i.isLimit||i.isObject):!1}isObject(n){const i=this.getDefinition(n);return i?!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent):!1}isInline(n){const i=this.getDefinition(n);return!!(i&&i.isInline)}isSelectable(n){const i=this.getDefinition(n);return i?!!(i.isSelectable||i.isObject):!1}isContent(n){const i=this.getDefinition(n);return i?!!(i.isContent||i.isObject):!1}checkChild(n,i){return i?this._checkContextMatch(i,n):!1}checkAttribute(n,i){const s=this.getDefinition(n.last);return s?s.allowAttributes.includes(i):!1}checkMerge(n,i){if(n instanceof fe){const s=n.nodeBefore,l=n.nodeAfter;if(!(s instanceof qt))throw new O("schema-check-merge-no-element-before",this);if(!(l instanceof qt))throw new O("schema-check-merge-no-element-after",this);return this.checkMerge(s,l)}for(const s of i.getChildren())if(!this.checkChild(n,s))return!1;return!0}addChildCheck(n){this.on("checkChild",(i,[s,l])=>{if(!l)return;const d=n(s,l);typeof d=="boolean"&&(i.stop(),i.return=d)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(i,[s,l])=>{const d=n(s,l);typeof d=="boolean"&&(i.stop(),i.return=d)},{priority:"high"})}setAttributeProperties(n,i){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),i)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let i;for(n instanceof fe?i=n.parent:i=(n instanceof ne?[n]:Array.from(n.getRanges())).reduce((l,d)=>{const f=d.getCommonAncestor();return l?l.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(n,i){if(n.isCollapsed){const l=[...n.getFirstPosition().getAncestors(),new tn("",n.getAttributes())];return this.checkAttribute(l,i)}else{const s=n.getRanges();for(const l of s)for(const d of l)if(this.checkAttribute(d.item,i))return!0}return!1}*getValidRanges(n,i){n=koe(n);for(const s of n)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(n,i="both"){if(this.checkChild(n,"$text"))return new ne(n);let s,l;const d=n.getAncestors().reverse().find(f=>this.isLimit(f))||n.root;(i=="both"||i=="backward")&&(s=new Es({boundaries:ne._createIn(d),startPosition:n,direction:"backward"})),(i=="both"||i=="forward")&&(l=new Es({boundaries:ne._createIn(d),startPosition:n}));for(const f of woe(s,l)){const g=f.walker==s?"elementEnd":"elementStart",w=f.value;if(w.type==g&&this.isObject(w.item))return ne._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new ne(w.nextPosition)}return null}findAllowedParent(n,i){let s=n.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(n,i,s){const l=s.model;for(const[d,f]of Object.entries(i))l.schema.checkAttribute(n,d)&&s.setAttribute(d,f,n)}removeDisallowedAttributes(n,i){for(const s of n)if(s.is("$text"))vL(this,s,i);else{const d=ne._createIn(s).getPositions();for(const f of d){const g=f.nodeBefore||f.parent;vL(this,g,i)}}}getAttributesWithProperty(n,i,s){const l={};for(const[d,f]of n.getAttributes()){const g=this.getAttributeProperties(d);g[i]!==void 0&&(s===void 0||s===g[i])&&(l[d]=f)}return l}createContext(n){return new Zl(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},i=this._sourceDefinitions,s=Object.keys(i);for(const l of s)n[l]=ioe(i[l],l);for(const l of s)ooe(n,l);for(const l of s)soe(n,l);for(const l of s)aoe(n,l);for(const l of s)coe(n,l),loe(n,l);for(const l of s)uoe(n,l),doe(n,l),hoe(n,l);this._compiledDefinitions=n}_checkContextMatch(n,i,s=i.length-1){const l=i.getItem(s);if(n.allowIn.includes(l.name)){if(s==0)return!0;{const d=this.getDefinition(l);return this._checkContextMatch(d,i,s-1)}}else return!1}*_getValidRangesForRange(n,i){let s=n.start,l=n.start;for(const d of n.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(ne._createIn(d),i)),this.checkAttribute(d,i)||(s.isEqual(l)||(yield new ne(s,l)),s=fe._createAfter(d)),l=fe._createAfter(d);s.isEqual(l)||(yield new ne(s,l))}}class Zl{constructor(n){if(n instanceof Zl)return n;let i;typeof n=="string"?i=[n]:Array.isArray(n)?i=n:i=n.getAncestors({includeSelf:!0}),this._items=i.map(boe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const i=new Zl([n]);return i._items=[...this._items,...i._items],i}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function ioe(c,n){const i={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return foe(c,i),Jl(c,i,"allowIn"),Jl(c,i,"allowContentOf"),Jl(c,i,"allowWhere"),Jl(c,i,"allowAttributes"),Jl(c,i,"allowAttributesOf"),Jl(c,i,"allowChildren"),Jl(c,i,"inheritTypesFrom"),poe(c,i),i}function ooe(c,n){const i=c[n];for(const s of i.allowChildren){const l=c[s];l&&l.allowIn.push(n)}i.allowChildren.length=0}function soe(c,n){for(const i of c[n].allowContentOf)c[i]&&moe(c,i).forEach(l=>{l.allowIn.push(n)});delete c[n].allowContentOf}function aoe(c,n){for(const i of c[n].allowWhere){const s=c[i];if(s){const l=s.allowIn;c[n].allowIn.push(...l)}}delete c[n].allowWhere}function coe(c,n){for(const i of c[n].allowAttributesOf){const s=c[i];if(s){const l=s.allowAttributes;c[n].allowAttributes.push(...l)}}delete c[n].allowAttributesOf}function loe(c,n){const i=c[n];for(const s of i.inheritTypesFrom){const l=c[s];if(l){const d=Object.keys(l).filter(f=>f.startsWith("is"));for(const f of d)f in i||(i[f]=l[f])}}delete i.inheritTypesFrom}function uoe(c,n){const i=c[n],s=i.allowIn.filter(l=>c[l]);i.allowIn=Array.from(new Set(s))}function doe(c,n){const i=c[n];for(const s of i.allowIn)c[s].allowChildren.push(n)}function hoe(c,n){const i=c[n];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function foe(c,n){for(const i of c){const s=Object.keys(i).filter(l=>l.startsWith("is"));for(const l of s)n[l]=!!i[l]}}function Jl(c,n,i){for(const s of c){const l=s[i];typeof l=="string"?n[i].push(l):Array.isArray(l)&&n[i].push(...l)}}function poe(c,n){for(const i of c){const s=i.inheritAllFrom;s&&(n.allowContentOf.push(s),n.allowWhere.push(s),n.allowAttributesOf.push(s),n.inheritTypesFrom.push(s))}}function moe(c,n){const i=c[n];return goe(c).filter(s=>s.allowIn.includes(i.name))}function goe(c){return Object.keys(c).map(n=>c[n])}function boe(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute(n){return c.getAttribute(n)}}}function*woe(c,n){let i=!1;for(;!i;){if(i=!0,c){const s=c.next();s.done||(i=!1,yield{walker:c,value:s.value})}if(n){const s=n.next();s.done||(i=!1,yield{walker:n,value:s.value})}}}function*koe(c){for(const n of c)yield*n.getMinimalFlatRanges()}function vL(c,n,i){for(const s of n.getAttributeKeys())c.checkAttribute(n,s)||i.removeAttribute(s,n)}class voe extends z(){constructor(n){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...n,consumable:null,writer:null,store:null,convertItem:(i,s)=>this._convertItem(i,s),convertChildren:(i,s)=>this._convertChildren(i,s),safeInsert:(i,s)=>this._safeInsert(i,s),updateConversionResult:(i,s)=>this._updateConversionResult(i,s),splitToAllowedParent:(i,s)=>this._splitToAllowedParent(i,s),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)}}convert(n,i,s=["$root"]){this.fire("viewCleanup",n),this._modelCursor=_oe(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=yp.createFrom(n),this.conversionApi.store={};const{modelRange:l}=this._convertItem(n,this._modelCursor),d=i.createDocumentFragment();if(l){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))i.append(f,d);d.markers=yoe(d,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(n,i){const s={viewItem:n,modelCursor:i,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,s,this.conversionApi):n.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof ne))throw new O("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(n,i){let s=i.is("position")?i:fe._createAt(i,0);const l=new ne(s);for(const d of Array.from(n.getChildren())){const f=this._convertItem(d,s);f.modelRange instanceof ne&&(l.end=f.modelRange.end,s=f.modelCursor)}return{modelRange:l,modelCursor:s}}_safeInsert(n,i){const s=this._splitToAllowedParent(n,i);return s?(this.conversionApi.writer.insert(n,s.position),!0):!1}_updateConversionResult(n,i){const s=this._getSplitParts(n),l=this.conversionApi.writer;i.modelRange||(i.modelRange=l.createRange(l.createPositionBefore(n),l.createPositionAfter(s[s.length-1])));const d=this._cursorParents.get(n);d?i.modelCursor=l.createPositionAt(d,0):i.modelCursor=i.modelRange.end}_splitToAllowedParent(n,i){const{schema:s,writer:l}=this.conversionApi;let d=s.findAllowedParent(i,n);if(d){if(d===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return fL(i,n,s)?{position:pL(i,l)}:null;const f=this.conversionApi.writer.split(i,d),g=[];for(const y of f.range.getWalker())if(y.type=="elementEnd")g.push(y.item);else{const C=g.pop(),x=y.item;this._registerSplitPair(C,x)}const w=f.range.end.parent;return this._cursorParents.set(n,w),{position:f.position,cursorParent:w}}_registerSplitPair(n,i){this._splitParts.has(n)||this._splitParts.set(n,[n]);const s=this._splitParts.get(n);this._splitParts.set(i,s),s.push(i)}_getSplitParts(n){let i;return this._splitParts.has(n)?i=this._splitParts.get(n):i=[n],i}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),n=!0);n&&this._removeEmptyElements()}}function yoe(c,n){const i=new Set,s=new Map,l=ne._createIn(c).getItems();for(const d of l)d.is("element","$marker")&&i.add(d);for(const d of i){const f=d.getAttribute("data-name"),g=n.createPositionBefore(d);s.has(f)?s.get(f).end=g.clone():s.set(f,new ne(g.clone())),n.remove(d)}return s}function _oe(c,n){let i;for(const s of new Zl(c)){const l={};for(const f of s.getAttributeKeys())l[f]=s.getAttribute(f);const d=n.createElement(s.name,l);i&&n.insert(d,i),i=fe._createAt(d,0)}return i}class Aoe{getHtml(n){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(n),s.innerHTML}}class Coe{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Bw(n,{renderingMode:"data"}),this.htmlWriter=new Aoe}toData(n){const i=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(i)}toView(n){const i=this._toDom(n);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const i=this.domParser.parseFromString(n,"text/html"),s=i.createDocumentFragment(),l=i.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);return s}}class Eoe extends z(){constructor(n,i){super(),this.model=n,this.mapper=new QO,this.downcastDispatcher=new ZO({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",nL(),{priority:"lowest"}),this.downcastDispatcher.on("insert",rL(),{priority:"lowest"}),this.upcastDispatcher=new voe({schema:n.schema}),this.viewDocument=new Nw(i),this.stylesProcessor=i,this.htmlProcessor=new Coe(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new gO(this.viewDocument),this.upcastDispatcher.on("text",$ie(),{priority:"lowest"}),this.upcastDispatcher.on("element",mL(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",mL(),{priority:"lowest"}),Me().prototype.decorate.call(this,"init"),Me().prototype.decorate.call(this,"set"),Me().prototype.decorate.call(this,"get"),Me().prototype.decorate.call(this,"toView"),Me().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},hL)},{priority:"lowest"})}get(n={}){const{rootName:i="main",trim:s="empty"}=n;if(!this._checkIfRootsExists([i]))throw new O("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(i);return s==="empty"&&!this.model.hasContent(l,{ignoreWhitespaces:!0})?"":this.stringify(l,n)}stringify(n,i={}){const s=this.toView(n,i);return this.processor.toData(s)}toView(n,i={}){const s=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const d=ne._createIn(n),f=new Kl(s);this.mapper.bindElements(n,f);const g=n.is("documentFragment")?n.markers:xoe(n);return this.downcastDispatcher.convert(d,g,l,i),f}init(n){if(this.model.document.version)throw new O("datacontroller-init-document-not-empty",this);let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new O("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const l of Object.keys(i)){const d=this.model.document.getRoot(l);s.insert(this.parse(i[l],d),d,0)}}),Promise.resolve()}set(n,i={}){let s={};if(typeof n=="string"?s.main=n:s=n,!this._checkIfRootsExists(Object.keys(s)))throw new O("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(s)){const f=this.model.document.getRoot(d);l.remove(l.createRangeIn(f)),l.insert(this.parse(s[d],f),f,0)}})}parse(n,i="$root"){const s=this.processor.toView(n);return this.toModel(s,i)}toModel(n,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(n,s,i))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const i of n)if(!this.model.document.getRootNames().includes(i))return!1;return!0}}function xoe(c){const n=[],i=c.root.document;if(!i)return new Map;const s=ne._createIn(c);for(const l of i.model.markers){const d=l.getRange(),f=d.isCollapsed,g=d.start.isEqual(s.start)||d.end.isEqual(s.end);if(f&&g)n.push([l.name,d]);else{const w=s.getIntersection(d);w&&n.push([l.name,w])}}return n.sort(([l,d],[f,g])=>{if(d.end.compareWith(g.start)!=="after")return 1;if(d.start.compareWith(g.end)!=="before")return-1;switch(d.start.compareWith(g.start)){case"before":return 1;case"after":return-1;default:switch(d.end.compareWith(g.end)){case"before":return 1;case"after":return-1;default:return f.localeCompare(l)}}}),new Map(n)}class Soe{constructor(n,i){this._helpers=new Map,this._downcast=Tr(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Tr(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new O("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[i],isDowncast:s})}for(n){if(!this._helpers.has(n))throw new O("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:i,view:s}of t1(n))this.for("upcast").elementToElement({model:i,view:s,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:i,view:s}of t1(n))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:i,view:s}of t1(n))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:n,dispatchers:i,isDowncast:s}){if(this._helpers.has(n))throw new O("conversion-group-exists",this);const l=s?new uie(i):new Uie(i);this._helpers.set(n,l)}}function*t1(c){if(c.model.values)for(const n of c.model.values){const i={key:c.model.key,value:n},s=c.view[n],l=c.upcastAlso?c.upcastAlso[n]:void 0;yield*yL(i,s,l)}else yield*yL(c.model,c.view,c.upcastAlso)}function*yL(c,n,i){if(yield{model:c,view:n},i)for(const s of Tr(i))yield{model:c,view:s}}class Co{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,i){return new this(n.baseVersion)}}function n1(c,n){const i=AL(n),s=i.reduce((f,g)=>f+g.offsetSize,0),l=c.parent;Cp(c);const d=c.index;return l._insertChild(d,i),Ap(l,d+i.length),Ap(l,d),new ne(c,c.getShiftedBy(s))}function _L(c){if(!c.isFlat)throw new O("operation-utils-remove-range-not-flat",this);const n=c.start.parent;Cp(c.start),Cp(c.end);const i=n._removeChildren(c.start.index,c.end.index-c.start.index);return Ap(n,c.start.index),i}function _p(c,n){if(!c.isFlat)throw new O("operation-utils-move-range-not-flat",this);const i=_L(c);return n=n._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),n1(n,i)}function Toe(c,n,i){Cp(c.start),Cp(c.end);for(const s of c.getItems({shallow:!0})){const l=s.is("$textProxy")?s.textNode:s;i!==null?l._setAttribute(n,i):l._removeAttribute(n),Ap(l.parent,l.index)}Ap(c.end.parent,c.end.index)}function AL(c){const n=[];function i(s){if(typeof s=="string")n.push(new tn(s));else if(s instanceof Jo)n.push(new tn(s.data,s.getAttributes()));else if(s instanceof jd)n.push(s);else if(Wn(s))for(const l of s)i(l)}i(c);for(let s=1;s<n.length;s++){const l=n[s],d=n[s-1];l instanceof tn&&d instanceof tn&&CL(l,d)&&(n.splice(s-1,2,new tn(d.data+l.data,d.getAttributes())),s--)}return n}function Ap(c,n){const i=c.getChild(n-1),s=c.getChild(n);if(i&&s&&i.is("$text")&&s.is("$text")&&CL(i,s)){const l=new tn(i.data+s.data,i.getAttributes());c._removeChildren(n-1,2),c._insertChild(n-1,l)}}function Cp(c){const n=c.textNode,i=c.parent;if(n){const s=c.offset-n.startOffset,l=n.index;i._removeChildren(l,1);const d=new tn(n.data.substr(0,s),n.getAttributes()),f=new tn(n.data.substr(s),n.getAttributes());i._insertChild(l,[d,f])}}function CL(c,n){const i=c.getAttributes(),s=n.getAttributes();for(const l of i){if(l[1]!==n.getAttribute(l[0]))return!1;s.next()}return s.next().done}class jt extends Co{constructor(n,i,s,l){super(l),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new jt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new jt(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,l=this.targetPosition.offset;if(s+this.howMany>n.maxOffset)throw new O("move-operation-nodes-do-not-exist",this);if(n===i&&s<l&&l<s+this.howMany)throw new O("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&xn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=s&&this.targetPosition.path[d]<s+this.howMany)throw new O("move-operation-node-into-itself",this)}}_execute(){_p(ne._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,i){const s=fe.fromJSON(n.sourcePosition,i),l=fe.fromJSON(n.targetPosition,i);return new this(s,n.howMany,l,n.baseVersion)}}class Ir extends Co{constructor(n,i,s){super(s),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new bp(AL(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const n=new bp([...this.nodes].map(s=>s._clone(!0))),i=new Ir(this.position,n,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const n=this.position.root.document.graveyard,i=new fe(n,[0]);return new jt(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new O("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new bp([...n].map(i=>i._clone(!0))),n1(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,i){const s=[];for(const d of n.nodes)d.name?s.push(qt.fromJSON(d)):s.push(tn.fromJSON(d));const l=new Ir(fe.fromJSON(n.position,i),s,n.baseVersion);return l.shouldReceiveAttributes=n.shouldReceiveAttributes,l}}class Ui extends Co{constructor(n,i,s,l,d,f){super(f),this.name=n,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=d,this._markers=l}get type(){return"marker"}clone(){return new Ui(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ui(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,i){return new Ui(n.name,n.oldRange?ne.fromJSON(n.oldRange,i):null,n.newRange?ne.fromJSON(n.newRange,i):null,i.model.markers,n.affectsData,n.baseVersion)}}function Ioe(c,n){return $O(c,n)}const EL=Ioe;class rr extends Co{constructor(n,i,s,l,d){super(d),this.range=n.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new rr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new rr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new O("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!EL(n.getAttribute(this.key),this.oldValue))throw new O("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new O("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){EL(this.oldValue,this.newValue)||Toe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,i){return new rr(ne.fromJSON(n.range,i),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Dr extends Co{get type(){return"noop"}clone(){return new Dr(this.baseVersion)}getReversed(){return new Dr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class $i extends Co{constructor(n,i,s,l){super(l),this.position=n,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}clone(){return new $i(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new $i(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(n instanceof qt){if(n.name!==this.oldName)throw new O("rename-operation-wrong-name",this)}else throw new O("rename-operation-wrong-position",this)}_execute(){const n=this.position.nodeAfter;n.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,i){return new $i(fe.fromJSON(n.position,i),n.oldName,n.newName,n.baseVersion)}}class da extends Co{constructor(n,i,s,l,d){super(d),this.root=n,this.key=i,this.oldValue=s,this.newValue=l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new da(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new da(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new O("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new O("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new O("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,i){if(!i.getRoot(n.root))throw new O("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new da(i.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Kn extends Co{constructor(n,i,s,l,d){super(d),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new fe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.sourcePosition,n)}clone(){return new Kn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new fe(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new nn(n,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent;if(n.parent)if(i.parent){if(this.howMany!=n.maxOffset)throw new O("merge-operation-how-many-invalid",this)}else throw new O("merge-operation-target-position-invalid",this);else throw new O("merge-operation-source-position-invalid",this)}_execute(){const n=this.sourcePosition.parent,i=ne._createIn(n);_p(i,this.targetPosition),_p(ne._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,i){const s=fe.fromJSON(n.sourcePosition,i),l=fe.fromJSON(n.targetPosition,i),d=fe.fromJSON(n.graveyardPosition,i);return new this(s,n.howMany,l,d,n.baseVersion)}}class nn extends Co{constructor(n,i,s,l,d){super(d),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new fe(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.splitPosition,n)}clone(){return new nn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,i=new fe(n,[0]);return new Kn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,i=this.splitPosition.offset;if(!n||n.maxOffset<i)throw new O("split-operation-position-invalid",this);if(n.parent){if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new O("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new O("split-operation-graveyard-position-invalid",this)}else throw new O("split-operation-split-in-root",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)_p(ne._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=n._clone();n1(this.insertionPosition,s)}const i=new ne(fe._createAt(n,this.splitPosition.offset),fe._createAt(n,n.maxOffset));_p(i,this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const i=n.path.slice(0,-1);return i[i.length-1]++,new fe(n.root,i,"toPrevious")}static fromJSON(n,i){const s=fe.fromJSON(n.splitPosition,i),l=fe.fromJSON(n.insertionPosition,i),d=n.graveyardPosition?fe.fromJSON(n.graveyardPosition,i):null;return new this(s,n.howMany,l,d,n.baseVersion)}}const es={};es[rr.className]=rr,es[Ir.className]=Ir,es[Ui.className]=Ui,es[jt.className]=jt,es[Dr.className]=Dr,es[Co.className]=Co,es[$i.className]=$i,es[da.className]=da,es[nn.className]=nn,es[Kn.className]=Kn;class Doe{static fromJSON(n,i){return es[n.__className].fromJSON(n,i)}}const r1=new Map;function Pt(c,n,i){let s=r1.get(c);s||(s=new Map,r1.set(c,s)),s.set(n,i)}function Poe(c,n){const i=r1.get(c);return i&&i.has(n)?i.get(n):Moe}function Moe(c){return[c]}function xL(c,n,i={}){const s=Poe(c.constructor,n.constructor);try{return c=c.clone(),s(c,n,i)}catch(l){throw l}}function Noe(c,n,i){c=c.slice(),n=n.slice();const s=new Roe(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(c),s.setOriginalOperations(n);const l=s.originalOperations;if(c.length==0||n.length==0)return{operationsA:c,operationsB:n,originalOperations:l};const d=new WeakMap;for(const w of c)d.set(w,0);const f={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:n.length};let g=0;for(;g<c.length;){const w=c[g],y=d.get(w);if(y==n.length){g++;continue}const C=n[y],x=xL(w,C,s.getContext(w,C,!0)),N=xL(C,w,s.getContext(C,w,!1));s.updateRelation(w,C),s.setOriginalOperations(x,w),s.setOriginalOperations(N,C);for(const F of x)d.set(F,y+N.length);c.splice(g,1,...x),n.splice(y,1,...N)}if(i.padWithNoOps){const w=c.length-f.originalOperationsACount,y=n.length-f.originalOperationsBCount;TL(c,y-w),TL(n,w-y)}return SL(c,f.nextBaseVersionB),SL(n,f.nextBaseVersionA),{operationsA:c,operationsB:n,originalOperations:l}}class Roe{constructor(n,i,s=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(n,i=null){const s=i?this.originalOperations.get(i):null;for(const l of n)this.originalOperations.set(l,s||l)}updateRelation(n,i){if(n instanceof jt)i instanceof Kn?n.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,i,"insertAtSource"):n.targetPosition.isEqual(i.deletionPosition)?this._setRelation(n,i,"insertBetween"):n.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(n,i,"moveTargetAfter"):i instanceof jt&&(n.targetPosition.isEqual(i.sourcePosition)||n.targetPosition.isBefore(i.sourcePosition)?this._setRelation(n,i,"insertBefore"):this._setRelation(n,i,"insertAfter"));else if(n instanceof nn){if(i instanceof Kn)n.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(n,i,"splitBefore");else if(i instanceof jt)if(n.splitPosition.isEqual(i.sourcePosition)||n.splitPosition.isBefore(i.sourcePosition))this._setRelation(n,i,"splitBefore");else{const s=ne._createFromPositionAndShift(i.sourcePosition,i.howMany);if(n.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(n.splitPosition)){const l=s.end.offset-n.splitPosition.offset,d=n.splitPosition.offset-s.start.offset;this._setRelation(n,i,{howMany:l,offset:d})}}}else if(n instanceof Kn)i instanceof Kn?(n.targetPosition.isEqual(i.sourcePosition)||this._setRelation(n,i,"mergeTargetNotMoved"),n.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(n,i,"mergeSourceNotMoved"),n.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeSameElement")):i instanceof nn&&n.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(n,i,"splitAtSource");else if(n instanceof Ui){const s=n.newRange;if(!s)return;if(i instanceof jt){const l=ne._createFromPositionAndShift(i.sourcePosition,i.howMany),d=l.containsPosition(s.start)||l.start.isEqual(s.start),f=l.containsPosition(s.end)||l.end.isEqual(s.end);(d||f)&&!l.containsRange(s)&&this._setRelation(n,i,{side:d?"left":"right",path:d?s.start.path.slice():s.end.path.slice()})}else if(i instanceof Kn){const l=s.start.isEqual(i.targetPosition),d=s.start.isEqual(i.deletionPosition),f=s.end.isEqual(i.deletionPosition),g=s.end.isEqual(i.sourcePosition);(l||d||f||g)&&this._setRelation(n,i,{wasInLeftElement:l,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:f,wasInRightElement:g})}}}getContext(n,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(n,i):null,baRelation:this._useRelations?this._getRelation(i,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const i=this.originalOperations.get(n);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(n,i){const s=this.originalOperations.get(i),l=this._history.getUndoneOperation(s);if(!l)return null;const d=this.originalOperations.get(n),f=this._relations.get(d);return f&&f.get(l)||null}_setRelation(n,i,s){const l=this.originalOperations.get(n),d=this.originalOperations.get(i);let f=this._relations.get(l);f||(f=new Map,this._relations.set(l,f)),f.set(d,s)}}function SL(c,n){for(const i of c)i.baseVersion=n++}function TL(c,n){for(let i=0;i<n;i++)c.push(new Dr(0))}Pt(rr,rr,(c,n,i)=>{if(c.key===n.key&&c.range.start.hasSameParentAs(n.range.start)){const s=c.range.getDifference(n.range).map(d=>new rr(d,c.key,c.oldValue,c.newValue,0)),l=c.range.getIntersection(n.range);return l&&i.aIsStrong&&s.push(new rr(l,n.key,n.newValue,c.newValue,0)),s.length==0?[new Dr(0)]:s}else return[c]}),Pt(rr,Ir,(c,n)=>{if(c.range.start.hasSameParentAs(n.position)&&c.range.containsPosition(n.position)){const s=c.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(l=>new rr(l,c.key,c.oldValue,c.newValue,c.baseVersion));if(n.shouldReceiveAttributes){const l=IL(n,c.key,c.oldValue);l&&s.unshift(l)}return s}return c.range=c.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[c]});function IL(c,n,i){const l=c.nodes.getNode(0).getAttribute(n);if(l==i)return null;const d=new ne(c.position,c.position.getShiftedBy(c.howMany));return new rr(d,n,l,i,0)}Pt(rr,Kn,(c,n)=>{const i=[];c.range.start.hasSameParentAs(n.deletionPosition)&&(c.range.containsPosition(n.deletionPosition)||c.range.start.isEqual(n.deletionPosition))&&i.push(ne._createFromPositionAndShift(n.graveyardPosition,1));const s=c.range._getTransformedByMergeOperation(n);return s.isCollapsed||i.push(s),i.map(l=>new rr(l,c.key,c.oldValue,c.newValue,c.baseVersion))}),Pt(rr,jt,(c,n)=>Ooe(c.range,n).map(s=>new rr(s,c.key,c.oldValue,c.newValue,c.baseVersion)));function Ooe(c,n){const i=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);let s=null,l=[];i.containsRange(c,!0)?s=c:c.start.hasSameParentAs(i.start)?(l=c.getDifference(i),s=c.getIntersection(i)):l=[c];const d=[];for(let f of l){f=f._getTransformedByDeletion(n.sourcePosition,n.howMany);const g=n.getMovedRangeStart(),w=f.start.hasSameParentAs(g),y=f._getTransformedByInsertion(g,n.howMany,w);d.push(...y)}return s&&d.push(s._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany,!1)[0]),d}Pt(rr,nn,(c,n)=>{if(c.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(n.splitPosition)&&c.range.containsPosition(n.splitPosition)){const i=c.clone();return i.range=new ne(n.moveTargetPosition.clone(),c.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),c.range.end=n.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,i]}return c.range=c.range._getTransformedBySplitOperation(n),[c]}),Pt(Ir,rr,(c,n)=>{const i=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(c.position)){const s=IL(c,n.key,n.newValue);s&&i.push(s)}return i}),Pt(Ir,Ir,(c,n,i)=>c.position.isEqual(n.position)&&i.aIsStrong?[c]:(c.position=c.position._getTransformedByInsertOperation(n),[c])),Pt(Ir,jt,(c,n)=>(c.position=c.position._getTransformedByMoveOperation(n),[c])),Pt(Ir,nn,(c,n)=>(c.position=c.position._getTransformedBySplitOperation(n),[c])),Pt(Ir,Kn,(c,n)=>(c.position=c.position._getTransformedByMergeOperation(n),[c])),Pt(Ui,Ir,(c,n)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(n)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(n)[0]),[c])),Pt(Ui,Ui,(c,n,i)=>{if(c.name==n.name)if(i.aIsStrong)c.oldRange=n.newRange?n.newRange.clone():null;else return[new Dr(0)];return[c]}),Pt(Ui,Kn,(c,n)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(n)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(n)),[c])),Pt(Ui,jt,(c,n,i)=>{if(c.oldRange&&(c.oldRange=ne._createFromRanges(c.oldRange._getTransformedByMoveOperation(n))),c.newRange){if(i.abRelation){const s=ne._createFromRanges(c.newRange._getTransformedByMoveOperation(n));if(i.abRelation.side=="left"&&n.targetPosition.isEqual(c.newRange.start))return c.newRange.end=s.end,c.newRange.start.path=i.abRelation.path,[c];if(i.abRelation.side=="right"&&n.targetPosition.isEqual(c.newRange.end))return c.newRange.start=s.start,c.newRange.end.path=i.abRelation.path,[c]}c.newRange=ne._createFromRanges(c.newRange._getTransformedByMoveOperation(n))}return[c]}),Pt(Ui,nn,(c,n,i)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(n)),c.newRange){if(i.abRelation){const s=c.newRange._getTransformedBySplitOperation(n);return c.newRange.start.isEqual(n.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?c.newRange.start=fe._createAt(n.insertionPosition):c.newRange.start.isEqual(n.splitPosition)&&!i.abRelation.wasInLeftElement&&(c.newRange.start=fe._createAt(n.moveTargetPosition)),c.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasInRightElement?c.newRange.end=fe._createAt(n.moveTargetPosition):c.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?c.newRange.end=fe._createAt(n.insertionPosition):c.newRange.end=s.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(n)}return[c]}),Pt(Kn,Ir,(c,n)=>(c.sourcePosition.hasSameParentAs(n.position)&&(c.howMany+=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(n),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(n),[c])),Pt(Kn,Kn,(c,n,i)=>{if(c.sourcePosition.isEqual(n.sourcePosition)&&c.targetPosition.isEqual(n.targetPosition))if(i.bWasUndone){const s=n.graveyardPosition.path.slice();return s.push(0),c.sourcePosition=new fe(n.graveyardPosition.root,s),c.howMany=0,[c]}else return[new Dr(0)];if(c.sourcePosition.isEqual(n.sourcePosition)&&!c.targetPosition.isEqual(n.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const s=c.targetPosition.root.rootName=="$graveyard",l=n.targetPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&i.aIsStrong){const w=n.targetPosition._getTransformedByMergeOperation(n),y=c.targetPosition._getTransformedByMergeOperation(n);return[new jt(w,c.howMany,y,0)]}else return[new Dr(0)]}return c.sourcePosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(n),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),(!c.graveyardPosition.isEqual(n.graveyardPosition)||!i.aIsStrong)&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(n)),[c]}),Pt(Kn,jt,(c,n,i)=>{const s=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&c.deletionPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(c.sourcePosition)?[new Dr(0)]:(c.sourcePosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.sourcePosition.hasSameParentAs(n.sourcePosition)&&(c.howMany-=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(n),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(n),c.graveyardPosition.isEqual(n.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(n)),[c])}),Pt(Kn,nn,(c,n,i)=>{if(n.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),c.deletionPosition.isEqual(n.graveyardPosition)&&(c.howMany=n.howMany)),c.targetPosition.isEqual(n.splitPosition)){const s=n.howMany!=0,l=n.graveyardPosition&&c.deletionPosition.isEqual(n.graveyardPosition);if(s||l||i.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(n),[c]}if(c.sourcePosition.isEqual(n.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c];if(i.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=n.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c]}return c.sourcePosition.hasSameParentAs(n.splitPosition)&&(c.howMany=n.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(n),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c]}),Pt(jt,Ir,(c,n)=>{const s=ne._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(n,!1)[0];return c.sourcePosition=s.start,c.howMany=s.end.offset-s.start.offset,c.targetPosition.isEqual(n.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(n)),[c]}),Pt(jt,jt,(c,n,i)=>{const s=ne._createFromPositionAndShift(c.sourcePosition,c.howMany),l=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);let d=i.aIsStrong,f=!i.aIsStrong;i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?f=!0:(i.abRelation=="insertAfter"||i.baRelation=="insertBefore")&&(f=!1);let g;if(c.targetPosition.isEqual(n.targetPosition)&&f?g=c.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):g=c.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),DL(c,n)&&DL(n,c))return[n.getReversed()];if(s.containsPosition(n.targetPosition)&&s.containsRange(l,!0))return s.start=s.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),s.end=s.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Vd([s],g);if(l.containsPosition(c.targetPosition)&&l.containsRange(s,!0))return s.start=s.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),s.end=s.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),Vd([s],g);const C=xn(c.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(C=="prefix"||C=="extension")return s.start=s.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),s.end=s.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Vd([s],g);c.type=="remove"&&n.type!="remove"&&!i.aWasUndone&&!i.forceWeakRemove?d=!0:c.type!="remove"&&n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&(d=!1);const x=[],N=s.getDifference(l);for(const U of N){U.start=U.start._getTransformedByDeletion(n.sourcePosition,n.howMany),U.end=U.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const G=xn(U.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",ae=U._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,G);x.push(...ae)}const F=s.getIntersection(l);return F!==null&&d&&(F.start=F.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),F.end=F.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),x.length===0?x.push(F):x.length==1?l.start.isBefore(s.start)||l.start.isEqual(s.start)?x.unshift(F):x.push(F):x.splice(1,0,F)),x.length===0?[new Dr(c.baseVersion)]:Vd(x,g)}),Pt(jt,nn,(c,n,i)=>{let s=c.targetPosition.clone();(!c.targetPosition.isEqual(n.insertionPosition)||!n.graveyardPosition||i.abRelation=="moveTargetAfter")&&(s=c.targetPosition._getTransformedBySplitOperation(n));const l=ne._createFromPositionAndShift(c.sourcePosition,c.howMany);if(l.end.isEqual(n.insertionPosition))return n.graveyardPosition||c.howMany++,c.targetPosition=s,[c];if(l.start.hasSameParentAs(n.splitPosition)&&l.containsPosition(n.splitPosition)){let g=new ne(n.splitPosition,l.end);g=g._getTransformedBySplitOperation(n);const w=[new ne(l.start,n.splitPosition),g];return Vd(w,s)}c.targetPosition.isEqual(n.splitPosition)&&i.abRelation=="insertAtSource"&&(s=n.moveTargetPosition),c.targetPosition.isEqual(n.insertionPosition)&&i.abRelation=="insertBetween"&&(s=c.targetPosition);const f=[l._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const g=l.start.isEqual(n.graveyardPosition)||l.containsPosition(n.graveyardPosition);c.howMany>1&&g&&!i.aWasUndone&&f.push(ne._createFromPositionAndShift(n.insertionPosition,1))}return Vd(f,s)}),Pt(jt,Kn,(c,n,i)=>{const s=ne._createFromPositionAndShift(c.sourcePosition,c.howMany);if(n.deletionPosition.hasSameParentAs(c.sourcePosition)&&s.containsPosition(n.sourcePosition)){if(c.type=="remove"&&!i.forceWeakRemove){if(!i.aWasUndone){const f=[];let g=n.graveyardPosition.clone(),w=n.targetPosition._getTransformedByMergeOperation(n);c.howMany>1&&(f.push(new jt(c.sourcePosition,c.howMany-1,c.targetPosition,0)),g=g._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const y=n.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),C=new jt(g,1,y,0),x=C.getMovedRangeStart().path.slice();x.push(0);const N=new fe(C.targetPosition.root,x);w=w._getTransformedByMove(g,y,1);const F=new jt(w,n.howMany,N,0);return f.push(C),f.push(F),f}}else if(c.howMany==1)return i.bWasUndone?(c.sourcePosition=n.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),[c]):[new Dr(0)]}const d=ne._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(n);return c.sourcePosition=d.start,c.howMany=d.end.offset-d.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),[c]}),Pt($i,Ir,(c,n)=>(c.position=c.position._getTransformedByInsertOperation(n),[c])),Pt($i,Kn,(c,n)=>c.position.isEqual(n.deletionPosition)?(c.position=n.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(n),[c])),Pt($i,jt,(c,n)=>(c.position=c.position._getTransformedByMoveOperation(n),[c])),Pt($i,$i,(c,n,i)=>{if(c.position.isEqual(n.position))if(i.aIsStrong)c.oldName=n.newName;else return[new Dr(0)];return[c]}),Pt($i,nn,(c,n)=>{const i=c.position.path,s=n.splitPosition.getParentPath();if(xn(i,s)=="same"&&!n.graveyardPosition){const l=new $i(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,l]}return c.position=c.position._getTransformedBySplitOperation(n),[c]}),Pt(da,da,(c,n,i)=>{if(c.root===n.root&&c.key===n.key){if(!i.aIsStrong||c.newValue===n.newValue)return[new Dr(0)];c.oldValue=n.newValue}return[c]}),Pt(nn,Ir,(c,n)=>(c.splitPosition.hasSameParentAs(n.position)&&c.splitPosition.offset<n.position.offset&&(c.howMany+=n.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(n),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(n),[c])),Pt(nn,Kn,(c,n,i)=>{if(!c.graveyardPosition&&!i.bWasUndone&&c.splitPosition.hasSameParentAs(n.sourcePosition)){const s=n.graveyardPosition.path.slice();s.push(0);const l=new fe(n.graveyardPosition.root,s),d=nn.getInsertionPosition(new fe(n.graveyardPosition.root,s)),f=new nn(l,0,d,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(n),c.insertionPosition=nn.getInsertionPosition(c.splitPosition),c.graveyardPosition=f.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[f,c]}return c.splitPosition.hasSameParentAs(n.deletionPosition)&&!c.splitPosition.isAfter(n.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(n),c.insertionPosition=nn.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(n)),[c]}),Pt(nn,jt,(c,n,i)=>{const s=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);if(c.graveyardPosition){const d=s.start.isEqual(c.graveyardPosition)||s.containsPosition(c.graveyardPosition);if(!i.bWasUndone&&d){const f=c.splitPosition._getTransformedByMoveOperation(n),g=c.graveyardPosition._getTransformedByMoveOperation(n),w=g.path.slice();w.push(0);const y=new fe(g.root,w);return[new jt(f,c.howMany,y,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(n)}const l=c.splitPosition.isEqual(n.targetPosition);if(l&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return c.howMany+=n.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),c.insertionPosition=nn.getInsertionPosition(c.splitPosition),[c];if(l&&i.abRelation&&i.abRelation.howMany){const{howMany:d,offset:f}=i.abRelation;return c.howMany+=d,c.splitPosition=c.splitPosition.getShiftedBy(f),[c]}if(c.splitPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(c.splitPosition)){const d=n.howMany-(c.splitPosition.offset-n.sourcePosition.offset);return c.howMany-=d,c.splitPosition.hasSameParentAs(n.targetPosition)&&c.splitPosition.offset<n.targetPosition.offset&&(c.howMany+=n.howMany),c.splitPosition=n.sourcePosition.clone(),c.insertionPosition=nn.getInsertionPosition(c.splitPosition),[c]}return n.sourcePosition.isEqual(n.targetPosition)||(c.splitPosition.hasSameParentAs(n.sourcePosition)&&c.splitPosition.offset<=n.sourcePosition.offset&&(c.howMany-=n.howMany),c.splitPosition.hasSameParentAs(n.targetPosition)&&c.splitPosition.offset<n.targetPosition.offset&&(c.howMany+=n.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(n),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(n):c.insertionPosition=nn.getInsertionPosition(c.splitPosition),[c]}),Pt(nn,nn,(c,n,i)=>{if(c.splitPosition.isEqual(n.splitPosition)){if(!c.graveyardPosition&&!n.graveyardPosition)return[new Dr(0)];if(c.graveyardPosition&&n.graveyardPosition&&c.graveyardPosition.isEqual(n.graveyardPosition))return[new Dr(0)];if(i.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(n),[c]}if(c.graveyardPosition&&n.graveyardPosition&&c.graveyardPosition.isEqual(n.graveyardPosition)){const s=c.splitPosition.root.rootName=="$graveyard",l=n.splitPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&i.aIsStrong){const w=[];return n.howMany&&w.push(new jt(n.moveTargetPosition,n.howMany,n.splitPosition,0)),c.howMany&&w.push(new jt(c.splitPosition,c.howMany,c.moveTargetPosition,0)),w}else return[new Dr(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(n)),c.splitPosition.isEqual(n.insertionPosition)&&i.abRelation=="splitBefore")return c.howMany++,[c];if(n.splitPosition.isEqual(c.insertionPosition)&&i.baRelation=="splitBefore"){const s=n.insertionPosition.path.slice();s.push(0);const l=new fe(n.insertionPosition.root,s),d=new jt(c.insertionPosition,1,l,0);return[c,d]}return c.splitPosition.hasSameParentAs(n.splitPosition)&&c.splitPosition.offset<n.splitPosition.offset&&(c.howMany-=n.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(n),c.insertionPosition=nn.getInsertionPosition(c.splitPosition),[c]});function DL(c,n){return c.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function Vd(c,n){const i=[];for(let s=0;s<c.length;s++){const l=c[s],d=new jt(l.start,l.end.offset-l.start.offset,n,0);i.push(d);for(let f=s+1;f<c.length;f++)c[f]=c[f]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];n=n._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return i}class Gr extends z(fe){constructor(n,i,s="toNone"){if(super(n,i,s),!this.root.is("rootElement"))throw new O("model-liveposition-root-not-rootelement",n);Loe.call(this)}detach(){this.stopListening()}toPosition(){return new fe(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,i){return new this(n.root,n.path.slice(),i||n.stickiness)}}Gr.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};function Loe(){this.listenTo(this.root.document.model,"applyOperation",(c,n)=>{const i=n[0];i.isDocumentOperation&&Boe.call(this,i)},{priority:"low"})}function Boe(c){const n=this.getTransformedByOperation(c);if(!this.isEqual(n)){const i=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",i)}}class Ud{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},Be("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:l=!1,isTyping:d=!1}=n;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=l,this.isTyping=d}get type(){return Be("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}class zoe{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}bufferOperation(n){const i=n;switch(i.type){case"insert":{if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const s of i.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break}case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const s=this._isInInsertedElement(i.sourcePosition.parent),l=this._isInInsertedElement(i.targetPosition.parent);s||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),l||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const s=ne._createFromPositionAndShift(i.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const d=l.getData();this.bufferMarkerChange(l.name,d,d)}break}case"split":{const s=i.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const s=i.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const l=i.graveyardPosition.parent;this._markInsert(l,i.graveyardPosition.offset,1);const d=i.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,i.targetPosition.offset,s.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(n,i,s){const l=this._changedMarkers.get(n);l?(l.newMarkerData=s,l.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(n)):this._changedMarkers.set(n,{newMarkerData:s,oldMarkerData:i})}getMarkersToRemove(){const n=[];for(const[i,s]of this._changedMarkers)s.oldMarkerData.range!=null&&n.push({name:i,range:s.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[i,s]of this._changedMarkers)s.newMarkerData.range!=null&&n.push({name:i,range:s.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,i])=>({name:n,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:i}of this._changedMarkers.values()){if(n.affectsData!==i.affectsData)return!0;if(n.affectsData){const s=n.range&&!i.range,l=!n.range&&i.range,d=n.range&&i.range&&!n.range.isEqual(i.range);if(s||l||d)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const l=this._changesInElement.get(s).sort((C,x)=>C.offset===x.offset?C.type!=x.type?C.type=="remove"?-1:1:0:C.offset<x.offset?-1:1),d=this._elementSnapshots.get(s),f=PL(s.getChildren()),g=Foe(d.length,l);let w=0,y=0;for(const C of g)if(C==="i")i.push(this._getInsertDiff(s,w,f[w])),w++;else if(C==="r")i.push(this._getRemoveDiff(s,w,d[y])),y++;else if(C==="a"){const x=f[w].attributes,N=d[y].attributes;let F;if(f[w].name=="$text")F=new ne(fe._createAt(s,w),fe._createAt(s,w+1));else{const U=s.offsetToIndex(w);F=new ne(fe._createAt(s,w),fe._createAt(s.getChild(U),0))}i.push(...this._getAttributesDiff(F,N,x)),w++,y++}else w++,y++}i.sort((s,l)=>s.position.root!=l.position.root?s.position.root.rootName<l.position.root.rootName?-1:1:s.position.isEqual(l.position)?s.changeCount-l.changeCount:s.position.isBefore(l.position)?-1:1);for(let s=1,l=0;s<i.length;s++){const d=i[l],f=i[s],g=d.type=="remove"&&f.type=="remove"&&d.name=="$text"&&f.name=="$text"&&d.position.isEqual(f.position),w=d.type=="insert"&&f.type=="insert"&&d.name=="$text"&&f.name=="$text"&&d.position.parent==f.position.parent&&d.position.offset+d.length==f.position.offset,y=d.type=="attribute"&&f.type=="attribute"&&d.position.parent==f.position.parent&&d.range.isFlat&&f.range.isFlat&&d.position.offset+d.length==f.position.offset&&d.attributeKey==f.attributeKey&&d.attributeOldValue==f.attributeOldValue&&d.attributeNewValue==f.attributeNewValue;g||w||y?(d.length++,y&&(d.range.end=d.range.end.getShiftedBy(1)),i[s]=null):l=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(joe),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const i=ne._createOn(n);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}this._cachedChanges=null}_markInsert(n,i,s){const l={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(n,l)}_markRemove(n,i,s){const l={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(n,l),this._removeAllNestedChanges(n,i,s)}_markAttribute(n){const i={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,i)}_markChange(n,i){this._makeSnapshot(n);const s=this._getChangesForElement(n);this._handleChange(i,s),s.push(i);for(let l=0;l<s.length;l++)s[l].howMany<1&&(s.splice(l,1),l--)}_getChangesForElement(n){let i;return this._changesInElement.has(n)?i=this._changesInElement.get(n):(i=[],this._changesInElement.set(n,i)),i}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,PL(n.getChildren()))}_handleChange(n,i){n.nodesToHandle=n.howMany;for(const s of i){const l=n.offset+n.howMany,d=s.offset+s.howMany;if(n.type=="insert"&&(s.type=="insert"&&(n.offset<=s.offset?s.offset+=n.howMany:n.offset<d&&(s.howMany+=n.nodesToHandle,n.nodesToHandle=0)),s.type=="remove"&&n.offset<s.offset&&(s.offset+=n.howMany),s.type=="attribute")){if(n.offset<=s.offset)s.offset+=n.howMany;else if(n.offset<d){const f=s.howMany;s.howMany=n.offset-s.offset,i.unshift({type:"attribute",offset:l,howMany:f-s.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(s.type=="insert"){if(l<=s.offset)s.offset-=n.howMany;else if(l<=d)if(n.offset<s.offset){const f=l-s.offset;s.offset=n.offset,s.howMany-=f,n.nodesToHandle-=f}else s.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=s.offset)n.nodesToHandle-=s.howMany,s.howMany=0;else if(n.offset<d){const f=d-n.offset;s.howMany-=f,n.nodesToHandle-=f}}if(s.type=="remove"&&(l<=s.offset?s.offset-=n.howMany:n.offset<s.offset&&(n.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(l<=s.offset)s.offset-=n.howMany;else if(n.offset<s.offset){const f=l-s.offset;s.offset=n.offset,s.howMany-=f}else if(n.offset<d)if(l<=d){const f=s.howMany;s.howMany=n.offset-s.offset;const g=f-s.howMany-n.nodesToHandle;i.unshift({type:"attribute",offset:n.offset,howMany:g,count:this._changeCount++})}else s.howMany-=d-n.offset}}if(n.type=="attribute"){if(s.type=="insert")if(n.offset<s.offset&&l>s.offset){if(l>d){const f={type:"attribute",offset:d,howMany:l-d,count:this._changeCount++};this._handleChange(f,i),i.push(f)}n.nodesToHandle=s.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=s.offset&&n.offset<d&&(l>d?(n.nodesToHandle=l-d,n.offset=d):n.nodesToHandle=0);if(s.type=="remove"&&n.offset<s.offset&&l>s.offset){const f={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++};this._handleChange(f,i),i.push(f),n.nodesToHandle=s.offset-n.offset,n.howMany=n.nodesToHandle}s.type=="attribute"&&(n.offset>=s.offset&&l<=d?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=s.offset&&l>=d&&(s.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,i,s){return{type:"insert",position:fe._createAt(n,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(n,i,s){return{type:"remove",position:fe._createAt(n,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(n,i,s){const l=[];s=new Map(s);for(const[d,f]of i){const g=s.has(d)?s.get(d):null;g!==f&&l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:f,attributeNewValue:g,changeCount:this._changeCount++}),s.delete(d)}for(const[d,f]of s)l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return l}_isInInsertedElement(n){const i=n.parent;if(!i)return!1;const s=this._changesInElement.get(i),l=n.startOffset;if(s){for(const d of s)if(d.type=="insert"&&l>=d.offset&&l<d.offset+d.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(n,i,s){const l=new ne(fe._createAt(n,i),fe._createAt(n,i+s));for(const d of l.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function PL(c){const n=[];for(const i of c)if(i.is("$text"))for(let s=0;s<i.data.length;s++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())});return n}function Foe(c,n){const i=[];let s=0,l=0;for(const d of n){if(d.offset>s){for(let f=0;f<d.offset-s;f++)i.push("e");l+=d.offset-s}if(d.type=="insert"){for(let f=0;f<d.howMany;f++)i.push("i");s=d.offset+d.howMany}else if(d.type=="remove"){for(let f=0;f<d.howMany;f++)i.push("r");s=d.offset,l+=d.howMany}else i.push(..."a".repeat(d.howMany).split("")),s=d.offset+d.howMany,l+=d.howMany}if(l<c)for(let d=0;d<c-l-s;d++)i.push("e");return i}function joe(c){const n="position"in c&&c.position.root.rootName=="$graveyard",i="range"in c&&c.range.root.rootName=="$graveyard";return!n&&!i}class Voe{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new O("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];n===void 0&&(n=s.baseVersion);let l=i-1;for(const[g,w]of this._gaps)n>g&&n<w&&(n=w),l>g&&l<w&&(l=g-1);if(l<s.baseVersion||n>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(n);d===void 0&&(d=0);let f=this._baseVersionToOperationIndex.get(l);return f===void 0&&(f=this._operations.length-1),this._operations.slice(d,f+1)}getOperation(n){const i=this._baseVersionToOperationIndex.get(n);if(i!==void 0)return this._operations[i]}setOperationAsUndone(n,i){this._undoPairs.set(i,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class $w extends qt{constructor(n,i,s="main"){super(i),this._document=n,this.rootName=s}get document(){return this._document}toJSON(){return this.rootName}}$w.prototype.is=function(c,n){return n?n===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};const i1="$graveyard";class Uoe extends z(){constructor(n){super(),this.model=n,this.history=new Voe,this.selection=new Ao(this),this.roots=new yi({idProperty:"rootName"}),this.differ=new zoe(n.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",i1),this.listenTo(n,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(n,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(i,s,l,d,f)=>{const g={...s.getData(),range:d};this.differ.bufferMarkerChange(s.name,f,g),l===null&&s.on("change",(w,y)=>{const C=s.getData();this.differ.bufferMarkerChange(s.name,{...C,range:y},C)})})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(i1)}createRoot(n="$root",i="main"){if(this.roots.get(i))throw new O("model-document-createroot-name-exists",this,{name:i});const s=new $w(this,n,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(){return Array.from(this.roots,n=>n.rootName).filter(n=>n!=i1)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=XR(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const n of this.roots)if(n!==this.graveyard)return n;return this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),i=this.model,s=i.schema,l=i.createPositionFromPath(n,[0]);return s.getNearestSelectionRange(l)||i.createRange(l)}_validateSelectionRange(n){return ML(n.start)&&ML(n.end)}_callPostFixers(n){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(n),i)break;while(i)}}function ML(c){const n=c.textNode;if(n){const i=n.data,s=c.offset-n.startOffset;return!vR(i,s)&&!yR(i,s)}return!0}class $oe extends z(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const i=n instanceof $d?n.name:n;return this._markers.has(i)}get(n){return this._markers.get(n)||null}_set(n,i,s=!1,l=!1){const d=n instanceof $d?n.name:n;if(d.includes(","))throw new O("markercollection-incorrect-marker-name",this);const f=this._markers.get(d);if(f){const y=f.getData(),C=f.getRange();let x=!1;return C.isEqual(i)||(f._attachLiveRange(Xo.fromRange(i)),x=!0),s!=f.managedUsingOperations&&(f._managedUsingOperations=s,x=!0),typeof l=="boolean"&&l!=f.affectsData&&(f._affectsData=l,x=!0),x&&this.fire(`update:${d}`,f,C,i,y),f}const g=Xo.fromRange(i),w=new $d(d,g,s,l);return this._markers.set(d,w),this.fire(`update:${d}`,w,null,i,{...w.getData(),range:null}),w}_remove(n){const i=n instanceof $d?n.name:n,s=this._markers.get(i);return s?(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0):!1}_refresh(n){const i=n instanceof $d?n.name:n,s=this._markers.get(i);if(!s)throw new O("markercollection-refresh-marker-not-exists",this);const l=s.getRange();this.fire(`update:${i}`,s,l,l,s.getData())}*getMarkersAtPosition(n){for(const i of this)i.getRange().containsPosition(n)&&(yield i)}*getMarkersIntersectingRange(n){for(const i of this)i.getRange().getIntersection(n)!==null&&(yield i)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const i of this._markers.values())i.name.startsWith(n+":")&&(yield i)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class $d extends z(hc){constructor(n,i,s,l){super(),this.name=n,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new O("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new O("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new O("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new O("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new O("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}$d.prototype.is=function(c){return c==="marker"||c==="model:marker"};class Hoe extends Co{constructor(n,i){super(null),this.sourcePosition=n.clone(),this.howMany=i}get type(){return"detach"}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new O("detach-operation-on-document-node",this)}_execute(){_L(ne._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ha extends hc{constructor(n){super(),this.markers=new Map,this._children=new bp,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let i=this;for(const s of n)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const i of this._children)n.push(i.toJSON());return n}static fromJSON(n){const i=[];for(const s of n)s.name?i.push(qt.fromJSON(s)):i.push(tn.fromJSON(s));return new ha(i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const s=qoe(i);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,i=1){const s=this._children._removeNodes(n,i);for(const l of s)l.parent=null;return s}}ha.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};function qoe(c){return typeof c=="string"?[new tn(c)]:(Wn(c)||(c=[c]),Array.from(c).map(n=>typeof n=="string"?new tn(n):n instanceof Jo?new tn(n.data,n.getAttributes()):n))}class Woe{constructor(n,i){this.model=n,this.batch=i}createText(n,i){return new tn(n,i)}createElement(n,i){return new qt(n,i)}createDocumentFragment(){return new ha}cloneElement(n,i=!0){return n._clone(i)}insert(n,i,s=0){if(this._assertWriterUsedCorrectly(),n instanceof tn&&n.data=="")return;const l=fe._createAt(i,s);if(n.parent)if(OL(n.root,l.root)){this.move(ne._createOn(n),l);return}else{if(n.root.document)throw new O("model-writer-insert-forbidden-move",this);this.remove(n)}const d=l.root.document?l.root.document.version:null,f=new Ir(l,n,d);if(n instanceof tn&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),n instanceof ha)for(const[g,w]of n.markers){const y=fe._createAt(w.root,0),x={range:new ne(w.start._getCombined(y,l),w.end._getCombined(y,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,x):this.addMarker(g,x)}}insertText(n,i,s,l){i instanceof ha||i instanceof qt||i instanceof fe?this.insert(this.createText(n),i,s):this.insert(this.createText(n,i),s,l)}insertElement(n,i,s,l){i instanceof ha||i instanceof qt||i instanceof fe?this.insert(this.createElement(n),i,s):this.insert(this.createElement(n,i),s,l)}append(n,i){this.insert(n,i,"end")}appendText(n,i,s){i instanceof ha||i instanceof qt?this.insert(this.createText(n),i,"end"):this.insert(this.createText(n,i),s,"end")}appendElement(n,i,s){i instanceof ha||i instanceof qt?this.insert(this.createElement(n),i,"end"):this.insert(this.createElement(n,i),s,"end")}setAttribute(n,i,s){if(this._assertWriterUsedCorrectly(),s instanceof ne){const l=s.getMinimalFlatRanges();for(const d of l)NL(this,n,i,d)}else RL(this,n,i,s)}setAttributes(n,i){for(const[s,l]of ks(n))this.setAttribute(s,l,i)}removeAttribute(n,i){if(this._assertWriterUsedCorrectly(),i instanceof ne){const s=i.getMinimalFlatRanges();for(const l of s)NL(this,n,null,l)}else RL(this,n,null,i)}clearAttributes(n){this._assertWriterUsedCorrectly();const i=s=>{for(const l of s.getAttributeKeys())this.removeAttribute(l,s)};if(!(n instanceof ne))i(n);else for(const s of n.getItems())i(s)}move(n,i,s){if(this._assertWriterUsedCorrectly(),!(n instanceof ne))throw new O("writer-move-invalid-range",this);if(!n.isFlat)throw new O("writer-move-range-not-flat",this);const l=fe._createAt(i,s);if(l.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!OL(n.root,l.root))throw new O("writer-move-different-document",this);const d=n.root.document?n.root.document.version:null,f=new jt(n.start,n.end.offset-n.start.offset,l,d);this.batch.addOperation(f),this.model.applyOperation(f)}remove(n){this._assertWriterUsedCorrectly();const s=(n instanceof ne?n:ne._createOn(n)).getMinimalFlatRanges().reverse();for(const l of s)this._addOperationForAffectedMarkers("move",l),Goe(l.start,l.end.offset-l.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const i=n.nodeBefore,s=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(i instanceof qt))throw new O("writer-merge-no-element-before",this);if(!(s instanceof qt))throw new O("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,i,s){return this.model.createPositionFromPath(n,i,s)}createPositionAt(n,i){return this.model.createPositionAt(n,i)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,i){return this.model.createRange(n,i)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const i=n.nodeBefore,s=n.nodeAfter;this.move(ne._createIn(s),fe._createAt(i,"end")),this.remove(s)}_merge(n){const i=fe._createAt(n.nodeBefore,"end"),s=fe._createAt(n.nodeAfter,0),l=n.root.document.graveyard,d=new fe(l,[0]),f=n.root.document.version,g=new Kn(s,n.nodeAfter.maxOffset,i,d,f);this.batch.addOperation(g),this.model.applyOperation(g)}rename(n,i){if(this._assertWriterUsedCorrectly(),!(n instanceof qt))throw new O("writer-rename-not-element-instance",this);const s=n.root.document?n.root.document.version:null,l=new $i(fe._createBefore(n),n.name,i,s);this.batch.addOperation(l),this.model.applyOperation(l)}split(n,i){this._assertWriterUsedCorrectly();let s=n.parent;if(!s.parent)throw new O("writer-split-element-no-parent",this);if(i||(i=s.parent),!n.parent.getAncestors({includeSelf:!0}).includes(i))throw new O("writer-split-invalid-limit-element",this);let l,d;do{const f=s.root.document?s.root.document.version:null,g=s.maxOffset-n.offset,w=nn.getInsertionPosition(n),y=new nn(n,g,w,null,f);this.batch.addOperation(y),this.model.applyOperation(y),!l&&!d&&(l=s,d=n.parent.nextSibling),n=this.createPositionAfter(n.parent),s=n.parent}while(s!==i);return{position:n,range:new ne(fe._createAt(l,"end"),fe._createAt(d,0))}}wrap(n,i){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new O("writer-wrap-range-not-flat",this);const s=i instanceof qt?i:new qt(i);if(s.childCount>0)throw new O("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new O("writer-wrap-element-attached",this);this.insert(s,n.start);const l=new ne(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(l,fe._createAt(s,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new O("writer-unwrap-element-no-parent",this);this.move(ne._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new O("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,l=i.range,d=i.affectsData===void 0?!1:i.affectsData;if(this.model.markers.has(n))throw new O("writer-addmarker-marker-exists",this);if(!l)throw new O("writer-addmarker-no-range",this);return s?(Ep(this,n,null,l,d),this.model.markers.get(n)):this.model.markers._set(n,l,s,d)}updateMarker(n,i){this._assertWriterUsedCorrectly();const s=typeof n=="string"?n:n.name,l=this.model.markers.get(s);if(!l)throw new O("writer-updatemarker-marker-not-exists",this);if(!i){Be("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),this.model.markers._refresh(l);return}const d=typeof i.usingOperation=="boolean",f=typeof i.affectsData=="boolean",g=f?i.affectsData:l.affectsData;if(!d&&!i.range&&!f)throw new O("writer-updatemarker-wrong-options",this);const w=l.getRange(),y=i.range?i.range:w;if(d&&i.usingOperation!==l.managedUsingOperations){i.usingOperation?Ep(this,s,null,y,g):(Ep(this,s,w,null,g),this.model.markers._set(s,y,void 0,g));return}l.managedUsingOperations?Ep(this,s,w,y,g):this.model.markers._set(s,y,void 0,g)}removeMarker(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name;if(!this.model.markers.has(i))throw new O("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);if(!s.managedUsingOperations){this.model.markers._remove(i);return}const l=s.getRange();Ep(this,i,l,null,s.affectsData)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,i)}setSelectionAttribute(n,i){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,i);else for(const[s,l]of ks(n))this._setSelectionAttribute(s,l)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const i of n)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=Ao._getStoreAttributeKey(n);this.setAttribute(l,i,s.anchor.parent)}s._setAttribute(n,i)}_removeSelectionAttribute(n){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=Ao._getStoreAttributeKey(n);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new O("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const l=s.getRange();let d=!1;if(n==="move"){const f=i;d=f.containsPosition(l.start)||f.start.isEqual(l.start)||f.containsPosition(l.end)||f.end.isEqual(l.end)}else{const f=i,g=f.nodeBefore,w=f.nodeAfter,y=l.start.parent==g&&l.start.isAtEnd,C=l.end.parent==w&&l.end.offset==0,x=l.end.nodeAfter==w,N=l.start.nodeAfter==w;d=y||C||x||N}d&&this.updateMarker(s.name,{range:l})}}}function NL(c,n,i,s){const l=c.model,d=l.document;let f=s.start,g,w,y;for(const x of s.getWalker({shallow:!0}))y=x.item.getAttribute(n),g&&w!=y&&(w!=i&&C(),f=g),g=x.nextPosition,w=y;g instanceof fe&&g!=f&&w!=i&&C();function C(){const x=new ne(f,g),N=x.root.document?d.version:null,F=new rr(x,n,w,i,N);c.batch.addOperation(F),l.applyOperation(F)}}function RL(c,n,i,s){const l=c.model,d=l.document,f=s.getAttribute(n);let g,w;if(f!=i){if(s.root===s){const C=s.document?d.version:null;w=new da(s,n,f,i,C)}else{g=new ne(fe._createBefore(s),c.createPositionAfter(s));const C=g.root.document?d.version:null;w=new rr(g,n,f,i,C)}c.batch.addOperation(w),l.applyOperation(w)}}function Ep(c,n,i,s,l){const d=c.model,f=d.document,g=new Ui(n,i,s,d.markers,!!l,f.version);c.batch.addOperation(g),d.applyOperation(g)}function Goe(c,n,i,s){let l;if(c.root.document){const d=s.document,f=new fe(d.graveyard,[0]);l=new jt(c,n,f,d.version)}else l=new Hoe(c,n);i.addOperation(l),s.applyOperation(l)}function OL(c,n){return c===n||c instanceof $w&&n instanceof $w}function Koe(c){c.document.registerPostFixer(n=>Yoe(n,c))}function Yoe(c,n){const i=n.document.selection,s=n.schema,l=[];let d=!1;for(const f of i.getRanges()){const g=Qoe(f,s);g&&!g.isEqual(f)?(l.push(g),d=!0):l.push(f)}return d&&c.setSelection(ese(l),{backward:i.isBackward}),!1}function Qoe(c,n){return c.isCollapsed?Zoe(c,n):Joe(c,n)}function Zoe(c,n){const i=c.start,s=n.getNearestSelectionRange(i);if(!s){const d=i.getAncestors().reverse().find(f=>n.isObject(f));return d?ne._createOn(d):null}if(!s.isCollapsed)return s;const l=s.start;return i.isEqual(l)?null:new ne(l)}function Joe(c,n){const{start:i,end:s}=c,l=n.checkChild(i,"$text"),d=n.checkChild(s,"$text"),f=n.getLimitElement(i),g=n.getLimitElement(s);if(f===g){if(l&&d)return null;if(Xoe(i,s,n)){const x=i.nodeAfter&&n.isSelectable(i.nodeAfter)?null:n.getNearestSelectionRange(i,"forward"),F=s.nodeBefore&&n.isSelectable(s.nodeBefore)?null:n.getNearestSelectionRange(s,"backward"),U=x?x.start:i,G=F?F.end:s;return new ne(U,G)}}const w=f&&!f.is("rootElement"),y=g&&!g.is("rootElement");if(w||y){const C=i.nodeAfter&&s.nodeBefore&&i.nodeAfter.parent===s.nodeBefore.parent,x=w&&(!C||!BL(i.nodeAfter,n)),N=y&&(!C||!BL(s.nodeBefore,n));let F=i,U=s;return x&&(F=fe._createBefore(LL(f,n))),N&&(U=fe._createAfter(LL(g,n))),new ne(F,U)}return null}function LL(c,n){let i=c,s=i;for(;n.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function Xoe(c,n,i){const s=c.nodeAfter&&!i.isLimit(c.nodeAfter)||i.checkChild(c,"$text"),l=n.nodeBefore&&!i.isLimit(n.nodeBefore)||i.checkChild(n,"$text");return s||l}function ese(c){const n=[...c],i=new Set;let s=1;for(;s<n.length;){const d=n[s],f=n.slice(0,s);for(const[g,w]of f.entries())if(!i.has(g)){if(d.isEqual(w))i.add(g);else if(d.isIntersecting(w)){i.add(g),i.add(s);const y=d.getJoined(w);n.push(y)}}s++}return n.filter((d,f)=>!i.has(f))}function BL(c,n){return c&&n.isSelectable(c)}function tse(c,n,i={}){if(n.isCollapsed)return;const s=n.getFirstRange();if(s.root.rootName=="$graveyard")return;const l=c.schema;c.change(d=>{if(!i.doNotResetEntireContent&&use(l,n)){lse(d,n);return}const f={};if(!i.doNotAutoparagraph){const y=n.getSelectedElement();y&&Object.assign(f,l.getAttributesWithProperty(y,"copyOnReplace",!0))}const[g,w]=nse(s);g.isTouching(w)||d.remove(d.createRange(g,w)),i.leaveUnmerged||(ise(d,g,w),l.removeDisallowedAttributes(g.parent.getChildren(),d)),VL(d,n,g),!i.doNotAutoparagraph&&ase(l,g)&&jL(d,g,n,f),g.detach(),w.detach()})}function nse(c){const n=c.root.document.model,i=c.start;let s=c.end;if(n.hasContent(c,{ignoreMarkers:!0})){const l=rse(s);if(l&&s.isTouching(n.createPositionAt(l,0))){const d=n.createSelection(c);n.modifySelection(d,{direction:"backward"});const f=d.getLastPosition(),g=n.createRange(f,s);n.hasContent(g,{ignoreMarkers:!0})||(s=f)}}return[Gr.fromPosition(i,"toPrevious"),Gr.fromPosition(s,"toNext")]}function rse(c){const n=c.parent,i=n.root.document.model.schema,s=n.getAncestors({parentFirst:!0,includeSelf:!0});for(const l of s){if(i.isLimit(l))return null;if(i.isBlock(l))return l}}function ise(c,n,i){const s=c.model;if(!o1(c.model.schema,n,i))return;const[l,d]=sse(n,i);!l||!d||(!s.hasContent(l,{ignoreMarkers:!0})&&s.hasContent(d,{ignoreMarkers:!0})?FL(c,n,i,l.parent):zL(c,n,i,l.parent))}function zL(c,n,i,s){const l=n.parent,d=i.parent;if(!(l==s||d==s)){for(n=c.createPositionAfter(l),i=c.createPositionBefore(d),i.isEqual(n)||c.insert(d,n),c.merge(n);i.parent.isEmpty;){const f=i.parent;i=c.createPositionBefore(f),c.remove(f)}o1(c.model.schema,n,i)&&zL(c,n,i,s)}}function FL(c,n,i,s){const l=n.parent,d=i.parent;if(!(l==s||d==s)){for(n=c.createPositionAfter(l),i=c.createPositionBefore(d),i.isEqual(n)||c.insert(l,i);n.parent.isEmpty;){const f=n.parent;n=c.createPositionBefore(f),c.remove(f)}i=c.createPositionBefore(d),ose(c,i),o1(c.model.schema,n,i)&&FL(c,n,i,s)}}function ose(c,n){const i=n.nodeBefore,s=n.nodeAfter;i.name!=s.name&&c.rename(i,s.name),c.clearAttributes(i),c.setAttributes(Object.fromEntries(s.getAttributes()),i),c.merge(n)}function o1(c,n,i){const s=n.parent,l=i.parent;return s==l||c.isLimit(s)||c.isLimit(l)?!1:cse(n,i,c)}function sse(c,n){const i=c.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]&&i[l]==s[l];)l++;return[i[l],s[l]]}function ase(c,n){const i=c.checkChild(n,"$text"),s=c.checkChild(n,"paragraph");return!i&&s}function cse(c,n,i){const s=new ne(c,n);for(const l of s.getWalker())if(i.isLimit(l.item))return!1;return!0}function jL(c,n,i,s={}){const l=c.createElement("paragraph");c.model.schema.setAllowedAttributes(l,s,c),c.insert(l,n),VL(c,i,c.createPositionAt(l,0))}function lse(c,n){const i=c.model.schema.getLimitElement(n);c.remove(c.createRangeIn(i)),jL(c,c.createPositionAt(i,0),n)}function use(c,n){const i=c.getLimitElement(n);if(!n.containsEntireContent(i))return!1;const s=n.getFirstRange();return s.start.parent==s.end.parent?!1:c.checkChild(i,"paragraph")}function VL(c,n,i){n instanceof Ao?c.setSelection(i):n.setTo(i)}function dse(c,n){return c.change(i=>{const s=i.createDocumentFragment(),l=n.getFirstRange();if(!l||l.isCollapsed)return s;const d=l.start.root,f=l.start.getCommonPath(l.end),g=d.getNodeByPath(f);let w;l.start.parent==l.end.parent?w=l:w=i.createRange(i.createPositionAt(g,l.start.path[f.length]),i.createPositionAt(g,l.end.path[f.length]+1));const y=w.end.offset-w.start.offset;for(const C of w.getItems({shallow:!0}))C.is("$textProxy")?i.appendText(C.data,C.getAttributes(),s):i.append(i.cloneElement(C,!0),s);if(w!=l){const C=l._getTransformedByMove(w.start,i.createPositionAt(s,0),y)[0],x=i.createRange(i.createPositionAt(s,0),C.start),N=i.createRange(C.end,i.createPositionAt(s,"end"));UL(N,i),UL(x,i)}return s})}function UL(c,n){const i=[];Array.from(c.getItems({direction:"backward"})).map(s=>n.createRangeOn(s)).filter(s=>(s.start.isAfter(c.start)||s.start.isEqual(c.start))&&(s.end.isBefore(c.end)||s.end.isEqual(c.end))).forEach(s=>{i.push(s.start.parent),n.remove(s)}),i.forEach(s=>{let l=s;for(;l.parent&&l.isEmpty;){const d=n.createRangeOn(l);l=l.parent,n.remove(d)}})}function hse(c,n,i,s){return c.change(l=>{let d;i?i instanceof xs||i instanceof Ao?d=i:d=l.createSelection(i,s):d=c.document.selection,d.isCollapsed||c.deleteContent(d,{doNotAutoparagraph:!0});const f=new fse(c,l,d.anchor),g=[];let w;if(n.is("documentFragment")){if(n.markers.size){const x=[];for(const[N,F]of n.markers){const{start:U,end:G}=F,ae=U.isEqual(G);x.push({position:U,name:N,isCollapsed:ae},{position:G,name:N,isCollapsed:ae})}x.sort(({position:N},{position:F})=>N.isBefore(F)?1:-1);for(const{position:N,name:F,isCollapsed:U}of x){let G=null,ae=null;const Te=N.parent===n&&N.isAtStart,Oe=N.parent===n&&N.isAtEnd;!Te&&!Oe?(G=l.createElement("$marker"),l.insert(G,N)):U&&(ae=Te?"start":"end"),g.push({name:F,element:G,collapsed:ae})}}w=n.getChildren()}else w=[n];f.handleNodes(w);let y=f.getSelectionRange();if(n.is("documentFragment")&&g.length){const x=y?Xo.fromRange(y):null,N={};for(let F=g.length-1;F>=0;F--){const{name:U,element:G,collapsed:ae}=g[F],Te=!N[U];if(Te&&(N[U]=[]),G){const Oe=l.createPositionAt(G,"before");N[U].push(Oe),l.remove(G)}else{const Oe=f.getAffectedRange();if(!Oe){ae&&N[U].push(f.position);continue}ae?N[U].push(Oe[ae]):N[U].push(Te?Oe.start:Oe.end)}}for(const[F,[U,G]]of Object.entries(N))U&&G&&U.root===G.root&&l.addMarker(F,{usingOperation:!0,affectsData:!0,range:new ne(U,G)});x&&(y=x.toRange(),x.detach())}y&&(d instanceof Ao?l.setSelection(y):d.setTo(y));const C=f.getAffectedRange()||c.createRange(d.anchor);return f.destroy(),C})}class fse{constructor(n,i,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const i of Array.from(n))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(n);if(s.isAfter(i)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new O("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ne._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ne(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n)){this._handleObject(n);return}let i=this._checkAndAutoParagraphToAllowedPosition(n);if(!i&&(i=this._checkAndSplitToAllowedPosition(n),!i)){this._handleDisallowedNode(n);return}this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=Gr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new O("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=Gr.fromPosition(n,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(n))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Gr.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof qt)||!this._canMergeLeft(n))return;const i=Gr._createBefore(n);i.stickiness="toNext";const s=Gr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Gr._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Gr._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof qt)||!this._canMergeRight(n))return;const i=Gr._createAfter(n);if(i.stickiness="toNext",!this.position.isEqual(i))throw new O("insertcontent-invalid-insertion-position",this);this.position=fe._createAt(i.nodeBefore,"end");const s=Gr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Gr._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Gr._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(n){const i=n.previousSibling;return i instanceof qt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,n)}_canMergeRight(n){const i=n.nextSibling;return i instanceof qt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(n,i)}_tryAutoparagraphing(n){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,n)&&(i._appendChild(n),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(n){const i=this._getAllowedIn(this.position.parent,n);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,i){return this.schema.checkChild(n,i)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,i)}}function $L(c,n,i="auto"){const s=c.getSelectedElement();if(s&&n.schema.isObject(s)&&!n.schema.isInline(s))return i=="before"||i=="after"?n.createRange(n.createPositionAt(s,i)):n.createRangeOn(s);const l=Bn(c.getSelectedBlocks());if(!l)return n.createRange(c.focus);if(l.isEmpty)return n.createRange(n.createPositionAt(l,0));const d=n.createPositionAfter(l);return c.focus.isTouching(d)?n.createRange(d):n.createRange(n.createPositionBefore(l))}function pse(c,n,i,s,l={}){if(!c.schema.isObject(n))throw new O("insertobject-element-not-an-object",c,{object:n});let d;i?i instanceof xs||i instanceof Ao?d=i:d=c.createSelection(i,s):d=c.document.selection;let f=d;l.findOptimalPosition&&c.schema.isBlock(n)&&(f=c.createSelection($L(d,c,l.findOptimalPosition)));const g=Bn(d.getSelectedBlocks()),w={};return g&&Object.assign(w,c.schema.getAttributesWithProperty(g,"copyOnReplace",!0)),c.change(y=>{f.isCollapsed||c.deleteContent(f,{doNotAutoparagraph:!0});let C=n;const x=f.anchor.parent;!c.schema.checkChild(x,n)&&c.schema.checkChild(x,"paragraph")&&c.schema.checkChild("paragraph",n)&&(C=y.createElement("paragraph"),y.insert(n,C)),c.schema.setAllowedAttributes(C,w,y);const N=c.insertContent(C,f);return N.isCollapsed||l.setSelection&&mse(y,n,l.setSelection,w),N})}function mse(c,n,i,s){const l=c.model;if(i=="on"){c.setSelection(n,"on");return}if(i!="after")throw new O("insertobject-invalid-place-parameter-value",l);let d=n.nextSibling;if(l.schema.isInline(n)){c.setSelection(n,"after");return}!(d&&l.schema.checkChild(d,"$text"))&&l.schema.checkChild(n.parent,"paragraph")&&(d=c.createElement("paragraph"),l.schema.setAllowedAttributes(d,s,c),l.insertContent(d,c.createPositionAfter(n))),d&&c.setSelection(d,0)}const gse=' ,.?!:;"-()';function bse(c,n,i={}){const s=c.schema,l=i.direction!="backward",d=i.unit?i.unit:"character",f=!!i.treatEmojiAsSingleUnit,g=n.focus,w=new Es({boundaries:yse(g,l),singleCharacters:!0,direction:l?"forward":"backward"}),y={walker:w,schema:s,isForward:l,unit:d,treatEmojiAsSingleUnit:f};let C;for(;C=w.next();){if(C.done)return;const x=wse(y,C.value);if(x){n instanceof Ao?c.change(N=>{N.setSelectionFocus(x)}):n.setFocus(x);return}}}function wse(c,n){const{isForward:i,walker:s,unit:l,schema:d,treatEmojiAsSingleUnit:f}=c,{type:g,item:w,nextPosition:y}=n;if(g=="text")return c.unit==="word"?vse(s,i):kse(s,l,f);if(g==(i?"elementStart":"elementEnd")){if(d.isSelectable(w))return fe._createAt(w,i?"after":"before");if(d.checkChild(y,"$text"))return y}else{if(d.isLimit(w)){s.skip(()=>!0);return}if(d.checkChild(y,"$text"))return y}}function kse(c,n,i){const s=c.position.textNode;if(s){const l=s.data;let d=c.position.offset-s.startOffset;for(;vR(l,d)||n=="character"&&yR(l,d)||i&&oee(l,d);)c.next(),d=c.position.offset-s.startOffset}return c.position}function vse(c,n){let i=c.position.textNode;for(i||(i=n?c.position.nodeAfter:c.position.nodeBefore);i&&i.is("$text");){const s=c.position.offset-i.startOffset;if(Ase(i,s,n))i=n?c.position.nodeAfter:c.position.nodeBefore;else{if(_se(i.data,s,n))break;c.next()}}return c.position}function yse(c,n){const i=c.root,s=fe._createAt(i,n?"end":0);return n?new ne(c,s):new ne(s,c)}function _se(c,n,i){const s=n+(i?0:-1);return gse.includes(c.charAt(s))}function Ase(c,n,i){return n===(i?c.offsetSize:0)}class Cse extends Me(){constructor(){super(),this.markers=new $oe,this.document=new Uoe(this),this.schema=new roe,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,i)=>{if(i.name==="$marker")return!0}),Koe(this),this.document.registerPostFixer(hL)}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ud,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(i){O.rethrowUnexpectedError(i,this)}}enqueueChange(n,i){try{n?typeof n=="function"?(i=n,n=new Ud):n instanceof Ud||(n=new Ud(n)):n=new Ud,this._pendingChanges.push({batch:n,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){O.rethrowUnexpectedError(s,this)}}applyOperation(n){n._execute()}insertContent(n,i,s){return hse(this,n,i,s)}insertObject(n,i,s,l){return pse(this,n,i,s,l)}deleteContent(n,i){tse(this,n,i)}modifySelection(n,i){bse(this,n,i)}getSelectedContent(n){return dse(this,n)}hasContent(n,i={}){const s=n instanceof ne?n:ne._createIn(n);if(s.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:d=!1}=i;if(!d){for(const f of this.markers.getMarkersIntersectingRange(s))if(f.affectsData)return!0}for(const f of s.getItems())if(this.schema.isContent(f))if(f.is("$textProxy"))if(l){if(f.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(n,i,s){return new fe(n,i,s)}createPositionAt(n,i){return fe._createAt(n,i)}createPositionAfter(n){return fe._createAfter(n)}createPositionBefore(n){return fe._createBefore(n)}createRange(n,i){return new ne(n,i)}createRangeIn(n){return ne._createIn(n)}createRangeOn(n){return ne._createOn(n)}createSelection(...n){return new xs(...n)}createBatch(n){return new Ud(n)}createOperationFromJSON(n){return Doe.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new Woe(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);n.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}class Ese extends dc{constructor(n){super(n),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class Hw extends dc{constructor(n){super(n),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class Xl{constructor(n){this.document=n}createDocumentFragment(n){return new Kl(this.document,n)}createElement(n,i,s){return new ro(this.document,n,i,s)}createText(n){return new en(this.document,n)}clone(n,i=!1){return n._clone(i)}appendChild(n,i){return i._appendChild(n)}insertChild(n,i,s){return s._insertChild(n,i)}removeChildren(n,i,s){return s._removeChildren(n,i)}remove(n){const i=n.parent;return i?this.removeChildren(i.getChildIndex(n),1,i):[]}replace(n,i){const s=n.parent;if(s){const l=s.getChildIndex(n);return this.removeChildren(l,1,s),this.insertChild(l,i,s),!0}return!1}unwrapElement(n){const i=n.parent;if(i){const s=i.getChildIndex(n);this.remove(n),this.insertChild(s,n.getChildren(),i)}}rename(n,i){const s=new ro(this.document,n,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(n,i,s){s._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,s){Wr(n)&&s===void 0?i._setStyle(n):s._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,s){s._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}createPositionAt(n,i){return Ce._createAt(n,i)}createPositionAfter(n){return Ce._createAfter(n)}createPositionBefore(n){return Ce._createBefore(n)}createRange(n,i){return new st(n,i)}createRangeOn(n){return st._createOn(n)}createRangeIn(n){return st._createIn(n)}createSelection(...n){return new _s(...n)}}const xse=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Sse(c){return xse.test(c)}const Tse=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Ise(c){return Tse.test(c)}class Dse{constructor(){this._commands=new Map}add(n,i){this._commands.set(n,i)}get(n){return this._commands.get(n)}execute(n,...i){const s=this.get(n);if(!s)throw new O("commandcollection-command-not-found",this,{commandName:n});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}class Pse extends _o{constructor(n){super(),this.editor=n}set(n,i,s={}){if(typeof i=="string"){const l=i;i=(d,f)=>{this.editor.execute(l),f()}}super.set(n,i,s)}}class Mse extends Me(){constructor(n={}){super();const i=this.constructor,s=n.language||i.defaultConfig&&i.defaultConfig.language;this._context=n.context||new Tee({language:s}),this._context._addEditor(this,!n.context);const l=Array.from(i.builtinPlugins||[]);this.config=new J2(n,i.defaultConfig),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new YR(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Dse,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Cse;const d=new sne;this.data=new Eoe(this.model,d),this.editing=new toe(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Soe([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Pse(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new O("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new O("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new O("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const n=this.config,i=n.get("plugins"),s=n.get("removePlugins")||[],l=n.get("extraPlugins")||[],d=n.get("substitutePlugins")||[];return this.plugins.init(i.concat(l),s,d)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(i=>this.once("ready",i))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...i){try{return this.commands.execute(n,...i)}catch(s){O.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}}function Nse(c){if(!Ko(c.updateSourceElement))throw new O("attachtoform-missing-elementapi-interface",c);const n=c.sourceElement;if(Rse(n)&&n.form){let i;const s=n.form,l=()=>c.updateSourceElement();Ko(s.submit)&&(i=s.submit,s.submit=()=>{l(),i.apply(s)}),s.addEventListener("submit",l),c.on("destroy",()=>{s.removeEventListener("submit",l),i&&(s.submit=i)})}}function Rse(c){return!!c&&c.tagName.toLowerCase()==="textarea"}function qw(c){class n extends c{setData(s){this.data.set(s)}getData(s){return this.data.get(s)}}return n}{const c=qw(Object);qw.setData=c.prototype.setData,qw.getData=c.prototype.getData}function s1(c){class n extends c{updateSourceElement(s=this.data.get()){if(!this.sourceElement)throw new O("editor-missing-sourceelement",this);const l=this.config.get("updateSourceElementOnDestroy"),d=this.sourceElement instanceof HTMLTextAreaElement;if(!l&&!d){aR(this.sourceElement,"");return}aR(this.sourceElement,s)}}return n}s1.updateSourceElement=s1(Object).prototype.updateSourceElement;class HL extends Sw{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new yi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new O("pendingactions-add-invalid-message",this);const i=new(Me());return i.set("message",n),this._actions.add(i),this.hasAny=!0,i}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const hn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var qL=a(5571),a1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};a1.insert="head",a1.singleton=!0,nt()(qL.Z,a1),qL.Z.locals;const{threeVerticalDots:WL}=hn,Ose={alignLeft:hn.alignLeft,bold:hn.bold,importExport:hn.importExport,paragraph:hn.paragraph,plus:hn.plus,text:hn.text,threeVerticalDots:hn.threeVerticalDots};class c1 extends yt{constructor(n,i){super(n);const s=this.bindTemplate,l=this.t;this.options=i||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new _o,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Lse(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=n.uiLanguageDirection==="rtl";this._focusCycler=new Ul({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")}},children:this.children,on:{mousedown:See(this)}}),this._behavior=this.options.shouldGroupWhenFull?new zse(this):new Bse(this)}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,i,s){this.items.addMany(this._buildItemsFromConfig(n,i,s))}_buildItemsFromConfig(n,i,s){const l=qR(n),d=s||l.removeItems;return this._cleanItemsConfiguration(l.items,i,d).map(g=>ve(g)?this._createNestedToolbarDropdown(g,i,d):g==="|"?new HR:g==="-"?new xee:i.create(g)).filter(g=>!!g)}_cleanItemsConfiguration(n,i,s){const l=n.filter((d,f,g)=>d==="|"?!0:s.indexOf(d)!==-1?!1:d==="-"?this.options.shouldGroupWhenFull?(Be("toolbarview-line-break-ignored-when-grouping-items",g),!1):!0:!ve(d)&&!i.has(d)?(Be("toolbarview-item-unavailable",{item:d}),!1):!0);return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(n){const i=f=>f!=="-"&&f!=="|",s=n.length,l=n.findIndex(i);if(l===-1)return[];const d=s-n.slice().reverse().findIndex(i);return n.slice(l,d).filter((f,g,w)=>i(f)?!0:!(g>0&&w[g-1]===f))}_createNestedToolbarDropdown(n,i,s){let{label:l,icon:d,items:f,tooltip:g=!0,withText:w=!1}=n;if(f=this._cleanItemsConfiguration(f,i,s),!f.length)return null;const y=this.locale,C=Eo(y);return l||Be("toolbarview-nested-toolbar-dropdown-missing-label",n),C.class="ck-toolbar__nested-toolbar-dropdown",C.buttonView.set({label:l,tooltip:g,withText:!!w}),d!==!1?C.buttonView.icon=Ose[d]||d||WL:C.buttonView.withText=!0,h1(C,()=>C.toolbarView._buildItemsFromConfig(f,i,s)),C}}class Lse extends yt{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Bse{constructor(n){const i=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(s=>s),n.focusables.bindTo(n.items).using(s=>s),n.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class zse{constructor(n){this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,n.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),n.children.on("change",this._updateFocusCycleableItems.bind(this)),n.items.on("change",(i,s)=>{const l=s.index,d=Array.from(s.added);for(const f of s.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=l;f<l+d.length;f++){const g=d[f-l];f>this.ungroupedItems.length?this.groupedItems.add(g,f-this.ungroupedItems.length):this.ungroupedItems.add(g,f)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!jl(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const n=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new an(n.lastChild),l=new an(n);if(!this.cachedPadding){const d=vt.window.getComputedStyle(n),f=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[f])}return i==="ltr"?s.right>l.right-this.cachedPadding:s.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new wn(this.viewElement,i=>{(!n||n!==i.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new HR),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,i=n.t,s=Eo(n);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",h1(s,this.groupedItems),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:WL}),s}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var GL=a(1162),l1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};l1.insert="head",l1.singleton=!0,nt()(GL.Z,l1),GL.Z.locals;class Fse extends yt{constructor(n){super(n);const i=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new _o,this._focusCycler=new Ul({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":i.to("ariaLabel")},children:this.items})}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class KL extends yt{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){this.children.first.focus()}}class jse extends yt{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var YL=a(5075),u1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};u1.insert="head",u1.singleton=!0,nt()(YL.Z,u1),YL.Z.locals;var QL=a(6875),d1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};d1.insert="head",d1.singleton=!0,nt()(QL.Z,d1),QL.Z.locals;function Eo(c,n=UR){const i=new n(c),s=new Eee(c),l=new Ld(c,i,s);return i.bind("isEnabled").to(l),i instanceof xw?i.arrowView.bind("isOn").to(l,"isOpen"):i.bind("isOn").to(l,"isOpen"),Vse(l),l}function h1(c,n,i={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?ZL(c,n,i):c.once("change:isOpen",()=>ZL(c,n,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&f1(c,()=>c.toolbarView.items.find(s=>s.isOn))}function ZL(c,n,i){const s=c.locale,l=s.t,d=c.toolbarView=new c1(s),f=typeof n=="function"?n():n;d.ariaLabel=i.ariaLabel||l("Dropdown toolbar"),i.maxWidth&&(d.maxWidth=i.maxWidth),i.class&&(d.class=i.class),i.isCompact&&(d.isCompact=i.isCompact),i.isVertical&&(d.isVertical=!0),f instanceof ua?d.items.bindTo(f).using(g=>g):d.items.addMany(f),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function xp(c,n,i={}){c.isOpen?JL(c,n,i):c.once("change:isOpen",()=>JL(c,n,i),{priority:"highest"}),f1(c,()=>c.listView.items.find(s=>s instanceof KL?s.children.first.isOn:!1))}function JL(c,n,i){const s=c.locale,l=c.listView=new Fse(s),d=typeof n=="function"?n():n;l.ariaLabel=i.ariaLabel,l.items.bindTo(d).using(f=>{if(f.type==="separator")return new jse(s);if(f.type==="button"||f.type==="switchbutton"){const g=new KL(s);let w;return f.type==="button"?w=new Ht(s):w=new Ew(s),w.bind(...Object.keys(f.model)).to(f.model),w.delegate("execute").to(g),g.children.add(w),g}return null}),c.panelView.children.add(l),l.items.delegate("execute").to(c)}function f1(c,n){c.on("change:isOpen",()=>{if(!c.isOpen)return;const i=n();i&&(typeof i.focus=="function"?i.focus():Be("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:W.low-10})}function Vse(c){Use(c),$se(c),Hse(c),qse(c),Wse(c),Gse(c)}function Use(c){c.on("render",()=>{h({emitter:c,activator:()=>c.isOpen,callback:()=>{c.isOpen=!1},contextElements:[c.element]})})}function $se(c){c.on("execute",n=>{n.source instanceof Ew||(c.isOpen=!1)})}function Hse(c){c.focusTracker.on("change:isFocused",(n,i,s)=>{c.isOpen&&!s&&(c.isOpen=!1)})}function qse(c){c.keystrokes.set("arrowdown",(n,i)=>{c.isOpen&&(c.panelView.focus(),i())}),c.keystrokes.set("arrowup",(n,i)=>{c.isOpen&&(c.panelView.focusLast(),i())})}function Wse(c){c.on("change:isOpen",(n,i,s)=>{if(s)return;const l=c.panelView.element;l&&l.contains(vt.document.activeElement)&&c.buttonView.focus()})}function Gse(c){c.on("change:isOpen",(n,i,s)=>{s&&c.panelView.focus()},{priority:"low"})}var XL=a(8245),p1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};p1.insert="head",p1.singleton=!0,nt()(XL.Z,p1),XL.Z.locals;const e5=lC("px"),t5=vt.document.body;class _i extends yt{constructor(n){super(n);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",s=>`ck-balloon-panel_${s}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",e5),left:i.to("left",e5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(n){this.show();const i=_i.defaultPositions,s=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:t5,fitInViewport:!0},n),l=_i._getOptimalPosition(s),d=parseInt(l.left),f=parseInt(l.top),g=l.name,w=l.config||{},{withArrow:y=!0}=w;this.top=f,this.left=d,this.position=g,this.withArrow=y}pin(n){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(n):this._stopPinning()},this._startPinning(n),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(n){this.attachTo(n);const i=m1(n.target),s=n.limiter?m1(n.limiter):t5;this.listenTo(vt.document,"scroll",(l,d)=>{const f=d.target,g=i&&f.contains(i),w=s&&f.contains(s);(g||w||!i||!s)&&this.attachTo(n)},{useCapture:!0}),this.listenTo(vt.window,"resize",()=>{this.attachTo(n)})}_stopPinning(){this.stopListening(vt.document,"scroll"),this.stopListening(vt.window,"resize")}}_i.arrowSideOffset=25,_i.arrowHeightOffset=10,_i.stickyVerticalOffset=20,_i._getOptimalPosition=lR,_i.defaultPositions=n5();function m1(c){return up(c)?c:vw(c)?c.commonAncestorContainer:typeof c=="function"?m1(c()):null}function n5(c={}){const{sideOffset:n=_i.arrowSideOffset,heightOffset:i=_i.arrowHeightOffset,stickyVerticalOffset:s=_i.stickyVerticalOffset,config:l}=c;return{northWestArrowSouthWest:(g,w)=>({top:d(g,w),left:g.left-n,name:"arrow_sw",...l&&{config:l}}),northWestArrowSouthMiddleWest:(g,w)=>({top:d(g,w),left:g.left-w.width*.25-n,name:"arrow_smw",...l&&{config:l}}),northWestArrowSouth:(g,w)=>({top:d(g,w),left:g.left-w.width/2,name:"arrow_s",...l&&{config:l}}),northWestArrowSouthMiddleEast:(g,w)=>({top:d(g,w),left:g.left-w.width*.75+n,name:"arrow_sme",...l&&{config:l}}),northWestArrowSouthEast:(g,w)=>({top:d(g,w),left:g.left-w.width+n,name:"arrow_se",...l&&{config:l}}),northArrowSouthWest:(g,w)=>({top:d(g,w),left:g.left+g.width/2-n,name:"arrow_sw",...l&&{config:l}}),northArrowSouthMiddleWest:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width*.25-n,name:"arrow_smw",...l&&{config:l}}),northArrowSouth:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width/2,name:"arrow_s",...l&&{config:l}}),northArrowSouthMiddleEast:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width*.75+n,name:"arrow_sme",...l&&{config:l}}),northArrowSouthEast:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width+n,name:"arrow_se",...l&&{config:l}}),northEastArrowSouthWest:(g,w)=>({top:d(g,w),left:g.right-n,name:"arrow_sw",...l&&{config:l}}),northEastArrowSouthMiddleWest:(g,w)=>({top:d(g,w),left:g.right-w.width*.25-n,name:"arrow_smw",...l&&{config:l}}),northEastArrowSouth:(g,w)=>({top:d(g,w),left:g.right-w.width/2,name:"arrow_s",...l&&{config:l}}),northEastArrowSouthMiddleEast:(g,w)=>({top:d(g,w),left:g.right-w.width*.75+n,name:"arrow_sme",...l&&{config:l}}),northEastArrowSouthEast:(g,w)=>({top:d(g,w),left:g.right-w.width+n,name:"arrow_se",...l&&{config:l}}),southWestArrowNorthWest:g=>({top:f(g),left:g.left-n,name:"arrow_nw",...l&&{config:l}}),southWestArrowNorthMiddleWest:(g,w)=>({top:f(g),left:g.left-w.width*.25-n,name:"arrow_nmw",...l&&{config:l}}),southWestArrowNorth:(g,w)=>({top:f(g),left:g.left-w.width/2,name:"arrow_n",...l&&{config:l}}),southWestArrowNorthMiddleEast:(g,w)=>({top:f(g),left:g.left-w.width*.75+n,name:"arrow_nme",...l&&{config:l}}),southWestArrowNorthEast:(g,w)=>({top:f(g),left:g.left-w.width+n,name:"arrow_ne",...l&&{config:l}}),southArrowNorthWest:g=>({top:f(g),left:g.left+g.width/2-n,name:"arrow_nw",...l&&{config:l}}),southArrowNorthMiddleWest:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width*.25-n,name:"arrow_nmw",...l&&{config:l}}),southArrowNorth:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width/2,name:"arrow_n",...l&&{config:l}}),southArrowNorthMiddleEast:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width*.75+n,name:"arrow_nme",...l&&{config:l}}),southArrowNorthEast:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width+n,name:"arrow_ne",...l&&{config:l}}),southEastArrowNorthWest:g=>({top:f(g),left:g.right-n,name:"arrow_nw",...l&&{config:l}}),southEastArrowNorthMiddleWest:(g,w)=>({top:f(g),left:g.right-w.width*.25-n,name:"arrow_nmw",...l&&{config:l}}),southEastArrowNorth:(g,w)=>({top:f(g),left:g.right-w.width/2,name:"arrow_n",...l&&{config:l}}),southEastArrowNorthMiddleEast:(g,w)=>({top:f(g),left:g.right-w.width*.75+n,name:"arrow_nme",...l&&{config:l}}),southEastArrowNorthEast:(g,w)=>({top:f(g),left:g.right-w.width+n,name:"arrow_ne",...l&&{config:l}}),westArrowEast:(g,w)=>({top:g.top+g.height/2-w.height/2,left:g.left-w.width-i,name:"arrow_e",...l&&{config:l}}),eastArrowWest:(g,w)=>({top:g.top+g.height/2-w.height/2,left:g.right+i,name:"arrow_w",...l&&{config:l}}),viewportStickyNorth:(g,w,y)=>g.getIntersection(y)?{top:y.top+s,left:g.left+g.width/2-w.width/2,name:"arrowless",config:{withArrow:!1,...l}}:null};function d(g,w){return g.top-w.height-i}function f(g){return g.bottom+i}}var r5=a(9948),g1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};g1.insert="head",g1.singleton=!0,nt()(r5.Z,g1),r5.Z.locals;const i5="ck-tooltip";class Pr extends uc(){constructor(n){if(super(),Pr._editors.add(n),Pr._instance)return Pr._instance;Pr._instance=this,this.tooltipTextView=new yt(n.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new _i(n.locale),this.balloonPanelView.class=i5,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=gp(this._pinTooltip,600),this.listenTo(vt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(vt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(vt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(vt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(vt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(n){const i=n.ui.view&&n.ui.view.body;Pr._editors.delete(n),this.stopListening(n.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),Pr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Pr._instance=null)}static getPositioningFunctions(n){const i=Pr.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[n]}_onEnterOrFocus(n,{target:i}){const s=b1(i);s&&s!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(s,Kse(s)))}_onLeaveOrBlur(n,{target:i,relatedTarget:s}){if(n.name==="mouseleave"){if(!up(i)||this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const l=b1(i),d=b1(s);l&&l!==d&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(n,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(n,{text:i,position:s,cssClass:l}){const d=Bn(Pr._editors.values()).ui.view.body;d.has(this.balloonPanelView)||d.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.pin({target:n,positions:Pr.getPositioningFunctions(s)}),this._resizeObserver=new wn(n,()=>{jl(n)||this._unpinTooltip()}),this.balloonPanelView.class=[i5,l].filter(f=>f).join(" ");for(const f of Pr._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=n,this._currentTooltipPosition=s}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const n of Pr._editors)this.stopListening(n.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!jl(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Pr.getPositioningFunctions(this._currentTooltipPosition)})}}Pr.defaultBalloonPositions=n5({heightOffset:5,sideOffset:13}),Pr._editors=new Set,Pr._instance=null;function b1(c){return up(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Kse(c){return{text:c.dataset.ckeTooltipText,position:c.dataset.ckeTooltipPosition||"s",cssClass:c.dataset.ckeTooltipClass||""}}class Yse extends Me(){constructor(n){super(),this.editor=n,this.componentFactory=new Cee(n),this.focusTracker=new ji,this.tooltipManager=new Pr(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(n.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const n of this._editableElementsMap.values())n.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,i){this._editableElementsMap.set(n,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,i={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,i=n.config.get("ui.viewportOffset");if(i)return i;const s=n.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const n=this.editor,i=n.editing.view;let s,l;n.keystrokes.set("Alt+F10",(d,f)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(i.domRoots.values()).includes(g)&&(s=g);const w=this._getCurrentFocusedToolbarDefinition();(!w||!l)&&(l=this._getFocusableCandidateToolbarDefinitions());for(let y=0;y<l.length;y++){const C=l.shift();if(l.push(C),C!==w&&this._focusFocusableCandidateToolbar(C)){w&&w.options.afterBlur&&w.options.afterBlur();break}}f()}),n.keystrokes.set("Esc",(d,f)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(s?(s.focus(),s=null):n.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:l}=i;(jl(s.element)||l.beforeFocus)&&n.push(i)}return n.sort((i,s)=>o5(i)-o5(s)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:i,options:{beforeFocus:s}}=n;return s&&s(),jl(i.element)?(i.focus(),!0):!1}}function o5(c){const{toolbarView:n,options:i}=c;let s=10;return jl(n.element)&&s--,i.isContextual&&s--,s}var s5=a(4547),w1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};w1.insert="head",w1.singleton=!0,nt()(s5.Z,w1),s5.Z.locals;class Qse extends yt{constructor(n){super(n),this.body=new kee(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var a5=a(2751),k1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};k1.insert="head",k1.singleton=!0,nt()(a5.Z,k1),a5.Z.locals;class v1 extends yt{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${le()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class Zse extends Qse{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,i=new v1;return i.text=n("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class Jse extends yt{constructor(n,i,s){super(n),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const n=this._editingView;n.isRenderingInProgress?s(this):i(this);function i(l){n.change(d=>{const f=n.document.getRoot(l.name);d.addClass(l.isFocused?"ck-focused":"ck-blurred",f),d.removeClass(l.isFocused?"ck-blurred":"ck-focused",f)})}function s(l){n.once("change:isRenderingInProgress",(d,f,g)=>{g?s(l):i(l)})}}}class Xse extends Jse{constructor(n,i,s,l={}){super(n,i,s);const d=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(i=>{const s=n.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}var c5=a(5523),y1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};y1.insert="head",y1.singleton=!0,nt()(c5.Z,y1),c5.Z.locals;var l5=a(6985),_1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_1.insert="head",_1.singleton=!0,nt()(l5.Z,_1),l5.Z.locals;class eae extends yt{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ji,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=tae(this.element)}_setDomElementValue(n){this.element.value=!n&&n!==0?"":n}}function tae(c){return!c.value}class nae extends eae{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var u5=a(8111),A1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};A1.insert="head",A1.singleton=!0,nt()(u5.Z,A1),u5.Z.locals;class C1 extends yt{constructor(n,i){super(n);const s=`ck-labeled-field-view-${le()}`,l=`ck-labeled-field-view-status-${le()}`;this.fieldView=i(this,s,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,g)=>f||g);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",f=>!f),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const i=new v1(this.locale);return i.for=n,i.bind("text").to(this,"label"),i}_createStatusView(n){const i=new yt(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",l=>!l)],id:n,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(){this.fieldView.focus()}}function E1(c,n,i){const s=new nae(c.locale);return s.set({id:n,ariaDescribedById:i}),s.bind("isReadOnly").to(c,"isEnabled",l=>!l),s.bind("hasError").to(c,"errorText",l=>!!l),s.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(s),s}class d5 extends Sw{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(n,i={}){this._showNotification({message:n,type:"success",namespace:i.namespace,title:i.title})}showInfo(n,i={}){this._showNotification({message:n,type:"info",namespace:i.namespace,title:i.title})}showWarning(n,i={}){this._showNotification({message:n,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(n){const i=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(i,{message:n.message,type:n.type,title:n.title||""})}}class Sp extends Me(){constructor(n,i){super(),i&&RO(this,i),n&&this.set(n)}}const rae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',iae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var h5=a(1757),x1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};x1.insert="head",x1.singleton=!0,nt()(h5.Z,x1),h5.Z.locals;var f5=a(3553),S1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};S1.insert="head",S1.singleton=!0,nt()(f5.Z,S1),f5.Z.locals;const Ww=lC("px");class Gw extends he{static get pluginName(){return"ContextualBalloon"}constructor(n){super(n),this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,l=i.document.selection.editableElement;return l?i.domConverter.mapViewToDom(l.root):null},this.set("visibleView",null),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=null,this._fakePanelsView=null}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new O("contextualballoon-add-view-exist",[this,n]);const i=n.stackId||"main";if(!this._idToStack.has(i)){this._idToStack.set(i,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||n.singleViewMode)&&this.showStack(i);return}const s=this._idToStack.get(i);n.singleViewMode&&this.showStack(i),s.set(n.view,n),this._viewToStack.set(n.view,s),s===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new O("contextualballoon-remove-view-not-exist",[this,n]);const i=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const i=this._idToStack.get(n);if(!i)throw new O("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new _i(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(s=>s[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)+1;n[i]||(i=0),this.showStack(this._getStackId(n[i]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)-1;n[i]||(i=n.length-1),this.showStack(this._getStackId(n[i]))}_createRotatorView(){const n=new oae(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,l)=>{if(l<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[d,l])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new sae(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:i="",withArrow:s=!0,singleViewMode:l=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class oae extends yt{constructor(n){super(n);const i=n.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ji,this.buttonPrevView=this._createButtonView(i("Previous"),rae),this.buttonNextView=this._createButtonView(i("Next"),iae),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,i){const s=new Ht(this.locale);return s.set({label:n,icon:i,tooltip:!0}),s}}class sae extends yt{constructor(n,i){super(n);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:s.to("top",Ww),left:s.to("left",Ww),width:s.to("width",Ww),height:s.to("height",Ww)}},children:this.content}),this.on("change:numberOfPanels",(l,d,f,g)=>{f>g?this._addPanels(f-g):this._removePanels(g-f),this.updatePosition()})}_addPanels(n){for(;n--;){const i=new yt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(n){for(;n--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:i}=this._balloonPanelView,{width:s,height:l}=new an(this._balloonPanelView.element);Object.assign(this,{top:n,left:i,width:s,height:l})}}}var p5=a(3609),T1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};T1.insert="head",T1.singleton=!0,nt()(p5.Z,T1),p5.Z.locals;const Tp=lC("px");class aae extends yt{constructor(n){super(n);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Vi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?Tp(this._panelRect.height):null)}}}).render(),this._contentPanel=new Vi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?Tp(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_hasViewportTopOffset",s=>s?Tp(this.viewportTopOffset):null),bottom:i.to("_isStickyToTheLimiter",s=>s?Tp(this.limiterBottomOffset):null),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(vt.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const n=this._panelRect=this._contentPanel.getBoundingClientRect();let i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<n.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Tp(-vt.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var m5=a(6706),I1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};I1.insert="head",I1.singleton=!0,nt()(m5.Z,I1),m5.Z.locals;class cae extends Yse{constructor(n,i){super(n),this.view=i,this._toolbarConfig=qR(n.config.get("toolbar")),this._elementReplacer=new Bi}get element(){return this.view.element}init(n){const i=this.editor,s=this.view,l=i.editing.view,d=s.editable,f=l.document.getRoot();d.name=f.rootName,s.render();const g=d.element;this.setEditableElement(d.name,g),s.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(g),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const n=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,i=n.editing.view,s=i.document.getRoot(),l=n.sourceElement,d=n.config.get("placeholder")||l&&l.tagName.toLowerCase()==="textarea"&&l.getAttribute("placeholder");d&&ZR({view:i,element:s,text:d,isDirectHost:!1,keepOnFocus:!0})}}var g5=a(3638),D1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};D1.insert="head",D1.singleton=!0,nt()(g5.Z,D1),g5.Z.locals;class lae extends Zse{constructor(n,i,s={}){super(n),this.stickyPanel=new aae(n),this.toolbar=new c1(n,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),this.editable=new Xse(n,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class uae extends qw(s1(Mse)){constructor(n,i={}){if(!Kw(n)&&i.initialData!==void 0)throw new O("editor-create-initial-data",null);super(i),this.config.get("initialData")===void 0&&this.config.set("initialData",dae(n)),Kw(n)&&(this.sourceElement=n),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new lae(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s});this.ui=new cae(this,l),Nse(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,i={}){return new Promise(s=>{const l=new this(n,i);s(l.initPlugins().then(()=>l.ui.init(Kw(n)?n:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function dae(c){return Kw(c)?DX(c):c}function Kw(c){return up(c)}class b5{constructor(n,i=20){this._batch=null,this.model=n,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(s,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){(!this.isLocked||n)&&(this._batch=null,this._size=0)}}class hae extends ft{constructor(n,i){super(n),this._buffer=new b5(n.model,i)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const i=this.editor.model,s=i.document,l=n.text||"",d=l.length;let f=s.selection;n.selection?f=n.selection:n.range&&(f=i.createSelection(n.range));const g=n.resultRange;i.enqueueChange(this._buffer.batch,w=>{this._buffer.lock(),i.deleteContent(f),l&&i.insertContent(w.createText(l,s.selection.getAttributes()),f),g?w.setSelection(g):f.is("documentSelection")||w.setSelection(f),this._buffer.unlock(),this._buffer.input(d)})}}const w5=["insertText","insertReplacementText"];class fae extends Cs{constructor(n){super(n),A.isAndroid&&w5.push("insertCompositionText");const i=n.document;i.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const{data:d,targetRanges:f,inputType:g,domEvent:w}=l;if(!w5.includes(g))return;const y=new qe(i,"insertText");i.fire(y,new Fd(n,w,{text:d,selection:n.createSelection(f)})),y.stop.called&&s.stop()}),i.on("compositionend",(s,{data:l,domEvent:d})=>{!this.isEnabled||A.isAndroid||l&&i.fire("insertText",new Fd(n,d,{text:l,selection:i.selection}))},{priority:"lowest"})}observe(){}}class k5 extends he{static get pluginName(){return"Input"}init(){const n=this.editor,i=n.model,s=n.editing.view,l=i.document.selection;s.addObserver(fae);const d=new hae(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",d),n.commands.add("input",d),this.listenTo(s.document,"insertText",(f,g)=>{s.document.isComposing||g.preventDefault();const{text:w,selection:y,resultRange:C}=g,x=Array.from(y.getRanges()).map(U=>n.editing.mapper.toModelRange(U));let N=w;if(A.isAndroid){const U=Array.from(x[0].getItems()).reduce((G,ae)=>G+(ae.is("$textProxy")?ae.data:""),"");U&&(U.length<=N.length?N.startsWith(U)&&(N=N.substring(U.length),x[0].start=x[0].start.getShiftedBy(U.length)):U.startsWith(N)&&(x[0].start=x[0].start.getShiftedBy(N.length),N=""))}const F={text:N,selection:i.createSelection(x)};C&&(F.resultRange=n.editing.mapper.toModelRange(C)),n.execute("insertText",F)}),A.isAndroid?this.listenTo(s.document,"keydown",(f,g)=>{l.isCollapsed||g.keyCode!=229||!s.document.isComposing||v5(i,d)}):this.listenTo(s.document,"compositionstart",()=>{l.isCollapsed||v5(i,d)})}}function v5(c,n){if(!n.isEnabled)return;const i=n.buffer;i.lock(),c.enqueueChange(i.batch,()=>{c.deleteContent(c.document.selection)}),i.unlock()}class y5 extends ft{constructor(n,i){super(n),this.direction=i,this._buffer=new b5(n.model,n.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(n={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=l.createSelection(n.selection||s.selection),f=n.sequence||1,g=d.isCollapsed;if(d.isCollapsed&&i.modifySelection(d,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f)){this._replaceEntireContentWithParagraph(l);return}if(this._shouldReplaceFirstBlockWithParagraph(d,f)){this.editor.execute("paragraph",{selection:d});return}if(d.isCollapsed)return;let w=0;d.getFirstRange().getMinimalFlatRanges().forEach(y=>{w+=ai(y.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(d,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(w),l.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const i=this.editor.model,l=i.document.selection,d=i.schema.getLimitElement(l);if(!(l.isCollapsed&&l.containsEntireContent(d))||!i.schema.checkChild(d,"paragraph"))return!1;const g=d.getChild(0);return!(g&&g.is("element","paragraph"))}_replaceEntireContentWithParagraph(n){const i=this.editor.model,l=i.document.selection,d=i.schema.getLimitElement(l),f=n.createElement("paragraph");n.remove(n.createRangeIn(d)),n.insert(f,d),n.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(n,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!n.isCollapsed)return!1;const l=n.getFirstPosition(),d=s.schema.getLimitElement(l),f=d.getChild(0);return!(l.parent!=f||!n.containsEntireContent(f)||!s.schema.checkChild(d,"paragraph")||f.name=="paragraph")}}const pae="character",_5="word",mae="codePoint",fc="selection",Hd="backward",Ip="forward",A5={deleteContent:{unit:fc,direction:Hd},deleteContentBackward:{unit:mae,direction:Hd},deleteWordBackward:{unit:_5,direction:Hd},deleteHardLineBackward:{unit:fc,direction:Hd},deleteSoftLineBackward:{unit:fc,direction:Hd},deleteContentForward:{unit:pae,direction:Ip},deleteWordForward:{unit:_5,direction:Ip},deleteHardLineForward:{unit:fc,direction:Ip},deleteSoftLineForward:{unit:fc,direction:Ip}};class gae extends Cs{constructor(n){super(n);const i=n.document;let s=0;i.on("keydown",()=>{s++}),i.on("keyup",()=>{s=0}),i.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:g,inputType:w}=d,y=A5[w];if(!y)return;const C={direction:y.direction,unit:y.unit,sequence:s};C.unit==fc&&(C.selectionToRemove=n.createSelection(f[0])),A.isAndroid&&w==="deleteContentBackward"&&(C.sequence=1,f.length==1&&(f[0].start.parent!=f[0].end.parent||f[0].start.offset+1!=f[0].end.offset)&&(C.unit=fc,C.selectionToRemove=n.createSelection(f)));const x=new Bd(i,"delete",f[0]);i.fire(x,new Fd(n,g,C)),x.stop.called&&l.stop()}),A.isBlink&&bae(this)}observe(){}}function bae(c){const n=c.view,i=n.document;let s=null,l=!1;i.on("keydown",(g,{keyCode:w})=>{s=w,l=!1}),i.on("keyup",(g,{keyCode:w,domEvent:y})=>{const C=i.selection,x=c.isEnabled&&w==s&&d(w)&&!C.isCollapsed&&!l;if(s=null,x){const N=C.getFirstRange(),F=new Bd(i,"delete",N),U={unit:fc,direction:f(w),selectionToRemove:C};i.fire(F,new Fd(n,y,U))}}),i.on("beforeinput",(g,{inputType:w})=>{const y=A5[w];d(s)&&y&&y.direction==f(s)&&(l=!0)},{priority:"high"}),i.on("beforeinput",(g,{inputType:w,data:y})=>{s==St.delete&&w=="insertText"&&y==""&&g.stop()},{priority:"high"});function d(g){return g==St.backspace||g==St.delete}function f(g){return g==St.backspace?Hd:Ip}}class pc extends he{static get pluginName(){return"Delete"}init(){const n=this.editor,i=n.editing.view,s=i.document,l=n.model.document;i.addObserver(gae),this._undoOnBackspace=!1;const d=new y5(n,"forward");n.commands.add("deleteForward",d),n.commands.add("forwardDelete",d),n.commands.add("delete",new y5(n,"backward")),this.listenTo(s,"delete",(f,g)=>{s.isComposing||g.preventDefault();const{direction:w,sequence:y,selectionToRemove:C,unit:x}=g,N=w==="forward"?"deleteForward":"delete",F={sequence:y};if(x=="selection"){const U=Array.from(C.getRanges()).map(G=>n.editing.mapper.toModelRange(G));F.selection=n.model.createSelection(U)}else F.unit=x;n.execute(N,F),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(f,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),g.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class wae extends he{static get requires(){return[k5,pc]}static get pluginName(){return"Typing"}}function C5(c,n){let i=c.start;return{text:Array.from(c.getItems()).reduce((l,d)=>d.is("$text")||d.is("$textProxy")?l+d.data:(i=n.createPositionAfter(d),""),""),range:n.createRange(i,c.end)}}class E5 extends Me(){constructor(n,i){super(),this.model=n,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(s,{directChange:l})=>{if(l){if(!i.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(i,"change:data",(s,l)=>{l.isUndo||!l.isLocal||this._evaluateTextBeforeSelection("data",{batch:l})})}_evaluateTextBeforeSelection(n,i={}){const s=this.model,d=s.document.selection,f=s.createRange(s.createPositionAt(d.focus.parent,0),d.focus),{text:g,range:w}=C5(f,s),y=this.testCallback(g);if(!y&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!y,y){const C=Object.assign(i,{text:g,range:w});typeof y=="object"&&Object.assign(C,y),this.fire(`matched:${n}`,C)}}}class Yw extends he{static get pluginName(){return"TwoStepCaretMovement"}constructor(n){super(n),this.attributes=new Set,this._overrideUid=null}init(){const n=this.editor,i=n.model,s=n.editing.view,l=n.locale,d=i.document.selection;this.listenTo(s.document,"arrowKey",(f,g)=>{if(!d.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const w=g.keyCode==St.arrowright,y=g.keyCode==St.arrowleft;if(!w&&!y)return;const C=l.contentLanguageDirection;let x=!1;C==="ltr"&&w||C==="rtl"&&y?x=this._handleForwardMovement(g):x=this._handleBackwardMovement(g),x===!0&&f.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(d,"change:range",(f,g)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!g.directChange&&Zw(d.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const i=this.attributes,l=this.editor.model.document.selection,d=l.getFirstPosition();return this._isGravityOverridden||d.isAtStart&&P1(l,i)?!1:Zw(d,i)?(Qw(n),this._overrideGravity(),!0):!1}_handleBackwardMovement(n){const i=this.attributes,s=this.editor.model,l=s.document.selection,d=l.getFirstPosition();return this._isGravityOverridden?(Qw(n),this._restoreGravity(),M1(s,i,d),!0):d.isAtStart?P1(l,i)?(Qw(n),M1(s,i,d),!0):!1:kae(d,i)?d.isAtEnd&&!P1(l,i)&&Zw(d,i)?(Qw(n),M1(s,i,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function P1(c,n){for(const i of n)if(c.hasAttribute(i))return!0;return!1}function M1(c,n,i){const s=i.nodeBefore;c.change(l=>{s?l.setSelectionAttribute(s.getAttributes()):l.removeSelectionAttribute(n)})}function Qw(c){c.preventDefault()}function kae(c,n){const i=c.getShiftedBy(-1);return Zw(i,n)}function Zw(c,n){const{nodeBefore:i,nodeAfter:s}=c;for(const l of n){const d=i?i.getAttribute(l):void 0;if((s?s.getAttribute(l):void 0)!==d)return!0}return!1}var x5=/[\\^$.*+?()[\]{}|]/g,vae=RegExp(x5.source);function yae(c){return c=IC(c),c&&vae.test(c)?c.replace(x5,"\\$&"):c}const _ae=yae,S5={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:qd('"'),to:[null,"",null,""]},quotesSecondary:{from:qd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:qd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:qd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:qd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:qd("'"),to:[null,"",null,""]}},T5={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Aae=["symbols","mathematical","typography","quotes"];class Cae extends he{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(n){super(n),n.config.define("typing",{transformations:{include:Aae}})}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const n=this.editor,i=n.model,s=n.plugins.get("Delete"),l=Tae(n.config.get("typing.transformations")),d=g=>{for(const w of l)if(w.from.test(g))return{normalizedTransformation:w}},f=new E5(n.model,d);f.on("matched:data",(g,w)=>{if(!w.batch.isTyping)return;const{from:y,to:C}=w.normalizedTransformation,x=y.exec(w.text),N=C(x.slice(1)),F=w.range;let U=x.index;i.enqueueChange(G=>{for(let ae=1;ae<x.length;ae++){const Te=x[ae],Oe=N[ae-1];if(Oe==null){U+=Te.length;continue}const Tt=F.start.getShiftedBy(U),fn=i.createRange(Tt,Tt.getShiftedBy(Te.length)),Qn=Sae(Tt);i.insertContent(G.createText(Oe,Qn),fn),U+=Oe.length}i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),f.bind("isEnabled").to(this)}}function Eae(c){return typeof c=="string"?new RegExp(`(${_ae(c)})$`):c}function xae(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function Sae(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function qd(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function Tae(c){const n=c.extra||[],i=c.remove||[],s=d=>!i.includes(d),l=c.include.concat(n).filter(s);return Iae(l).filter(s).map(d=>typeof d=="string"&&S5[d]?S5[d]:d).filter(d=>typeof d=="object").map(d=>({from:Eae(d.from),to:xae(d.to)}))}function Iae(c){const n=new Set;for(const i of c)if(typeof i=="string"&&T5[i])for(const s of T5[i])n.add(s);else n.add(i);return Array.from(n)}function Wd(c,n,i,s){return s.createRange(I5(c,n,i,!0,s),I5(c,n,i,!1,s))}function I5(c,n,i,s,l){let d=c.textNode||(s?c.nodeBefore:c.nodeAfter),f=null;for(;d&&d.getAttribute(n)==i;)f=d,d=s?d.previousSibling:d.nextSibling;return f?l.createPositionAt(f,s?"before":"after"):c}function D5(c,n,i,s){const l=c.editing.view,d=new Set;l.document.registerPostFixer(f=>{const g=c.model.document.selection;let w=!1;if(g.hasAttribute(n)){const y=Wd(g.getFirstPosition(),n,g.getAttribute(n),c.model),C=c.editing.mapper.toViewRange(y);for(const x of C.getItems())x.is("element",i)&&!x.hasClass(s)&&(f.addClass(s,x),d.add(x),w=!0)}return w}),c.conversion.for("editingDowncast").add(f=>{f.on("insert",g,{priority:"highest"}),f.on("remove",g,{priority:"highest"}),f.on("attribute",g,{priority:"highest"}),f.on("selection",g,{priority:"highest"});function g(){l.change(w=>{for(const y of d.values())w.removeClass(s,y),d.delete(y)})}})}function mc(c,n,i,s){let l,d=null;typeof s=="function"?l=s:(d=c.commands.get(s),l=()=>{c.execute(s)}),c.model.document.on("change:data",(f,g)=>{if(d&&!d.isEnabled||!n.isEnabled)return;const w=Bn(c.model.document.selection.getRanges());if(!w.isCollapsed||g.isUndo||!g.isLocal)return;const y=Array.from(c.model.document.differ.getChanges()),C=y[0];if(y.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const x=C.position.parent;if(x.is("element","codeBlock")||x.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||d&&d.value===!0)return;const N=x.getChild(0),F=c.model.createRangeOn(N);if(!F.containsRange(w)&&!w.end.isEqual(F.end))return;const U=i.exec(N.data.substr(0,w.end.offset));U&&c.model.enqueueChange(G=>{const ae=G.createPositionAt(x,0),Te=G.createPositionAt(x,U[0].length),Oe=new Xo(ae,Te);if(l({match:U})!==!1){G.remove(Oe);const fn=c.model.document.selection.getFirstRange(),Qn=G.createRangeIn(x);x.isEmpty&&!Qn.isEqual(fn)&&!Qn.containsRange(fn,!0)&&G.remove(x)}Oe.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Gd(c,n,i,s){let l,d;i instanceof RegExp?l=i:d=i,d=d||(f=>{let g;const w=[],y=[];for(;(g=l.exec(f))!==null&&!(g&&g.length<4);){let{index:C,1:x,2:N,3:F}=g;const U=x+N+F;C+=g[0].length-U.length;const G=[C,C+x.length],ae=[C+x.length+N.length,C+x.length+N.length+F.length];w.push(G),w.push(ae),y.push([C+x.length,C+x.length+N.length])}return{remove:w,format:y}}),c.model.document.on("change:data",(f,g)=>{if(g.isUndo||!g.isLocal||!n.isEnabled)return;const w=c.model,y=w.document.selection;if(!y.isCollapsed)return;const C=Array.from(w.document.differ.getChanges()),x=C[0];if(C.length!=1||x.type!=="insert"||x.name!="$text"||x.length!=1)return;const N=y.focus,F=N.parent,{text:U,range:G}=Dae(w.createRange(w.createPositionAt(F,0),N),w),ae=d(U),Te=P5(G.start,ae.format,w),Oe=P5(G.start,ae.remove,w);Te.length&&Oe.length&&w.enqueueChange(Tt=>{if(s(Tt,Te)!==!1){for(const Qn of Oe.reverse())Tt.remove(Qn);w.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function P5(c,n,i){return n.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>i.createRange(c.getShiftedBy(s[0]),c.getShiftedBy(s[1])))}function Dae(c,n){let i=c.start;return{text:Array.from(c.getItems()).reduce((l,d)=>!(d.is("$text")||d.is("$textProxy"))||d.getAttribute("code")?(i=n.createPositionAfter(d),""):l+d.data,""),range:n.createRange(i,c.end)}}class Pae extends he{static get requires(){return[pc]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const n=this.editor.commands;n.get("bulletedList")&&mc(this.editor,this,/^[*-]\s$/,"bulletedList"),n.get("numberedList")&&mc(this.editor,this,/^1[.|)]\s$/,"numberedList"),n.get("todoList")&&mc(this.editor,this,/^\[\s?\]\s$/,"todoList"),n.get("checkTodoList")&&mc(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const n=this.editor.commands;if(n.get("bold")){const i=Jw(this.editor,"bold");Gd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,i),Gd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,i)}if(n.get("italic")){const i=Jw(this.editor,"italic");Gd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,i),Gd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,i)}if(n.get("code")){const i=Jw(this.editor,"code");Gd(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(n.get("strikethrough")){const i=Jw(this.editor,"strikethrough");Gd(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}_addHeadingAutoformats(){const n=this.editor.commands.get("heading");n&&n.modelElements.filter(i=>i.match(/^heading[1-6]$/)).forEach(i=>{const s=i[7],l=new RegExp(`^(#{${s}})\\s$`);mc(this.editor,this,l,()=>{if(!n.isEnabled||n.value===i)return!1;this.editor.execute("heading",{value:i})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&mc(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const n=this.editor,i=n.model.document.selection;n.commands.get("codeBlock")&&mc(n,this,/^```$/,()=>{if(i.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&mc(this.editor,this,/^---$/,"horizontalLine")}}function Jw(c,n){return(i,s)=>{if(!c.commands.get(n).isEnabled)return!1;const d=c.model.schema.getValidRanges(s,n);for(const f of d)i.setAttribute(n,!0,f);i.removeSelectionAttribute(n)}}function*M5(c,n){for(const i of n)i&&c.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class Mae extends ft{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const i=this.editor.model,s=i.document.selection,l=i.schema,d=s.isCollapsed,f=s.getFirstRange(),g=f.start.parent,w=f.end.parent;if(l.isLimit(g)||l.isLimit(w))return!d&&g==w&&i.deleteContent(s),!1;if(d){const y=M5(n.model.schema,s.getAttributes());return N5(n,f.start),n.setSelectionAttribute(y),!0}else{const y=!(f.start.isAtStart&&f.end.isAtEnd),C=g==w;if(i.deleteContent(s,{leaveUnmerged:y}),y){if(C)return N5(n,s.focus),!0;n.setSelection(w,0)}}return!1}}function N5(c,n){c.split(n),c.setSelection(n.parent.nextSibling,0)}const Nae={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class R5 extends Cs{constructor(n){super(n);const i=this.document;i.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const d=l.domEvent,f=Nae[l.inputType];if(!f)return;const g=new Bd(i,"enter",l.targetRanges[0]);i.fire(g,new Fd(n,d,{isSoft:f.isSoft})),g.stop.called&&s.stop()})}observe(){}}class Xw extends he{static get pluginName(){return"Enter"}init(){const n=this.editor,i=n.editing.view,s=i.document;i.addObserver(R5),n.commands.add("enter",new Mae(n)),this.listenTo(s,"enter",(l,d)=>{s.isComposing||d.preventDefault(),!d.isSoft&&(n.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}class Rae extends ft{execute(){const n=this.editor.model,i=n.document;n.change(s=>{Lae(n,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const n=this.editor.model,i=n.document;this.isEnabled=Oae(n.schema,i.selection)}}function Oae(c,n){if(n.rangeCount>1)return!1;const i=n.anchor;if(!i||!c.checkChild(i,"softBreak"))return!1;const s=n.getFirstRange(),l=s.start.parent,d=s.end.parent;return!((N1(l,c)||N1(d,c))&&l!==d)}function Lae(c,n,i){const s=i.isCollapsed,l=i.getFirstRange(),d=l.start.parent,f=l.end.parent,g=d==f;if(s){const w=M5(c.schema,i.getAttributes());O5(c,n,l.end),n.removeSelectionAttribute(i.getAttributeKeys()),n.setSelectionAttribute(w)}else{const w=!(l.start.isAtStart&&l.end.isAtEnd);c.deleteContent(i,{leaveUnmerged:w}),g?O5(c,n,i.focus):w&&n.setSelection(f,0)}}function O5(c,n,i){const s=n.createElement("softBreak");c.insertContent(s,i),n.setSelection(s,"after")}function N1(c,n){return c.is("rootElement")?!1:n.isLimit(c)||N1(c.parent,n)}class L5 extends he{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,i=n.model.schema,s=n.conversion,l=n.editing.view,d=l.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:g})=>g.createEmptyElement("br")}),l.addObserver(R5),n.commands.add("shiftEnter",new Rae(n)),this.listenTo(d,"enter",(f,g)=>{d.isComposing||g.preventDefault(),g.isSoft&&(n.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class Bae extends ft{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,s=i.schema,l=i.document.selection,d=Array.from(l.getSelectedBlocks()),f=n.forceValue===void 0?!this.value:n.forceValue;i.change(g=>{if(!f)this._removeQuote(g,d.filter(ek));else{const w=d.filter(y=>ek(y)||z5(s,y));this._applyQuote(g,w)}})}_getValue(){const n=this.editor.model.document.selection,i=Bn(n.getSelectedBlocks());return!!(i&&ek(i))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=Bn(n.getSelectedBlocks());return s?z5(i,s):!1}_removeQuote(n,i){B5(n,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd){n.unwrap(s.start.parent);return}if(s.start.isAtStart){const d=n.createPositionBefore(s.start.parent);n.move(s,d);return}s.end.isAtEnd||n.split(s.end);const l=n.createPositionAfter(s.end.parent);n.move(s,l)})}_applyQuote(n,i){const s=[];B5(n,i).reverse().forEach(l=>{let d=ek(l.start);d||(d=n.createElement("blockQuote"),n.wrap(l,d)),s.push(d)}),s.reverse().reduce((l,d)=>l.nextSibling==d?(n.merge(n.createPositionAfter(l)),l):d)}}function ek(c){return c.parent.name=="blockQuote"?c.parent:null}function B5(c,n){let i,s=0;const l=[];for(;s<n.length;){const d=n[s],f=n[s+1];i||(i=c.createPositionBefore(d)),(!f||d.nextSibling!=f)&&(l.push(c.createRange(i,c.createPositionAfter(d))),i=null),s++}return l}function z5(c,n){const i=c.checkChild(n.parent,"blockQuote"),s=c.checkChild(["$root","blockQuote"],n);return i&&s}class zae extends he{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Xw,pc]}init(){const n=this.editor,i=n.model.schema;n.commands.add("blockQuote",new Bae(n)),i.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(f=>{const g=n.model.document.differ.getChanges();for(const w of g)if(w.type=="insert"){const y=w.position.nodeAfter;if(!y)continue;if(y.is("element","blockQuote")&&y.isEmpty)return f.remove(y),!0;if(y.is("element","blockQuote")&&!i.checkChild(w.position,y))return f.unwrap(y),!0;if(y.is("element")){const C=f.createRangeIn(y);for(const x of C.getItems())if(x.is("element","blockQuote")&&!i.checkChild(f.createPositionBefore(x),x))return f.unwrap(x),!0}}else if(w.type=="remove"){const y=w.position.parent;if(y.is("element","blockQuote")&&y.isEmpty)return f.remove(y),!0}return!1});const s=this.editor.editing.view.document,l=n.model.document.selection,d=n.commands.get("blockQuote");this.listenTo(s,"enter",(f,g)=>{if(!l.isCollapsed||!d.value)return;l.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(f,g)=>{if(g.direction!="backward"||!l.isCollapsed||!d.value)return;const w=l.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"})}}var F5=a(636),R1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};R1.insert="head",R1.singleton=!0,nt()(F5.Z,R1),F5.Z.locals;class Fae extends he{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add("blockQuote",s=>{const l=n.commands.get("blockQuote"),d=new Ht(s);return d.set({label:i("Block quote"),icon:hn.quote,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute("blockQuote"),n.editing.view.focus()}),d})}}class jae extends he{static get requires(){return[zae,Fae]}static get pluginName(){return"BlockQuote"}}class O1 extends ft{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,l=i.document.selection,d=n.forceValue===void 0?!this.value:n.forceValue;i.change(f=>{if(l.isCollapsed)d?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const g=i.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const w of g)d?f.setAttribute(this.attributeKey,d,w):f.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,i=n.schema,s=n.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const l of s.getRanges())for(const d of l.getItems())if(i.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const Kd="bold";class Vae extends he{static get pluginName(){return"BoldEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:Kd}),n.model.schema.setAttributeProperties(Kd,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Kd,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(Kd,new O1(n,Kd)),n.keystrokes.set("CTRL+B",Kd)}}const L1="bold";class Uae extends he{static get pluginName(){return"BoldUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(L1,s=>{const l=n.commands.get(L1),d=new Ht(s);return d.set({label:i("Bold"),icon:hn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute(L1),n.editing.view.focus()}),d})}}class $ae extends he{static get requires(){return[Vae,Uae]}static get pluginName(){return"Bold"}}const Hae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>';class qae extends he{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const i=n.t;n.ui.componentFactory.add("ckbox",l=>{const d=n.commands.get("ckbox"),f=new Ht(l);return f.set({label:i("Open file manager"),icon:Hae,tooltip:!0}),f.bind("isOn","isEnabled").to(d,"value","isEnabled"),f.on("execute",()=>{n.execute("ckbox")}),f})}}const Wae=4e3,Gae=80,Kae=10;function j5({token:c,id:n,origin:i,width:s,extension:l}){const d=V5(c),f=Yae(s),g=Qae(l),w=U5({environmentId:d,id:n,origin:i,width:s,extension:g}),C=[{srcset:f.map(x=>`${U5({environmentId:d,id:n,origin:i,width:x,extension:"webp"})} ${x}w`).join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}];return{imageFallbackUrl:w,imageSources:C}}function V5(c){const[,n]=c.value.split(".");return JSON.parse(atob(n)).aud}function Yae(c){const n=[c*Kae/100,Gae],i=Math.floor(Math.max(...n)),s=[Math.min(c,Wae)];let l=s[0];for(;l-i>=i;)l-=i,s.unshift(l);return s}function Qae(c){return c==="bmp"||c==="tiff"||c==="jpg"?"jpeg":c}function U5({environmentId:c,id:n,origin:i,width:s,extension:l}){const d=`${c}/assets/${n}/images/${s}.${l}`;return new URL(d,i).toString()}const Zae=1e3;class Jae extends ft{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!n.isEnabled&&!i.isEnabled)}_prepareOptions(){const i=this.editor.config.get("ckbox");return{theme:i.theme,language:i.language,tokenUrl:i.tokenUrl,serviceOrigin:i.serviceOrigin,assetsOrigin:i.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:s=>this.fire("ckbox:choose",s)}}}_initListeners(){const n=this.editor,i=n.model,s=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{!this.isEnabled||this.value||(this._wrapper=jb(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(l,d)=>{if(!this.isEnabled)return;const f=n.commands.get("insertImage"),g=n.commands.get("link"),w=n.plugins.get("CKBoxEditing"),y=n.config.get("ckbox.assetsOrigin"),C=Xae({assets:d,origin:y,token:w.getToken(),isImageAllowed:f.isEnabled,isLinkAllowed:g.isEnabled});C.length!==0&&i.change(x=>{for(const N of C){const F=N===C[C.length-1];this._insertAsset(N,F,x),s&&(setTimeout(()=>this._chosenAssets.delete(N),Zae),this._chosenAssets.add(N))}})}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,i,s){const f=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,s),i||s.setSelection(f.getLastPosition())}_insertImage(n){const i=this.editor,{imageFallbackUrl:s,imageSources:l,imageTextAlternative:d}=n.attributes;i.execute("insertImage",{source:{src:s,sources:l,alt:d}})}_insertLink(n,i){const s=this.editor,l=s.model,d=l.document.selection,{linkName:f,linkHref:g}=n.attributes;if(d.isCollapsed){const w=ks(d.getAttributes()),y=i.createText(f,w),C=l.insertContent(y);i.setSelection(C)}s.execute("link",g)}}function Xae({assets:c,origin:n,token:i,isImageAllowed:s,isLinkAllowed:l}){return c.map(d=>({id:d.data.id,type:$5(d)?"image":"link",attributes:ece(d,i,n)})).filter(d=>d.type==="image"?s:l)}function ece(c,n,i){if($5(c)){const{imageFallbackUrl:s,imageSources:l}=j5({token:n,origin:i,id:c.data.id,width:c.data.metadata.width,extension:c.data.extension});return{imageFallbackUrl:s,imageSources:l,imageTextAlternative:c.data.metadata.description||""}}return{linkName:c.data.name,linkHref:tce(c,n,i)}}function $5(c){const n=c.data.metadata;return n?n.width&&n.height:!1}function tce(c,n,i){const s=V5(n),l=new URL(`${s}/assets/${c.data.id}/file`,i);return l.searchParams.set("download","true"),l.toString()}class nce extends Me(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const i=this._reader;return this.total=n.size,new Promise((s,l)=>{i.onload=()=>{const d=i.result;this._data=d,s(d)},i.onerror=()=>{l("error")},i.onabort=()=>{l("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class eu extends he{static get pluginName(){return"FileRepository"}static get requires(){return[HL]}init(){this.loaders=new yi,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return Be("filerepository-no-upload-adapter"),null;const i=new H5(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(n,i),n instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const l of this.loaders)s+=l.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const l of this.loaders)l.uploadTotal&&(s+=l.uploadTotal);this.uploadTotal=s}),i}destroyLoader(n){const i=n instanceof H5?n:this.getLoader(n);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,l)=>{s===i&&this._loadersMap.delete(l)})}_updatePendingAction(){const n=this.editor.plugins.get(HL);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=l=>`${i("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=n.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else n.remove(this._pendingAction),this._pendingAction=null}}class H5 extends Me(){constructor(n,i){super(),this.id=le(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=i(this),this._reader=new nce,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,l)=>l?s/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new O("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new O("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const i={};return i.promise=new Promise((s,l)=>{i.rejecter=l,i.isFulfilled=!1,n.then(d=>{i.isFulfilled=!0,s(d)}).catch(d=>{i.isFulfilled=!0,l(d)})}),i}}class rce extends yt{constructor(n){super(n),this.buttonView=new Ht(n),this._fileInputView=new ice(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class ice extends yt{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class oce extends he{static get requires(){return["ImageUploadEditing","ImageUploadProgress",eu,B1]}static get pluginName(){return"CKBoxUploadAdapter"}async afterInit(){const n=this.editor,i=!!n.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;const l=n.plugins.get(eu),d=n.plugins.get(B1);l.createUploadAdapter=w=>new sce(w,d.getToken(),n);const f=!n.config.get("ckbox.ignoreDataId"),g=n.plugins.get("ImageUploadEditing");f&&g.on("uploadComplete",(w,{imageElement:y,data:C})=>{n.model.change(x=>{x.setAttribute("ckboxImageId",C.ckboxImageId,y)})})}}class sce{constructor(n,i,s){this.loader=n,this.token=i,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin"),this.assetsOrigin=s.config.get("ckbox.assetsOrigin")}async getAvailableCategories(n=0){const s=new URL("categories",this.serviceOrigin);return s.searchParams.set("limit",50 .toString()),s.searchParams.set("offset",n.toString()),this._sendHttpRequest({url:s}).then(async l=>{if(l.totalCount-(n+50)>0){const f=await this.getAvailableCategories(n+50);return[...l.items,...f]}return l.items}).catch(()=>{this.controller.signal.throwIfAborted(),rt("ckbox-fetch-category-http-error")})}async getCategoryIdForFile(n){const i=q5(n.name),s=await this.getAvailableCategories();if(!s)return null;const l=this.editor.config.get("ckbox.defaultUploadCategories");if(l){const f=Object.keys(l).find(g=>l[g].includes(i));if(f){const g=s.find(w=>w.id===f||w.name===f);return g?g.id:null}}const d=s.find(f=>f.extensions.includes(i));return d?d.id:null}async upload(){const n=this.editor.t,i=n("Cannot determine a category for the uploaded file."),s=await this.loader.file,l=await this.getCategoryIdForFile(s);if(!l)return Promise.reject(i);const d=new URL("assets",this.serviceOrigin),f=new FormData;f.append("categoryId",l),f.append("file",s);const g={method:"POST",url:d,data:f,onUploadProgress:w=>{w.lengthComputable&&(this.loader.uploadTotal=w.total,this.loader.uploaded=w.loaded)}};return this._sendHttpRequest(g).then(async w=>{const y=await this._getImageWidth(),C=q5(s.name),x=j5({token:this.token,id:w.id,origin:this.assetsOrigin,width:y,extension:C});return{ckboxImageId:w.id,default:x.imageFallbackUrl,sources:x.imageSources}}).catch(()=>{const w=n("Cannot upload file:")+` ${s.name}.`;return Promise.reject(w)})}abort(){this.controller.abort()}_sendHttpRequest(n){const{url:i,data:s,onUploadProgress:l}=n,d=n.method||"GET",f=this.controller.signal,g=new XMLHttpRequest;g.open(d,i.toString(),!0),g.setRequestHeader("Authorization",this.token.value),g.setRequestHeader("CKBox-Version","CKEditor 5"),g.responseType="json";const w=()=>{g.abort()};return new Promise((y,C)=>{f.addEventListener("abort",w),g.addEventListener("loadstart",()=>{f.addEventListener("abort",w)}),g.addEventListener("loadend",()=>{f.removeEventListener("abort",w)}),g.addEventListener("error",()=>{C()}),g.addEventListener("abort",()=>{C()}),g.addEventListener("load",async()=>{const x=g.response;return!x||x.statusCode>=400?C(x&&x.message):y(x)}),l&&g.upload.addEventListener("progress",x=>{l(x)}),g.send(s)})}_getImageWidth(){return new Promise(n=>{const i=new Image;i.onload=()=>{URL.revokeObjectURL(i.src),n(i.width)},i.src=this.loader.data})}}function q5(c){const n=/\.(?<ext>[^.]+)$/;return c.match(n).groups.ext}class B1 extends he{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",oce]}async init(){const n=this.editor,i=!!n.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;this._initConfig();const l=n.plugins.get("CloudServicesCore"),d=n.config.get("ckbox.tokenUrl"),f=n.config.get("cloudServices.tokenUrl");d===f?this._token=n.plugins.get("CloudServices").token:this._token=await l.createToken(d).init(),n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),s&&n.commands.add("ckbox",new Jae(n))}getToken(){return this._token}_initConfig(){const n=this.editor;if(n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"default",tokenUrl:n.config.get("cloudServices.tokenUrl")}),!n.config.get("ckbox.tokenUrl"))throw new O("ckbox-plugin-missing-token-url",this);!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing")&&rt("ckbox-plugin-image-feature-missing",n)}_initSchema(){const i=this.editor.model.schema;i.extend("$text",{allowAttributes:"ckboxLinkId"}),i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.addAttributeCheck((s,l)=>{if(!!!s.last.getAttribute("linkHref")&&l==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(s,l,d)=>{const{writer:f,mapper:g,consumable:w}=d;if(!w.consume(l.item,s.name))return;const C=[...g.toViewElement(l.item).getChildren()].find(x=>x.name==="a");C&&(l.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),C):f.removeAttribute("data-ckbox-resource-id",C))},{priority:"low"}),i.on("attribute:ckboxLinkId",(s,l,d)=>{const{writer:f,mapper:g,consumable:w}=d;if(w.consume(l.item,s.name)){if(l.attributeOldValue){const y=W5(f,l.attributeOldValue);f.unwrap(g.toViewRange(l.range),y)}if(l.attributeNewValue){const y=W5(f,l.attributeNewValue);if(l.item.is("selection")){const C=f.document.selection;f.wrap(C.getFirstRange(),y)}else f.wrap(g.toViewRange(l.range),y)}}},{priority:"low"})}),n.conversion.for("upcast").add(i=>{i.on("element:a",(s,l,d)=>{const{writer:f,consumable:g}=d;if(!l.viewItem.getAttribute("href"))return;const w={attributes:["data-ckbox-resource-id"]};if(!g.consume(l.viewItem,w))return;const y=l.viewItem.getAttribute("data-ckbox-resource-id");if(y)if(l.modelRange)for(let C of l.modelRange.getItems())C.is("$textProxy")&&(C=C.textNode),uce(C)&&f.setAttribute("ckboxLinkId",y,C);else{const C=l.modelCursor.nodeBefore||l.modelCursor.parent;f.setAttribute("ckboxLinkId",y,C)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const n=this.editor,i=n.model,s=i.document.selection;i.document.registerPostFixer(ace(n)),i.document.registerPostFixer(cce(s))}}function ace(c){return n=>{let i=!1;const s=c.model,l=c.commands.get("ckbox");if(!l)return i;for(const d of s.document.differ.getChanges()){if(d.type!=="insert"&&d.type!=="attribute")continue;const f=d.type==="insert"?new ne(d.position,d.position.getShiftedBy(d.length)):d.range,g=d.type==="attribute"&&d.attributeKey==="linkHref"&&d.attributeNewValue===null;for(const w of f.getItems()){if(g&&w.hasAttribute("ckboxLinkId")){n.removeAttribute("ckboxLinkId",w),i=!0;continue}const y=lce(w,l._chosenAssets);for(const C of y){const x=C.type==="image"?"ckboxImageId":"ckboxLinkId";C.id!==w.getAttribute(x)&&(n.setAttribute(x,C.id,w),i=!0)}}}return i}}function cce(c){return n=>{!c.hasAttribute("linkHref")&&c.hasAttribute("ckboxLinkId")&&n.removeSelectionAttribute("ckboxLinkId")}}function lce(c,n){const i=c.is("element","imageInline")||c.is("element","imageBlock"),s=c.hasAttribute("linkHref");return[...n].filter(l=>{if(l.type==="image"&&i)return l.attributes.imageFallbackUrl===c.getAttribute("src");if(l.type==="link"&&s)return l.attributes.linkHref===c.getAttribute("linkHref")})}function W5(c,n){const i=c.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return c.setCustomProperty("link",!0,i),i}function uce(c){return!!(c.is("$text")||c.is("element","imageInline")||c.is("element","imageBlock"))}class dce extends he{static get pluginName(){return"CKBox"}static get requires(){return[B1,qae]}}const z1={autoRefresh:!0},G5=36e5;class tk{constructor(n,i=z1){if(!n)throw new O("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),typeof n=="function"?this._refresh=n:this._refresh=()=>hce(n),this._options=Object.assign({},z1,i)}init(){return new Promise((n,i)=>{if(!this.value){this.refreshToken().then(n).catch(i);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)})}refreshToken(){return this._refresh().then(n=>{this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const i=typeof n=="string",s=!/^".*"$/.test(n),l=i&&n.split(".").length===3;if(!(s&&l))throw new O("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:i}=JSON.parse(atob(n));return i?Math.floor((i*1e3-Date.now())/2):G5}catch{return G5}}static create(n,i=z1){return new tk(n,i).init()}}ie(tk,Me);function hce(c){return new Promise((n,i)=>{const s=new XMLHttpRequest;s.open("GET",c),s.addEventListener("load",()=>{const l=s.status,d=s.response;return l<200||l>299?i(new O("token-cannot-download-new-token",null)):n(d)}),s.addEventListener("error",()=>i(new Error("Network Error"))),s.addEventListener("abort",()=>i(new Error("Abort"))),s.send()})}const fce=tk,F1=/^data:(\S*?);base64,/;class K5{constructor(n,i,s){if(!n)throw new O("fileuploader-missing-file",null);if(!i)throw new O("fileuploader-missing-token",null);if(!s)throw new O("fileuploader-missing-api-address",null);this.file=mce(n)?pce(n):n,this._token=i,this._apiAddress=s}onProgress(n){return this.on("progress",(i,s)=>n(s)),this}onError(n){return this.once("error",(i,s)=>n(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this,i=this.xhr;i.addEventListener("error",s("Network Error")),i.addEventListener("abort",s("Abort")),i.upload&&i.upload.addEventListener("progress",l=>{l.lengthComputable&&this.fire("progress",{total:l.total,uploaded:l.loaded})}),i.addEventListener("load",()=>{const l=i.status,d=i.response;if(l<200||l>299)return this.fire("error",d.message||d.error)});function s(l){return()=>n.fire("error",l)}}_sendRequest(){const n=new FormData,i=this.xhr;return n.append("file",this.file),new Promise((s,l)=>{i.addEventListener("load",()=>{const d=i.status,f=i.response;return d<200||d>299?f.message?l(new O("fileuploader-uploading-data-failed",this,{message:f.message})):l(f.error):s(f)}),i.addEventListener("error",()=>l(new Error("Network Error"))),i.addEventListener("abort",()=>l(new Error("Abort"))),i.send(n)})}}ie(K5,z);function pce(c,n=512){try{const i=c.match(F1)[1],s=atob(c.replace(F1,"")),l=[];for(let d=0;d<s.length;d+=n){const f=s.slice(d,d+n),g=new Array(f.length);for(let w=0;w<f.length;w++)g[w]=f.charCodeAt(w);l.push(new Uint8Array(g))}return new Blob(l,{type:i})}catch{throw new O("fileuploader-decoding-image-data-error",null)}}function mce(c){if(typeof c!="string")return!1;const n=c.match(F1);return!!(n&&n.length)}class gce{constructor(n,i){if(!n)throw new O("uploadgateway-missing-token",null);if(!i)throw new O("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=i}upload(n){return new K5(n,this._token,this._apiAddress)}}class bce extends Sw{static get pluginName(){return"CloudServicesCore"}createToken(n,i){return new fce(n,i)}createUploadGateway(n,i){return new gce(n,i)}}class wce extends Sw{static get pluginName(){return"CloudServices"}static get requires(){return[bce]}init(){const i=this.context.config.get("cloudServices")||{};for(const s in i)this[s]=i[s];if(this._tokens=new Map,!this.tokenUrl){this.token=null;return}return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init()}registerTokenUrl(n){if(this._tokens.has(n))return Promise.resolve(this.getTokenFor(n));const i=this.context.plugins.get("CloudServicesCore").createToken(n);return this._tokens.set(n,i),i.init()}getTokenFor(n){const i=this._tokens.get(n);if(!i)throw new O("cloudservices-token-not-registered",this);return i}destroy(){super.destroy();for(const n of this._tokens.values())n.destroy()}}const tu="code",kce="ck-code_selected";class vce extends he{static get pluginName(){return"CodeEditing"}static get requires(){return[Yw]}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:tu}),n.model.schema.setAttributeProperties(tu,{isFormatting:!0,copyOnEnter:!1}),n.conversion.attributeToElement({model:tu,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),n.commands.add(tu,new O1(n,tu)),n.plugins.get(Yw).registerAttribute(tu),D5(n,tu,"code",kce)}}const yce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';var Y5=a(8180),j1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};j1.insert="head",j1.singleton=!0,nt()(Y5.Z,j1),Y5.Z.locals;const V1="code";class _ce extends he{static get pluginName(){return"CodeUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(V1,s=>{const l=n.commands.get(V1),d=new Ht(s);return d.set({label:i("Code"),icon:yce,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute(V1),n.editing.view.focus()}),d})}}class Ace extends he{static get requires(){return[vce,_ce]}static get pluginName(){return"Code"}}function U1(c){const n=c.t,i=c.config.get("codeBlock.languages");for(const s of i)s.label==="Plain text"&&(s.label=n("Plain text")),s.class===void 0&&(s.class=`language-${s.language}`);return i}function $1(c,n,i){const s={};for(const l of c)if(n==="class"){const d=l[n].split(" ").shift();s[d]=l[i]}else s[l[n]]=l[i];return s}function H1(c){return c.data.match(/^(\s*)/)[0]}function Cce(c,n){const i=c.createDocumentFragment(),s=n.split(`
`),l=s.reduce((d,f,g)=>(d.push(f),g<s.length-1&&d.push(c.createElement("br")),d),[]);return c.appendChild(l,i),i}function q1(c){const n=c.document.selection,i=[];if(n.isCollapsed)return[n.anchor];const s=n.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:l}of s){if(!l.is("$textProxy"))continue;const{parent:d,startOffset:f}=l.textNode;if(!d.is("element","codeBlock"))continue;const g=H1(l.textNode),w=c.createPositionAt(d,f+g.length);i.push(w)}return i}function Q5(c){const n=Bn(c.getSelectedBlocks());return!!n&&n.is("element","codeBlock")}function Z5(c,n){return n.is("rootElement")||c.isLimit(n)?!1:c.checkChild(n.parent,"codeBlock")}class Ece extends ft{constructor(n){super(n),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor,s=i.model,l=s.document.selection,f=U1(i)[0],g=Array.from(l.getSelectedBlocks()),w=n.forceValue==null?!this.value:n.forceValue,y=xce(n,this._lastLanguage,f.language);s.change(C=>{w?this._applyCodeBlock(C,g,y):this._removeCodeBlock(C,g)})}_getValue(){const n=this.editor.model.document.selection,i=Bn(n.getSelectedBlocks());return!!(i&&i.is("element","codeBlock"))?i.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=Bn(n.getSelectedBlocks());return s?Z5(i,s):!1}_applyCodeBlock(n,i,s){this._lastLanguage=s;const l=this.editor.model.schema,d=i.filter(f=>Z5(l,f));for(const f of d)n.rename(f,"codeBlock"),n.setAttribute("language",s,f),l.removeDisallowedAttributes([f],n),Array.from(f.getChildren()).filter(g=>!l.checkChild(f,g)).forEach(g=>n.remove(g));d.reverse().forEach((f,g)=>{const w=d[g+1];f.previousSibling===w&&(n.appendElement("softBreak",w),n.merge(n.createPositionBefore(f)))})}_removeCodeBlock(n,i){const s=i.filter(l=>l.is("element","codeBlock"));for(const l of s){const d=n.createRangeOn(l);for(const f of Array.from(d.getItems()).reverse())if(f.is("element","softBreak")&&f.parent.is("element","codeBlock")){const{position:g}=n.split(n.createPositionBefore(f)),w=g.nodeAfter;n.rename(w,"paragraph"),n.removeAttribute("language",w),n.remove(f)}n.rename(l,"paragraph"),n.removeAttribute("language",l)}}}function xce(c,n,i){return c.language?c.language:c.usePreviousLanguageChoice&&n?n:i}class Sce extends ft{constructor(n){super(n),this._indentSequence=n.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(s=>{const l=q1(i);for(const d of l){const f=s.createText(this._indentSequence);i.insertContent(f,d)}})}_checkEnabled(){return this._indentSequence?Q5(this.editor.model.document.selection):!1}}class Tce extends ft{constructor(n){super(n),this._indentSequence=n.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(()=>{const s=q1(i);for(const l of s){const d=J5(i,l,this._indentSequence);d&&i.deleteContent(i.createSelection(d))}})}_checkEnabled(){if(!this._indentSequence)return!1;const n=this.editor.model;return Q5(n.document.selection)?q1(n).some(i=>J5(n,i,this._indentSequence)):!1}}function J5(c,n,i){const s=Ice(n);if(!s)return null;const l=H1(s),d=l.lastIndexOf(i);if(d+i.length!==l.length||d===-1)return null;const{parent:f,startOffset:g}=s;return c.createRange(c.createPositionAt(f,g+d),c.createPositionAt(f,g+d+i.length))}function Ice(c){let n=c.parent.getChild(c.index);return(!n||n.is("element","softBreak"))&&(n=c.nodeBefore),!n||n.is("element","softBreak")?null:n}function X5(c,n,i=!1){const s=$1(n,"language","class"),l=$1(n,"language","label");return(d,f,g)=>{const{writer:w,mapper:y,consumable:C}=g;if(!C.consume(f.item,"insert"))return;const x=f.item.getAttribute("language"),N=y.toViewPosition(c.createPositionBefore(f.item)),F={};i&&(F["data-language"]=l[x],F.spellcheck="false");const U=s[x]?{class:s[x]}:void 0,G=w.createContainerElement("code",U),ae=w.createContainerElement("pre",F,G);w.insert(N,ae),y.bindElements(f.item,G)}}function Dce(c){return(n,i,s)=>{if(i.item.parent.name!=="codeBlock")return;const{writer:l,mapper:d,consumable:f}=s;if(!f.consume(i.item,"insert"))return;const g=d.toViewPosition(c.createPositionBefore(i.item));l.insert(g,l.createText(`
`))}}function Pce(c,n){const i=$1(n,"class","language"),s=n[0].language;return(l,d,f)=>{const g=d.viewItem,w=g.parent;if(!w||!w.is("element","pre")||d.modelCursor.findAncestor("codeBlock"))return;const{consumable:y,writer:C}=f;if(!y.test(g,{name:!0}))return;const x=C.createElement("codeBlock"),N=[...g.getClassNames()];N.length||N.push("");for(const F of N){const U=i[F];if(U){C.setAttribute("language",U,x);break}}x.hasAttribute("language")||C.setAttribute("language",s,x),f.convertChildren(g,x),f.safeInsert(x,d.modelCursor)&&(y.consume(g,{name:!0}),f.updateConversionResult(x,d))}}function Mce(){return(c,n,{consumable:i,writer:s})=>{let l=n.modelCursor;if(!i.test(n.viewItem)||!l.findAncestor("codeBlock"))return;i.consume(n.viewItem);const f=n.viewItem.data.split(`
`).map(w=>s.createText(w)),g=f[f.length-1];for(const w of f)if(s.insert(w,l),l=l.getShiftedBy(w.offsetSize),w!==g){const y=s.createElement("softBreak");s.insert(y,l),l=s.createPositionAfter(y)}n.modelRange=s.createRange(n.modelCursor,l),n.modelCursor=l}}function Nce(){return(c,n,{consumable:i})=>{const s=n.viewItem;if(s.findAncestor("pre"))return;const l=Array.from(s.getChildren()),d=l.find(f=>f.is("element","code"));if(d)for(const f of l)f===d||!f.is("$text")||i.consume(f,{name:!0})}}const eB="paragraph";class Rce extends he{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[L5]}constructor(n){super(n),n.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const n=this.editor,i=n.model.schema,s=n.model,l=n.editing.view,d=n.plugins.has("DocumentListEditing"),f=U1(n);n.commands.add("codeBlock",new Ece(n)),n.commands.add("indentCodeBlock",new Sce(n)),n.commands.add("outdentCodeBlock",new Tce(n)),this.listenTo(l.document,"tab",(g,w)=>{const y=w.shiftKey?"outdentCodeBlock":"indentCodeBlock";n.commands.get(y).isEnabled&&(n.execute(y),w.stopPropagation(),w.preventDefault(),g.stop())},{context:"pre"}),i.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),i.addAttributeCheck((g,w)=>{const y=g.endsWith("codeBlock")&&w.startsWith("list")&&w!=="list";if(d&&y)return!0;if(g.endsWith("codeBlock $text"))return!1}),n.model.schema.addChildCheck((g,w)=>{if(g.endsWith("codeBlock")&&w.isObject)return!1}),n.editing.downcastDispatcher.on("insert:codeBlock",X5(s,f,!0)),n.data.downcastDispatcher.on("insert:codeBlock",X5(s,f)),n.data.downcastDispatcher.on("insert:softBreak",Dce(s),{priority:"high"}),n.data.upcastDispatcher.on("element:code",Pce(l,f)),n.data.upcastDispatcher.on("text",Mce()),n.data.upcastDispatcher.on("element:pre",Nce(),{priority:"high"}),this.listenTo(n.editing.view.document,"clipboardInput",(g,w)=>{let y=s.createRange(s.document.selection.anchor);if(w.targetRanges&&(y=n.editing.mapper.toModelRange(w.targetRanges[0])),!y.start.parent.is("element","codeBlock"))return;const C=w.dataTransfer.getData("text/plain"),x=new Xl(n.editing.view.document);w.content=Cce(x,C)}),this.listenTo(s,"getSelectedContent",(g,[w])=>{const y=w.anchor;w.isCollapsed||!y.parent.is("element","codeBlock")||!y.hasSameParentAs(w.focus)||s.change(C=>{const x=g.return;if(y.parent.is("element")&&(x.childCount>1||w.containsEntireContent(y.parent))){const F=C.createElement("codeBlock",y.parent.getAttributes());C.append(x,F);const U=C.createDocumentFragment();C.append(F,U),g.return=U;return}const N=x.getChild(0);i.checkAttribute(N,"code")&&C.setAttribute("code",!0,N)})})}afterInit(){const n=this.editor,i=n.commands,s=i.get("indent"),l=i.get("outdent");s&&s.registerChildCommand(i.get("indentCodeBlock"),{priority:"highest"}),l&&l.registerChildCommand(i.get("outdentCodeBlock")),this.listenTo(n.editing.view.document,"enter",(d,f)=>{n.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!Lce(n,f.isSoft)&&!Bce(n,f.isSoft)&&Oce(n),f.preventDefault(),d.stop())},{context:"pre"})}}function Oce(c){const i=c.model.document,s=i.selection.getLastPosition(),l=s.nodeBefore||s.textNode;let d;l&&l.is("$text")&&(d=H1(l)),c.model.change(f=>{c.execute("shiftEnter"),d&&f.insertText(d,i.selection.anchor)})}function Lce(c,n){const s=c.model.document,l=c.editing.view,d=s.selection.getLastPosition(),f=d.nodeAfter;return n||!s.selection.isCollapsed||!d.isAtStart||!nu(f)?!1:(c.model.change(g=>{c.execute("enter");const w=s.selection.anchor.parent.previousSibling;g.rename(w,eB),g.setSelection(w,"in"),c.model.schema.removeDisallowedAttributes([w],g),g.remove(f)}),l.scrollToTheSelection(),!0)}function Bce(c,n){const i=c.model,s=i.document,l=c.editing.view,d=s.selection.getLastPosition(),f=d.nodeBefore;let g;if(n||!s.selection.isCollapsed||!d.isAtEnd||!f||!f.previousSibling)return!1;if(nu(f)&&nu(f.previousSibling))g=i.createRange(i.createPositionBefore(f.previousSibling),i.createPositionAfter(f));else if(W1(f)&&nu(f.previousSibling)&&nu(f.previousSibling.previousSibling))g=i.createRange(i.createPositionBefore(f.previousSibling.previousSibling),i.createPositionAfter(f));else if(W1(f)&&nu(f.previousSibling)&&W1(f.previousSibling.previousSibling)&&f.previousSibling.previousSibling&&nu(f.previousSibling.previousSibling.previousSibling))g=i.createRange(i.createPositionBefore(f.previousSibling.previousSibling.previousSibling),i.createPositionAfter(f));else return!1;return c.model.change(w=>{w.remove(g),c.execute("enter");const y=s.selection.anchor.parent;w.rename(y,eB),c.model.schema.removeDisallowedAttributes([y],w)}),l.scrollToTheSelection(),!0}function W1(c){return c&&c.is("$text")&&!c.data.match(/\S/)}function nu(c){return c&&c.is("element","softBreak")}const zce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>';var tB=a(9085),G1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};G1.insert="head",G1.singleton=!0,nt()(tB.Z,G1),tB.Z.locals;class Fce extends he{static get pluginName(){return"CodeBlockUI"}init(){const n=this.editor,i=n.t,s=n.ui.componentFactory,l=U1(n);s.add("codeBlock",d=>{const f=n.commands.get("codeBlock"),g=Eo(d,xw),w=g.buttonView;return w.set({label:i("Insert code block"),tooltip:!0,icon:zce,isToggleable:!0}),w.bind("isOn").to(f,"value",y=>!!y),w.on("execute",()=>{n.execute("codeBlock",{usePreviousLanguageChoice:!0}),n.editing.view.focus()}),g.on("execute",y=>{n.execute("codeBlock",{language:y.source._codeBlockLanguage,forceValue:!0}),n.editing.view.focus()}),g.class="ck-code-block-dropdown",g.bind("isEnabled").to(f),xp(g,()=>this._getLanguageListItemDefinitions(l)),g})}_getLanguageListItemDefinitions(n){const s=this.editor.commands.get("codeBlock"),l=new yi;for(const d of n){const f={type:"button",model:new Sp({_codeBlockLanguage:d.language,label:d.label,withText:!0})};f.model.bind("isOn").to(s,"value",g=>g===f.model._codeBlockLanguage),l.add(f)}return l}}class jce extends he{static get requires(){return[Rce,Fce]}static get pluginName(){return"CodeBlock"}}class K1 extends dc{constructor(n){super(n);const i=this.document;this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"});function s(l){return(d,f)=>{f.preventDefault();const g=f.dropRange?[f.dropRange]:null,w=new qe(i,l);i.fire(w,{dataTransfer:f.dataTransfer,method:d.name,targetRanges:g,target:f.target}),w.stop.called&&f.stopPropagation()}}}onDomEvent(n){const i="clipboardData"in n?n.clipboardData:n.dataTransfer,s=n.type=="drop"||n.type=="paste",l={dataTransfer:new qO(i,{cacheFiles:s})};(n.type=="drop"||n.type=="dragover")&&(l.dropRange=Vce(this.view,n)),this.fire(n.type,n,l)}}function Vce(c,n){const i=n.target.ownerDocument,s=n.clientX,l=n.clientY;let d;return i.caretRangeFromPoint&&i.caretRangeFromPoint(s,l)?d=i.caretRangeFromPoint(s,l):n.rangeParent&&(d=i.createRange(),d.setStart(n.rangeParent,n.rangeOffset),d.collapse(!0)),d?c.domConverter.domRangeToView(d):null}function Uce(c){return c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(c.includes("</p><p>")||c.includes("<br>"))&&(c=`<p>${c}</p>`),c}function $ce(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length==1?" ":i).replace(/<!--[\s\S]*?-->/g,"")}const nB=["figcaption","li"];function rB(c){let n="";if(c.is("$text")||c.is("$textProxy"))n=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))n=c.getAttribute("alt");else if(c.is("element","br"))n=`
`;else{let i=null;for(const s of c.getChildren()){const l=rB(s);i&&(i.is("containerElement")||s.is("containerElement"))&&(nB.includes(i.name)||nB.includes(s.name)?n+=`
`:n+=`

`),n+=l,i=s}}return n}class Ss extends he{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(K1),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const n=this.editor,i=n.model,s=n.editing.view,l=s.document;this.listenTo(l,"clipboardInput",d=>{n.isReadOnly&&d.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(d,f)=>{const g=f.dataTransfer;let w;if(f.content)w=f.content;else{let C="";g.getData("text/html")?C=$ce(g.getData("text/html")):g.getData("text/plain")&&(C=Uce(g.getData("text/plain"))),w=this.editor.data.htmlProcessor.toView(C)}const y=new qe(this,"inputTransformation");this.fire(y,{content:w,dataTransfer:g,targetRanges:f.targetRanges,method:f.method}),y.stop.called&&d.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(d,f)=>{if(f.content.isEmpty)return;const w=this.editor.data.toModel(f.content,"$clipboardHolder");w.childCount!=0&&(d.stop(),i.change(()=>{this.fire("contentInsertion",{content:w,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(d,f)=>{f.resultRange=i.insertContent(f.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,i=n.model.document,l=n.editing.view.document,d=(f,g)=>{const w=g.dataTransfer;g.preventDefault();const y=n.data.toView(n.model.getSelectedContent(i.selection));l.fire("clipboardOutput",{dataTransfer:w,content:y,method:f.name})};this.listenTo(l,"copy",d,{priority:"low"}),this.listenTo(l,"cut",(f,g)=>{n.isReadOnly?g.preventDefault():d(f,g)},{priority:"low"}),this.listenTo(l,"clipboardOutput",(f,g)=>{g.content.isEmpty||(g.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(g.content)),g.dataTransfer.setData("text/plain",rB(g.content))),g.method=="cut"&&n.model.deleteContent(i.selection)},{priority:"low"})}}class Hce extends z(){constructor(){super(),this._stack=[]}add(n,i){const s=this._stack,l=s[0];this._insertDescriptor(n);const d=s[0];l!==d&&!Y1(l,d)&&this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:i})}remove(n,i){const s=this._stack,l=s[0];this._removeDescriptor(n);const d=s[0];l!==d&&!Y1(l,d)&&this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:i})}_insertDescriptor(n){const i=this._stack,s=i.findIndex(d=>d.id===n.id);if(Y1(n,i[s]))return;s>-1&&i.splice(s,1);let l=0;for(;i[l]&&qce(i[l],n);)l++;i.splice(l,0,n)}_removeDescriptor(n){const i=this._stack,s=i.findIndex(l=>l.id===n);s>-1&&i.splice(s,1)}}function Y1(c,n){return c&&n&&c.priority==n.priority&&nk(c.classes)==nk(n.classes)}function qce(c,n){return c.priority>n.priority?!0:c.priority<n.priority?!1:nk(c.classes)>nk(n.classes)}function nk(c){return Array.isArray(c)?c.sort().join(","):c}const Wce='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Gce="ck-widget",iB="ck-widget_selected";function zn(c){return c.is("element")?!!c.getCustomProperty("widget"):!1}function Q1(c,n,i={}){if(!c.is("containerElement"))throw new O("widget-to-widget-wrong-element-type",null,{element:c});return n.setAttribute("contenteditable","false",c),n.addClass(Gce,c),n.setCustomProperty("widget",!0,c),c.getFillerOffset=Jce,n.setCustomProperty("widgetLabel",[],c),i.label&&Qce(c,i.label),i.hasSelectionHandle&&Xce(c,n),oB(c,n),c}function Kce(c,n,i){if(n.classes&&i.addClass(Tr(n.classes),c),n.attributes)for(const s in n.attributes)i.setAttribute(s,n.attributes[s],c)}function Yce(c,n,i){if(n.classes&&i.removeClass(Tr(n.classes),c),n.attributes)for(const s in n.attributes)i.removeAttribute(s,c)}function oB(c,n,i=Kce,s=Yce){const l=new Hce;l.on("change:top",(g,w)=>{w.oldDescriptor&&s(c,w.oldDescriptor,w.writer),w.newDescriptor&&i(c,w.newDescriptor,w.writer)});const d=(g,w,y)=>l.add(w,y),f=(g,w,y)=>l.remove(w,y);n.setCustomProperty("addHighlight",d,c),n.setCustomProperty("removeHighlight",f,c)}function Qce(c,n){c.getCustomProperty("widgetLabel").push(n)}function Zce(c){return c.getCustomProperty("widgetLabel").reduce((i,s)=>typeof s=="function"?i?i+". "+s():s():i?i+". "+s:s,"")}function sB(c,n,i={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),n.setAttribute("role","textbox",c),i.label&&n.setAttribute("aria-label",i.label,c),n.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(s,l,d)=>{n.setAttribute("contenteditable",d?"false":"true",c)}),c.on("change:isFocused",(s,l,d)=>{d?n.addClass("ck-editor__nested-editable_focused",c):n.removeClass("ck-editor__nested-editable_focused",c)}),oB(c,n),c}function aB(c,n){const i=c.getSelectedElement();if(i){const s=gc(c);if(s)return n.createRange(n.createPositionAt(i,s))}return $L(c,n)}function Jce(){return null}function Xce(c,n){const i=n.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(s){const l=this.toDomElement(s),d=new Vl;return d.set("content",Wce),d.render(),l.appendChild(d.element),l});n.insert(n.createPositionAt(c,0),i),n.addClass(["ck-widget_with-selection-handle"],c)}const fa="widget-type-around";function ru(c,n,i){return!!c&&zn(c)&&!i.isInline(n)}function ele(c){return c.closest(".ck-widget__type-around__button")}function tle(c){return c.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function nle(c,n){const i=c.closest(".ck-widget");return n.mapDomToView(i)}function gc(c){return c.getAttribute(fa)}const rle='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var cB=a(5137),Z1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Z1.insert="head",Z1.singleton=!0,nt()(cB.Z,Z1),cB.Z.locals;const lB=["before","after"],ile=new DOMParser().parseFromString(rle,"image/svg+xml").firstChild,uB="ck-widget__type-around_disabled";class ole extends he{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Xw,pc]}constructor(n){super(n),this._currentFakeCaretModelElement=null}init(){const n=this.editor,i=n.editing.view;this.on("change:isEnabled",(s,l,d)=>{i.change(f=>{for(const g of i.document.roots)d?f.removeClass(uB,g):f.addClass(uB,g)}),d||n.model.change(f=>{f.removeSelectionAttribute(fa)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,i){const s=this.editor,l=s.editing.view,d=s.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(n,i),attributes:d}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(n,i,s,l){this.listenTo(n,i,(...d)=>{this.isEnabled&&s(...d)},l)}_insertParagraphAccordingToFakeCaretPosition(){const s=this.editor.model.document.selection,l=gc(s);if(!l)return!1;const d=s.getSelectedElement();return this._insertParagraph(d,l),!0}_enableTypeAroundUIInjection(){const n=this.editor,i=n.model.schema,s=n.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(d,f,g)=>{const w=g.mapper.toViewElement(f.item);w&&ru(w,f.item,i)&&(sle(g.writer,l,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,i=n.model,s=i.document.selection,l=i.schema,d=n.editing.view;this._listenToIfEnabled(d.document,"arrowKey",(g,w)=>{this._handleArrowKeyPress(g,w)},{context:[zn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(g,w)=>{w.directChange&&n.model.change(y=>{y.removeSelectionAttribute(fa)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const g=s.getSelectedElement();if(g){const w=n.editing.mapper.toViewElement(g);if(ru(w,g,l))return}n.model.change(w=>{w.removeSelectionAttribute(fa)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(g,w,y)=>{const C=y.writer;if(this._currentFakeCaretModelElement){const U=y.mapper.toViewElement(this._currentFakeCaretModelElement);U&&(C.removeClass(lB.map(f),U),this._currentFakeCaretModelElement=null)}const x=w.selection.getSelectedElement();if(!x)return;const N=y.mapper.toViewElement(x);if(!ru(N,x,l))return;const F=gc(w.selection);F&&(C.addClass(f(F),N),this._currentFakeCaretModelElement=x)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(g,w,y)=>{y||n.model.change(C=>{C.removeSelectionAttribute(fa)})});function f(g){return`ck-widget_type-around_show-fake-caret_${g}`}}_handleArrowKeyPress(n,i){const s=this.editor,l=s.model,d=l.document.selection,f=l.schema,g=s.editing.view,w=i.keyCode,y=$X(w,s.locale.contentLanguageDirection),C=g.document.selection.getSelectedElement(),x=s.editing.mapper.toModelElement(C);let N;ru(C,x,f)?N=this._handleArrowKeyPressOnSelectedWidget(y):d.isCollapsed?N=this._handleArrowKeyPressWhenSelectionNextToAWidget(y):i.shiftKey||(N=this._handleArrowKeyPressWhenNonCollapsedSelection(y)),N&&(i.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const s=this.editor.model,l=s.document.selection,d=gc(l);return s.change(f=>{if(d){if(!(d===(n?"after":"before")))return f.removeSelectionAttribute(fa),!0}else return f.setSelectionAttribute(fa,n?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const i=this.editor,s=i.model,l=s.schema,d=i.plugins.get("Widget"),f=d._getObjectElementNextToSelection(n),g=i.editing.mapper.toViewElement(f);return ru(g,f,l)?(s.change(w=>{d._setSelectionOverElement(f),w.setSelectionAttribute(fa,n?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(n){const i=this.editor,s=i.model,l=s.schema,d=i.editing.mapper,f=s.document.selection,g=n?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter,w=d.toViewElement(g);return ru(w,g,l)?(s.change(y=>{y.setSelection(g,"on"),y.setSelectionAttribute(fa,n?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,i=n.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,l)=>{const d=ele(l.domTarget);if(!d)return;const f=tle(d),g=nle(d,i.domConverter),w=n.editing.mapper.toModelElement(g);this._insertParagraph(w,f),l.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,i=n.model.document.selection,s=n.editing.view;this._listenToIfEnabled(s.document,"enter",(l,d)=>{if(l.eventPhase!="atTarget")return;const f=i.getSelectedElement(),g=n.editing.mapper.toViewElement(f),w=n.model.schema;let y;this._insertParagraphAccordingToFakeCaretPosition()?y=!0:ru(g,f,w)&&(this._insertParagraph(f,d.isSoft?"before":"after"),y=!0),y&&(d.preventDefault(),l.stop())},{context:zn})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",(s,l)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(l.selection=i.selection)},{priority:"high"}),A.isAndroid?this._listenToIfEnabled(i,"keydown",(s,l)=>{l.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(i,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,i=n.editing.view,s=n.model,l=s.schema;this._listenToIfEnabled(i.document,"delete",(d,f)=>{if(d.eventPhase!="atTarget")return;const g=gc(s.document.selection);if(!g)return;const w=f.direction,y=s.document.selection.getSelectedElement(),C=g==="before",x=w=="forward";if(C===x)n.execute("delete",{selection:s.createSelection(y,"on")});else{const F=l.getNearestSelectionRange(s.createPositionAt(y,g),w);if(F)if(!F.isCollapsed)s.change(U=>{U.setSelection(F),n.execute(x?"deleteForward":"delete")});else{const U=s.createSelection(F.start);if(s.modifySelection(U,{direction:w}),!U.focus.isEqual(F.start))s.change(G=>{G.setSelection(F),n.execute(x?"deleteForward":"delete")});else{const G=lle(l,F.start.parent);s.deleteContent(s.createSelection(G,"on"),{doNotAutoparagraph:!0})}}}f.preventDefault(),d.stop()},{context:zn})}_enableInsertContentIntegration(){const n=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(n.model,"insertContent",(l,[d,f])=>{if(f&&!f.is("documentSelection"))return;const g=gc(s);if(g)return l.stop(),i.change(w=>{const y=s.getSelectedElement(),C=i.createPositionAt(y,g),x=w.createSelection(C),N=i.insertContent(d,x);return w.setSelection(x),N})},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(l,d)=>{const[,f,,g={}]=d;if(f&&!f.is("documentSelection"))return;const w=gc(s);w&&(g.findOptimalPosition=w,d[3]=g)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(l,[d])=>{if(d&&!d.is("documentSelection"))return;gc(s)&&l.stop()},{priority:"high"})}}function sle(c,n,i){const s=c.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(l){const d=this.toDomElement(l);return ale(d,n),cle(d),d});c.insert(c.createPositionAt(i,"end"),s)}function ale(c,n){for(const i of lB){const s=new Vi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${i}`],title:n[i],"aria-hidden":"true"},children:[c.ownerDocument.importNode(ile,!0)]});c.appendChild(s.render())}}function cle(c){const n=new Vi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});c.appendChild(n.render())}function lle(c,n){let i=n;for(const s of n.getAncestors({parentFirst:!0})){if(s.childCount>1||c.isLimit(s))break;i=s}return i}function ule(c){const n=c.model;return(i,s)=>{const l=s.keyCode==St.arrowup,d=s.keyCode==St.arrowdown,f=s.shiftKey,g=n.document.selection;if(!l&&!d)return;const w=d;if(f&&fle(g,w))return;const y=dle(c,g,w);if(y){if(y.isCollapsed){if(g.isCollapsed)return;if(f)return}(y.isCollapsed||hle(c,y,w))&&(n.change(C=>{const x=w?y.end:y.start;if(f){const N=n.createSelection(g.anchor);N.setFocus(x),C.setSelection(N)}else C.setSelection(x)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}function dle(c,n,i){const s=c.model;if(i){const l=n.isCollapsed?n.focus:n.getLastPosition(),d=dB(s,l,"forward");if(!d)return null;const f=s.createRange(l,d),g=hB(s.schema,f,"backward");return g?s.createRange(l,g):null}else{const l=n.isCollapsed?n.focus:n.getFirstPosition(),d=dB(s,l,"backward");if(!d)return null;const f=s.createRange(d,l),g=hB(s.schema,f,"forward");return g?s.createRange(g,l):null}}function dB(c,n,i){const s=c.schema,l=c.createRangeIn(n.root),d=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:g,type:w}of l.getWalker({startPosition:n,direction:i})){if(s.isLimit(g)&&!s.isInline(g))return f;if(w==d&&s.isBlock(g))return null}return null}function hB(c,n,i){const s=i=="backward"?n.end:n.start;if(c.checkChild(s,"$text"))return s;for(const{nextPosition:l}of n.getWalker({direction:i}))if(c.checkChild(l,"$text"))return l;return null}function hle(c,n,i){const s=c.model,l=c.view.domConverter;if(i){const y=s.createSelection(n.start);s.modifySelection(y),!y.focus.isAtEnd&&!n.start.isEqual(y.focus)&&(n=s.createRange(y.focus,n.end))}const d=c.mapper.toViewRange(n),f=l.viewRangeToDom(d),g=an.getDomRangeRects(f);let w;for(const y of g){if(w===void 0){w=Math.round(y.bottom);continue}if(Math.round(y.top)>=w)return!1;w=Math.max(w,Math.round(y.bottom))}return!0}function fle(c,n){return!c.isCollapsed&&c.isBackward==n}var fB=a(6507),J1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};J1.insert="head",J1.singleton=!0,nt()(fB.Z,J1),fB.Z.locals;class Dp extends he{static get pluginName(){return"Widget"}static get requires(){return[ole,pc]}init(){const n=this.editor,i=n.editing.view,s=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(l,d,f)=>{const g=f.writer,w=d.selection;if(w.isCollapsed)return;const y=w.getSelectedElement();if(!y)return;const C=n.editing.mapper.toViewElement(y);zn(C)&&f.consumable.consume(w,"selection")&&g.setSelection(g.createRangeOn(C),{fake:!0,label:Zce(C)})}),this.editor.editing.downcastDispatcher.on("selection",(l,d,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const g=f.writer,w=g.document.selection;let y=null;for(const C of w.getRanges())for(const x of C){const N=x.item;zn(N)&&!mle(N,y)&&(g.addClass(iB,N),this._previouslySelected.add(N),y=N)}},{priority:"low"}),i.addObserver(Hw),this.listenTo(s,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(s,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[zn,"$text"]}),this.listenTo(s,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(s,"arrowKey",ule(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(l,d)=>{this._handleDelete(d.direction=="forward")&&(d.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(n,i){const s=this.editor,l=s.editing.view,d=l.document;let f=i.target;if(ple(f)){if((A.isSafari||A.isGecko)&&i.domEvent.detail>=3){const w=s.editing.mapper,y=f.is("attributeElement")?f.findAncestor(x=>!x.is("attributeElement")):f,C=w.toModelElement(y);i.preventDefault(),this.editor.model.change(x=>{x.setSelection(C,"in")})}return}if(!zn(f)&&(f=f.findAncestor(zn),!f))return;A.isAndroid&&i.preventDefault(),d.isFocused||l.focus();const g=s.editing.mapper.toModelElement(f);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(n,i){const s=i.keyCode,l=this.editor.model,d=l.schema,f=l.document.selection,g=f.getSelectedElement(),w=fC(s,this.editor.locale.contentLanguageDirection),y=w=="down"||w=="right",C=w=="up"||w=="down";if(g&&d.isObject(g)){const N=y?f.getLastPosition():f.getFirstPosition(),F=d.getNearestSelectionRange(N,y?"forward":"backward");F&&(l.change(U=>{U.setSelection(F)}),i.preventDefault(),n.stop());return}if(!f.isCollapsed&&!i.shiftKey){const N=f.getFirstPosition(),F=f.getLastPosition(),U=N.nodeAfter,G=F.nodeBefore;(U&&d.isObject(U)||G&&d.isObject(G))&&(l.change(ae=>{ae.setSelection(y?F:N)}),i.preventDefault(),n.stop());return}if(!f.isCollapsed)return;const x=this._getObjectElementNextToSelection(y);if(x&&d.isObject(x)){if(d.isInline(x)&&C)return;this._setSelectionOverElement(x),i.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,i){const s=this.editor.model,l=s.schema,d=s.document.selection.getSelectedElement();d&&l.isObject(d)&&(i.preventDefault(),n.stop())}_handleDelete(n){if(this.editor.isReadOnly)return;const s=this.editor.model.document.selection;if(!s.isCollapsed)return;const l=this._getObjectElementNextToSelection(n);if(l)return this.editor.model.change(d=>{let f=s.anchor.parent;for(;f.isEmpty;){const g=f;f=g.parent,d.remove(g)}this._setSelectionOverElement(l)}),!0}_setSelectionOverElement(n){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(n))})}_getObjectElementNextToSelection(n){const i=this.editor.model,s=i.schema,l=i.document.selection,d=i.createSelection(l);if(i.modifySelection(d,{direction:n?"forward":"backward"}),d.isEqual(l))return null;const f=n?d.focus.nodeBefore:d.focus.nodeAfter;return f&&s.isObject(f)?f:null}_clearPreviouslySelectedWidgets(n){for(const i of this._previouslySelected)n.removeClass(iB,i);this._previouslySelected.clear()}}function ple(c){let n=c;for(;n;){if(n.is("editableElement")&&!n.is("rootElement"))return!0;if(zn(n))return!1;n=n.parent}return!1}function mle(c,n){return n?Array.from(c.getAncestors()).includes(n):!1}class rk extends he{static get requires(){return[Gw]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const i=n.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{gle(n.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:i,items:s,getRelatedElement:l,balloonClassName:d="ck-toolbar-container"}){if(!s.length){Be("widget-toolbar-no-items",{toolbarId:n});return}const f=this.editor,g=f.t,w=new c1(f.locale);if(w.ariaLabel=i||g("Widget toolbar"),this._toolbarDefinitions.has(n))throw new O("widget-toolbar-duplicated",this,{toolbarId:n});const y={view:w,getRelatedElement:l,balloonClassName:d,itemsConfig:s,initialized:!1};f.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const C=l(f.editing.view.document.selection);C&&this._showToolbar(y,C)},afterBlur:()=>{this._hideToolbar(y)}}),this._toolbarDefinitions.set(n,y)}_updateToolbarsVisibility(){let n=0,i=null,s=null;for(const l of this._toolbarDefinitions.values()){const d=l.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!d)this._isToolbarInBalloon(l)&&this._hideToolbar(l);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(l)&&this._hideToolbar(l);else{const f=d.getAncestors().length;f>n&&(n=f,i=d,s=l)}}s&&this._showToolbar(s,i)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,i){this._isToolbarVisible(n)?pB(this.editor,i):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:mB(this.editor,i),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const l=s.getRelatedElement(this.editor.editing.view.document.selection);pB(this.editor,l)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function pB(c,n){const i=c.plugins.get("ContextualBalloon"),s=mB(c,n);i.updatePosition(s)}function mB(c,n){const i=c.editing.view,s=_i.defaultPositions;return{target:i.domConverter.mapViewToDom(n),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}function gle(c){const n=c.getSelectedElement();return!!(n&&zn(n))}class ble extends Me(){constructor(n){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=n,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(n,i,s){const l=new an(i);this.activeHandlePosition=yle(n),this._referenceCoordinates=kle(i,_le(this.activeHandlePosition)),this._originalWidth=l.width,this._originalHeight=l.height,this._aspectRatio=l.width/l.height;const d=s.style.width;d&&d.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(d):this._originalWidthPercents=wle(s,l)}update(n){this.proposedWidth=n.width,this.proposedHeight=n.height,this.proposedWidthPercents=n.widthPercents,this.proposedHandleHostWidth=n.handleHostWidth,this.proposedHandleHostHeight=n.handleHostHeight}}function wle(c,n){const i=c.parentElement,s=parseFloat(i.ownerDocument.defaultView.getComputedStyle(i).width);return n.width/s*100}function kle(c,n){const i=new an(c),s=n.split("-"),l={x:s[1]=="right"?i.right:i.left,y:s[0]=="bottom"?i.bottom:i.top};return l.x+=c.ownerDocument.defaultView.scrollX,l.y+=c.ownerDocument.defaultView.scrollY,l}function vle(c){return`ck-widget__resizer__handle-${c}`}function yle(c){const n=["top-left","top-right","bottom-right","bottom-left"];for(const i of n)if(c.classList.contains(vle(i)))return i}function _le(c){const n=c.split("-"),i={top:"bottom",bottom:"top",left:"right",right:"left"};return`${i[n[0]]}-${i[n[1]]}`}class Ale extends yt{constructor(){super();const n=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",n.to("_viewPosition",i=>i?`ck-orientation-${i}`:"")],style:{display:n.if("_isVisible","none",i=>!i)}},children:[{text:n.to("_label")}]})}_bindToState(n,i){this.bind("_isVisible").to(i,"proposedWidth",i,"proposedHeight",(s,l)=>s!==null&&l!==null),this.bind("_label").to(i,"proposedHandleHostWidth",i,"proposedHandleHostHeight",i,"proposedWidthPercents",(s,l,d)=>n.unit==="px"?`${s}${l}`:`${d}%`),this.bind("_viewPosition").to(i,"activeHandlePosition",i,"proposedHandleHostWidth",i,"proposedHandleHostHeight",(s,l,d)=>l<50||d<50?"above-center":s)}_dismiss(){this.unbind(),this._isVisible=!1}}class gB extends Me(){constructor(n){super(),this._options=n,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(i,s)=>i&&s),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",i=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),i.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(i=>{i.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(i=>{i.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const n=this,i=this._options.viewElement;this._options.editor.editing.view.change(l=>{const d=l.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(f){const g=this.toDomElement(f);return n._appendHandles(g),n._appendSizeUI(g),g});l.insert(l.createPositionAt(i,"end"),d),l.addClass("ck-widget_with-resizer",i),this._viewResizerWrapper=d,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(n){this._state=new ble(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(n,this._getHandleHost(),this._getResizeHost())}updateSize(n){const i=this._proposeNewSize(n);this._options.editor.editing.view.change(y=>{const C=this._options.unit||"%",x=(C==="%"?i.widthPercents:i.width)+C;y.setStyle("width",x,this._options.viewElement)});const l=this._getHandleHost(),d=new an(l),f=Math.round(d.width),g=Math.round(d.height),w=new an(l);i.width=Math.round(w.width),i.height=Math.round(w.height),this.redraw(d),this.state.update({...i,handleHostWidth:f,handleHostHeight:g})}commit(){const n=this._options.unit||"%",i=(n==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+n;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(i)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(n){const i=this._domResizerWrapper;if(!xle(i))return;const s=i.parentElement,l=this._getHandleHost(),d=this._viewResizerWrapper,f=[d.getStyle("width"),d.getStyle("height"),d.getStyle("left"),d.getStyle("top")];let g;if(s.isSameNode(l)){const w=n||new an(l);g=[w.width+"px",w.height+"px",void 0,void 0]}else g=[l.offsetWidth+"px",l.offsetHeight+"px",l.offsetLeft+"px",l.offsetTop+"px"];xn(f,g)!=="same"&&this._options.editor.editing.view.change(w=>{w.setStyle({width:g[0],height:g[1],left:g[2],top:g[3]},d)})}containsHandle(n){return this._domResizerWrapper.contains(n)}static isResizeHandle(n){return n.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(i=>{i.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(n){const i=this.state,s=Ele(n),l=this._options.isCentered?this._options.isCentered(this):!0,d={x:i._referenceCoordinates.x-(s.x+i.originalWidth),y:s.y-i.originalHeight-i._referenceCoordinates.y};l&&i.activeHandlePosition.endsWith("-right")&&(d.x=s.x-(i._referenceCoordinates.x+i.originalWidth)),l&&(d.x*=2);let f=Math.abs(i.originalWidth+d.x),g=Math.abs(i.originalHeight+d.y);return(f/i.aspectRatio>g?"width":"height")=="width"?g=f/i.aspectRatio:f=g*i.aspectRatio,{width:Math.round(f),height:Math.round(g),widthPercents:Math.min(Math.round(i.originalWidthPercents/i.originalWidth*f*100)/100,100)}}_getResizeHost(){const n=this._domResizerWrapper.parentElement;return this._options.getResizeHost(n)}_getHandleHost(){const n=this._domResizerWrapper.parentElement;return this._options.getHandleHost(n)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(n){const i=["top-left","top-right","bottom-right","bottom-left"];for(const s of i)n.appendChild(new Vi({tag:"div",attributes:{class:`ck-widget__resizer__handle ${Cle(s)}`}}).render())}_appendSizeUI(n){this._sizeView=new Ale,this._sizeView.render(),n.appendChild(this._sizeView.element)}}function Cle(c){return`ck-widget__resizer__handle-${c}`}function Ele(c){return{x:c.pageX,y:c.pageY}}function xle(c){return c&&c.ownerDocument&&c.ownerDocument.contains(c)}var Sle="Expected a function";function Tle(c,n,i){var s=!0,l=!0;if(typeof c!="function")throw new TypeError(Sle);return ve(i)&&(s="leading"in i?!!i.leading:s,l="trailing"in i?!!i.trailing:l),gp(c,n,{leading:s,maxWait:n,trailing:l})}const bB=Tle;var wB=a(2263),X1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};X1.insert="head",X1.singleton=!0,nt()(wB.Z,X1),wB.Z.locals;class eE extends he{static get pluginName(){return"WidgetResize"}init(){const n=this.editor.editing,i=vt.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),this._resizers=new Map,n.view.addObserver(Hw),this._observer=new(uc()),this.listenTo(n.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(i,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(i,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=bB(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[l,d]of this._resizers)l.isAttached()||(this._resizers.delete(l),d.destroy())},{priority:"lowest"}),this._observer.listenTo(vt.window,"resize",this._redrawSelectedResizerThrottled);const s=this.editor.editing.view.document.selection;s.on("change",()=>{const l=s.getSelectedElement(),d=this.getResizerByViewElement(l)||null;d?this.select(d):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const n of this._resizers.values())n.destroy();this._redrawSelectedResizerThrottled.cancel()}select(n){this.deselect(),this.selectedResizer=n,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(n){const i=new gB(n),s=this.editor.plugins;if(i.attach(),s.has("WidgetToolbarRepository")){const f=s.get("WidgetToolbarRepository");i.on("begin",()=>{f.forceDisabled("resize")},{priority:"lowest"}),i.on("cancel",()=>{f.clearForceDisabled("resize")},{priority:"highest"}),i.on("commit",()=>{f.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(n.viewElement,i);const d=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(d)==i&&this.select(i),i}getResizerByViewElement(n){return this._resizers.get(n)}_getResizerByHandle(n){for(const i of this._resizers.values())if(i.containsHandle(n))return i}_mouseDownListener(n,i){const s=i.domTarget;gB.isResizeHandle(s)&&(this._activeResizer=this._getResizerByHandle(s)||null,this._activeResizer&&(this._activeResizer.begin(s),n.stop(),i.preventDefault()))}_mouseMoveListener(n,i){this._activeResizer&&this._activeResizer.updateSize(i)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}var kB=a(390),tE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tE.insert="head",tE.singleton=!0,nt()(kB.Z,tE),kB.Z.locals;class Ile extends he{static get pluginName(){return"DragDrop"}static get requires(){return[Ss,Dp]}init(){const n=this.editor,i=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=bB(s=>this._updateDropMarker(s),40),this._removeDropMarkerDelayed=_B(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=_B(()=>this._clearDraggableAttributes(),40),i.addObserver(K1),i.addObserver(Hw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(s,l,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,l,d)=>{d||this._finalizeDragging(!1)}),A.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,i=n.model,s=i.document,l=n.editing.view,d=l.document;this.listenTo(d,"dragstart",(f,g)=>{const w=s.selection;if(g.target&&g.target.is("editableElement")){g.preventDefault();return}const y=g.target?AB(g.target):null;if(y){const N=n.editing.mapper.toModelElement(y);this._draggedRange=Xo.fromRange(i.createRangeOn(N)),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!d.selection.isCollapsed){const N=d.selection.getSelectedElement();(!N||!zn(N))&&(this._draggedRange=Xo.fromRange(w.getFirstRange()))}if(!this._draggedRange){g.preventDefault();return}this._draggingUid=le(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const C=i.createSelection(this._draggedRange.toRange()),x=n.data.toView(i.getSelectedContent(C));d.fire("clipboardOutput",{dataTransfer:g.dataTransfer,content:x,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(d,"dragend",(f,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(d,"dragenter",()=>{this.isEnabled&&l.focus()}),this.listenTo(d,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(d,"dragging",(f,g)=>{if(!this.isEnabled){g.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const w=vB(n,g.targetRanges,g.target);this._draggedRange||(g.dataTransfer.dropEffect="copy"),A.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),w&&this._updateDropMarkerThrottled(w)},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"clipboardInput",(l,d)=>{if(d.method!="drop")return;const f=vB(n,d.targetRanges,d.target);if(this._removeDropMarker(),!f){this._finalizeDragging(!1),l.stop();return}if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),yB(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(f,!0)){this._finalizeDragging(!1),l.stop();return}d.targetRanges=[n.editing.mapper.toViewRange(f)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(Ss);n.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=s.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(l))},{priority:"high"}),n.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=yB(s.dataTransfer)=="move",d=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(d&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,i=n.editing.view,s=i.document;this.listenTo(s,"mousedown",(l,d)=>{if(A.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let f=AB(d.target);if(A.isBlink&&!n.isReadOnly&&!f&&!s.selection.isCollapsed){const g=s.selection.getSelectedElement();(!g||!zn(g))&&(f=s.selection.editableElement)}f&&(i.change(g=>{g.setAttribute("draggable","true",f)}),this._draggableElement=n.editing.mapper.toModelElement(f))}),this.listenTo(s,"mouseup",()=>{A.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const n=this.editor;n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(n.model.schema.checkChild(i.markerRange.start,"$text"))return s.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const f=this.toDomElement(d);return f.append("",d.createElement("span"),""),f})}})}_updateDropMarker(n){const i=this.editor,s=i.model.markers;i.model.change(l=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(n)||l.updateMarker("drop-target",{range:n}):l.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const n=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),n.markers.has("drop-target")&&n.change(i=>{i.removeMarker("drop-target")})}_finalizeDragging(n){const i=this.editor,s=i.model;this._removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(n&&this.isEnabled&&s.deleteContent(s.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function vB(c,n,i){const s=c.model,l=c.editing.mapper;let d=null;const f=n?n[0].start:null;if(i.is("uiElement")&&(i=i.parent),d=Dle(c,i),d)return d;const g=Rle(c,i),w=f?l.toModelPosition(f):null;return w?(d=Mle(c,w,g),d||(d=s.schema.getNearestSelectionRange(w,A.isGecko?"forward":"backward"),d)?d:Nle(c,w.parent)):Ple(c,g)}function Dle(c,n){const i=c.model,s=c.editing.mapper;if(zn(n))return i.createRangeOn(s.toModelElement(n));if(!n.is("editableElement")){const l=n.findAncestor(d=>zn(d)||d.is("editableElement"));if(zn(l))return i.createRangeOn(s.toModelElement(l))}return null}function Ple(c,n){const i=c.model,s=i.schema,l=i.createPositionAt(n,0);return s.getNearestSelectionRange(l,"forward")}function Mle(c,n,i){const s=c.model;if(!s.schema.checkChild(i,"$block"))return null;const l=s.createPositionAt(i,0),d=n.path.slice(0,l.path.length),g=s.createPositionFromPath(n.root,d).nodeAfter;return g&&s.schema.isObject(g)?s.createRangeOn(g):null}function Nle(c,n){const i=c.model;let s=n;for(;s;){if(i.schema.isObject(s))return i.createRangeOn(s);s=s.parent}return null}function Rle(c,n){const i=c.editing.mapper,s=c.editing.view,l=i.toModelElement(n);if(l)return l;const d=s.createPositionBefore(n),f=i.findMappedViewAncestor(d);return i.toModelElement(f)}function yB(c){return A.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function _B(c,n){let i;function s(...l){s.cancel(),i=setTimeout(()=>c(...l),n)}return s.cancel=()=>{clearTimeout(i)},s}function AB(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(zn);if(zn(c))return c;const n=c.findAncestor(i=>zn(i)||i.is("editableElement"));return zn(n)?n:null}class Ole extends he{static get pluginName(){return"PastePlainText"}static get requires(){return[Ss]}init(){const n=this.editor,i=n.model,s=n.editing.view,l=s.document,d=i.document.selection;let f=!1;s.addObserver(K1),this.listenTo(l,"keydown",(g,w)=>{f=w.shiftKey}),n.plugins.get(Ss).on("contentInsertion",(g,w)=>{!f&&!Lle(w.content,i.schema)||i.change(y=>{const C=Array.from(d.getAttributes()).filter(([N])=>i.schema.getAttributeProperties(N).isFormatting);d.isCollapsed||i.deleteContent(d,{doNotAutoparagraph:!0}),C.push(...d.getAttributes());const x=y.createRangeIn(w.content);for(const N of x.getItems())N.is("$textProxy")&&y.setAttributes(C,N)})})}}function Lle(c,n){if(c.childCount>1)return!1;const i=c.getChild(0);return n.isObject(i)?!1:Array.from(i.getAttributeKeys()).length==0}class CB extends he{static get pluginName(){return"Clipboard"}static get requires(){return[Ss,Ile,Ole]}}class Ble extends ft{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,i=n.document.selection;let s=n.schema.getLimitElement(i);if(i.containsEntireContent(s)||!EB(n.schema,s))do if(s=s.parent,!s)return;while(!EB(n.schema,s));n.change(l=>{l.setSelection(s,"in")})}}function EB(c,n){return c.isLimit(n)&&(c.checkChild(n,"$text")||c.checkChild(n,"paragraph"))}const zle=hC("Ctrl+A");class Fle extends he{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,s=n.editing.view.document;n.commands.add("selectAll",new Ble(n)),this.listenTo(s,"keydown",(l,d)=>{Rd(d)===zle&&(n.execute("selectAll"),d.preventDefault())})}}const jle='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class Vle extends he{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",i=>{const s=n.commands.get("selectAll"),l=new Ht(i),d=i.t;return l.set({label:d("Select all"),icon:jle,keystroke:"Ctrl+A",tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",()=>{n.execute("selectAll"),n.editing.view.focus()}),l})}}class Ule extends he{static get requires(){return[Fle,Vle]}static get pluginName(){return"SelectAll"}}class xB extends ft{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(n.data,"set",(i,s)=>{s[1]={...s[1]};const l=s[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(n){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:n,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,i,s){const l=this.editor.model,d=l.document,f=[],g=n.map(y=>y.getTransformedByOperations(s)),w=g.flat();for(const y of g){const C=y.filter(x=>x.root!=d.graveyard).filter(x=>!Hle(x,w));C.length&&($le(C),f.push(C[0]))}f.length&&l.change(y=>{y.setSelection(f,{backward:i})})}_undo(n,i){const s=this.editor.model,l=s.document;this._createdBatches.add(i);const d=n.operations.slice().filter(f=>f.isDocumentOperation);d.reverse();for(const f of d){const g=f.baseVersion+1,w=Array.from(l.history.getOperations(g)),C=Noe([f.getReversed()],w,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const x of C)i.addOperation(x),s.applyOperation(x),l.history.setOperationAsUndone(f,x)}}}function $le(c){c.sort((n,i)=>n.start.isBefore(i.start)?-1:1);for(let n=1;n<c.length;n++){const s=c[n-1].getJoined(c[n],!0);s&&(n--,c.splice(n,2,s))}}function Hle(c,n){return n.some(i=>i!==c&&i.containsRange(c,!0))}class qle extends xB{execute(n=null){const i=n?this._stack.findIndex(d=>d.batch==n):this._stack.length-1,s=this._stack.splice(i,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(s.batch,l);const d=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,d),this.fire("revert",s.batch,l)}),this.refresh()}}class Wle extends xB{execute(){const n=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const l=n.batch.operations[n.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(l);this._restoreSelection(n.selection.ranges,n.selection.isBackward,d),this._undo(n.batch,i)}),this.refresh()}}class Gle extends he{static get pluginName(){return"UndoEditing"}constructor(n){super(n),this._batchRegistry=new WeakSet}init(){const n=this.editor;this._undoCommand=new qle(n),this._redoCommand=new Wle(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(i,s)=>{const l=s[0];if(!l.isDocumentOperation)return;const d=l.batch,f=this._redoCommand._createdBatches.has(d),g=this._undoCommand._createdBatches.has(d);this._batchRegistry.has(d)||(this._batchRegistry.add(d),d.isUndoable&&(f?this._undoCommand.addBatch(d):g||(this._undoCommand.addBatch(d),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,s,l)=>{this._redoCommand.addBatch(l)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo")}}const SB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',TB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Kle extends he{static get pluginName(){return"UndoUI"}init(){const n=this.editor,i=n.locale,s=n.t,l=i.uiLanguageDirection=="ltr"?SB:TB,d=i.uiLanguageDirection=="ltr"?TB:SB;this._addButton("undo",s("Undo"),"CTRL+Z",l),this._addButton("redo",s("Redo"),"CTRL+Y",d)}_addButton(n,i,s,l){const d=this.editor;d.ui.componentFactory.add(n,f=>{const g=d.commands.get(n),w=new Ht(f);return w.set({label:i,icon:l,keystroke:s,tooltip:!0}),w.bind("isEnabled").to(g,"isEnabled"),this.listenTo(w,"execute",()=>{d.execute(n),d.editing.view.focus()}),w})}}class IB extends he{static get requires(){return[Gle,Kle]}static get pluginName(){return"Undo"}}class Yle extends he{static get requires(){return[CB,Xw,Ule,L5,wae,IB]}static get pluginName(){return"Essentials"}}class DB extends ft{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=i.selection.getAttribute(this.attributeKey),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,l=i.document.selection,d=n.value;i.change(f=>{if(l.isCollapsed)d?f.setSelectionAttribute(this.attributeKey,d):f.removeSelectionAttribute(this.attributeKey);else{const g=i.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const w of g)d?f.setAttribute(this.attributeKey,d,w):f.removeAttribute(this.attributeKey,w)}})}}class PB extends yi{constructor(n){super(n),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(n,i){this.find(s=>s.color===n.color)||super.add(n,i)}hasColor(n){return!!this.find(i=>i.color===n)}}ie(PB,Me);var MB=a(2585),nE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nE.insert="head",nE.singleton=!0,nt()(MB.Z,nE),MB.Z.locals;class Qle extends yt{constructor(n,{colors:i,columns:s,removeButtonLabel:l,documentColorsLabel:d,documentColorsCount:f}){super(n),this.items=this.createCollection(),this.colorDefinitions=i,this.focusTracker=new ji,this.keystrokes=new _o,this.set("selectedColor"),this.removeButtonLabel=l,this.columns=s,this.documentColors=new PB,this.documentColorsCount=f,this._focusables=new ua,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._documentColorsLabel=d,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._createRemoveColorButton())}updateDocumentColors(n,i){const s=n.document,l=this.documentColorsCount;this.documentColors.clear();for(const d of s.getRootNames()){const f=s.getRoot(d),g=n.createRangeIn(f);for(const w of g.getItems())if(w.is("$textProxy")&&w.hasAttribute(i)&&(this._addColorToDocumentColors(w.getAttribute(i)),this.documentColors.length>=l))return}}updateSelectedColors(){const n=this.documentColorsGrid,i=this.staticColorsGrid,s=this.selectedColor;i.selectedColor=s,n&&(n.selectedColor=s)}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid),this.documentColorsCount)){const n=Vi.bind(this.documentColors,this.documentColors),i=new v1(this.locale);i.text=this._documentColorsLabel,i.extendTemplate({attributes:{class:["ck","ck-color-grid__label",n.if("isEmpty","ck-hidden")]}}),this.items.add(i),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid),this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_createRemoveColorButton(){const n=new Ht;return n.set({withText:!0,icon:hn.eraser,label:this.removeButtonLabel}),n.class="ck-color-table__remove-color",n.on("execute",()=>{this.fire("execute",{value:null})}),n.render(),this.focusTracker.add(n.element),this._focusables.add(n),n}_createStaticColorsGrid(){const n=new FR(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return n.delegate("execute").to(this),n}_createDocumentColorsGrid(){const n=Vi.bind(this.documentColors,this.documentColors),i=new FR(this.locale,{columns:this.columns});return i.delegate("execute").to(this),i.extendTemplate({attributes:{class:n.if("isEmpty","ck-hidden")}}),i.items.bindTo(this.documentColors).using(s=>{const l=new BR;return l.set({color:s.color,hasBorder:s.options&&s.options.hasBorder}),s.label&&l.set({label:s.label,tooltip:!0}),l.on("execute",()=>{this.fire("execute",{value:s.color})}),l}),this.documentColors.on("change:isEmpty",(s,l,d)=>{d&&(i.selectedColor=null)}),i}_addColorToDocumentColors(n){const i=this.colorDefinitions.find(s=>s.color===n);i?this.documentColors.add(Object.assign({},i)):this.documentColors.add({color:n,label:n,options:{hasBorder:!1}})}}const oo="fontSize",Ts="fontColor";function Zle(c,n){const i={model:{key:c,values:[]},view:{},upcastAlso:{}};for(const s of n)i.model.values.push(s.model),i.view[s.model]=s.view,s.upcastAlso&&(i.upcastAlso[s.model]=s.upcastAlso);return i}function Jle(c){return n=>tue(n.getStyle(c))}function Xle(c){return(n,{writer:i})=>i.createAttributeElement("span",{style:`${c}:${n}`},{priority:7})}function eue({dropdownView:c,colors:n,columns:i,removeButtonLabel:s,documentColorsLabel:l,documentColorsCount:d}){const f=c.locale,g=new Qle(f,{colors:n,columns:i,removeButtonLabel:s,documentColorsLabel:l,documentColorsCount:d});return c.colorTableView=g,c.panelView.children.add(g),g.delegate("execute").to(c,"execute"),g}function tue(c){return c.replace(/\s/g,"")}class nue extends DB{constructor(n){super(n,Ts)}}class rue extends he{static get pluginName(){return"FontColorEditing"}constructor(n){super(n),n.config.define(Ts,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),n.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Ts,value:Jle("color")}}),n.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Ts,value:i=>i.getAttribute("color")}}),n.conversion.for("downcast").attributeToElement({model:Ts,view:Xle("color")}),n.commands.add(Ts,new nue(n)),n.model.schema.extend("$text",{allowAttributes:Ts}),n.model.schema.setAttributeProperties(Ts,{isFormatting:!0,copyOnEnter:!0})}}class iue extends he{constructor(n,{commandName:i,icon:s,componentName:l,dropdownLabel:d}){super(n),this.commandName=i,this.componentName=l,this.icon=s,this.dropdownLabel=d,this.columns=n.config.get(`${this.componentName}.columns`),this.colorTableView=void 0}init(){const n=this.editor,i=n.locale,s=i.t,l=n.commands.get(this.commandName),d=yee(n.config.get(this.componentName).colors),f=vee(i,d),g=n.config.get(`${this.componentName}.documentColors`);n.ui.componentFactory.add(this.componentName,w=>{const y=Eo(w);return this.colorTableView=eue({dropdownView:y,colors:f.map(C=>({label:C.label,color:C.model,options:{hasBorder:C.hasBorder}})),columns:this.columns,removeButtonLabel:s("Remove color"),documentColorsLabel:g!==0?s("Document colors"):void 0,documentColorsCount:g===void 0?this.columns:g}),this.colorTableView.bind("selectedColor").to(l,"value"),y.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),y.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),y.bind("isEnabled").to(l),y.on("execute",(C,x)=>{n.execute(this.commandName,x),n.editing.view.focus()}),y.on("change:isOpen",(C,x,N)=>{y.colorTableView.appendGrids(),N&&(g!==0&&this.colorTableView.updateDocumentColors(n.model,this.componentName),this.colorTableView.updateSelectedColors())}),f1(y,()=>y.colorTableView.staticColorsGrid.items.find(C=>C.isOn)),y})}}const oue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class sue extends iue{constructor(n){const i=n.locale.t;super(n,{commandName:Ts,componentName:Ts,icon:oue,dropdownLabel:i("Font Color")})}static get pluginName(){return"FontColorUI"}}class aue extends he{static get requires(){return[rue,sue]}static get pluginName(){return"FontColor"}}class cue extends DB{constructor(n){super(n,oo)}}function rE(c){return c.map(n=>lue(n)).filter(n=>!!n)}const NB={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function lue(c){if(hue(c))return iE(c);const n=due(c);if(n)return iE(n);if(c==="default")return{model:void 0,title:"Default"};if(!fue(c))return uue(c)}function uue(c){return(typeof c=="number"||typeof c=="string")&&(c={title:String(c),model:`${parseFloat(c)}px`}),c.view={name:"span",styles:{"font-size":c.model}},iE(c)}function iE(c){return c.view.priority||(c.view.priority=7),c}function due(c){return NB[c]||NB[c.model]}function hue(c){return typeof c=="object"&&c.title&&c.model&&c.view}function fue(c){let n;if(typeof c=="object")if(c.model)n=parseFloat(c.model);else throw new O("font-size-invalid-definition",null,c);else n=parseFloat(c);return isNaN(n)}const RB=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class pue extends he{static get pluginName(){return"FontSizeEditing"}constructor(n){super(n),n.config.define(oo,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:oo}),n.model.schema.setAttributeProperties(oo,{isFormatting:!0,copyOnEnter:!0});const i=n.config.get("fontSize.supportAllValues"),s=rE(this.editor.config.get("fontSize.options")).filter(d=>d.model),l=Zle(oo,s);i?(this._prepareAnyValueConverters(l),this._prepareCompatibilityConverter()):n.conversion.attributeToElement(l),n.commands.add(oo,new cue(n))}_prepareAnyValueConverters(n){const i=this.editor,s=n.model.values.filter(l=>!Sse(String(l))&&!Ise(String(l)));if(s.length)throw new O("font-size-invalid-use-of-named-presets",null,{presets:s});i.conversion.for("downcast").attributeToElement({model:oo,view:(l,{writer:d})=>{if(l)return d.createAttributeElement("span",{style:"font-size:"+l},{priority:7})}}),i.conversion.for("upcast").elementToAttribute({model:{key:oo,value:l=>l.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:oo,value:i=>{const s=i.getAttribute("size"),l=s[0]==="-"||s[0]==="+";let d=parseInt(s,10);l&&(d=3+d);const f=RB.length-1,g=Math.min(Math.max(d,0),f);return RB[g]}}})}}const mue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';var OB=a(6203),oE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};oE.insert="head",oE.singleton=!0,nt()(OB.Z,oE),OB.Z.locals;class gue extends he{static get pluginName(){return"FontSizeUI"}init(){const n=this.editor,i=n.t,s=this._getLocalizedOptions(),l=n.commands.get(oo);n.ui.componentFactory.add(oo,d=>{const f=Eo(d);return xp(f,()=>bue(s,l)),f.buttonView.set({label:i("Font Size"),icon:mue,tooltip:!0}),f.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),f.bind("isEnabled").to(l),this.listenTo(f,"execute",g=>{n.execute(g.source.commandName,{value:g.source.commandParam}),n.editing.view.focus()}),f})}_getLocalizedOptions(){const n=this.editor,i=n.t,s={Default:i("Default"),Tiny:i("Tiny"),Small:i("Small"),Big:i("Big"),Huge:i("Huge")};return rE(n.config.get(oo).options).map(d=>{const f=s[d.title];return f&&f!=d.title&&(d=Object.assign({},d,{title:f})),d})}}function bue(c,n){const i=new yi;for(const s of c){const l={type:"button",model:new Sp({commandName:oo,commandParam:s.model,label:s.title,class:"ck-fontsize-option",withText:!0})};s.view&&s.view.styles&&l.model.set("labelStyle",`font-size:${s.view.styles["font-size"]}`),s.view&&s.view.classes&&l.model.set("class",`${l.model.class} ${s.view.classes}`),l.model.bind("isOn").to(n,"value",d=>d===s.model),i.add(l)}return i}class wue extends he{static get requires(){return[pue,gue]}static get pluginName(){return"FontSize"}normalizeSizeOptions(n){return rE(n)}}class kue extends ft{refresh(){const n=this.editor.model,i=n.document,s=Bn(i.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&LB(s,n.schema)}execute(n={}){const i=this.editor.model,s=i.document;i.change(l=>{const d=(n.selection||s.selection).getSelectedBlocks();for(const f of d)!f.is("element","paragraph")&&LB(f,i.schema)&&l.rename(f,"paragraph")})}}function LB(c,n){return n.checkChild(c.parent,"paragraph")&&!n.isObject(c)}class vue extends ft{execute(n){const i=this.editor.model,s=n.attributes;let l=n.position;i.change(d=>{const f=d.createElement("paragraph");if(s&&i.schema.setAllowedAttributes(f,s,d),!i.schema.checkChild(l.parent,f)){const g=i.schema.findAllowedParent(l,f);if(!g)return;l=d.split(l,g).position}i.insertContent(f,l),d.setSelection(f,"in")})}}class Pp extends he{static get pluginName(){return"Paragraph"}init(){const n=this.editor,i=n.model;n.commands.add("paragraph",new kue(n)),n.commands.add("insertParagraph",new vue(n)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),n.conversion.elementToElement({model:"paragraph",view:"p"}),n.conversion.for("upcast").elementToElement({model:(s,{writer:l})=>!Pp.paragraphLikeElements.has(s.name)||s.isEmpty?null:l.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Pp.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class yue extends ft{constructor(n,i){super(n),this.modelElements=i}refresh(){const n=Bn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(i=>BB(n,i,this.editor.model.schema))}execute(n){const i=this.editor.model,s=i.document,l=n.value;i.change(d=>{const f=Array.from(s.selection.getSelectedBlocks()).filter(g=>BB(g,l,i.schema));for(const g of f)g.is("element",l)||d.rename(g,l)})}}function BB(c,n,i){return i.checkChild(c.parent,n)&&!i.isObject(c)}const zB="paragraph";class _ue extends he{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Pp]}init(){const n=this.editor,i=n.config.get("heading.options"),s=[];for(const l of i)l.model!=="paragraph"&&(n.model.schema.register(l.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(l),s.push(l.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new yue(n,s))}afterInit(){const n=this.editor,i=n.commands.get("enter"),s=n.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(l,d)=>{const f=n.model.document.selection.getFirstPosition().parent;s.some(w=>f.is("element",w.model))&&!f.is("element",zB)&&f.childCount===0&&d.writer.rename(f,zB)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:W.get("low")+1})}}function Aue(c){const n=c.t,i={Paragraph:n("Paragraph"),"Heading 1":n("Heading 1"),"Heading 2":n("Heading 2"),"Heading 3":n("Heading 3"),"Heading 4":n("Heading 4"),"Heading 5":n("Heading 5"),"Heading 6":n("Heading 6")};return c.config.get("heading.options").map(s=>{const l=i[s.title];return l&&l!=s.title&&(s.title=l),s})}var FB=a(3230),sE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sE.insert="head",sE.singleton=!0,nt()(FB.Z,sE),FB.Z.locals;class Cue extends he{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,i=n.t,s=Aue(n),l=i("Choose heading"),d=i("Heading");n.ui.componentFactory.add("heading",f=>{const g={},w=new yi,y=n.commands.get("heading"),C=n.commands.get("paragraph"),x=[y];for(const F of s){const U={type:"button",model:new Sp({label:F.title,class:F.class,withText:!0})};F.model==="paragraph"?(U.model.bind("isOn").to(C,"value"),U.model.set("commandName","paragraph"),x.push(C)):(U.model.bind("isOn").to(y,"value",G=>G===F.model),U.model.set({commandName:"heading",commandValue:F.model})),w.add(U),g[F.model]=F.title}const N=Eo(f);return xp(N,w),N.buttonView.set({isOn:!1,withText:!0,tooltip:d}),N.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),N.bind("isEnabled").toMany(x,"isEnabled",(...F)=>F.some(U=>U)),N.buttonView.bind("label").to(y,"value",C,"value",(F,U)=>{const G=F||U&&"paragraph";return typeof G=="boolean"||!g[G]?l:g[G]}),this.listenTo(N,"execute",F=>{const{commandName:U,commandValue:G}=F.source;n.execute(U,G?{value:G}:void 0),n.editing.view.focus()}),N})}}class Eue extends he{static get requires(){return[_ue,Cue]}static get pluginName(){return"Heading"}}class xue extends ft{refresh(){const s=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled&&s.hasAttribute("alt")?this.value=s.getAttribute("alt"):this.value=!1}execute(n){const i=this.editor,s=i.plugins.get("ImageUtils"),l=i.model,d=s.getClosestSelectedImageElement(l.document.selection);l.change(f=>{f.setAttribute("alt",n.newValue,d)})}}function Sue(c){return c.createContainerElement("span",{class:"image-inline"},c.createEmptyElement("img"))}function jB(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot()])}function VB(c,n){const i=c.plugins.get("ImageUtils"),s=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return d=>i.isInlineImageView(d)?s&&(d.getStyle("display")=="block"||d.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==n?null:l(d):null;function l(d){const f={name:!0};return d.hasAttribute("src")&&(f.attributes=["src"]),f}}function aE(c,n){const i=Bn(n.getSelectedBlocks());return!i||c.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}class xo extends he{static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},i=null,s=null){const l=this.editor,d=l.model,f=d.document.selection;s=UB(l,i||f,s),n={...Object.fromEntries(f.getAttributes()),...n};for(const g in n)d.schema.checkAttribute(s,g)||delete n[g];return d.change(g=>{const w=g.createElement(s,n);return d.insertObject(w,i,null,{setSelection:"on",findOptimalPosition:!i&&s!="imageInline"}),w.parent?w:null})}getClosestSelectedImageWidget(n){const i=n.getFirstPosition();if(!i)return null;const s=n.getSelectedElement();if(s&&this.isImageWidget(s))return s;let l=i.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(n){const i=n.getSelectedElement();return this.isImage(i)?i:n.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const i=this.editor.model.document.selection;return Tue(this.editor,i)&&Iue(i)}toImageWidget(n,i,s){return i.setCustomProperty("image",!0,n),Q1(n,i,{label:()=>{const f=this.findViewImgElement(n).getAttribute("alt");return f?`${f} ${s}`:s}})}isImageWidget(n){return!!n.getCustomProperty("image")&&zn(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(n))if(this.isInlineImageView(s))return s}}function Tue(c,n){if(UB(c,n)=="imageBlock"){const s=Due(n,c.model);if(c.model.schema.checkChild(s,"imageBlock"))return!0}else if(c.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}function Iue(c){return[...c.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}function Due(c,n){const s=aB(c,n).start.parent;return s.isEmpty&&!s.is("element","$root")?s.parent:s}function UB(c,n,i){const s=c.model.schema,l=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?i||(l==="inline"?"imageInline":l==="block"?"imageBlock":n.is("selection")?aE(s,n):s.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Pue extends he{static get requires(){return[xo]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new xue(this.editor))}}var $B=a(6831),cE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};cE.insert="head",cE.singleton=!0,nt()($B.Z,cE),$B.Z.locals;var HB=a(1590),lE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lE.insert="head",lE.singleton=!0,nt()(HB.Z,lE),HB.Z.locals;class Mue extends yt{constructor(n){super(n);const i=this.locale.t;this.focusTracker=new ji,this.keystrokes=new _o,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),hn.cancel,"ck-button-cancel","cancel"),this._focusables=new ua,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),p(this)}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,i,s,l){const d=new Ht(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}_createLabeledInputView(){const n=this.locale.t,i=new C1(this.locale,E1);return i.label=n("Text alternative"),i}}function Nue(c){const n=c.plugins.get("ContextualBalloon");if(c.plugins.get("ImageUtils").getClosestSelectedImageWidget(c.editing.view.document.selection)){const i=qB(c);n.updatePosition(i)}}function qB(c){const n=c.editing.view,i=_i.defaultPositions,s=c.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(n.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Rue extends he{static get requires(){return[Gw]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,i=n.t;n.ui.componentFactory.add("imageTextAlternative",s=>{const l=n.commands.get("imageTextAlternative"),d=new Ht(s);return d.set({label:i("Change image text alternative"),icon:hn.lowVision,tooltip:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",f=>!!f),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const n=this.editor,s=n.editing.view.document,l=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Mue(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,f)=>{this._hideForm(!0),f()}),this.listenTo(n.ui,"update",()=>{l.getClosestSelectedImageWidget(s.selection)?this._isVisible&&Nue(n):this._hideForm(!0)}),h({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,i=n.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:qB(n)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class WB extends he{static get requires(){return[Pue,Rue]}static get pluginName(){return"ImageTextAlternative"}}function Oue(c){return i=>{i.on("element:figure",n)};function n(i,s,l){if(!l.consumable.test(s.viewItem,{name:!0,classes:"image"}))return;const d=c.findViewImgElement(s.viewItem);if(!d||!l.consumable.test(d,{name:!0}))return;l.consumable.consume(s.viewItem,{name:!0,classes:"image"});const f=l.convertItem(d,s.modelCursor),g=Bn(f.modelRange.getItems());if(!g){l.consumable.revert(s.viewItem,{name:!0,classes:"image"});return}l.convertChildren(s.viewItem,g),l.updateConversionResult(g,s)}}function Lue(c){const n=["srcset","media","type","sizes"];return s=>{s.on("element:picture",i)};function i(s,l,d){const f=l.viewItem;if(!d.consumable.test(f,{name:!0}))return;const g=new Map;for(const C of f.getChildren())if(C.is("element","source")){const x={};for(const N of n)C.hasAttribute(N)&&d.consumable.test(C,{attributes:N})&&(x[N]=C.getAttribute(N));Object.keys(x).length&&g.set(C,x)}const w=c.findViewImgElement(f);if(!w)return;let y=l.modelCursor.parent;if(!y.is("element","imageBlock")){const C=d.convertItem(w,l.modelCursor);l.modelRange=C.modelRange,l.modelCursor=C.modelCursor,y=Bn(C.modelRange.getItems())}d.consumable.consume(f,{name:!0});for(const[C,x]of g)d.consumable.consume(C,{attributes:Object.keys(x)});g.size&&d.writer.setAttribute("sources",Array.from(g.values()),y),d.convertChildren(f,y)}}function GB(c,n){return s=>{s.on(`attribute:srcset:${n}`,i)};function i(s,l,d){if(!d.consumable.consume(l.item,s.name))return;const f=d.writer,g=d.mapper.toViewElement(l.item),w=c.findViewImgElement(g);if(l.attributeNewValue===null){const y=l.attributeOldValue;y.data&&(f.removeAttribute("srcset",w),f.removeAttribute("sizes",w),y.width&&f.removeAttribute("width",w))}else{const y=l.attributeNewValue;y.data&&(f.setAttribute("srcset",y.data,w),f.setAttribute("sizes","100vw",w),y.width&&f.setAttribute("width",y.width,w))}}}function Bue(c){return i=>{i.on("attribute:sources:imageBlock",n),i.on("attribute:sources:imageInline",n)};function n(i,s,l){if(!l.consumable.consume(s.item,i.name))return;const d=l.writer,f=l.mapper.toViewElement(s.item),g=c.findViewImgElement(f);if(s.attributeNewValue&&s.attributeNewValue.length){const w=d.createContainerElement("picture",null,s.attributeNewValue.map(x=>d.createEmptyElement("source",x))),y=[];let C=g.parent;for(;C&&C.is("attributeElement");){const x=C.parent;d.unwrap(d.createRangeOn(g),C),y.unshift(C),C=x}d.insert(d.createPositionBefore(g),w),d.move(d.createRangeOn(g),d.createPositionAt(w,"end"));for(const x of y)d.wrap(d.createRangeOn(w),x)}else if(g.parent.is("element","picture")){const w=g.parent;d.move(d.createRangeOn(g),d.createPositionBefore(w)),d.remove(w)}}}function ik(c,n,i){return l=>{l.on(`attribute:${i}:${n}`,s)};function s(l,d,f){if(!f.consumable.consume(d.item,l.name))return;const g=f.writer,w=f.mapper.toViewElement(d.item),y=c.findViewImgElement(w);g.setAttribute(d.attributeKey,d.attributeNewValue||"",y)}}class KB extends Cs{observe(n){this.listenTo(n,"load",(i,s)=>{const l=s.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}class zue extends ft{constructor(n){super(n);const i=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||i==="block"&&Be("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||i==="inline"&&Be("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(n){const i=Tr(n.source),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(s.getAttributes());i.forEach((f,g)=>{const w=s.getSelectedElement();if(typeof f=="string"&&(f={src:f}),g&&w&&l.isImage(w)){const y=this.editor.model.createPositionAfter(w);l.insertImage({...f,...d},y)}else l.insertImage({...f,...d})})}}class Fue extends ft{refresh(){const i=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=i.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(n){const i=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(s=>{s.setAttribute("src",n.source,i),s.removeAttribute("srcset",i),s.removeAttribute("sizes",i)})}}class uE extends he{static get requires(){return[xo]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,i=n.conversion;n.editing.view.addObserver(KB),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:d=>{const f={data:d.getAttribute("srcset")};return d.hasAttribute("width")&&(f.width=d.getAttribute("width")),f}}});const s=new zue(n),l=new Fue(n);n.commands.add("insertImage",s),n.commands.add("replaceImageSource",l),n.commands.add("imageInsert",s)}}class YB extends ft{constructor(n,i){super(n),this._modelElementName=i}refresh(){const i=this.editor.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=i.isInlineImage(s):this.isEnabled=i.isBlockImage(s)}execute(){const n=this.editor,i=this.editor.model,s=n.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(i.document.selection),d=Object.fromEntries(l.getAttributes());return!d.src&&!d.uploadId?null:i.change(f=>{const g=Array.from(i.markers).filter(C=>C.getRange().containsItem(l)),w=s.insertImage(d,i.createSelection(l,"on"),this._modelElementName);if(!w)return null;const y=f.createRangeOn(w);for(const C of g){const x=C.getRange(),N=x.root.rootName!="$graveyard"?x.getJoined(y,!0):y;f.updateMarker(C,{range:N})}return{oldElement:l,newElement:w}})}}class QB extends he{static get requires(){return[uE,xo,Ss]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new YB(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,s=n.conversion,l=n.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:f})=>jB(f)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:f})=>l.toImageWidget(jB(f),f,i("image widget"))}),s.for("downcast").add(ik(l,"imageBlock","src")).add(ik(l,"imageBlock","alt")).add(GB(l,"imageBlock")),s.for("upcast").elementToElement({view:VB(n,"imageBlock"),model:(d,{writer:f})=>f.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:null)}).add(Oue(l))}_setupClipboardIntegration(){const n=this.editor,i=n.model,s=n.editing.view,l=n.plugins.get("ImageUtils");this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",(d,f)=>{const g=Array.from(f.content.getChildren());let w;if(!g.every(l.isInlineImageView))return;f.targetRanges?w=n.editing.mapper.toModelRange(f.targetRanges[0]):w=i.document.selection.getFirstRange();const y=i.createSelection(w);if(aE(i.schema,y)==="imageBlock"){const C=new Xl(s.document),x=g.map(N=>C.createElement("figure",{class:"image"},N));f.content=C.createDocumentFragment(x)}})}}var ZB=a(9048),dE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dE.insert="head",dE.singleton=!0,nt()(ZB.Z,dE),ZB.Z.locals;class jue extends he{static get requires(){return[QB,Dp,WB]}static get pluginName(){return"ImageBlock"}}class Vue extends he{static get requires(){return[uE,xo,Ss]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,i=n.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,l)=>{if(s.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new YB(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,s=n.conversion,l=n.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:f})=>f.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:f})=>l.toImageWidget(Sue(f),f,i("image widget"))}),s.for("downcast").add(ik(l,"imageInline","src")).add(ik(l,"imageInline","alt")).add(GB(l,"imageInline")),s.for("upcast").elementToElement({view:VB(n,"imageInline"),model:(d,{writer:f})=>f.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:null)})}_setupClipboardIntegration(){const n=this.editor,i=n.model,s=n.editing.view,l=n.plugins.get("ImageUtils");this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",(d,f)=>{const g=Array.from(f.content.getChildren());let w;if(!g.every(l.isBlockImageView))return;f.targetRanges?w=n.editing.mapper.toModelRange(f.targetRanges[0]):w=i.document.selection.getFirstRange();const y=i.createSelection(w);if(aE(i.schema,y)==="imageInline"){const C=new Xl(s.document),x=g.map(N=>N.childCount===1?(Array.from(N.getAttributes()).forEach(F=>C.setAttribute(...F,l.findViewImgElement(N))),N.getChild(0)):N);f.content=C.createDocumentFragment(x)}})}}class Uue extends he{static get requires(){return[Vue,Dp,WB]}static get pluginName(){return"ImageInline"}}class $ue extends he{static get requires(){return[jue,Uue]}static get pluginName(){return"Image"}}class Hue extends ft{refresh(){const n=this.editor,i=n.plugins.get("ImageCaptionUtils");if(!n.plugins.has(QB)){this.isEnabled=!1,this.value=!1;return}const s=n.model.document.selection,l=s.getSelectedElement();if(!l){const d=i.getCaptionFromModelSelection(s);this.isEnabled=!!d,this.value=!!d;return}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(l),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(l):this.value=!1}execute(n={}){const{focusCaptionOnShow:i}=n;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(n,i){const l=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing");let f=l.getSelectedElement();const g=d._getSavedCaption(f);this.editor.plugins.get("ImageUtils").isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=l.getSelectedElement());const w=g||n.createElement("caption");n.append(w,f),i&&n.setSelection(w,"in")}_hideImageCaption(n){const i=this.editor,s=i.model.document.selection,l=i.plugins.get("ImageCaptionEditing"),d=i.plugins.get("ImageCaptionUtils");let f=s.getSelectedElement(),g;f?g=d.getCaptionFromImageModelElement(f):(g=d.getCaptionFromModelSelection(s),f=g.parent),l._saveCaption(f,g),n.setSelection(f,"on"),n.remove(g)}}class JB extends he{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[xo]}getCaptionFromImageModelElement(n){for(const i of n.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(n){const i=this.editor.plugins.get("ImageUtils"),s=n.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(n){const i=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&i.isBlockImageView(n.parent)?{name:!0}:null}}class que extends he{static get requires(){return[xo,JB]}static get pluginName(){return"ImageCaptionEditing"}constructor(n){super(n),this._savedCaptionsMap=new WeakMap}init(){const n=this.editor,i=n.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new Hue(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,i=n.editing.view,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils"),d=n.t;n.conversion.for("upcast").elementToElement({view:f=>l.matchImageCaptionViewElement(f),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>s.isBlockImage(f.parent)?g.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>{if(!s.isBlockImage(f.parent))return null;const w=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,w),ZR({view:i,element:w,text:d("Enter image caption"),keepOnFocus:!0});const y=f.parent.getAttribute("alt"),C=y?d("Caption for image: %0",[y]):d("Caption for the image");return sB(w,g,{label:C})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,i=n.plugins.get("ImageUtils"),s=n.plugins.get("ImageCaptionUtils"),l=n.commands.get("imageTypeInline"),d=n.commands.get("imageTypeBlock"),f=g=>{if(!g.return)return;const{oldElement:w,newElement:y}=g.return;if(!w)return;if(i.isBlockImage(w)){const x=s.getCaptionFromImageModelElement(w);if(x){this._saveCaption(y,x);return}}const C=this._getSavedCaption(w);C&&this._saveCaption(y,C)};l&&this.listenTo(l,"execute",f,{priority:"low"}),d&&this.listenTo(d,"execute",f,{priority:"low"})}_getSavedCaption(n){const i=this._savedCaptionsMap.get(n);return i?qt.fromJSON(i):null}_saveCaption(n,i){this._savedCaptionsMap.set(n,i.toJSON())}_registerCaptionReconversion(){const n=this.editor,i=n.model,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const d=i.document.differ.getChanges();for(const f of d){if(f.attributeKey!=="alt")continue;const g=f.range.start.nodeAfter;if(s.isBlockImage(g)){const w=l.getCaptionFromImageModelElement(g);if(!w)return;n.editing.reconvertItem(w)}}})}}class Wue extends he{static get requires(){return[JB]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,i=n.editing.view,s=n.plugins.get("ImageCaptionUtils"),l=n.t;n.ui.componentFactory.add("toggleImageCaption",d=>{const f=n.commands.get("toggleImageCaption"),g=new Ht(d);return g.set({icon:hn.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),g.bind("label").to(f,"value",w=>l(w?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=s.getCaptionFromModelSelection(n.model.document.selection);if(w){const y=n.editing.mapper.toViewElement(w);i.scrollToTheSelection(),i.change(C=>{C.addClass("image__caption_highlighted",y)})}n.editing.view.focus()}),g})}}var XB=a(8662),hE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};hE.insert="head",hE.singleton=!0,nt()(XB.Z,hE),XB.Z.locals;class Gue extends he{static get requires(){return[que,Wue]}static get pluginName(){return"ImageCaption"}}class Kue extends ft{refresh(){const n=this.editor,s=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);this.isEnabled=!!s,!s||!s.hasAttribute("width")?this.value=null:this.value={width:s.getAttribute("width"),height:null}}execute(n){const i=this.editor,s=i.model,d=i.plugins.get("ImageUtils").getClosestSelectedImageElement(s.document.selection);this.value={width:n.width,height:null},d&&s.change(f=>{f.setAttribute("width",n.width,d)})}}class ez extends he{static get requires(){return[xo]}static get pluginName(){return"ImageResizeEditing"}constructor(n){super(n),n.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const n=this.editor,i=new Kue(n);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),n.commands.add("resizeImage",i),n.commands.add("imageResize",i)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(n){const i=this.editor;i.conversion.for("downcast").add(s=>s.on(`attribute:width:${n}`,(l,d,f)=>{if(!f.consumable.consume(d.item,l.name))return;const g=f.writer,w=f.mapper.toViewElement(d.item);d.attributeNewValue!==null?(g.setStyle("width",d.attributeNewValue,w),g.addClass("image_resized",w)):(g.removeStyle("width",w),g.removeClass("image_resized",w))})),i.conversion.for("upcast").attributeToAttribute({view:{name:n==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:s=>s.getStyle("width")}})}}const fE={small:hn.objectSizeSmall,medium:hn.objectSizeMedium,large:hn.objectSizeLarge,original:hn.objectSizeFull};class Yue extends he{static get requires(){return[ez]}static get pluginName(){return"ImageResizeButtons"}constructor(n){super(n),this._resizeUnit=n.config.get("image.resizeUnit")}init(){const n=this.editor,i=n.config.get("image.resizeOptions"),s=n.commands.get("resizeImage");this.bind("isEnabled").to(s);for(const l of i)this._registerImageResizeButton(l);this._registerImageResizeDropdown(i)}_registerImageResizeButton(n){const i=this.editor,{name:s,value:l,icon:d}=n,f=l?l+this._resizeUnit:null;i.ui.componentFactory.add(s,g=>{const w=new Ht(g),y=i.commands.get("resizeImage"),C=this._getOptionLabelValue(n,!0);if(!fE[d])throw new O("imageresizebuttons-missing-icon",i,n);return w.set({label:C,icon:fE[d],tooltip:C,isToggleable:!0}),w.bind("isEnabled").to(this),w.bind("isOn").to(y,"value",tz(f)),this.listenTo(w,"execute",()=>{i.execute("resizeImage",{width:f})}),w})}_registerImageResizeDropdown(n){const i=this.editor,s=i.t,l=n.find(f=>!f.value),d=f=>{const g=i.commands.get("resizeImage"),w=Eo(f,UR),y=w.buttonView;return y.set({tooltip:s("Resize image"),commandValue:l.value,icon:fE.medium,isToggleable:!0,label:this._getOptionLabelValue(l),withText:!0,class:"ck-resize-image-button"}),y.bind("label").to(g,"value",C=>C&&C.width?C.width:this._getOptionLabelValue(l)),w.bind("isOn").to(g),w.bind("isEnabled").to(this),xp(w,()=>this._getResizeDropdownListItemDefinitions(n,g),{ariaLabel:s("Image resize list")}),this.listenTo(w,"execute",C=>{i.execute(C.source.commandName,{width:C.source.commandValue}),i.editing.view.focus()}),w};i.ui.componentFactory.add("resizeImage",d),i.ui.componentFactory.add("imageResize",d)}_getOptionLabelValue(n,i){const s=this.editor.t;return n.label?n.label:i?n.value?s("Resize image to %0",n.value+this._resizeUnit):s("Resize image to the original size"):n.value?n.value+this._resizeUnit:s("Original")}_getResizeDropdownListItemDefinitions(n,i){const s=new yi;return n.map(l=>{const d=l.value?l.value+this._resizeUnit:null,f={type:"button",model:new Sp({commandName:"resizeImage",commandValue:d,label:this._getOptionLabelValue(l),withText:!0,icon:null})};f.model.bind("isOn").to(i,"value",tz(d)),s.add(f)}),s}}function tz(c){return n=>c===null&&n===c?!0:n&&n.width===c}const Que="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",Zue=/(image|image-inline)/,pE="image_resized";class Jue extends he{static get requires(){return[eE]}static get pluginName(){return"ImageResizeHandles"}init(){const n=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(n),this._setupResizerCreator()}_setupResizerCreator(){const n=this.editor,i=n.editing.view;i.addObserver(KB),this.listenTo(i.document,"imageLoaded",(s,l)=>{if(!l.target.matches(Que))return;const d=n.editing.view.domConverter,g=d.domToView(l.target).findAncestor({classes:Zue});let w=this.editor.plugins.get(eE).getResizerByViewElement(g);if(w){w.redraw();return}const y=n.editing.mapper,C=y.toModelElement(g);w=n.plugins.get(eE).attachTo({unit:n.config.get("image.resizeUnit"),modelElement:C,viewElement:g,editor:n,getHandleHost(x){return x.querySelector("img")},getResizeHost(){return d.mapViewToDom(y.toViewElement(C.parent))},isCentered(){const x=C.getAttribute("imageStyle");return!x||x=="block"||x=="alignCenter"},onCommit(x){i.change(N=>{N.removeClass(pE,g)}),n.execute("resizeImage",{width:x})}}),w.on("updateSize",()=>{g.hasClass(pE)||i.change(x=>{x.addClass(pE,g)})}),w.bind("isEnabled").to(this)})}}var nz=a(1043),mE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};mE.insert="head",mE.singleton=!0,nt()(nz.Z,mE),nz.Z.locals;class Xue extends he{static get requires(){return[ez,Jue,Yue]}static get pluginName(){return"ImageResize"}}class ede extends ft{constructor(n,i){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const l of s.modelElements)this._defaultStyles[l]=s.name;return[s.name,s]}))}refresh(){const s=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled?s.hasAttribute("imageStyle")?this.value=s.getAttribute("imageStyle"):this.value=this._defaultStyles[s.name]:this.value=!1}execute(n={}){const i=this.editor,s=i.model,l=i.plugins.get("ImageUtils");s.change(d=>{const f=n.value;let g=l.getClosestSelectedImageElement(s.document.selection);f&&this.shouldConvertImageType(f,g)&&(this.editor.execute(l.isBlockImage(g)?"imageTypeInline":"imageTypeBlock"),g=l.getClosestSelectedImageElement(s.document.selection)),!f||this._styles.get(f).isDefault?d.removeAttribute("imageStyle",g):d.setAttribute("imageStyle",f,g)})}shouldConvertImageType(n,i){return!this._styles.get(n).modelElements.includes(i.name)}}const{objectFullWidth:tde,objectInline:rz,objectLeft:iz,objectRight:gE,objectCenter:bE,objectBlockLeft:oz,objectBlockRight:sz}=hn,ok={get inline(){return{name:"inline",title:"In line",icon:rz,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:iz,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:oz,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:bE,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:gE,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:sz,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:bE,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:gE,modelElements:["imageBlock"],className:"image-style-side"}}},az={full:tde,left:oz,right:sz,center:bE,inlineLeft:iz,inlineRight:gE,inline:rz},cz=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function nde(c){return(c.configuredStyles.options||[]).map(s=>ode(s)).filter(s=>sde(s,c))}function rde(c,n){return c&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}}function ide(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...cz]:[]}function ode(c){return typeof c=="string"?ok[c]?c={...ok[c]}:c={name:c}:c=ade(ok[c.name],c),typeof c.icon=="string"&&(c.icon=az[c.icon]||c.icon),c}function sde(c,{isBlockPluginLoaded:n,isInlinePluginLoaded:i}){const{modelElements:s,name:l}=c;if(!s||!s.length||!l)return lz({style:c}),!1;{const d=[n?"imageBlock":null,i?"imageInline":null];if(!s.some(f=>d.includes(f)))return Be("image-style-missing-dependency",{style:c,missingPlugins:s.map(f=>f==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function ade(c,n){const i={...n};for(const s in c)Object.prototype.hasOwnProperty.call(n,s)||(i[s]=c[s]);return i}function lz(c){Be("image-style-configuration-definition-invalid",c)}const wE={normalizeStyles:nde,getDefaultStylesConfiguration:rde,getDefaultDropdownDefinitions:ide,warnInvalidStyle:lz,DEFAULT_OPTIONS:ok,DEFAULT_ICONS:az,DEFAULT_DROPDOWN_DEFINITIONS:cz};function cde(c){return(n,i,s)=>{if(!s.consumable.consume(i.item,n.name))return;const l=uz(i.attributeNewValue,c),d=uz(i.attributeOldValue,c),f=s.mapper.toViewElement(i.item),g=s.writer;d&&g.removeClass(d.className,f),l&&g.addClass(l.className,f)}}function lde(c){const n={imageInline:c.filter(i=>!i.isDefault&&i.modelElements.includes("imageInline")),imageBlock:c.filter(i=>!i.isDefault&&i.modelElements.includes("imageBlock"))};return(i,s,l)=>{if(!s.modelRange)return;const d=s.viewItem,f=Bn(s.modelRange.getItems());if(f&&l.schema.checkAttribute(f,"imageStyle"))for(const g of n[f.name])l.consumable.consume(d,{classes:g.className})&&l.writer.setAttribute("imageStyle",g.name,f)}}function uz(c,n){for(const i of n)if(i.name===c)return i}class dz extends he{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[xo]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:i}=wE,s=this.editor,l=s.plugins.has("ImageBlockEditing"),d=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(l,d)),this.normalizedStyles=n({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:d}),this._setupConversion(l,d),this._setupPostFixer(),s.commands.add("imageStyle",new ede(s,this.normalizedStyles))}_setupConversion(n,i){const s=this.editor,l=s.model.schema,d=cde(this.normalizedStyles),f=lde(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",d),s.data.downcastDispatcher.on("attribute:imageStyle",d),n&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",f,{priority:"low"})),i&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",f,{priority:"low"}))}_setupPostFixer(){const n=this.editor,i=n.model.document,s=n.plugins.get(xo),l=new Map(this.normalizedStyles.map(d=>[d.name,d]));i.registerPostFixer(d=>{let f=!1;for(const g of i.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let w=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!s.isImage(w))continue;const y=w.getAttribute("imageStyle");if(!y)continue;const C=l.get(y);(!C||!C.modelElements.includes(w.name))&&(d.removeAttribute("imageStyle",w),f=!0)}return f})}}var hz=a(4622),kE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};kE.insert="head",kE.singleton=!0,nt()(hz.Z,kE),hz.Z.locals;class ude extends he{static get requires(){return[dz]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=fz(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of s)this._createButton(d);const l=fz([...i.filter(ve),...wE.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const d of l)this._createDropdown(d,s)}_createDropdown(n,i){const s=this.editor.ui.componentFactory;s.add(n.name,l=>{let d;const{defaultItem:f,items:g,title:w}=n,y=g.filter(F=>i.find(({name:U})=>pz(U)===F)).map(F=>{const U=s.create(F);return F===f&&(d=U),U});g.length!==y.length&&wE.warnInvalidStyle({dropdown:n});const C=Eo(l,xw),x=C.buttonView,N=x.arrowView;return h1(C,y,{enableActiveItemFocusOnDropdownOpen:!0}),x.set({label:mz(w,d.label),class:null,tooltip:!0}),N.unbind("label"),N.set({label:w}),x.bind("icon").toMany(y,"isOn",(...F)=>{const U=F.findIndex(ql);return U<0?d.icon:y[U].icon}),x.bind("label").toMany(y,"isOn",(...F)=>{const U=F.findIndex(ql);return mz(w,U<0?d.label:y[U].label)}),x.bind("isOn").toMany(y,"isOn",(...F)=>F.some(ql)),x.bind("class").toMany(y,"isOn",(...F)=>F.some(ql)?"ck-splitbutton_flatten":null),x.on("execute",()=>{y.some(({isOn:F})=>F)?C.isOpen=!C.isOpen:d.fire("execute")}),C.bind("isEnabled").toMany(y,"isEnabled",(...F)=>F.some(ql)),this.listenTo(C,"execute",()=>{this.editor.editing.view.focus()}),C})}_createButton(n){const i=n.name;this.editor.ui.componentFactory.add(pz(i),s=>{const l=this.editor.commands.get("imageStyle"),d=new Ht(s);return d.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",f=>f===i),d.on("execute",this._executeCommand.bind(this,i)),d})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function fz(c,n){for(const i of c)n[i.title]&&(i.title=n[i.title]);return c}function pz(c){return`imageStyle:${c}`}function mz(c,n){return(c?c+": ":"")+n}class dde extends he{static get requires(){return[dz,ude]}static get pluginName(){return"ImageStyle"}}class hde extends he{static get requires(){return[rk,xo]}static get pluginName(){return"ImageToolbar"}afterInit(){const n=this.editor,i=n.t,s=n.plugins.get(rk),l=n.plugins.get("ImageUtils");s.register("image",{ariaLabel:i("Image toolbar"),items:fde(n.config.get("image.toolbar")||[]),getRelatedElement:d=>l.getClosestSelectedImageWidget(d)})}}function fde(c){return c.map(n=>ve(n)?n.name:n)}function gz(c){const n=c.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function pde(c){return new Promise((n,i)=>{const s=c.getAttribute("src");fetch(s).then(l=>l.blob()).then(l=>{const d=bz(l,s),g=`image.${d.replace("image/","")}`,w=new File([l],g,{type:d});n(w)}).catch(l=>l&&l.name==="TypeError"?gde(s).then(n).catch(i):i(l))})}function mde(c,n){return!c.isInlineImageView(n)||!n.getAttribute("src")?!1:n.getAttribute("src").match(/^data:image\/\w+;base64,/g)||n.getAttribute("src").match(/^blob:/g)}function bz(c,n){return c.type?c.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function gde(c){return bde(c).then(n=>{const i=bz(n,c),l=`image.${i.replace("image/","")}`;return new File([n],l,{type:i})})}function bde(c){return new Promise((n,i)=>{const s=vt.document.createElement("img");s.addEventListener("load",()=>{const l=vt.document.createElement("canvas");l.width=s.width,l.height=s.height,l.getContext("2d").drawImage(s,0,0),l.toBlob(f=>f?n(f):i())}),s.addEventListener("error",()=>i()),s.src=c})}class wde extends he{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,i=n.t,s=l=>{const d=new rce(l),f=n.commands.get("uploadImage"),g=n.config.get("image.upload.types"),w=gz(g);return d.set({acceptedType:g.map(y=>`image/${y}`).join(","),allowMultipleFiles:!0}),d.buttonView.set({label:i("Insert image"),icon:hn.image,tooltip:!0}),d.buttonView.bind("isEnabled").to(f),d.on("done",(y,C)=>{const x=Array.from(C).filter(N=>w.test(N.type));x.length&&(n.execute("uploadImage",{file:x}),n.editing.view.focus())}),d};n.ui.componentFactory.add("uploadImage",s),n.ui.componentFactory.add("imageUpload",s)}}var wz=a(5870),vE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};vE.insert="head",vE.singleton=!0,nt()(wz.Z,vE),wz.Z.locals;var kz=a(9899),yE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yE.insert="head",yE.singleton=!0,nt()(kz.Z,yE),kz.Z.locals;var vz=a(9825),_E={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_E.insert="head",_E.singleton=!0,nt()(vz.Z,_E),vz.Z.locals;class kde extends he{static get pluginName(){return"ImageUploadProgress"}constructor(n){super(n),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...i)=>this.uploadStatusChange(...i)),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...i)=>this.uploadStatusChange(...i))}uploadStatusChange(n,i,s){const l=this.editor,d=i.item,f=d.getAttribute("uploadId");if(!s.consumable.consume(i.item,n.name))return;const g=l.plugins.get("ImageUtils"),w=l.plugins.get(eu),y=f?i.attributeNewValue:null,C=this.placeholder,x=l.editing.mapper.toViewElement(d),N=s.writer;if(y=="reading"){yz(x,N),_z(g,C,x,N);return}if(y=="uploading"){const F=w.loaders.get(f);yz(x,N),F?(Az(x,N),yde(x,N,F,l.editing.view),xde(g,x,N,F)):_z(g,C,x,N);return}y=="complete"&&w.loaders.get(f)&&Ade(x,N,l.editing.view),_de(x,N),Az(x,N),vde(x,N)}}function yz(c,n){c.hasClass("ck-appear")||n.addClass("ck-appear",c)}function vde(c,n){n.removeClass("ck-appear",c)}function _z(c,n,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const l=c.findViewImgElement(i);l.getAttribute("src")!==n&&s.setAttribute("src",n,l),Cz(i,"placeholder")||s.insert(s.createPositionAfter(l),Ede(s))}function Az(c,n){c.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",c),Ez(c,n,"placeholder")}function yde(c,n,i,s){const l=Cde(n);n.insert(n.createPositionAt(c,"end"),l),i.on("change:uploadedPercent",(d,f,g)=>{s.change(w=>{w.setStyle("width",g+"%",l)})})}function _de(c,n){Ez(c,n,"progressBar")}function Ade(c,n,i){const s=n.createUIElement("div",{class:"ck-image-upload-complete-icon"});n.insert(n.createPositionAt(c,"end"),s),setTimeout(()=>{i.change(l=>l.remove(l.createRangeOn(s)))},3e3)}function Cde(c){const n=c.createUIElement("div",{class:"ck-progress-bar"});return c.setCustomProperty("progressBar",!0,n),n}function Ede(c){const n=c.createUIElement("div",{class:"ck-upload-placeholder-loader"});return c.setCustomProperty("placeholder",!0,n),n}function Cz(c,n){for(const i of c.getChildren())if(i.getCustomProperty(n))return i}function Ez(c,n,i){const s=Cz(c,i);s&&n.remove(n.createRangeOn(s))}function xde(c,n,i,s){if(s.data){const l=c.findViewImgElement(n);i.setAttribute("src",s.data,l)}}class Sde extends ft{refresh(){const n=this.editor,i=n.plugins.get("ImageUtils"),s=n.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(n){const i=Tr(n.file),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(s.getAttributes());i.forEach((f,g)=>{const w=s.getSelectedElement();if(g&&w&&l.isImage(w)){const y=this.editor.model.createPositionAfter(w);this._uploadImage(f,d,y)}else this._uploadImage(f,d)})}_uploadImage(n,i,s){const l=this.editor,f=l.plugins.get(eu).createLoader(n),g=l.plugins.get("ImageUtils");f&&g.insertImage({...i,uploadId:f.id},s)}}class Tde extends he{static get requires(){return[eu,d5,Ss,xo]}static get pluginName(){return"ImageUploadEditing"}constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const n=this.editor,i=n.model.document,s=n.conversion,l=n.plugins.get(eu),d=n.plugins.get("ImageUtils"),f=gz(n.config.get("image.upload.types")),g=new Sde(n);n.commands.add("uploadImage",g),n.commands.add("imageUpload",g),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(w,y)=>{if(Ide(y.dataTransfer))return;const C=Array.from(y.dataTransfer.files).filter(x=>x?f.test(x.type):!1);C.length&&(w.stop(),n.model.change(x=>{y.targetRanges&&x.setSelection(y.targetRanges.map(N=>n.editing.mapper.toModelRange(N))),n.model.enqueueChange(()=>{n.execute("uploadImage",{file:C})})}))}),this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",(w,y)=>{const C=Array.from(n.editing.view.createRangeIn(y.content)).filter(N=>mde(d,N.item)&&!N.item.getAttribute("uploadProcessed")).map(N=>({promise:pde(N.item),imageElement:N.item}));if(!C.length)return;const x=new Xl(n.editing.view.document);for(const N of C){x.setAttribute("uploadProcessed",!0,N.imageElement);const F=l.createLoader(N.promise);F&&(x.setAttribute("src","",N.imageElement),x.setAttribute("uploadId",F.id,N.imageElement))}}),n.editing.view.document.on("dragover",(w,y)=>{y.preventDefault()}),i.on("change",()=>{const w=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),y=new Set;for(const C of w)if(C.type=="insert"&&C.name!="$text"){const x=C.position.nodeAfter,N=C.position.root.rootName=="$graveyard";for(const F of Dde(n,x)){const U=F.getAttribute("uploadId");if(!U)continue;const G=l.loaders.get(U);G&&(N?y.has(U)||G.abort():(y.add(U),this._uploadImageElements.set(U,F),G.status=="idle"&&this._readAndUpload(G)))}}}),this.on("uploadComplete",(w,{imageElement:y,data:C})=>{const x=C.urls?C.urls:C;this.editor.model.change(N=>{N.setAttribute("src",x.default,y),this._parseAndSetSrcsetAttributeOnImage(x,y,N)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const i=this.editor,s=i.model,l=i.locale.t,d=i.plugins.get(eu),f=i.plugins.get(d5),g=i.plugins.get("ImageUtils"),w=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","reading",w.get(n.id))}),n.read().then(()=>{const C=n.upload(),x=w.get(n.id);if(A.isSafari){const N=i.editing.mapper.toViewElement(x),F=g.findViewImgElement(N);i.editing.view.once("render",()=>{if(!F.parent)return;const U=i.editing.view.domConverter.mapViewToDom(F.parent);if(!U)return;const G=U.style.display;U.style.display="none",U._ckHack=U.offsetHeight,U.style.display=G})}return s.enqueueChange({isUndoable:!1},N=>{N.setAttribute("uploadStatus","uploading",x)}),C}).then(C=>{s.enqueueChange({isUndoable:!1},x=>{const N=w.get(n.id);x.setAttribute("uploadStatus","complete",N),this.fire("uploadComplete",{data:C,imageElement:N})}),y()}).catch(C=>{if(n.status!=="error"&&n.status!=="aborted")throw C;n.status=="error"&&C&&f.showWarning(C,{title:l("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},x=>{x.remove(w.get(n.id))}),y()});function y(){s.enqueueChange({isUndoable:!1},C=>{const x=w.get(n.id);C.removeAttribute("uploadId",x),C.removeAttribute("uploadStatus",x),w.delete(n.id)}),d.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,i,s){let l=0;const d=Object.keys(n).filter(f=>{const g=parseInt(f,10);if(!isNaN(g))return l=Math.max(l,g),!0}).map(f=>`${n[f]} ${f}w`).join(", ");d!=""&&s.setAttribute("srcset",{data:d,width:l},i)}}function Ide(c){return Array.from(c.types).includes("text/html")&&c.getData("text/html")!==""}function Dde(c,n){const i=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(n)).filter(s=>i.isImage(s.item)).map(s=>s.item)}class Pde extends he{static get pluginName(){return"ImageUpload"}static get requires(){return[Tde,wde,kde]}}class Mde extends he{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new KR(n)),n.commands.add("outdent",new KR(n))}}const xz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Sz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Nde extends he{static get pluginName(){return"IndentUI"}init(){const n=this.editor,i=n.locale,s=n.t,l=i.uiLanguageDirection=="ltr"?xz:Sz,d=i.uiLanguageDirection=="ltr"?Sz:xz;this._defineButton("indent",s("Increase indent"),l),this._defineButton("outdent",s("Decrease indent"),d)}_defineButton(n,i,s){const l=this.editor;l.ui.componentFactory.add(n,d=>{const f=l.commands.get(n),g=new Ht(d);return g.set({label:i,icon:s,tooltip:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),this.listenTo(g,"execute",()=>{l.execute(n),l.editing.view.focus()}),g})}}class Rde extends he{static get pluginName(){return"Indent"}static get requires(){return[Mde,Nde]}}const Yd="italic";class Ode extends he{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:Yd}),n.model.schema.setAttributeProperties(Yd,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Yd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Yd,new O1(n,Yd)),n.keystrokes.set("CTRL+I",Yd)}}const Lde='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',AE="italic";class Bde extends he{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(AE,s=>{const l=n.commands.get(AE),d=new Ht(s);return d.set({label:i("Italic"),icon:Lde,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute(AE),n.editing.view.focus()}),d})}}class zde extends he{static get requires(){return[Ode,Bde]}static get pluginName(){return"Italic"}}class Fde{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(i=>this._definitions.add(i)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(i,s,l)=>{if(!l.consumable.test(s.item,"attribute:linkHref")||!(s.item.is("selection")||l.schema.isInline(s.item)))return;const d=l.writer,f=d.document.selection;for(const g of this._definitions){const w=d.createAttributeElement("a",g.attributes,{priority:5});g.classes&&d.addClass(g.classes,w);for(const y in g.styles)d.setStyle(y,g.styles[y],w);d.setCustomProperty("link",!0,w),g.callback(s.attributeNewValue)?s.item.is("selection")?d.wrap(f.getFirstRange(),w):d.wrap(l.mapper.toViewRange(s.range),w):d.unwrap(l.mapper.toViewRange(s.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(i,s,{writer:l,mapper:d})=>{const f=d.toViewElement(s.item),g=Array.from(f.getChildren()).find(w=>w.name==="a");for(const w of this._definitions){const y=ks(w.attributes);if(w.callback(s.attributeNewValue)){for(const[C,x]of y)C==="class"?l.addClass(x,g):l.setAttribute(C,x,g);w.classes&&l.addClass(w.classes,g);for(const C in w.styles)l.setStyle(C,w.styles[C],g)}else{for(const[C,x]of y)C==="class"?l.removeClass(x,g):l.removeAttribute(C,g);w.classes&&l.removeClass(w.classes,g);for(const C in w.styles)l.removeStyle(C,g)}}})}}}function jde(c,n,i){var s=c.length;return i=i===void 0?s:i,!n&&i>=s?c:oO(c,n,i)}const Vde=jde;var Ude="\\ud800-\\udfff",$de="\\u0300-\\u036f",Hde="\\ufe20-\\ufe2f",qde="\\u20d0-\\u20ff",Wde=$de+Hde+qde,Gde="\\ufe0e\\ufe0f",Kde="\\u200d",Yde=RegExp("["+Kde+Ude+Wde+Gde+"]");function Qde(c){return Yde.test(c)}const Tz=Qde;function Zde(c){return c.split("")}const Jde=Zde;var Iz="\\ud800-\\udfff",Xde="\\u0300-\\u036f",ehe="\\ufe20-\\ufe2f",the="\\u20d0-\\u20ff",nhe=Xde+ehe+the,rhe="\\ufe0e\\ufe0f",ihe="["+Iz+"]",CE="["+nhe+"]",EE="\\ud83c[\\udffb-\\udfff]",ohe="(?:"+CE+"|"+EE+")",Dz="[^"+Iz+"]",Pz="(?:\\ud83c[\\udde6-\\uddff]){2}",Mz="[\\ud800-\\udbff][\\udc00-\\udfff]",she="\\u200d",Nz=ohe+"?",Rz="["+rhe+"]?",ahe="(?:"+she+"(?:"+[Dz,Pz,Mz].join("|")+")"+Rz+Nz+")*",che=Rz+Nz+ahe,lhe="(?:"+[Dz+CE+"?",CE,Pz,Mz,ihe].join("|")+")",uhe=RegExp(EE+"(?="+EE+")|"+lhe+che,"g");function dhe(c){return c.match(uhe)||[]}const hhe=dhe;function fhe(c){return Tz(c)?hhe(c):Jde(c)}const phe=fhe;function mhe(c){return function(n){n=IC(n);var i=Tz(n)?phe(n):void 0,s=i?i[0]:n.charAt(0),l=i?Vde(i,1).join(""):n.slice(1);return s[c]()+l}}var ghe=mhe("toUpperCase");const bhe=ghe,whe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,khe=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,vhe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,yhe=/^((\w+:(\/{2,})?)|(\W))/i,xE="Ctrl+K";function _he(c){return c.is("attributeElement")&&!!c.getCustomProperty("link")}function Oz(c,{writer:n}){const i=n.createAttributeElement("a",{href:c},{priority:5});return n.setCustomProperty("link",!0,i),i}function Lz(c){return c=String(c),Ahe(c)?c:"#"}function Ahe(c){return c.replace(whe,"").match(khe)}function Che(c,n){const i={"Open in a new tab":c("Open in a new tab"),Downloadable:c("Downloadable")};return n.forEach(s=>(s.label&&i[s.label]&&(s.label=i[s.label]),s)),n}function Ehe(c){const n=[];if(c)for(const[i,s]of Object.entries(c)){const l=Object.assign({},s,{id:`link${bhe(i)}`});n.push(l)}return n}function SE(c,n){return c?n.checkAttribute(c.name,"linkHref"):!1}function xhe(c){return vhe.test(c)}function TE(c,n){const i=xhe(c)?"mailto:":n,s=!!i&&!Bz(c);return c&&s?i+c:c}function Bz(c){return yhe.test(c)}function zz(c){window.open(c,"_blank","noopener")}class She extends ft{constructor(n){super(n),this.manualDecorators=new yi,this.automaticDecorators=new Fde}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,i=n.document.selection,s=i.getSelectedElement()||Bn(i.getSelectedBlocks());SE(s,n.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(n,i={}){const s=this.editor.model,l=s.document.selection,d=[],f=[];for(const g in i)i[g]?d.push(g):f.push(g);s.change(g=>{if(l.isCollapsed){const w=l.getFirstPosition();if(l.hasAttribute("linkHref")){const y=Wd(w,"linkHref",l.getAttribute("linkHref"),s);g.setAttribute("linkHref",n,y),d.forEach(C=>{g.setAttribute(C,!0,y)}),f.forEach(C=>{g.removeAttribute(C,y)}),g.setSelection(g.createPositionAfter(y.end.nodeBefore))}else if(n!==""){const y=ks(l.getAttributes());y.set("linkHref",n),d.forEach(x=>{y.set(x,!0)});const{end:C}=s.insertContent(g.createText(n,y),w);g.setSelection(C)}["linkHref",...d,...f].forEach(y=>{g.removeSelectionAttribute(y)})}else{const w=s.schema.getValidRanges(l.getRanges(),"linkHref"),y=[];for(const x of l.getSelectedBlocks())s.schema.checkAttribute(x,"linkHref")&&y.push(g.createRangeOn(x));const C=y.slice();for(const x of w)this._isRangeToUpdate(x,y)&&C.push(x);for(const x of C)g.setAttribute("linkHref",n,x),d.forEach(N=>{g.setAttribute(N,!0,x)}),f.forEach(N=>{g.removeAttribute(N,x)})}})}_getDecoratorStateFromModel(n){const i=this.editor.model,s=i.document.selection,l=s.getSelectedElement();return SE(l,i.schema)?l.getAttribute(n):s.getAttribute(n)}_isRangeToUpdate(n,i){for(const s of i)if(s.containsRange(n))return!1;return!0}}class The extends ft{refresh(){const n=this.editor.model,i=n.document.selection,s=i.getSelectedElement();SE(s,n.schema)?this.isEnabled=n.schema.checkAttribute(s,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref")}execute(){const n=this.editor,i=this.editor.model,s=i.document.selection,l=n.commands.get("link");i.change(d=>{const f=s.isCollapsed?[Wd(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const g of f)if(d.removeAttribute("linkHref",g),l)for(const w of l.manualDecorators)d.removeAttribute(w.id,g)})}}class Fz{constructor({id:n,label:i,attributes:s,classes:l,styles:d,defaultValue:f}){this.id=n,this.set("value"),this.defaultValue=f,this.label=i,this.attributes=s,this.classes=l,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}ie(Fz,Me);var jz=a(399),IE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};IE.insert="head",IE.singleton=!0,nt()(jz.Z,IE),jz.Z.locals;const Ihe="ck-link_selected",Vz="automatic",Dhe="manual",Phe=/^(https?:)?\/\//;class Mhe extends he{static get pluginName(){return"LinkEditing"}static get requires(){return[Yw,k5,Ss]}constructor(n){super(n),n.config.define("link",{addTargetToExternalLinks:!1})}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Oz}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,d)=>Oz(Lz(l),d)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),n.commands.add("link",new She(n)),n.commands.add("unlink",new The(n));const i=Che(n.t,Ehe(n.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(l=>l.mode===Vz)),this._enableManualDecorators(i.filter(l=>l.mode===Dhe)),n.plugins.get(Yw).registerAttribute("linkHref"),D5(n,"linkHref","a",Ihe),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const i=this.editor,l=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&l.add({id:"linkIsExternal",mode:Vz,callback:d=>Phe.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),l.add(n),l.length&&i.conversion.for("downcast").add(l.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const i=this.editor,l=i.commands.get("link").manualDecorators;n.forEach(d=>{i.model.schema.extend("$text",{allowAttributes:d.id}),d=new Fz(d),l.add(d),i.conversion.for("downcast").attributeToElement({model:d.id,view:(f,{writer:g,schema:w},{item:y})=>{if((y.is("selection")||w.isInline(y))&&f){const C=g.createAttributeElement("a",d.attributes,{priority:5});d.classes&&g.addClass(d.classes,C);for(const x in d.styles)g.setStyle(x,d.styles[x],C);return g.setCustomProperty("link",!0,C),C}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",...d._createPattern()},model:{key:d.id}})})}_enableLinkOpen(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"click",(l,d)=>{if(!(A.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let g=d.domTarget;if(g.tagName.toLowerCase()!="a"&&(g=g.closest("a")),!g)return;const w=g.getAttribute("href");w&&(l.stop(),d.preventDefault(),zz(w))},{context:"$capture"}),this.listenTo(s,"keydown",(l,d)=>{const f=n.commands.get("link").value;f&&d.keyCode===St.enter&&d.altKey&&(l.stop(),zz(f))})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection;this.listenTo(i,"insertContent",()=>{const l=s.anchor.nodeBefore,d=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&l&&l.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||i.change(f=>{DE(f,PE(i.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const n=this.editor,i=n.model;n.editing.view.addObserver(Hw);let s=!1;this.listenTo(n.editing.view.document,"mousedown",()=>{s=!0}),this.listenTo(n.editing.view.document,"selectionChange",()=>{if(!s)return;s=!1;const l=i.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const d=l.getFirstPosition(),f=Wd(d,"linkHref",l.getAttribute("linkHref"),i);(d.isTouching(f.start)||d.isTouching(f.end))&&i.change(g=>{DE(g,PE(i.schema))})})}_enableTypingOverLink(){const n=this.editor,i=n.editing.view;let s,l;this.listenTo(i.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(n.model,"deleteContent",()=>{const d=n.model.document.selection;if(!d.isCollapsed){if(l){l=!1;return}Uz(n)&&Nhe(n.model)&&(s=d.getAttributes())}},{priority:"high"}),this.listenTo(n.model,"insertContent",(d,[f])=>{l=!1,Uz(n)&&s&&(n.model.change(g=>{for(const[w,y]of s)g.setAttribute(w,y,f)}),s=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const n=this.editor,i=n.model,s=i.document.selection,l=n.editing.view;let d=!1,f=!1;this.listenTo(l.document,"delete",(g,w)=>{f=w.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{d=!1;const g=s.getFirstPosition(),w=s.getAttribute("linkHref");if(!w)return;const y=Wd(g,"linkHref",w,i);d=y.containsPosition(g)||y.end.isEqual(g)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{f&&(f=!1,!d&&n.model.enqueueChange(g=>{DE(g,PE(i.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const n=this.editor,i=n.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(l,d)=>{i.change(f=>{const g=f.createRangeIn(d.content);for(const w of g.getItems())if(w.hasAttribute("linkHref")){const y=TE(w.getAttribute("linkHref"),s);f.setAttribute("linkHref",y,w)}})})}}function DE(c,n){c.removeSelectionAttribute("linkHref");for(const i of n)c.removeSelectionAttribute(i)}function Nhe(c){const n=c.document.selection,i=n.getFirstPosition(),s=n.getLastPosition(),l=i.nodeAfter;if(!l||!l.is("$text")||!l.hasAttribute("linkHref"))return!1;const d=s.textNode||s.nodeBefore;return l===d?!0:Wd(i,"linkHref",l.getAttribute("linkHref"),c).containsRange(c.createRange(i,s),!0)}function Uz(c){return c.model.change(i=>i.batch).isTyping}function PE(c){return c.getDefinition("$text").allowAttributes.filter(i=>i.startsWith("link"))}var $z=a(4827),ME={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ME.insert="head",ME.singleton=!0,nt()($z.Z,ME),$z.Z.locals;class Rhe extends yt{constructor(n,i){super(n);const s=n.t;this.focusTracker=new ji,this.keystrokes=new _o,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),hn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusables=new ua,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children}),p(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,i)=>(n[i.name]=i.isOn,n),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const n=this.locale.t,i=new C1(this.locale,E1);return i.label=n("Link URL"),i}_createButton(n,i,s,l){const d=new Ht(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}_createManualDecoratorSwitches(n){const i=this.createCollection();for(const s of n.manualDecorators){const l=new Ew(this.locale);l.set({name:s.id,label:s.label,withText:!0}),l.bind("isOn").toMany([s,n],"value",(d,f)=>f===void 0&&d===void 0?s.defaultValue:d),l.on("execute",()=>{s.set("value",!l.isOn)}),i.add(l)}return i}_createFormChildren(n){const i=this.createCollection();if(i.add(this.urlInputView),n.length){const s=new yt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var Hz=a(9465),NE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};NE.insert="head",NE.singleton=!0,nt()(Hz.Z,NE),Hz.Z.locals;const Ohe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class Lhe extends yt{constructor(n){super(n);const i=n.t;this.focusTracker=new ji,this.keystrokes=new _o,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),Ohe,"unlink"),this.editButtonView=this._createButton(i("Edit link"),hn.pencil,"edit"),this.set("href"),this._focusables=new ua,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,i,s){const l=new Ht(this.locale);return l.set({label:n,icon:i,tooltip:!0}),l.delegate("execute").to(this,s),l}_createPreviewButton(){const n=new Ht(this.locale),i=this.bindTemplate,s=this.t;return n.set({withText:!0,tooltip:s("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",l=>l&&Lz(l)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",l=>l||s("This link has no URL")),n.bind("isEnabled").to(this,"href",l=>!!l),n.template.tag="a",n.template.eventListeners={},n}}const Bhe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Is="link-ui";class zhe extends he{static get requires(){return[Gw]}static get pluginName(){return"LinkUI"}init(){const n=this.editor;n.editing.view.addObserver(Ese),this.actionsView=null,this.formView=null,this._balloon=n.plugins.get(Gw),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:Is,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:Is,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,i=new Lhe(n.locale),s=n.commands.get("link"),l=n.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{n.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(d,f)=>{this._hideUI(),f()}),i.keystrokes.set(xE,(d,f)=>{this._addFormView(),f()}),i}_createFormView(){const n=this.editor,i=n.commands.get("link"),s=n.config.get("link.defaultProtocol"),l=new Rhe(n.locale,i);return l.urlInputView.fieldView.bind("value").to(i,"value"),l.urlInputView.bind("isReadOnly").to(i,"isEnabled",d=>!d),l.saveButtonView.bind("isEnabled").to(i),this.listenTo(l,"submit",()=>{const{value:d}=l.urlInputView.fieldView.element,f=TE(d,s);n.execute("link",f,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(d,f)=>{this._closeFormView(),f()}),l}_createToolbarLinkButton(){const n=this.editor,i=n.commands.get("link"),s=n.t;n.ui.componentFactory.add("link",l=>{const d=new Ht(l);return d.isEnabled=!0,d.label=s("Link"),d.icon=Bhe,d.keystroke=xE,d.tooltip=!0,d.isToggleable=!0,d.bind("isEnabled").to(i,"isEnabled"),d.bind("isOn").to(i,"value",f=>!!f),this.listenTo(d,"execute",()=>this._showUI(!0)),d})}_enableBalloonActivators(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(xE,(s,l)=>{l(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,i)=>{this._isUIVisible&&(this._hideUI(),i())}),h({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=i.value||""}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,i=n.editing.view.document;let s=this._getSelectedLinkElement(),l=f();const d=()=>{const g=this._getSelectedLinkElement(),w=f();s&&!g||!s&&w!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=g,l=w};function f(){return i.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(n.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,i=this.editor.model,s=n.document;let l=null;if(i.markers.has(Is)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(Is)),f=n.createRange(n.createPositionBefore(d[0]),n.createPositionAfter(d[d.length-1]));l=n.domConverter.viewRangeToDom(f)}else l=()=>{const d=this._getSelectedLinkElement();return d?n.domConverter.mapViewToDom(d):n.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const n=this.editor.editing.view,i=n.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&zn(s))return RE(i.getFirstPosition());{const l=i.getFirstRange().getTrimmed(),d=RE(l.start),f=RE(l.end);return!d||d!=f?null:n.createRangeIn(d).getTrimmed().isEqual(l)?d:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(i=>{const s=n.document.selection.getFirstRange();if(n.markers.has(Is))i.updateMarker(Is,{range:s});else if(s.start.isAtEnd){const l=s.start.getLastMatchingPosition(({item:d})=>!n.schema.isContent(d),{boundaries:s});i.addMarker(Is,{usingOperation:!1,affectsData:!1,range:i.createRange(l,s.end)})}else i.addMarker(Is,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(Is)&&n.change(i=>{i.removeMarker(Is)})}}function RE(c){return c.getAncestors().find(n=>_he(n))}const Fhe=4,jhe=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),Vhe=2;class Uhe extends he{static get requires(){return[pc]}static get pluginName(){return"AutoLink"}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const n=this.editor,i=new E5(n.model,s=>{if(!$he(s))return;const l=qz(s.substr(0,s.length-1));if(l)return{url:l}});i.on("matched:data",(s,l)=>{const{batch:d,range:f,url:g}=l;if(!d.isTyping)return;const w=f.end.getShiftedBy(-1),y=w.getShiftedBy(-g.length),C=n.model.createRange(y,w);this._applyAutoLink(g,C)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,i=n.model,s=n.commands.get("enter");s&&s.on("execute",()=>{const l=i.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const d=i.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const n=this.editor,i=n.model,s=n.commands.get("shiftEnter");s&&s.on("execute",()=>{const l=i.document.selection.getFirstPosition(),d=i.createRange(i.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(n){const i=this.editor.model,{text:s,range:l}=C5(n,i),d=qz(s);if(d){const f=i.createRange(l.end.getShiftedBy(-d.length),l.end);this._applyAutoLink(d,f)}}_applyAutoLink(n,i){const s=this.editor.model,l=this.editor.config.get("link.defaultProtocol"),d=TE(n,l);!this.isEnabled||!Hhe(i,s)||!Bz(d)||qhe(i)||this._persistAutoLink(d,i)}_persistAutoLink(n,i){const s=this.editor.model,l=this.editor.plugins.get("Delete");s.enqueueChange(d=>{d.setAttribute("linkHref",n,i),s.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function $he(c){return c.length>Fhe&&c[c.length-1]===" "&&c[c.length-2]!==" "}function qz(c){const n=jhe.exec(c);return n?n[Vhe]:null}function Hhe(c,n){return n.schema.checkAttributeInSelection(n.createSelection(c),"linkHref")}function qhe(c){const n=c.start.nodeAfter;return n&&n.hasAttribute("linkHref")}class Whe extends he{static get requires(){return[Mhe,zhe,Uhe]}static get pluginName(){return"Link"}}class Wz extends ft{constructor(n,i){super(n),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,s=i.document,l=Array.from(s.selection.getSelectedBlocks()).filter(f=>Kz(f,i.schema)),d=n.forceValue!==void 0?!n.forceValue:this.value;i.change(f=>{if(d){let g=l[l.length-1].nextSibling,w=Number.POSITIVE_INFINITY,y=[];for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")!==0;){const C=g.getAttribute("listIndent");C<w&&(w=C);const x=C-w;y.push({element:g,listIndent:x}),g=g.nextSibling}y=y.reverse();for(const C of y)f.setAttribute("listIndent",C.listIndent,C.element)}if(!d){let g=Number.POSITIVE_INFINITY;for(const w of l)w.is("element","listItem")&&w.getAttribute("listIndent")<g&&(g=w.getAttribute("listIndent"));g=g===0?1:g,Gz(l,!0,g),Gz(l,!1,g)}for(const g of l.reverse())d&&g.name=="listItem"?f.rename(g,"paragraph"):!d&&g.name!="listItem"?(f.setAttributes({listType:this.type,listIndent:0},g),f.rename(g,"listItem")):!d&&g.name=="listItem"&&g.getAttribute("listType")!=this.type&&f.setAttribute("listType",this.type,g);this.fire("_executeCleanup",l)})}_getValue(){const n=Bn(this.editor.model.document.selection.getSelectedBlocks());return!!n&&n.is("element","listItem")&&n.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=Bn(n.getSelectedBlocks());return s?Kz(s,i):!1}}function Gz(c,n,i){const s=n?c[0]:c[c.length-1];if(s.is("element","listItem")){let l=s[n?"previousSibling":"nextSibling"],d=s.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;)d>l.getAttribute("listIndent")&&(d=l.getAttribute("listIndent")),l.getAttribute("listIndent")==d&&c[n?"unshift":"push"](l),l=l[n?"previousSibling":"nextSibling"]}}function Kz(c,n){return n.checkChild(c.parent,"listItem")&&!n.isObject(c)}class Yz extends ft{constructor(n,i){super(n),this._indentBy=i=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,i=n.document;let s=Array.from(i.selection.getSelectedBlocks());n.change(l=>{const d=s[s.length-1];let f=d.nextSibling;for(;f&&f.name=="listItem"&&f.getAttribute("listIndent")>d.getAttribute("listIndent");)s.push(f),f=f.nextSibling;this._indentBy<0&&(s=s.reverse());for(const g of s){const w=g.getAttribute("listIndent")+this._indentBy;w<0?l.rename(g,"paragraph"):l.setAttribute("listIndent",w,g)}this.fire("_executeCleanup",s)})}_checkEnabled(){const n=Bn(this.editor.model.document.selection.getSelectedBlocks());if(!n||!n.is("element","listItem"))return!1;if(this._indentBy>0){const i=n.getAttribute("listIndent"),s=n.getAttribute("listType");let l=n.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;){if(l.getAttribute("listIndent")==i)return l.getAttribute("listType")==s;l=l.previousSibling}return!1}return!0}}function Ghe(c){const n=c.createContainerElement("li");return n.getFillerOffset=efe,n}function Khe(c,n){const i=n.mapper,s=n.writer,l=c.getAttribute("listType")=="numbered"?"ol":"ul",d=Ghe(s),f=s.createContainerElement(l,null);return s.insert(s.createPositionAt(f,0),d),i.bindElements(c,d),d}function Qz(c,n,i,s){const l=n.parent,d=i.mapper,f=i.writer;let g=d.toViewPosition(s.createPositionBefore(c));const w=Jz(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),y=c.previousSibling;if(w&&w.getAttribute("listIndent")==c.getAttribute("listIndent")){const C=d.toViewElement(w);g=f.breakContainer(f.createPositionAfter(C))}else if(y&&y.name=="listItem"){g=d.toViewPosition(s.createPositionAt(y,"end"));const C=d.findMappedViewAncestor(g),x=Yhe(C);x?g=f.createPositionBefore(x):g=f.createPositionAt(C,"end")}else g=d.toViewPosition(s.createPositionBefore(c));if(g=Zz(g),f.insert(g,l),y&&y.name=="listItem"){const C=d.toViewElement(y),N=f.createRange(f.createPositionAt(C,0),g).getWalker({ignoreElementEnd:!0});for(const F of N)if(F.item.is("element","li")){const U=f.breakContainer(f.createPositionBefore(F.item)),G=F.item.parent,ae=f.createPositionAt(n,"end");So(f,ae.nodeBefore,ae.nodeAfter),f.move(f.createRangeOn(G),ae),N.position=U}}else{const C=l.nextSibling;if(C&&(C.is("element","ul")||C.is("element","ol"))){let x=null;for(const N of C.getChildren()){const F=d.toModelElement(N);if(F&&F.getAttribute("listIndent")>c.getAttribute("listIndent"))x=N;else break}x&&(f.breakContainer(f.createPositionAfter(x)),f.move(f.createRangeOn(x.parent),f.createPositionAt(n,"end")))}}So(f,l,l.nextSibling),So(f,l.previousSibling,l)}function So(c,n,i){return!n||!i||n.name!="ul"&&n.name!="ol"||n.name!=i.name||n.getAttribute("class")!==i.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(n))}function Zz(c){return c.getLastMatchingPosition(n=>n.item.is("uiElement"))}function Jz(c,n){const i=!!n.sameIndent,s=!!n.smallerIndent,l=n.listIndent;let d=c;for(;d&&d.name=="listItem";){const f=d.getAttribute("listIndent");if(i&&l==f||s&&l>f)return d;n.direction==="forward"?d=d.nextSibling:d=d.previousSibling}return null}function Xz(c,n,i,s){c.ui.componentFactory.add(n,l=>{const d=c.commands.get(n),f=new Ht(l);return f.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(d,"value","isEnabled"),f.on("execute",()=>{c.execute(n),c.editing.view.focus()}),f})}function Yhe(c){for(const n of c.getChildren())if(n.name=="ul"||n.name=="ol")return n;return null}function OE(c,n){const i=[],s=c.parent,l={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:n},d=s.getAttribute("listIndent"),f=[...new Es(l)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of f){if(!g.is("element","listItem")||g.getAttribute("listIndent")<d)break;if(!(g.getAttribute("listIndent")>d)){if(g.getAttribute("listType")!==s.getAttribute("listType")||g.getAttribute("listStyle")!==s.getAttribute("listStyle")||g.getAttribute("listReversed")!==s.getAttribute("listReversed")||g.getAttribute("listStart")!==s.getAttribute("listStart"))break;n==="backward"?i.unshift(g):i.push(g)}}return i}function Qhe(c){let i=[...c.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const l=c.change(d=>d.createPositionAt(s,0));return[...OE(l,"backward"),...OE(l,"forward")]}).flat();return i=[...new Set(i)],i}const Zhe=["disc","circle","square"],Jhe=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Xhe(c){return Zhe.includes(c)?"bulleted":Jhe.includes(c)?"numbered":null}function efe(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:dO.call(this)}class tfe extends he{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(n){return Xhe(n)}getSelectedListItems(n){return Qhe(n)}getSiblingNodes(n,i){return OE(n,i)}}function eF(c){return(n,i,s)=>{const l=s.consumable;if(!l.test(i.item,"insert")||!l.test(i.item,"attribute:listType")||!l.test(i.item,"attribute:listIndent"))return;l.consume(i.item,"insert"),l.consume(i.item,"attribute:listType"),l.consume(i.item,"attribute:listIndent");const d=i.item,f=Khe(d,s);Qz(d,f,s,c)}}function nfe(c){return(n,i,s)=>{const f=s.mapper.toViewPosition(i.position).getLastMatchingPosition(F=>!F.item.is("element","li")).nodeAfter,g=s.writer;g.breakContainer(g.createPositionBefore(f)),g.breakContainer(g.createPositionAfter(f));const w=f.parent,y=w.previousSibling,C=g.createRangeOn(w),x=g.remove(C);y&&y.nextSibling&&So(g,y,y.nextSibling);const N=s.mapper.toModelElement(f);iF(N.getAttribute("listIndent")+1,i.position,C.start,f,s,c);for(const F of g.createRangeIn(x).getItems())s.mapper.unbindViewElement(F);n.stop()}}const rfe=(c,n,i)=>{if(!i.consumable.test(n.item,c.name))return;const s=i.mapper.toViewElement(n.item),l=i.writer;l.breakContainer(l.createPositionBefore(s)),l.breakContainer(l.createPositionAfter(s));const d=s.parent,f=n.attributeNewValue=="numbered"?"ol":"ul";l.rename(f,d)},ife=(c,n,i)=>{i.consumable.consume(n.item,c.name);const l=i.mapper.toViewElement(n.item).parent,d=i.writer;So(d,l,l.nextSibling),So(d,l.previousSibling,l)};function ofe(c){return(n,i,s)=>{if(!s.consumable.consume(i.item,"attribute:listIndent"))return;const l=s.mapper.toViewElement(i.item),d=s.writer;d.breakContainer(d.createPositionBefore(l)),d.breakContainer(d.createPositionAfter(l));const f=l.parent,g=f.previousSibling,w=d.createRangeOn(f);d.remove(w),g&&g.nextSibling&&So(d,g,g.nextSibling),iF(i.attributeOldValue+1,i.range.start,w.start,l,s,c),Qz(i.item,l,s,c);for(const y of i.item.getChildren())s.consumable.consume(y,"insert")}}const tF=(c,n,i)=>{if(i.consumable.test(n.item,c.name)&&n.item.name!="listItem"){let s=i.mapper.toViewPosition(n.range.start);const l=i.writer,d=[];for(;(s.parent.name=="ul"||s.parent.name=="ol")&&(s=l.breakContainer(s),s.parent.name=="li");){const f=s,g=l.createPositionAt(s.parent,"end");if(!f.isEqual(g)){const w=l.remove(l.createRange(f,g));d.push(w)}s=l.createPositionAfter(s.parent)}if(d.length>0){for(let f=0;f<d.length;f++){const g=s.nodeBefore;if(s=l.insert(s,d[f]).end,f>0){const y=So(l,g,g.nextSibling);y&&y.parent==g&&s.offset--}}So(l,s.nodeBefore,s.nodeAfter)}}},sfe=(c,n,i)=>{const s=i.mapper.toViewPosition(n.position),l=s.nodeBefore,d=s.nodeAfter;So(i.writer,l,d)},afe=(c,n,i)=>{if(i.consumable.consume(n.viewItem,{name:!0})){const s=i.writer,l=s.createElement("listItem"),d=pfe(n.viewItem);s.setAttribute("listIndent",d,l);const f=n.viewItem.parent&&n.viewItem.parent.name=="ol"?"numbered":"bulleted";if(s.setAttribute("listType",f,l),!i.safeInsert(l,n.modelCursor))return;const g=hfe(l,n.viewItem.getChildren(),i);n.modelRange=s.createRange(n.modelCursor,g),i.updateConversionResult(l,n)}},nF=(c,n,i)=>{if(i.consumable.test(n.viewItem,{name:!0})){const s=Array.from(n.viewItem.getChildren());for(const l of s)!(l.is("element","li")||Qd(l))&&l._remove()}},cfe=(c,n,i)=>{if(i.consumable.test(n.viewItem,{name:!0})){if(n.viewItem.childCount===0)return;const s=[...n.viewItem.getChildren()];let l=!1;for(const d of s)l&&!Qd(d)&&d._remove(),Qd(d)&&(l=!0)}};function rF(c){return(n,i)=>{if(i.isPhantom)return;const s=i.modelPosition.nodeBefore;if(s&&s.is("element","listItem")){const l=i.mapper.toViewElement(s),d=l.getAncestors().find(Qd),f=c.createPositionAt(l,0).getWalker();for(const g of f)if(g.type=="elementStart"&&g.item.is("element","li")){i.viewPosition=g.previousPosition;break}else if(g.type=="elementEnd"&&g.item==d){i.viewPosition=g.nextPosition;break}}}}function lfe(c){return(n,i)=>{const s=i.viewPosition,l=s.parent,d=i.mapper;if(l.name=="ul"||l.name=="ol"){if(s.isAtEnd){const f=d.toModelElement(s.nodeBefore),g=d.getModelLength(s.nodeBefore);i.modelPosition=c.createPositionBefore(f).getShiftedBy(g)}else{const f=d.toModelElement(s.nodeAfter);i.modelPosition=c.createPositionBefore(f)}n.stop()}else if(l.name=="li"&&s.nodeBefore&&(s.nodeBefore.name=="ul"||s.nodeBefore.name=="ol")){const f=d.toModelElement(l);let g=1,w=s.nodeBefore;for(;w&&Qd(w);)g+=d.getModelLength(w),w=w.previousSibling;i.modelPosition=c.createPositionBefore(f).getShiftedBy(g),n.stop()}}}function ufe(c,n){const i=c.document.differ.getChanges(),s=new Map;let l=!1;for(const w of i)if(w.type=="insert"&&w.name=="listItem")d(w.position);else if(w.type=="insert"&&w.name!="listItem"){if(w.name!="$text"){const C=w.position.nodeAfter;C.hasAttribute("listIndent")&&(n.removeAttribute("listIndent",C),l=!0),C.hasAttribute("listType")&&(n.removeAttribute("listType",C),l=!0),C.hasAttribute("listStyle")&&(n.removeAttribute("listStyle",C),l=!0),C.hasAttribute("listReversed")&&(n.removeAttribute("listReversed",C),l=!0),C.hasAttribute("listStart")&&(n.removeAttribute("listStart",C),l=!0);for(const x of Array.from(c.createRangeIn(C)).filter(N=>N.item.is("element","listItem")))d(x.previousPosition)}const y=w.position.getShiftedBy(w.length);d(y)}else w.type=="remove"&&w.name=="listItem"?d(w.position):(w.type=="attribute"&&w.attributeKey=="listIndent"||w.type=="attribute"&&w.attributeKey=="listType")&&d(w.range.start);for(const w of s.values())f(w),g(w);return l;function d(w){const y=w.nodeBefore;if(!y||!y.is("element","listItem")){const C=w.nodeAfter;C&&C.is("element","listItem")&&s.set(C,C)}else{let C=y;if(s.has(C))return;for(let x=C.previousSibling;x&&x.is("element","listItem");x=C.previousSibling)if(C=x,s.has(C))return;s.set(y,C)}}function f(w){let y=0,C=null;for(;w&&w.is("element","listItem");){const x=w.getAttribute("listIndent");if(x>y){let N;C===null?(C=x-y,N=y):(C>x&&(C=x),N=x-C),n.setAttribute("listIndent",N,w),l=!0}else C=null,y=w.getAttribute("listIndent")+1;w=w.nextSibling}}function g(w){let y=[],C=null;for(;w&&w.is("element","listItem");){const x=w.getAttribute("listIndent");if(C&&C.getAttribute("listIndent")>x&&(y=y.slice(0,x+1)),x!=0)if(y[x]){const N=y[x];w.getAttribute("listType")!=N&&(n.setAttribute("listType",N,w),l=!0)}else y[x]=w.getAttribute("listType");C=w,w=w.nextSibling}}}const dfe=function(c,[n,i,s]){const l=this;let d=n.is("documentFragment")?n.getChild(0):n,f;if(i?f=l.createSelection(i,s):f=l.document.selection,d&&d.is("element","listItem")){const g=f.getFirstPosition();let w=null;if(g.parent.is("element","listItem")?w=g.parent:g.nodeBefore&&g.nodeBefore.is("element","listItem")&&(w=g.nodeBefore),w){const y=w.getAttribute("listIndent");if(y>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+y),d=d.nextSibling}}};function hfe(c,n,i){const{writer:s,schema:l}=i;let d=s.createPositionAfter(c);for(const f of n)if(f.name=="ul"||f.name=="ol")d=i.convertItem(f,d).modelCursor;else{const g=i.convertItem(f,s.createPositionAt(c,"end")),w=g.modelRange.start.nodeAfter;w&&w.is("element")&&!l.checkChild(c,w.name)&&(g.modelCursor.parent.is("element","listItem")?c=g.modelCursor.parent:c=ffe(g.modelCursor),d=s.createPositionAfter(c))}return d}function ffe(c){const n=new Es({startPosition:c});let i;do i=n.next();while(!i.value.item.is("element","listItem"));return i.value.item}function iF(c,n,i,s,l,d){const f=Jz(n.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),g=l.mapper,w=l.writer,y=f?f.getAttribute("listIndent"):null;let C;if(!f)C=i;else if(y==c){const x=g.toViewElement(f).parent;C=w.createPositionAfter(x)}else{const x=d.createPositionAt(f,"end");C=g.toViewPosition(x)}C=Zz(C);for(const x of[...s.getChildren()])Qd(x)&&(C=w.move(w.createRangeOn(x),C).end,So(w,x,x.nextSibling),So(w,x.previousSibling,x))}function Qd(c){return c.is("element","ol")||c.is("element","ul")}function pfe(c){let n=0,i=c.parent;for(;i;){if(i.is("element","li"))n++;else{const s=i.previousSibling;s&&s.is("element","li")&&n++}i=i.parent}return n}var oF=a(9989),LE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};LE.insert="head",LE.singleton=!0,nt()(oF.Z,LE),oF.Z.locals;class mfe extends he{static get pluginName(){return"ListEditing"}static get requires(){return[Xw,pc,tfe]}init(){const n=this.editor;n.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const i=n.data,s=n.editing;n.model.document.registerPostFixer(d=>ufe(n.model,d)),s.mapper.registerViewToModelLength("li",BE),i.mapper.registerViewToModelLength("li",BE),s.mapper.on("modelToViewPosition",rF(s.view)),s.mapper.on("viewToModelPosition",lfe(n.model)),i.mapper.on("modelToViewPosition",rF(s.view)),n.conversion.for("editingDowncast").add(d=>{d.on("insert",tF,{priority:"high"}),d.on("insert:listItem",eF(n.model)),d.on("attribute:listType:listItem",rfe,{priority:"high"}),d.on("attribute:listType:listItem",ife,{priority:"low"}),d.on("attribute:listIndent:listItem",ofe(n.model)),d.on("remove:listItem",nfe(n.model)),d.on("remove",sfe,{priority:"low"})}),n.conversion.for("dataDowncast").add(d=>{d.on("insert",tF,{priority:"high"}),d.on("insert:listItem",eF(n.model))}),n.conversion.for("upcast").add(d=>{d.on("element:ul",nF,{priority:"high"}),d.on("element:ol",nF,{priority:"high"}),d.on("element:li",cfe,{priority:"high"}),d.on("element:li",afe)}),n.model.on("insertContent",dfe,{priority:"high"}),n.commands.add("numberedList",new Wz(n,"numbered")),n.commands.add("bulletedList",new Wz(n,"bulleted")),n.commands.add("indentList",new Yz(n,"forward")),n.commands.add("outdentList",new Yz(n,"backward"));const l=s.view.document;this.listenTo(l,"enter",(d,f)=>{const g=this.editor.model.document,w=g.selection.getLastPosition().parent;g.selection.isCollapsed&&w.name=="listItem"&&w.isEmpty&&(this.editor.execute("outdentList"),f.preventDefault(),d.stop())},{context:"li"}),this.listenTo(l,"delete",(d,f)=>{if(f.direction!=="backward")return;const g=this.editor.model.document.selection;if(!g.isCollapsed)return;const w=g.getFirstPosition();if(!w.isAtStart)return;const y=w.parent;y.name!=="listItem"||y.previousSibling&&y.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),f.preventDefault(),d.stop())},{context:"li"}),this.listenTo(n.editing.view.document,"tab",(d,f)=>{const g=f.shiftKey?"outdentList":"indentList";this.editor.commands.get(g).isEnabled&&(n.execute(g),f.stopPropagation(),f.preventDefault(),d.stop())},{context:"li"})}afterInit(){const n=this.editor.commands,i=n.get("indent"),s=n.get("outdent");i&&i.registerChildCommand(n.get("indentList")),s&&s.registerChildCommand(n.get("outdentList"))}}function BE(c){let n=1;for(const i of c.getChildren())if(i.name=="ul"||i.name=="ol")for(const s of i.getChildren())n+=BE(s);return n}const gfe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',bfe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class wfe extends he{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;Xz(this.editor,"numberedList",n("Numbered List"),gfe),Xz(this.editor,"bulletedList",n("Bulleted List"),bfe)}}class kfe extends he{static get requires(){return[mfe,wfe]}static get pluginName(){return"List"}}function sF(c,n){return s=>{s.on("attribute:url:media",i)};function i(s,l,d){if(!d.consumable.consume(l.item,s.name))return;const f=l.attributeNewValue,g=d.writer,w=d.mapper.toViewElement(l.item),y=[...w.getChildren()].find(x=>x.getCustomProperty("media-content"));g.remove(y);const C=c.getMediaViewElement(g,f,n);g.insert(g.createPositionAt(w,0),C)}}function vfe(c,n,i){return n.setCustomProperty("media",!0,c),Q1(c,n,{label:i})}function aF(c,n,i,s){return c.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(c,i,s),c.createSlot()])}function cF(c){const n=c.getSelectedElement();return n&&n.is("element","media")?n:null}function lF(c,n,i,s){c.change(l=>{const d=l.createElement("media",{url:n});c.insertObject(d,i,null,{setSelection:"on",findOptimalPosition:s})})}class yfe extends ft{refresh(){const n=this.editor.model,i=n.document.selection,s=cF(i);this.value=s?s.getAttribute("url"):null,this.isEnabled=Afe(i)||_fe(i,n)}execute(n){const i=this.editor.model,s=i.document.selection,l=cF(s);l?i.change(d=>{d.setAttribute("url",n,l)}):lF(i,n,s,!0)}}function _fe(c,n){let s=aB(c,n).start.parent;return s.isEmpty&&!n.schema.isLimit(s)&&(s=s.parent),n.schema.checkChild(s,"media")}function Afe(c){const n=c.getSelectedElement();return!!n&&n.name==="media"}const Cfe='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',Efe="0 0 64 42";class xfe{constructor(n,i){const s=i.providers,l=i.extraProviders||[],d=new Set(i.removeProviders),f=s.concat(l).filter(g=>{const w=g.name;return w?!d.has(w):(Be("media-embed-no-provider-name",{provider:g}),!1)});this.locale=n,this.providerDefinitions=f}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,i,s){return this._getMedia(i).getViewElement(n,s)}_getMedia(n){if(!n)return new uF(this.locale);n=n.trim();for(const i of this.providerDefinitions){const s=i.html,l=Tr(i.url);for(const d of l){const f=this._getUrlMatches(n,d);if(f)return new uF(this.locale,n,f,s)}}return null}_getUrlMatches(n,i){let s=n.match(i);if(s)return s;let l=n.replace(/^https?:\/\//,"");return s=l.match(i),s||(l=l.replace(/^www\./,""),s=l.match(i),s)?s:null}}class uF{constructor(n,i,s,l){this.url=this._getValidUrl(i),this._locale=n,this._match=s,this._previewRenderer=l}getViewElement(n,i){const s={};let l;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const d=this._getPreviewHtml(i);l=n.createRawElement("div",s,(f,g)=>{g.setContentOf(f,d)})}else this.url&&(s.url=this.url),l=n.createEmptyElement(i.elementName,s);return n.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new Vl,i=this._locale.t;return n.content=Cfe,n.viewBox=Efe,new Vi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var dF=a(952),zE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zE.insert="head",zE.singleton=!0,nt()(dF.Z,zE),dF.Z.locals;class sk extends he{static get pluginName(){return"MediaEmbedEditing"}constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],l=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new xfe(n.locale,n.config.get("mediaEmbed"))}init(){const n=this.editor,i=n.model.schema,s=n.t,l=n.conversion,d=n.config.get("mediaEmbed.previewsInData"),f=n.config.get("mediaEmbed.elementName"),g=this.registry;n.commands.add("mediaEmbed",new yfe(n)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:y})=>{const C=w.getAttribute("url");return aF(y,g,C,{elementName:f,renderMediaPreview:C&&d})}}),l.for("dataDowncast").add(sF(g,{elementName:f,renderMediaPreview:d})),l.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:y})=>{const C=w.getAttribute("url"),x=aF(y,g,C,{elementName:f,renderForEditingView:!0});return vfe(x,y,s("media widget"))}}),l.for("editingDowncast").add(sF(g,{elementName:f,renderForEditingView:!0})),l.for("upcast").elementToElement({view:w=>["oembed",f].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:y})=>{const C=w.getAttribute("url");if(g.hasMedia(C))return y.createElement("media",{url:C})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:y})=>{const C=w.getAttribute("data-oembed-url");if(g.hasMedia(C))return y.createElement("media",{url:C})}}).add(w=>{w.on("element:figure",y);function y(C,x,N){if(!N.consumable.consume(x.viewItem,{name:!0,classes:"media"}))return;const{modelRange:F,modelCursor:U}=N.convertChildren(x.viewItem,x.modelCursor);x.modelRange=F,x.modelCursor=U,Bn(F.getItems())||N.consumable.revert(x.viewItem,{name:!0,classes:"media"})}})}}const Sfe=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Tfe extends he{static get requires(){return[CB,pc,IB]}static get pluginName(){return"AutoMediaEmbed"}constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}init(){const n=this.editor,i=n.model.document;this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const s=i.selection.getFirstRange(),l=Gr.fromPosition(s.start);l.stickiness="toPrevious";const d=Gr.fromPosition(s.end);d.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(l,d),l.detach(),d.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(vt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,i){const s=this.editor,l=s.plugins.get(sk).registry,d=new Xo(n,i),f=d.getWalker({ignoreElementEnd:!0});let g="";for(const y of f)y.item.is("$textProxy")&&(g+=y.item.data);if(g=g.trim(),!g.match(Sfe)){d.detach();return}if(!l.hasMedia(g)){d.detach();return}if(!s.commands.get("mediaEmbed").isEnabled){d.detach();return}this._positionToInsert=Gr.fromPosition(n),this._timeoutId=vt.window.setTimeout(()=>{s.model.change(y=>{this._timeoutId=null,y.remove(d),d.detach();let C;this._positionToInsert.root.rootName!=="$graveyard"&&(C=this._positionToInsert),lF(s.model,g,C,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get("Delete").requestUndoOnBackspace()},100)}}var hF=a(3525),FE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};FE.insert="head",FE.singleton=!0,nt()(hF.Z,FE),hF.Z.locals;class Ife extends yt{constructor(n,i){super(i);const s=i.t;this.focusTracker=new ji,this.keystrokes=new _o,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(s("Cancel"),hn.cancel,"ck-button-cancel","cancel"),this._focusables=new ua,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),p(this)}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const i=s=>s.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",(s,l)=>{l.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,i=new C1(this.locale,E1),s=i.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),i.label=n("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(n,i,s,l){const d=new Ht(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}}const Dfe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class Pfe extends he{static get requires(){return[sk]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,i=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",s=>{const l=Eo(s);return this._setUpDropdown(l,i),l})}_setUpDropdown(n,i){const s=this.editor,l=s.t,d=n.buttonView,f=s.plugins.get(sk).registry;n.once("change:isOpen",()=>{const g=new Ife(Mfe(s.t,f),s.locale);n.panelView.children.add(g),d.on("open",()=>{g.disableCssTransitions(),g.url=i.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{g.isValid()&&(s.execute("mediaEmbed",g.url),s.editing.view.focus())}),n.on("change:isOpen",()=>g.resetFormStatus()),n.on("cancel",()=>{s.editing.view.focus()}),g.delegate("submit","cancel").to(n),g.urlInputView.bind("value").to(i,"value"),g.urlInputView.bind("isReadOnly").to(i,"isEnabled",w=>!w)}),n.bind("isEnabled").to(i),d.set({label:l("Insert media"),icon:Dfe,tooltip:!0})}}function Mfe(c,n){return[i=>{if(!i.url.length)return c("The URL must not be empty.")},i=>{if(!n.hasMedia(i.url))return c("This media URL is not supported.")}]}var fF=a(5777),jE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jE.insert="head",jE.singleton=!0,nt()(fF.Z,jE),fF.Z.locals;class Nfe extends he{static get requires(){return[sk,Pfe,Tfe,Dp]}static get pluginName(){return"MediaEmbed"}}function Rfe(c,n){for(const i of c.getChildren())if(i.is("element","b")&&i.getStyle("font-weight")==="normal"){const s=c.getChildIndex(i);n.remove(i),n.insertChild(s,i.getChildren(),c)}}function Ofe(c,n){const i=new Nw(n.document.stylesProcessor),s=new Bw(i,{renderingMode:"data"}),l=s.blockElements,d=s.inlineObjectElements,f=[];for(const g of n.createRangeIn(c)){const w=g.item;if(w.is("element","br")){const y=pF(w,"forward",n,{blockElements:l,inlineObjectElements:d}),C=pF(w,"backward",n,{blockElements:l,inlineObjectElements:d}),x=mF(y,l);(mF(C,l)||x)&&f.push(w)}}for(const g of f)g.hasClass("Apple-interchange-newline")?n.remove(g):n.replace(g,n.createElement("p"))}function pF(c,n,i,{blockElements:s,inlineObjectElements:l}){let d=i.createPositionAt(c,n=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:f})=>f.is("element")&&!s.includes(f.name)&&!l.includes(f.name),{direction:n}),n=="forward"?d.nodeAfter:d.nodeBefore}function mF(c,n){return!!c&&c.is("element")&&n.includes(c.name)}function Lfe(c,n){if(!c.childCount)return;const i=new Xl(c.document),s=zfe(c,i);if(!s.length)return;let l=null,d=1;s.forEach((f,g)=>{const w=Wfe(s[g-1],f),y=w?null:s[g-1],C=Kfe(y,f);if(w&&(l=null,d=1),!l||C!==0){const N=Ffe(f,n);if(!l)l=gF(N,f.element,i);else if(f.indent>d){const F=l.getChild(l.childCount-1),U=F.getChild(F.childCount-1);l=gF(N,U,i),d+=1}else if(f.indent<d){const F=d-f.indent;l=Yfe(l,F),d=f.indent}f.indent<=d&&(l.is("element",N.type)||(l=i.rename(N.type,l)))}const x=$fe(f.element,i);i.appendChild(x,l)})}function Bfe(c,n){for(const i of n.createRangeIn(c)){const s=i.item;if(s.is("element","li")){const l=s.getChild(0);l&&l.is("element","p")&&n.unwrapElement(l)}}}function zfe(c,n){const i=n.createRangeIn(c),s=new ys({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),l=[];for(const d of i)if(d.type==="elementStart"&&s.match(d.item)){const f=Hfe(d.item);l.push({element:d.item,id:f.id,order:f.order,indent:f.indent})}return l}function Ffe(c,n){const i=new RegExp(`@list l${c.id}:level${c.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,d=i.exec(n);let f="decimal",g="ol",w=null;if(d&&d[1]){const y=s.exec(d[1]);if(y&&y[1]&&(f=y[1].trim(),g=f!=="bullet"&&f!=="image"?"ol":"ul"),f==="bullet"){const C=jfe(c.element);C&&(f=C)}else{const C=l.exec(d[1]);C&&C[1]&&(w=parseInt(C[1]))}}return{type:g,startIndex:w,style:Ufe(f)}}function jfe(c){const n=Vfe(c);if(!n)return null;const i=n._data;return i==="o"?"circle":i===""?"disc":i===""?"square":null}function Vfe(c){if(c.getChild(0).is("$text"))return null;for(const n of c.getChildren()){if(!n.is("element","span"))continue;const i=n.getChild(0);return i.is("$text")?i:i.getChild(0)}return null}function Ufe(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function gF(c,n,i){const s=n.parent,l=i.createElement(c.type),d=s.getChildIndex(n)+1;return i.insertChild(d,l,s),c.style&&i.setStyle("list-style-type",c.style,l),c.startIndex&&c.startIndex>1&&i.setAttribute("start",c.startIndex,l),l}function $fe(c,n){return qfe(c,n),n.rename("li",c)}function Hfe(c){const n={},i=c.getStyle("mso-list");if(i){const s=i.match(/(^|\s{1,100})l(\d+)/i),l=i.match(/\s{0,100}lfo(\d+)/i),d=i.match(/\s{0,100}level(\d+)/i);s&&l&&d&&(n.id=s[2],n.order=l[1],n.indent=parseInt(d[1]))}return n}function qfe(c,n){const i=new ys({name:"span",styles:{"mso-list":"Ignore"}}),s=n.createRangeIn(c);for(const l of s)l.type==="elementStart"&&i.match(l.item)&&n.remove(l.item)}function Wfe(c,n){if(!c)return!0;if(c.id!==n.id)return n.indent-c.indent!==1;const i=n.element.previousSibling;return i?!Gfe(i):!0}function Gfe(c){return c.is("element","ol")||c.is("element","ul")}function Kfe(c,n){return c?n.indent-c.indent:n.indent-1}function Yfe(c,n){const i=c.getAncestors({parentFirst:!0});let s=null,l=0;for(const d of i)if((d.is("element","ul")||d.is("element","ol"))&&l++,l===n){s=d;break}return s}const Qfe=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Zfe{constructor(n){this.document=n}isActive(n){return Qfe.test(n)}execute(n){const i=new Xl(this.document),{body:s}=n._parsedData;Rfe(s,i),Bfe(s,i),Ofe(s,i),n.content=s}}function Jfe(c,n){if(!c.childCount)return;const i=new Xl(c.document),s=epe(c,i);tpe(s,c,i),rpe(s,c,i),npe(c,i);const l=ipe(c,i);l.length&&spe(l,ope(n),i)}function Xfe(c){return btoa(c.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}function epe(c,n){const i=n.createRangeIn(c),s=new ys({name:/v:(.+)/}),l=[];for(const d of i){if(d.type!="elementStart")continue;const f=d.item,g=f.previousSibling,w=g&&g.is("element")?g.name:null;s.match(f)&&f.getAttribute("o:gfxdata")&&w!=="v:shapetype"&&l.push(d.item.getAttribute("id"))}return l}function tpe(c,n,i){const s=i.createRangeIn(n),l=new ys({name:"img"}),d=[];for(const f of s)if(f.item.is("element")&&l.match(f.item)){const g=f.item,w=g.getAttribute("v:shapes")?g.getAttribute("v:shapes").split(" "):[];w.length&&w.every(y=>c.indexOf(y)>-1)?d.push(g):g.getAttribute("src")||d.push(g)}for(const f of d)i.remove(f)}function npe(c,n){const i=n.createRangeIn(c),s=new ys({name:/v:(.+)/}),l=[];for(const d of i)d.type=="elementStart"&&s.match(d.item)&&l.push(d.item);for(const d of l)n.remove(d)}function rpe(c,n,i){const s=i.createRangeIn(n),l=[];for(const g of s)if(g.type=="elementStart"&&g.item.is("element","v:shape")){const w=g.item.getAttribute("id");if(c.includes(w))continue;d(g.item.parent.getChildren(),w)||l.push(g.item)}for(const g of l){const w={src:f(g)};g.hasAttribute("alt")&&(w.alt=g.getAttribute("alt"));const y=i.createElement("img",w);i.insertChild(g.index+1,y,g.parent)}function d(g,w){for(const y of g)if(y.is("element")&&(y.name=="img"&&y.getAttribute("v:shapes")==w||d(y.getChildren(),w)))return!0;return!1}function f(g){for(const w of g.getChildren())if(w.is("element")&&w.getAttribute("src"))return w.getAttribute("src")}}function ipe(c,n){const i=n.createRangeIn(c),s=new ys({name:"img"}),l=[];for(const d of i)d.item.is("element")&&s.match(d.item)&&d.item.getAttribute("src").startsWith("file://")&&l.push(d.item);return l}function ope(c){if(!c)return[];const n=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,i=new RegExp("(?:("+n.source+"))([\\da-fA-F\\s]+)\\}","g"),s=c.match(i),l=[];if(s)for(const d of s){let f=!1;d.includes("\\pngblip")?f="image/png":d.includes("\\jpegblip")&&(f="image/jpeg"),f&&l.push({hex:d.replace(n,"").replace(/[^\da-fA-F]/g,""),type:f})}return l}function spe(c,n,i){if(c.length===n.length)for(let s=0;s<c.length;s++){const l=`data:${n[s].type};base64,${Xfe(n[s].hex)}`;i.setAttribute("src",l,c[s])}}const ape=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,cpe=/xmlns:o="urn:schemas-microsoft-com/i;class lpe{constructor(n){this.document=n}isActive(n){return ape.test(n)||cpe.test(n)}execute(n){const{body:i,stylesString:s}=n._parsedData;Lfe(i,s),Jfe(i,n.dataTransfer.getData("text/rtf")),n.content=i}}function upe(c){return bF(bF(c)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function dpe(c){c.querySelectorAll("span[style*=spacerun]").forEach(n=>{const i=n,s=i.innerText.length||0;i.innerText=Array(s+1).join(" ").substr(0,s)})}function bF(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function hpe(c,n){const i=new DOMParser;c=c.replace(/<!--\[if gte vml 1]>/g,"");const s=upe(mpe(c)),l=i.parseFromString(s,"text/html");dpe(l);const d=l.body.innerHTML,f=fpe(l,n),g=ppe(l);return{body:f,bodyString:d,styles:g.styles,stylesString:g.stylesString}}function fpe(c,n){const i=new Nw(n),s=new Bw(i,{renderingMode:"data"}),l=c.createDocumentFragment(),d=c.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);return s.domToView(l,{skipComments:!0})}function ppe(c){const n=[],i=[],s=Array.from(c.getElementsByTagName("style"));for(const l of s)l.sheet&&l.sheet.cssRules&&l.sheet.cssRules.length&&(n.push(l.sheet),i.push(l.innerHTML));return{styles:n,stylesString:i.join(" ")}}function mpe(c){const n="</body>",i="</html>",s=c.indexOf(n);if(s<0)return c;const l=c.indexOf(i,s+n.length);return c.substring(0,s+n.length)+(l>=0?c.substring(l):"")}class gpe extends he{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ss]}init(){const n=this.editor,i=n.editing.view.document,s=[];s.push(new lpe(i)),s.push(new Zfe(i)),n.plugins.get("ClipboardPipeline").on("inputTransformation",(l,d)=>{if(d._isTransformedWithPasteFromOffice||n.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const g=d.dataTransfer.getData("text/html"),w=s.find(y=>y.isActive(g));w&&(d._parsedData=hpe(g,i.stylesProcessor),w.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}class bpe extends he{static get requires(){return[uE,xo]}static get pluginName(){return"PictureEditing"}afterInit(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),n.plugins.has("ImageInlineEditing")&&n.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const n=this.editor,i=n.conversion,s=n.plugins.get("ImageUtils");i.for("upcast").add(Lue(s)),i.for("downcast").add(Bue(s))}_setupImageUploadEditingIntegration(){const n=this.editor;n.plugins.has("ImageUploadEditing")&&this.listenTo(n.plugins.get("ImageUploadEditing"),"uploadComplete",(i,{imageElement:s,data:l})=>{const d=l.sources;d&&n.model.change(f=>{f.setAttributes({sources:d},s)})})}}function Yn(c,n,i,s,l=1){n>l?s.setAttribute(c,n,i):s.removeAttribute(c,i)}function iu(c,n,i={}){const s=c.createElement("tableCell",i);return c.insertElement("paragraph",s),c.insert(s,n),s}function VE(c,n){const i=n.parent.parent,s=parseInt(i.getAttribute("headingColumns")||0),{column:l}=c.getCellLocation(n);return!!s&&l<s}function wpe(){return c=>{c.on("element:figure",(n,i,s)=>{if(!s.consumable.test(i.viewItem,{name:!0,classes:"table"}))return;const l=ype(i.viewItem);if(!l||!s.consumable.test(l,{name:!0}))return;s.consumable.consume(i.viewItem,{name:!0,classes:"table"});const d=s.convertItem(l,i.modelCursor),f=Bn(d.modelRange.getItems());if(!f){s.consumable.revert(i.viewItem,{name:!0,classes:"table"});return}s.convertChildren(i.viewItem,s.writer.createPositionAt(f,"end")),s.updateConversionResult(f,i)})}}function kpe(){return c=>{c.on("element:table",(n,i,s)=>{const l=i.viewItem;if(!s.consumable.test(l,{name:!0}))return;const{rows:d,headingRows:f,headingColumns:g}=_pe(l),w={};g&&(w.headingColumns=g),f&&(w.headingRows=f);const y=s.writer.createElement("table",w);if(s.safeInsert(y,i.modelCursor)){if(s.consumable.consume(l,{name:!0}),d.forEach(C=>s.convertItem(C,s.writer.createPositionAt(y,"end"))),s.convertChildren(l,s.writer.createPositionAt(y,"end")),y.isEmpty){const C=s.writer.createElement("tableRow");s.writer.insert(C,s.writer.createPositionAt(y,"end")),iu(s.writer,s.writer.createPositionAt(C,"end"))}s.updateConversionResult(y,i)}})}}function vpe(){return c=>{c.on("element:tr",(n,i)=>{i.viewItem.isEmpty&&i.modelCursor.index==0&&n.stop()},{priority:"high"})}}function wF(c){return n=>{n.on(`element:${c}`,(i,s,{writer:l})=>{if(!s.modelRange)return;const d=s.modelRange.start.nodeAfter,f=l.createPositionAt(d,0);if(s.viewItem.isEmpty){l.insertElement("paragraph",f);return}const g=Array.from(d.getChildren());if(g.every(w=>w.is("element","$marker"))){const w=l.createElement("paragraph");l.insert(w,l.createPositionAt(d,0));for(const y of g)l.move(l.createRangeOn(y),l.createPositionAt(w,"end"))}},{priority:"low"})}}function ype(c){for(const n of c.getChildren())if(n.is("element","table"))return n}function _pe(c){const n={headingRows:0,headingColumns:0},i=[],s=[];let l;for(const d of Array.from(c.getChildren()))if(d.name==="tbody"||d.name==="thead"||d.name==="tfoot"){d.name==="thead"&&!l&&(l=d);const f=Array.from(d.getChildren()).filter(g=>g.is("element","tr"));for(const g of f)if(g.parent.name==="thead"&&g.parent===l)n.headingRows++,i.push(g);else{s.push(g);const w=Ape(g);w>n.headingColumns&&(n.headingColumns=w)}}return n.rows=[...i,...s],n}function Ape(c){let n=0,i=0;const s=Array.from(c.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;i<s.length&&s[i].name==="th";){const l=s[i],d=parseInt(l.getAttribute("colspan")||1);n=n+d,i++}return n}class Wt{constructor(n,i={}){this._table=n,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const l=n.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const d=parseInt(l.getAttribute("colspan")||1),f=parseInt(l.getAttribute("rowspan")||1);(d>1||f>1)&&this._recordSpans(l,f,d),this._shouldSkipSlot()||(i=this._formatOutValue(l)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,i=this._row,s=this._column){return{done:!1,value:new Cpe(this,n,i,s)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),i=this._row<this._startRow,s=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return n||i||s||l}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,i,s){const l={cell:n,row:this._row,column:this._column};for(let d=this._row;d<this._row+i;d++)for(let f=this._column;f<this._column+s;f++)(d!=this._row||f!=this._column)&&this._markSpannedCell(d,f,l)}_markSpannedCell(n,i,s){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(i,s)}}class Cpe{constructor(n,i,s,l){this.cell=i,this.row=n._row,this.column=n._column,this.cellAnchorRow=s,this.cellAnchorColumn=l,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function kF(c,n={}){return(i,{writer:s})=>{const l=i.getAttribute("headingRows")||0,d=[];l>0&&d.push(s.createContainerElement("thead",null,s.createSlot(g=>g.is("element","tableRow")&&g.index<l))),l<c.getRows(i)&&d.push(s.createContainerElement("tbody",null,s.createSlot(g=>g.is("element","tableRow")&&g.index>=l)));const f=s.createContainerElement("figure",{class:"table"},[s.createContainerElement("table",null,d),s.createSlot(g=>!g.is("element","tableRow"))]);return n.asWidget?xpe(f,s):f}}function Epe(){return(c,{writer:n})=>c.isEmpty?n.createEmptyElement("tr"):n.createContainerElement("tr")}function vF(c={}){return(n,{writer:i})=>{const s=n.parent,l=s.parent,d=l.getChildIndex(s),f=new Wt(l,{row:d}),g=l.getAttribute("headingRows")||0,w=l.getAttribute("headingColumns")||0;for(const y of f)if(y.cell==n){const x=y.row<g||y.column<w?"th":"td";return c.asWidget?sB(i.createEditableElement(x),i):i.createContainerElement(x)}}}function yF(c={}){return(n,{writer:i})=>{if(n.parent.is("element","tableCell")&&_F(n)){if(c.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}}function _F(c){return c.parent.childCount==1&&!Spe(c)}function xpe(c,n){return n.setCustomProperty("table",!0,c),Q1(c,n,{hasSelectionHandle:!0})}function Spe(c){return!![...c.getAttributeKeys()].length}class Tpe extends ft{refresh(){const n=this.editor.model,i=n.document.selection,s=n.schema;this.isEnabled=Ipe(i,s)}execute(n={}){const i=this.editor.model,s=this.editor.plugins.get("TableUtils"),l=this.editor.config.get("table"),d=l.defaultHeadings.rows,f=l.defaultHeadings.columns;n.headingRows===void 0&&d&&(n.headingRows=d),n.headingColumns===void 0&&f&&(n.headingColumns=f),i.change(g=>{const w=s.createTable(g,n);i.insertObject(w,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}function Ipe(c,n){const i=c.getFirstPosition().parent,s=i===i.root?i:i.parent;return n.checkChild(s,"table")}class AF extends ft{constructor(n,i={}){super(n),this.order=i.order||"below"}refresh(){const n=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=s}execute(){const n=this.editor,i=n.model.document.selection,s=n.plugins.get("TableUtils"),l=this.order==="above",d=s.getSelectionAffectedTableCells(i),f=s.getRowIndexes(d),g=l?f.first:f.last,w=d[0].findAncestor("table");s.insertRows(w,{at:l?g:g+1,copyStructureFromAbove:!l})}}class CF extends ft{constructor(n,i={}){super(n),this.order=i.order||"right"}refresh(){const n=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=s}execute(){const n=this.editor,i=n.model.document.selection,s=n.plugins.get("TableUtils"),l=this.order==="left",d=s.getSelectionAffectedTableCells(i),f=s.getColumnIndexes(d),g=l?f.first:f.last,w=d[0].findAncestor("table");s.insertColumns(w,{columns:1,at:l?g:g+1})}}class EF extends ft{constructor(n,i={}){super(n),this.direction=i.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(i,2):n.splitCellVertically(i,2)}}function xF(c,n,i){const{startRow:s,startColumn:l,endRow:d,endColumn:f}=n,g=i.createElement("table"),w=d-s+1;for(let C=0;C<w;C++)i.insertElement("tableRow",g,"end");const y=[...new Wt(c,{startRow:s,endRow:d,startColumn:l,endColumn:f,includeAllSlots:!0})];for(const{row:C,column:x,cell:N,isAnchor:F,cellAnchorRow:U,cellAnchorColumn:G}of y){const ae=C-s,Te=g.getChild(ae);if(!F)(U<s||G<l)&&iu(i,i.createPositionAt(Te,"end"));else{const Oe=i.cloneElement(N);i.append(Oe,Te),PF(Oe,C,x,d,f,i)}}return Dpe(g,c,s,l,i),g}function SF(c,n,i=0){const s=[],l=new Wt(c,{startRow:i,endRow:n-1});for(const d of l){const{row:f,cellHeight:g}=d,w=f+g-1;f<n&&n<=w&&s.push(d)}return s}function TF(c,n,i){const s=c.parent,l=s.parent,d=s.index,f=parseInt(c.getAttribute("rowspan")),g=n-d,w={},y=f-g;y>1&&(w.rowspan=y);const C=parseInt(c.getAttribute("colspan")||1);C>1&&(w.colspan=C);const x=d,N=x+g,F=[...new Wt(l,{startRow:x,endRow:N,includeAllSlots:!0})];let U=null,G;for(const ae of F){const{row:Te,column:Oe,cell:Tt}=ae;Tt===c&&G===void 0&&(G=Oe),G!==void 0&&G===Oe&&Te===N&&(U=iu(i,ae.getPositionBefore(),w))}return Yn("rowspan",g,c,i),U}function IF(c,n){const i=[],s=new Wt(c);for(const l of s){const{column:d,cellWidth:f}=l,g=d+f-1;d<n&&n<=g&&i.push(l)}return i}function DF(c,n,i,s){const l=parseInt(c.getAttribute("colspan")),d=i-n,f={},g=l-d;g>1&&(f.colspan=g);const w=parseInt(c.getAttribute("rowspan")||1);w>1&&(f.rowspan=w);const y=iu(s,s.createPositionAfter(c),f);return Yn("colspan",d,c,s),y}function PF(c,n,i,s,l,d){const f=parseInt(c.getAttribute("colspan")||1),g=parseInt(c.getAttribute("rowspan")||1);if(i+f-1>l){const C=l-i+1;Yn("colspan",C,c,d,1)}if(n+g-1>s){const C=s-n+1;Yn("rowspan",C,c,d,1)}}function Dpe(c,n,i,s,l){const d=parseInt(n.getAttribute("headingRows")||0);if(d>0){const g=d-i;Yn("headingRows",g,c,l,0)}const f=parseInt(n.getAttribute("headingColumns")||0);if(f>0){const g=f-s;Yn("headingColumns",g,c,l,0)}}function UE(c,n){const i=n.getColumns(c),s=new Array(i).fill(0);for(const{column:d}of new Wt(c))s[d]++;const l=s.reduce((d,f,g)=>f?d:[...d,g],[]);if(l.length>0){const d=l[l.length-1];return n.removeColumns(c,{at:d}),!0}return!1}function $E(c,n){const i=[],s=n.getRows(c);for(let l=0;l<s;l++)c.getChild(l).isEmpty&&i.push(l);if(i.length>0){const l=i[i.length-1];return n.removeRows(c,{at:l}),!0}return!1}function HE(c,n){UE(c,n)||$E(c,n)}function MF(c,n){const i=Array.from(new Wt(c,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(i.every(({cellHeight:d})=>d===1))return n.lastRow;const l=i[0].cellHeight-1;return n.lastRow+l}function NF(c,n){const i=Array.from(new Wt(c,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(i.every(({cellWidth:d})=>d===1))return n.lastColumn;const l=i[0].cellWidth-1;return n.lastColumn+l}class ak extends ft{constructor(n,i){super(n),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,i=n.document,l=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],d=this.value,f=this.direction;n.change(g=>{const w=f=="right"||f=="down",y=w?l:d,C=w?d:l,x=C.parent;Npe(C,y,g);const N=this.isHorizontal?"colspan":"rowspan",F=parseInt(l.getAttribute(N)||1),U=parseInt(d.getAttribute(N)||1);g.setAttribute(N,F+U,y),g.setSelection(g.createRangeIn(y));const G=this.editor.plugins.get("TableUtils"),ae=x.findAncestor("table");HE(ae,G)})}_getMergeableCell(){const i=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),l=s.getTableCellsContainingSelection(i.selection)[0];if(!l)return;const d=this.isHorizontal?Ppe(l,this.direction,s):Mpe(l,this.direction,s);if(!d)return;const f=this.isHorizontal?"rowspan":"colspan",g=parseInt(l.getAttribute(f)||1);if(parseInt(d.getAttribute(f)||1)===g)return d}}function Ppe(c,n,i){const l=c.parent.parent,d=n=="right"?c.nextSibling:c.previousSibling,f=(l.getAttribute("headingColumns")||0)>0;if(!d)return;const g=n=="right"?c:d,w=n=="right"?d:c,{column:y}=i.getCellLocation(g),{column:C}=i.getCellLocation(w),x=parseInt(g.getAttribute("colspan")||1),N=VE(i,g),F=VE(i,w);return f&&N!=F?void 0:y+x===C?d:void 0}function Mpe(c,n,i){const s=c.parent,l=s.parent,d=l.getChildIndex(s);if(n=="down"&&d===i.getRows(l)-1||n=="up"&&d===0)return;const f=parseInt(c.getAttribute("rowspan")||1),g=l.getAttribute("headingRows")||0,w=n=="down"&&d+f===g,y=n=="up"&&d===g;if(g&&(w||y))return;const C=parseInt(c.getAttribute("rowspan")||1),x=n=="down"?d+C:d,N=[...new Wt(l,{endRow:x})],U=N.find(ae=>ae.cell===c).column,G=N.find(({row:ae,cellHeight:Te,column:Oe})=>Oe!==U?!1:n=="down"?ae===x:x===ae+Te);return G&&G.cell}function Npe(c,n,i){RF(c)||(RF(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(c),i.createPositionAt(n,"end"))),i.remove(c)}function RF(c){return c.childCount==1&&c.getChild(0).is("element","paragraph")&&c.getChild(0).isEmpty}class Rpe extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const l=s.findAncestor("table"),f=this.editor.plugins.get("TableUtils").getRows(l)-1,g=n.getRowIndexes(i),w=g.first===0&&g.last===f;this.isEnabled=!w}else this.isEnabled=!1}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=i.getRowIndexes(s),d=s[0],f=d.findAncestor("table"),g=i.getCellLocation(d).column;n.change(w=>{const y=l.last-l.first+1;i.removeRows(f,{at:l.first,rows:y});const C=Ope(f,l.first,g,i.getRows(f));w.setSelection(w.createPositionAt(C,0))})}}function Ope(c,n,i,s){const l=c.getChild(Math.min(n,s-1));let d=l.getChild(0),f=0;for(const g of l.getChildren()){if(f>i)return d;d=g,f+=parseInt(g.getAttribute("colspan")||1)}return d}class Lpe extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const l=s.findAncestor("table"),d=n.getColumns(l),{first:f,last:g}=n.getColumnIndexes(i);this.isEnabled=g-f<d-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[i,s]=zpe(this.editor.model.document.selection,n),l=i.parent.parent,d=[...new Wt(l)],f={first:d.find(w=>w.cell===i).column,last:d.find(w=>w.cell===s).column},g=Bpe(d,i,s,f);this.editor.model.change(w=>{const y=f.last-f.first+1;this.editor.plugins.get("TableUtils").removeColumns(l,{at:f.first,columns:y}),w.setSelection(w.createPositionAt(g,0))})}}function Bpe(c,n,i,s){return parseInt(i.getAttribute("colspan")||1)>1?i:n.previousSibling||i.nextSibling?i.nextSibling||n.previousSibling:s.first?c.reverse().find(({column:d})=>d<s.first).cell:c.reverse().find(({column:d})=>d>s.last).cell}function zpe(c,n){const i=n.getSelectionAffectedTableCells(c),s=i[0],l=i.pop(),d=[s,l];return s.isBefore(l)?d:d.reverse()}class Fpe extends ft{refresh(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=n.getSelectionAffectedTableCells(i.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(d=>this._isInHeading(d,d.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=i.getSelectionAffectedTableCells(s.document.selection),d=l[0].findAncestor("table"),{first:f,last:g}=i.getRowIndexes(l),w=this.value?f:g+1,y=d.getAttribute("headingRows")||0;s.change(C=>{if(w){const x=w>y?y:0,N=SF(d,w,x);for(const{cell:F}of N)TF(F,w,C)}Yn("headingRows",w,d,C,0)})}_isInHeading(n,i){const s=parseInt(i.getAttribute("headingRows")||0);return!!s&&n.parent.index<s}}class jpe extends ft{refresh(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(d=>VE(i,d))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=i.getSelectionAffectedTableCells(s.document.selection),d=l[0].findAncestor("table"),{first:f,last:g}=i.getColumnIndexes(l),w=this.value?f:g+1;s.change(y=>{if(w){const C=IF(d,w);for(const{cell:x,column:N}of C)DF(x,N,w,y)}Yn("headingColumns",w,d,y,0)})}}class Kr extends he{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const i=n.parent,s=i.parent,l=s.getChildIndex(i),d=new Wt(s,{row:l});for(const{cell:f,row:g,column:w}of d)if(f===n)return{row:g,column:w}}createTable(n,i){const s=n.createElement("table"),l=parseInt(i.rows)||2,d=parseInt(i.columns)||2;return qE(n,s,0,l,d),i.headingRows&&Yn("headingRows",Math.min(i.headingRows,l),s,n,0),i.headingColumns&&Yn("headingColumns",Math.min(i.headingColumns,d),s,n,0),s}insertRows(n,i={}){const s=this.editor.model,l=i.at||0,d=i.rows||1,f=i.copyStructureFromAbove!==void 0,g=i.copyStructureFromAbove?l-1:l,w=this.getRows(n),y=this.getColumns(n);if(l>w)throw new O("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(C=>{const x=n.getAttribute("headingRows")||0;if(x>l&&Yn("headingRows",x+d,n,C,0),!f&&(l===0||l===w)){qE(C,n,l,d,y);return}const N=f?Math.max(l,g):l,F=new Wt(n,{endRow:N}),U=new Array(y).fill(1);for(const{row:G,column:ae,cellHeight:Te,cellWidth:Oe,cell:Tt}of F){const fn=G+Te-1,Qn=G<l&&l<=fn,Ge=G<=g&&g<=fn;Qn?(C.setAttribute("rowspan",Te+d,Tt),U[ae]=-Oe):f&&Ge&&(U[ae]=Oe)}for(let G=0;G<d;G++){const ae=C.createElement("tableRow");C.insert(ae,n,l);for(let Te=0;Te<U.length;Te++){const Oe=U[Te],Tt=C.createPositionAt(ae,"end");Oe>0&&iu(C,Tt,Oe>1?{colspan:Oe}:null),Te+=Math.abs(Oe)-1}}})}insertColumns(n,i={}){const s=this.editor.model,l=i.at||0,d=i.columns||1;s.change(f=>{const g=n.getAttribute("headingColumns");l<g&&f.setAttribute("headingColumns",g+d,n);const w=this.getColumns(n);if(l===0||w===l){for(const C of n.getChildren())C.is("element","tableRow")&&Zd(d,f,f.createPositionAt(C,l?"end":0));return}const y=new Wt(n,{column:l,includeAllSlots:!0});for(const C of y){const{row:x,cell:N,cellAnchorColumn:F,cellAnchorRow:U,cellWidth:G,cellHeight:ae}=C;if(F<l){f.setAttribute("colspan",G+d,N);const Te=U+ae-1;for(let Oe=x;Oe<=Te;Oe++)y.skipRow(Oe)}else Zd(d,f,C.getPositionBefore())}})}removeRows(n,i){const s=this.editor.model,l=i.rows||1,d=this.getRows(n),f=i.at,g=f+l-1;if(g>d-1)throw new O("tableutils-removerows-row-index-out-of-range",this,{table:n,options:i});s.change(w=>{const{cellsToMove:y,cellsToTrim:C}=$pe(n,f,g);if(y.size){const x=g+1;Hpe(n,x,y,w)}for(let x=g;x>=f;x--)w.remove(n.getChild(x));for(const{rowspan:x,cell:N}of C)Yn("rowspan",x,N,w);Upe(n,f,g,w),UE(n,this)||$E(n,this)})}removeColumns(n,i){const s=this.editor.model,l=i.at,d=i.columns||1,f=i.at+d-1;s.change(g=>{Vpe(n,{first:l,last:f},g);for(let w=f;w>=l;w--)for(const{cell:y,column:C,cellWidth:x}of[...new Wt(n)])C<=w&&x>1&&C+x>w?Yn("colspan",x-1,y,g):C===w&&g.remove(y);$E(n,this)||UE(n,this)})}splitCellVertically(n,i=2){const s=this.editor.model,d=n.parent.parent,f=parseInt(n.getAttribute("rowspan")||1),g=parseInt(n.getAttribute("colspan")||1);s.change(w=>{if(g>1){const{newCellsSpan:y,updatedSpan:C}=OF(g,i);Yn("colspan",C,n,w);const x={};y>1&&(x.colspan=y),f>1&&(x.rowspan=f);const N=g>i?i-1:g-1;Zd(N,w,w.createPositionAfter(n),x)}if(g<i){const y=i-g,C=[...new Wt(d)],{column:x}=C.find(({cell:G})=>G===n),N=C.filter(({cell:G,cellWidth:ae,column:Te})=>{const Oe=G!==n&&Te===x,Tt=Te<x&&Te+ae>x;return Oe||Tt});for(const{cell:G,cellWidth:ae}of N)w.setAttribute("colspan",ae+y,G);const F={};f>1&&(F.rowspan=f),Zd(y,w,w.createPositionAfter(n),F);const U=d.getAttribute("headingColumns")||0;U>x&&Yn("headingColumns",U+y,d,w)}})}splitCellHorizontally(n,i=2){const s=this.editor.model,l=n.parent,d=l.parent,f=d.getChildIndex(l),g=parseInt(n.getAttribute("rowspan")||1),w=parseInt(n.getAttribute("colspan")||1);s.change(y=>{if(g>1){const C=[...new Wt(d,{startRow:f,endRow:f+g-1,includeAllSlots:!0})],{newCellsSpan:x,updatedSpan:N}=OF(g,i);Yn("rowspan",N,n,y);const{column:F}=C.find(({cell:G})=>G===n),U={};x>1&&(U.rowspan=x),w>1&&(U.colspan=w);for(const G of C){const{column:ae,row:Te}=G,Oe=Te>=f+N,Tt=ae===F,fn=(Te+f+N)%x===0;Oe&&Tt&&fn&&Zd(1,y,G.getPositionBefore(),U)}}if(g<i){const C=i-g,x=[...new Wt(d,{startRow:0,endRow:f})];for(const{cell:U,cellHeight:G,row:ae}of x)if(U!==n&&ae+G>f){const Te=G+C;y.setAttribute("rowspan",Te,U)}const N={};w>1&&(N.colspan=w),qE(y,d,f+1,C,1,N);const F=d.getAttribute("headingRows")||0;F>f&&Yn("headingRows",F+C,d,y)}})}getColumns(n){return[...n.getChild(0).getChildren()].reduce((s,l)=>{const d=parseInt(l.getAttribute("colspan")||1);return s+d},0)}getRows(n){return Array.from(n.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(n,i={}){return new Wt(n,i)}getSelectedTableCells(n){const i=[];for(const s of this.sortRanges(n.getRanges())){const l=s.getContainedElement();l&&l.is("element","tableCell")&&i.push(l)}return i}getTableCellsContainingSelection(n){const i=[];for(const s of n.getRanges()){const l=s.start.findAncestor("tableCell");l&&i.push(l)}return i}getSelectionAffectedTableCells(n){const i=this.getSelectedTableCells(n);return i.length?i:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const i=n.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(n){const i=n[0].findAncestor("table"),l=[...new Wt(i)].filter(d=>n.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(l)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const i=new Set,s=new Set;let l=0;for(const f of n){const{row:g,column:w}=this.getCellLocation(f),y=parseInt(f.getAttribute("rowspan")||1),C=parseInt(f.getAttribute("colspan")||1);i.add(g),s.add(w),y>1&&i.add(g+y-1),C>1&&s.add(w+C-1),l+=y*C}return Wpe(i,s)==l}sortRanges(n){return Array.from(n).sort(qpe)}_getFirstLastIndexesObject(n){const i=n.sort((d,f)=>d-f),s=i[0],l=i[i.length-1];return{first:s,last:l}}_areCellInTheSameTableSection(n){const i=n[0].findAncestor("table"),s=this.getRowIndexes(n),l=parseInt(i.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(s,l))return!1;const d=parseInt(i.getAttribute("headingColumns")||0),f=this.getColumnIndexes(n);return this._areIndexesInSameSection(f,d)}_areIndexesInSameSection({first:n,last:i},s){const l=n<s,d=i<s;return l===d}}function qE(c,n,i,s,l,d={}){for(let f=0;f<s;f++){const g=c.createElement("tableRow");c.insert(g,n,i),Zd(l,c,c.createPositionAt(g,"end"),d)}}function Zd(c,n,i,s={}){for(let l=0;l<c;l++)iu(n,i,s)}function OF(c,n){if(c<n)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(c/n),s=c-i*n+i;return{newCellsSpan:i,updatedSpan:s}}function Vpe(c,n,i){const s=c.getAttribute("headingColumns")||0;if(s&&n.first<s){const l=Math.min(s-1,n.last)-n.first+1;i.setAttribute("headingColumns",s-l,c)}}function Upe(c,n,i,s){const l=c.getAttribute("headingRows")||0;if(n<l){const d=i<l?l-(i-n+1):n;Yn("headingRows",d,c,s,0)}}function $pe(c,n,i){const s=new Map,l=[];for(const{row:d,column:f,cellHeight:g,cell:w}of new Wt(c,{endRow:i})){const y=d+g-1;if(d>=n&&d<=i&&y>i){const N=i-d+1,F=g-N;s.set(f,{cell:w,rowspan:F})}if(d<n&&y>=n){let N;y>=i?N=i-n+1:N=y-n+1,l.push({cell:w,rowspan:g-N})}}return{cellsToMove:s,cellsToTrim:l}}function Hpe(c,n,i,s){const d=[...new Wt(c,{includeAllSlots:!0,row:n})],f=c.getChild(n);let g;for(const{column:w,cell:y,isAnchor:C}of d)if(i.has(w)){const{cell:x,rowspan:N}=i.get(w),F=g?s.createPositionAfter(g):s.createPositionAt(f,0);s.move(s.createRangeOn(x),F),Yn("rowspan",N,x,s),g=x}else C&&(g=y)}function qpe(c,n){const i=c.start,s=n.start;return i.isBefore(s)?-1:1}function Wpe(c,n){const i=Array.from(c.values()),s=Array.from(n.values()),l=Math.max(...i),d=Math.min(...i),f=Math.max(...s),g=Math.min(...s);return(l-d+1)*(f-g+1)}class Gpe extends ft{refresh(){const n=this.editor.plugins.get(Kr),i=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(i,this.editor.plugins.get(Kr))}execute(){const n=this.editor.model,i=this.editor.plugins.get(Kr);n.change(s=>{const l=i.getSelectedTableCells(n.document.selection),d=l.shift(),{mergeWidth:f,mergeHeight:g}=Ype(d,l,i);Yn("colspan",f,d,s),Yn("rowspan",g,d,s);for(const y of l)Kpe(y,d,s);const w=d.findAncestor("table");HE(w,i),s.setSelection(d,"in")})}}function Kpe(c,n,i){LF(c)||(LF(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(c),i.createPositionAt(n,"end"))),i.remove(c)}function LF(c){return c.childCount==1&&c.getChild(0).is("element","paragraph")&&c.getChild(0).isEmpty}function Ype(c,n,i){let s=0,l=0;for(const y of n){const{row:C,column:x}=i.getCellLocation(y);s=BF(y,x,s,"colspan"),l=BF(y,C,l,"rowspan")}const{row:d,column:f}=i.getCellLocation(c),g=s-f,w=l-d;return{mergeWidth:g,mergeHeight:w}}function BF(c,n,i,s){const l=parseInt(c.getAttribute(s)||1);return Math.max(i,n+l)}class Qpe extends ft{constructor(n){super(n),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=i.getRowIndexes(s),d=s[0].findAncestor("table"),f=[];for(let g=l.first;g<=l.last;g++)for(const w of d.getChild(g).getChildren())f.push(n.createRangeOn(w));n.change(g=>{g.setSelection(f)})}}class Zpe extends ft{constructor(n){super(n),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=n.getSelectionAffectedTableCells(i.document.selection),l=s[0],d=s.pop(),f=l.findAncestor("table"),g=n.getCellLocation(l),w=n.getCellLocation(d),y=Math.min(g.column,w.column),C=Math.max(g.column,w.column),x=[];for(const N of new Wt(f,{startColumn:y,endColumn:C}))x.push(i.createRangeOn(N.cell));i.change(N=>{N.setSelection(x)})}}function Jpe(c){c.document.registerPostFixer(n=>Xpe(n,c))}function Xpe(c,n){const i=n.document.differ.getChanges();let s=!1;const l=new Set;for(const d of i){let f;d.name=="table"&&d.type=="insert"&&(f=d.position.nodeAfter),(d.name=="tableRow"||d.name=="tableCell")&&(f=d.position.findAncestor("table")),ime(d)&&(f=d.range.start.findAncestor("table")),f&&!l.has(f)&&(s=eme(f,c)||s,s=tme(f,c)||s,l.add(f))}return s}function eme(c,n){let i=!1;const s=nme(c);if(s.length){i=!0;for(const l of s)Yn("rowspan",l.rowspan,l.cell,n,1)}return i}function tme(c,n){let i=!1;const s=rme(c),l=[];for(const[w,y]of s.entries())!y&&c.getChild(w).is("element","tableRow")&&l.push(w);if(l.length){i=!0;for(const w of l.reverse())n.remove(c.getChild(w)),s.splice(w,1)}const d=s.filter((w,y)=>c.getChild(y).is("element","tableRow")),f=d[0];if(!d.every(w=>w===f)){const w=d.reduce((y,C)=>C>y?C:y,0);for(const[y,C]of d.entries()){const x=w-C;if(x){for(let N=0;N<x;N++)iu(n,n.createPositionAt(c.getChild(y),"end"));i=!0}}}return i}function nme(c){const n=parseInt(c.getAttribute("headingRows")||0),i=Array.from(c.getChildren()).reduce((l,d)=>d.is("element","tableRow")?l+1:l,0),s=[];for(const{row:l,cell:d,cellHeight:f}of new Wt(c)){if(f<2)continue;const w=l<n?n:i;if(l+f>w){const y=w-l;s.push({cell:d,rowspan:y})}}return s}function rme(c){const n=new Array(c.childCount).fill(0);for(const{rowIndex:i}of new Wt(c,{includeAllSlots:!0}))n[i]++;return n}function ime(c){const n=c.type==="attribute",i=c.attributeKey;return n&&(i==="headingRows"||i==="colspan"||i==="rowspan")}function ome(c){c.document.registerPostFixer(n=>sme(n,c))}function sme(c,n){const i=n.document.differ.getChanges();let s=!1;for(const l of i)l.type=="insert"&&l.name=="table"&&(s=ame(l.position.nodeAfter,c)||s),l.type=="insert"&&l.name=="tableRow"&&(s=zF(l.position.nodeAfter,c)||s),l.type=="insert"&&l.name=="tableCell"&&(s=WE(l.position.nodeAfter,c)||s),cme(l)&&(s=WE(l.position.parent,c)||s);return s}function ame(c,n){let i=!1;for(const s of c.getChildren())s.is("element","tableRow")&&(i=zF(s,n)||i);return i}function zF(c,n){let i=!1;for(const s of c.getChildren())i=WE(s,n)||i;return i}function WE(c,n){if(c.childCount==0)return n.insertElement("paragraph",c),!0;const i=Array.from(c.getChildren()).filter(s=>s.is("$text"));for(const s of i)n.wrap(n.createRangeOn(s),"paragraph");return!!i.length}function cme(c){return!c.position||!c.position.parent.is("element","tableCell")?!1:c.type=="insert"&&c.name=="$text"||c.type=="remove"}function lme(c,n){const i=c.document.differ;for(const s of i.getChanges()){let l,d=!1;if(s.type=="attribute"){const y=s.range.start.nodeAfter;if(!y||!y.is("element","table")||s.attributeKey!="headingRows"&&s.attributeKey!="headingColumns")continue;l=y,d=s.attributeKey=="headingRows"}else(s.name=="tableRow"||s.name=="tableCell")&&(l=s.position.findAncestor("table"),d=s.name=="tableRow");if(!l)continue;const f=l.getAttribute("headingRows")||0,g=l.getAttribute("headingColumns")||0,w=new Wt(l);for(const y of w){const x=y.row<f||y.column<g?"th":"td",N=n.mapper.toViewElement(y.cell);N&&N.is("element")&&N.name!=x&&n.reconvertItem(d?y.cell.parent:y.cell)}}}function ume(c,n){const i=c.document.differ,s=new Set;for(const l of i.getChanges()){const d=l.type=="attribute"?l.range.start.parent:l.position.parent;d.is("element","tableCell")&&s.add(d)}for(const l of s.values()){const d=Array.from(l.getChildren()).filter(f=>dme(f,n.mapper));for(const f of d)n.reconvertItem(f)}}function dme(c,n){if(!c.is("element","paragraph"))return!1;const i=n.toViewElement(c);return i?_F(c)!==i.is("element","span"):!1}var FF=a(4777),GE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};GE.insert="head",GE.singleton=!0,nt()(FF.Z,GE),FF.Z.locals;class hme extends he{static get pluginName(){return"TableEditing"}static get requires(){return[Kr]}init(){const n=this.editor,i=n.model,s=i.schema,l=n.conversion,d=n.plugins.get(Kr);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(wpe()),l.for("upcast").add(kpe()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:kF(d,{asWidget:!0})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:kF(d)}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(vpe()),l.for("downcast").elementToElement({model:"tableRow",view:Epe()}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(wF("td")),l.for("upcast").add(wF("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:vF({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:vF()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:yF({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:yF(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:jF("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:jF("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new Tpe(n)),n.commands.add("insertTableRowAbove",new AF(n,{order:"above"})),n.commands.add("insertTableRowBelow",new AF(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new CF(n,{order:"left"})),n.commands.add("insertTableColumnRight",new CF(n,{order:"right"})),n.commands.add("removeTableRow",new Rpe(n)),n.commands.add("removeTableColumn",new Lpe(n)),n.commands.add("splitTableCellVertically",new EF(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new EF(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Gpe(n)),n.commands.add("mergeTableCellRight",new ak(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new ak(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new ak(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new ak(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new jpe(n)),n.commands.add("setTableRowHeader",new Fpe(n)),n.commands.add("selectTableRow",new Qpe(n)),n.commands.add("selectTableColumn",new Zpe(n)),Jpe(i),ome(i),this.listenTo(i.document,"change:data",()=>{lme(i,n.editing),ume(i,n.editing)})}}function jF(c){return n=>{const i=parseInt(n.getAttribute(c));return Number.isNaN(i)||i<=0?null:i}}var VF=a(8085),KE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};KE.insert="head",KE.singleton=!0,nt()(VF.Z,KE),VF.Z.locals;class fme extends yt{constructor(n){super(n);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new _o,this.focusTracker=new ji,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,l)=>`${l}  ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,l)=>{const{row:d,column:f}=l.target.dataset;this.items.get((parseInt(d,10)-1)*10+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,l,d)=>{if(!d)return;const{row:f,column:g}=d.dataset;this.set({rows:parseInt(f),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),b({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,i=this.columns;this.items.map((s,l)=>{const d=Math.floor(l/10),f=l%10,g=d<n&&f<i;s.set("isOn",g)})}_createGridButton(n,i,s,l){const d=new Ht(n);return d.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":i,"data-column":s}}),d}_createGridCollection(){const n=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),l=i%10,d=`${s+1}  ${l+1}`;n.push(this._createGridButton(this.locale,s+1,l+1,d))}return this.createCollection(n)}}const pme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',mme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',gme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',bme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class wme extends he{static get pluginName(){return"TableUI"}init(){const n=this.editor,i=this.editor.t,l=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",d=>{const f=n.commands.get("insertTable"),g=Eo(d);g.bind("isEnabled").to(f),g.buttonView.set({icon:pme,label:i("Insert table"),tooltip:!0});let w;return g.on("change:isOpen",()=>{w||(w=new fme(d),g.panelView.children.add(w),w.delegate("execute").to(g),g.on("execute",()=>{n.execute("insertTable",{rows:w.rows,columns:w.columns}),n.editing.view.focus()}))}),g}),n.ui.componentFactory.add("tableColumn",d=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:l?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:l?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),mme,f,d)}),n.ui.componentFactory.add("tableRow",d=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),gme,f,d)}),n.ui.componentFactory.add("mergeTableCells",d=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:l?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:l?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),bme,f,d)})}_prepareDropdown(n,i,s,l){const d=this.editor,f=Eo(l),g=this._fillDropdownWithListOptions(f,s);return f.buttonView.set({label:n,icon:i,tooltip:!0}),f.bind("isEnabled").toMany(g,"isEnabled",(...w)=>w.some(y=>y)),this.listenTo(f,"execute",w=>{d.execute(w.source.commandName),w.source instanceof Ew||d.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(n,i,s,l){const d=this.editor,f=Eo(l,xw),g="mergeTableCells",w=d.commands.get(g),y=this._fillDropdownWithListOptions(f,s);return f.buttonView.set({label:n,icon:i,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([w,...y],"isEnabled",(...C)=>C.some(x=>x)),this.listenTo(f.buttonView,"execute",()=>{d.execute(g),d.editing.view.focus()}),this.listenTo(f,"execute",C=>{d.execute(C.source.commandName),d.editing.view.focus()}),f}_fillDropdownWithListOptions(n,i){const s=this.editor,l=[],d=new yi;for(const f of i)kme(f,s,l,d);return xp(n,d),l}}function kme(c,n,i,s){const l=c.model=new Sp(c.model),{commandName:d,bindIsOn:f}=c.model;if(c.type==="button"||c.type==="switchbutton"){const g=n.commands.get(d);i.push(g),l.set({commandName:d}),l.bind("isEnabled").to(g),f&&l.bind("isOn").to(g,"value")}l.set({withText:!0}),s.add(c)}var UF=a(5593),YE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};YE.insert="head",YE.singleton=!0,nt()(UF.Z,YE),UF.Z.locals;class ou extends he{static get pluginName(){return"TableSelection"}static get requires(){return[Kr,Kr]}init(){const n=this.editor,i=n.model,s=n.editing.view;this.listenTo(i,"deleteContent",(l,d)=>this._handleDeleteContent(l,d),{priority:"high"}),this.listenTo(s.document,"insertText",(l,d)=>this._handleInsertTextEvent(l,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(Kr),i=this.editor.model.document.selection,s=n.getSelectedTableCells(i);return s.length==0?null:s}getSelectionAsFragment(){const n=this.editor.plugins.get(Kr),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const l=s.createDocumentFragment(),{first:d,last:f}=n.getColumnIndexes(i),{first:g,last:w}=n.getRowIndexes(i),y=i[0].findAncestor("table");let C=w,x=f;if(n.isSelectionRectangular(i)){const U={firstColumn:d,lastColumn:f,firstRow:g,lastRow:w};C=MF(y,U),x=NF(y,U)}const F=xF(y,{startRow:g,startColumn:d,endRow:C,endColumn:x},s);return s.insert(F,l,0),l}):null}setCellSelection(n,i){const s=this._getCellsToSelect(n,i);this.editor.model.change(l=>{l.setSelection(s.cells.map(d=>l.createRangeOn(d)),{backward:s.backward})})}getFocusCell(){const s=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return s&&s.is("element","tableCell")?s:null}getAnchorCell(){const n=this.editor.model.document.selection,s=Bn(n.getRanges()).getContainedElement();return s&&s.is("element","tableCell")?s:null}_defineSelectionConverter(){const n=this.editor,i=new Set;n.conversion.for("editingDowncast").add(l=>l.on("selection",(d,f,g)=>{const w=g.writer;s(w);const y=this.getSelectedTableCells();if(!y)return;for(const x of y){const N=g.mapper.toViewElement(x);w.addClass("ck-editor__editable_selected",N),i.add(N)}const C=g.mapper.toViewElement(y[y.length-1]);w.setSelection(C,0)},{priority:"lowest"}));function s(l){for(const d of i)l.removeClass("ck-editor__editable_selected",d);i.clear()}}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;n.model.change(s=>{const l=s.createPositionAt(i[0],0),d=n.model.schema.getNearestSelectionRange(l);s.setSelection(d)})}})}_handleDeleteContent(n,i){const s=this.editor.plugins.get(Kr),[l,d]=i,f=this.editor.model,g=!d||d.direction=="backward",w=s.getSelectedTableCells(l);w.length&&(n.stop(),f.change(y=>{const C=w[g?w.length-1:0];f.change(N=>{for(const F of w)f.deleteContent(N.createSelection(F,"in"))});const x=f.schema.getNearestSelectionRange(y.createPositionAt(C,0));l.is("documentSelection")?y.setSelection(x):l.setTo(x)}))}_handleInsertTextEvent(n,i){const s=this.editor,d=s.model.document.selection,f=this.getSelectedTableCells(d);if(!f)return;const g=s.editing.view,w=s.editing.mapper,y=f.map(C=>g.createRangeOn(w.toViewElement(C)));i.selection=g.createSelection(y)}_getCellsToSelect(n,i){const s=this.editor.plugins.get("TableUtils"),l=s.getCellLocation(n),d=s.getCellLocation(i),f=Math.min(l.row,d.row),g=Math.max(l.row,d.row),w=Math.min(l.column,d.column),y=Math.max(l.column,d.column),C=new Array(g-f+1).fill(null).map(()=>[]),x={startRow:f,endRow:g,startColumn:w,endColumn:y};for(const{row:U,cell:G}of new Wt(n.findAncestor("table"),x))C[U-f].push(G);const N=d.row<l.row,F=d.column<l.column;return N&&C.reverse(),F&&C.forEach(U=>U.reverse()),{cells:C.flat(),backward:N||F}}}class vme extends he{static get pluginName(){return"TableClipboard"}static get requires(){return[ou,Kr]}init(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"copy",(s,l)=>this._onCopyCut(s,l)),this.listenTo(i,"cut",(s,l)=>this._onCopyCut(s,l)),this.listenTo(n.model,"insertContent",(s,l)=>this._onInsertContent(s,...l),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,i){const s=this.editor.plugins.get(ou);if(!s.getSelectedTableCells()||n.name=="cut"&&this.editor.isReadOnly)return;i.preventDefault(),n.stop();const l=this.editor.data,d=this.editor.editing.view.document,f=l.toView(s.getSelectionAsFragment());d.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:f,method:n.name})}_onInsertContent(n,i,s){if(s&&!s.is("documentSelection"))return;const l=this.editor.model,d=this.editor.plugins.get(Kr);let f=$F(i,l);if(!f)return;const g=d.getSelectionAffectedTableCells(l.document.selection);if(!g.length){HE(f,d);return}n.stop(),l.change(w=>{const y={width:d.getColumns(f),height:d.getRows(f)},C=yme(g,y,w,d),x=C.lastRow-C.firstRow+1,N=C.lastColumn-C.firstColumn+1,F={startRow:0,startColumn:0,endRow:Math.min(x,y.height)-1,endColumn:Math.min(N,y.width)-1};f=xF(f,F,w);const U=g[0].findAncestor("table"),G=this._replaceSelectedCellsWithPasted(f,y,U,C,w);if(this.editor.plugins.get("TableSelection").isEnabled){const ae=d.sortRanges(G.map(Te=>w.createRangeOn(Te)));w.setSelection(ae)}else w.setSelection(G[0],0)})}_replaceSelectedCellsWithPasted(n,i,s,l,d){const{width:f,height:g}=i,w=Ame(n,f,g),y=[...new Wt(s,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],C=[];let x;for(const ae of y){const{row:Te,column:Oe}=ae;Oe===l.firstColumn&&(x=ae.getPositionBefore());const Tt=Te-l.firstRow,fn=Oe-l.firstColumn,Qn=w[Tt%g][fn%f],Ge=Qn?d.cloneElement(Qn):null,lt=this._replaceTableSlotCell(ae,Ge,x,d);lt&&(PF(lt,Te,Oe,l.lastRow,l.lastColumn,d),C.push(lt),x=d.createPositionAfter(lt))}const N=parseInt(s.getAttribute("headingRows")||0),F=parseInt(s.getAttribute("headingColumns")||0),U=l.firstRow<N&&N<=l.lastRow,G=l.firstColumn<F&&F<=l.lastColumn;if(U){const ae={first:l.firstColumn,last:l.lastColumn},Te=QE(s,N,ae,d,l.firstRow);C.push(...Te)}if(G){const ae={first:l.firstRow,last:l.lastRow},Te=ZE(s,F,ae,d);C.push(...Te)}return C}_replaceTableSlotCell(n,i,s,l){const{cell:d,isAnchor:f}=n;return f&&l.remove(d),i?(l.insert(i,s),i):null}getTableIfOnlyTableInContent(n,i){return $F(n,i)}}function $F(c,n){if(!c.is("documentFragment")&&!c.is("element"))return null;if(c.is("element","table"))return c;if(c.childCount==1&&c.getChild(0).is("element","table"))return c.getChild(0);const i=n.createRangeIn(c);for(const s of i.getItems())if(s.is("element","table")){const l=n.createRange(i.start,n.createPositionBefore(s));if(n.hasContent(l,{ignoreWhitespaces:!0}))return null;const d=n.createRange(n.createPositionAfter(s),i.end);return n.hasContent(d,{ignoreWhitespaces:!0})?null:s}return null}function yme(c,n,i,s){const l=c[0].findAncestor("table"),d=s.getColumnIndexes(c),f=s.getRowIndexes(c),g={firstColumn:d.first,lastColumn:d.last,firstRow:f.first,lastRow:f.last},w=c.length===1;return w&&(g.lastRow+=n.height-1,g.lastColumn+=n.width-1,_me(l,g.lastRow+1,g.lastColumn+1,s)),w||!s.isSelectionRectangular(c)?Cme(l,g,i):(g.lastRow=MF(l,g),g.lastColumn=NF(l,g)),g}function _me(c,n,i,s){const l=s.getColumns(c),d=s.getRows(c);i>l&&s.insertColumns(c,{at:l,columns:i-l}),n>d&&s.insertRows(c,{at:d,rows:n-d})}function Ame(c,n,i){const s=new Array(i).fill(null).map(()=>new Array(n).fill(null));for(const{column:l,row:d,cell:f}of new Wt(c))s[d][l]=f;return s}function Cme(c,n,i){const{firstRow:s,lastRow:l,firstColumn:d,lastColumn:f}=n,g={first:s,last:l},w={first:d,last:f};ZE(c,d,g,i),ZE(c,f+1,g,i),QE(c,s,w,i),QE(c,l+1,w,i,s)}function QE(c,n,i,s,l=0){return n<1?void 0:SF(c,n,l).filter(({column:g,cellWidth:w})=>HF(g,w,i)).map(({cell:g})=>TF(g,n,s))}function ZE(c,n,i,s){return n<1?void 0:IF(c,n).filter(({row:f,cellHeight:g})=>HF(f,g,i)).map(({cell:f,column:g})=>DF(f,g,n,s))}function HF(c,n,i){const s=c+n-1,{first:l,last:d}=i,f=c>=l&&c<=d,g=c<l&&s>=l;return f||g}class Eme extends he{static get pluginName(){return"TableKeyboard"}static get requires(){return[ou,Kr]}init(){const i=this.editor.editing.view.document;this.listenTo(i,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(i,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(i,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(n,i){const s=this.editor,d=s.model.document.selection.getSelectedElement();!d||!d.is("element","table")||(i.preventDefault(),i.stopPropagation(),n.stop(),s.model.change(f=>{f.setSelection(f.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(n,i){const s=this.editor,l=this.editor.plugins.get(Kr),d=s.model.document.selection,f=!i.shiftKey;let g=l.getTableCellsContainingSelection(d)[0];if(g||(g=this.editor.plugins.get("TableSelection").getFocusCell()),!g)return;i.preventDefault(),i.stopPropagation(),n.stop();const w=g.parent,y=w.parent,C=y.getChildIndex(w),x=w.getChildIndex(g),N=x===0;if(!f&&N&&C===0){s.model.change(ae=>{ae.setSelection(ae.createRangeOn(y))});return}const F=x===w.childCount-1,U=C===l.getRows(y)-1;if(f&&U&&F&&(s.execute("insertTableRowBelow"),C===l.getRows(y)-1)){s.model.change(ae=>{ae.setSelection(ae.createRangeOn(y))});return}let G;if(f&&F)G=y.getChild(C+1).getChild(0);else if(!f&&N){const ae=y.getChild(C-1);G=ae.getChild(ae.childCount-1)}else G=w.getChild(x+(f?1:-1));s.model.change(ae=>{ae.setSelection(ae.createRangeIn(G))})}_onArrowKey(n,i){const s=this.editor,l=i.keyCode,d=fC(l,s.locale.contentLanguageDirection);this._handleArrowKeys(d,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),n.stop())}_handleArrowKeys(n,i){const s=this.editor.plugins.get(Kr),l=this.editor.model,d=l.document.selection,f=["right","down"].includes(n),g=s.getSelectedTableCells(d);if(g.length){let y;return i?y=this.editor.plugins.get("TableSelection").getFocusCell():y=f?g[g.length-1]:g[0],this._navigateFromCellInDirection(y,n,i),!0}const w=d.focus.findAncestor("tableCell");if(!w)return!1;if(!d.isCollapsed)if(i){if(d.isBackward==f&&!d.containsEntireContent(w))return!1}else{const y=d.getSelectedElement();if(!y||!l.schema.isObject(y))return!1}return this._isSelectionAtCellEdge(d,w,f)?(this._navigateFromCellInDirection(w,n,i),!0):!1}_isSelectionAtCellEdge(n,i,s){const l=this.editor.model,d=this.editor.model.schema,f=s?n.getLastPosition():n.getFirstPosition();if(!d.getLimitElement(f).is("element","tableCell"))return l.createPositionAt(i,s?"end":0).isTouching(f);const g=l.createSelection(f);return l.modifySelection(g,{direction:s?"forward":"backward"}),f.isEqual(g.focus)}_navigateFromCellInDirection(n,i,s=!1){const l=this.editor.model,d=n.findAncestor("table"),f=[...new Wt(d,{includeAllSlots:!0})],{row:g,column:w}=f[f.length-1],y=f.find(({cell:Oe})=>Oe==n);let{row:C,column:x}=y;switch(i){case"left":x--;break;case"up":C--;break;case"right":x+=y.cellWidth;break;case"down":C+=y.cellHeight;break}const N=C<0||C>g,F=x<0&&C<=0,U=x>w&&C>=g;if(N||F||U){l.change(Oe=>{Oe.setSelection(Oe.createRangeOn(d))});return}x<0?(x=s?0:w,C--):x>w&&(x=s?w:0,C++);const G=f.find(Oe=>Oe.row==C&&Oe.column==x).cell,ae=["right","down"].includes(i),Te=this.editor.plugins.get("TableSelection");if(s&&Te.isEnabled){const Oe=Te.getAnchorCell()||n;Te.setCellSelection(Oe,G)}else{const Oe=l.createPositionAt(G,ae?0:"end");l.change(Tt=>{Tt.setSelection(Oe)})}}}class xme extends dc{constructor(n){super(n),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class Sme extends he{static get pluginName(){return"TableMouse"}static get requires(){return[ou,Kr]}init(){this.editor.editing.view.addObserver(xme),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,i=n.plugins.get(Kr);let s=!1;const l=n.plugins.get(ou);this.listenTo(n.editing.view.document,"mousedown",(d,f)=>{const g=n.model.document.selection;if(!this.isEnabled||!l.isEnabled||!f.domEvent.shiftKey)return;const w=l.getAnchorCell()||i.getTableCellsContainingSelection(g)[0];if(!w)return;const y=this._getModelTableCellFromDomEvent(f);y&&qF(w,y)&&(s=!0,l.setCellSelection(w,y),f.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(n.editing.view.document,"selectionChange",d=>{s&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let i,s,l=!1,d=!1;const f=n.plugins.get(ou);this.listenTo(n.editing.view.document,"mousedown",(g,w)=>{!this.isEnabled||!f.isEnabled||w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(w))}),this.listenTo(n.editing.view.document,"mousemove",(g,w)=>{if(!w.domEvent.buttons||!i)return;const y=this._getModelTableCellFromDomEvent(w);y&&qF(i,y)&&(s=y,!l&&s!=i&&(l=!0)),l&&(d=!0,f.setCellSelection(i,s),w.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{l=!1,d=!1,i=null,s=null}),this.listenTo(n.editing.view.document,"selectionChange",g=>{d&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const i=n.target,s=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function qF(c,n){return c.parent.parent==n.parent.parent}var WF=a(4104),JE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};JE.insert="head",JE.singleton=!0,nt()(WF.Z,JE),WF.Z.locals;class Tme extends he{static get requires(){return[hme,wme,ou,Sme,Eme,vme,Dp]}static get pluginName(){return"Table"}}function Ime(c){const n=c.getSelectedElement();return n&&GF(n)?n:null}function Dme(c){const n=c.getFirstPosition();if(!n)return null;let i=n.parent;for(;i;){if(i.is("element")&&GF(i))return i;i=i.parent}return null}function GF(c){return!!c.getCustomProperty("table")&&zn(c)}class Pme extends he{static get requires(){return[rk]}static get pluginName(){return"TableToolbar"}afterInit(){const n=this.editor,i=n.t,s=n.plugins.get(rk),l=n.config.get("table.contentToolbar"),d=n.config.get("table.tableToolbar");l&&s.register("tableContent",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:Dme}),d&&s.register("table",{ariaLabel:i("Table toolbar"),items:d,getRelatedElement:Ime})}}class XE extends uae{}XE.builtinPlugins=[Pae,jae,$ae,dce,wce,Ace,jce,Yle,aue,wue,Eue,$ue,Gue,Xue,dde,hde,Pde,Rde,zde,Whe,kfe,Nfe,Pp,gpe,bpe,Tme,Pme,Cae],XE.defaultConfig={toolbar:{items:["heading","|","bold","italic","fontColor","fontSize","link","bulletedList","numberedList","|","outdent","indent","|","code","codeBlock","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},language:"ko",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};const Mme=XE})(),u=u.default,u})())})(EBe,r_);const xBe=pD(r_);function SBe({content:t,SetUploading:e}){const r=u=>new Promise((h,p)=>{const m=new FileReader;m.onload=()=>{h(m.result)},m.onerror=p,m.readAsDataURL(u)});function o(u){return e(!0),{abort(){},upload:()=>{const h=hQ();return new Promise((p,m)=>{let b="";u.file.then(async k=>{const v=await r(k);b=await(await WDe.ref().child(h).putString(v,"data_url")).ref.getDownloadURL()}).then(()=>{p({default:b}),e(!1)}).catch(k=>{m(k),e(!1)})})}}}function a(u){u.plugins.get("FileRepository").createUploadAdapter=h=>o(h)}return Pe(n_.CKEditor,{editor:xBe,config:{extraPlugins:[a]},data:t.value,onChange:(u,h)=>{const p=h.getData();t.onChange(p)},onReady:u=>{u.editing.view.change(h=>{h.setStyle("height","500px",u.editing.view.document.getRoot())})}})}function TBe(t){const{field:e}=ES({name:"title",control:t,rules:{required:!0}}),{field:r}=ES({name:"content",control:t}),{field:o}=ES({name:"tag",control:t,rules:{required:!0}});return{title:e,content:r,tag:o}}function S$(){var M;const[t,e]=q.useState(!1),{blogReducer:r,categoryReducer:o,authReducer:a}=ul(S=>S),{handleSubmit:u,control:h,reset:p}=ABe({defaultValues:{title:"",content:"",tag:""}}),{id:m}=CN(),b=ZY(r.blog,m),k=localStorage.getItem("page"),v=yd(),{title:_,content:A,tag:E}=TBe(h),T=()=>p({title:"",content:"",tag:""}),L=async({title:S,content:I,tag:R})=>{if(e(!0),S&&R)if(b){const j={...b,title:S,content:I,time:{updatedAt:Date.now(),updated:!0}};await Uu.doc(`blog/${m}`).update(j)}else{const j=hQ(),V={id:j,title:S,content:I,tag:R,time:{updatedAt:Date.now(),updated:!1}};await Uu.doc(`blog/${j}`).set(V)}T(),e(!1),v("/")};return q.useEffect(()=>{b&&p({title:b.title,content:b.content,tag:b.tag}),m||T()},[m,b]),q.useEffect(()=>{var S,I;((I=(S=a.auth.data)==null?void 0:S.providerData[0])==null?void 0:I.uid)!=="98078731"&&v("/")},[a.auth.data]),mn("form",{className:"write-flex",onSubmit:u(L),children:[mn("div",{className:"write-input",children:[Pe("input",{placeholder:" ",value:_.value,onChange:S=>_.onChange(S.target.value)}),!b&&mn("select",{value:E.value,onChange:S=>E.onChange(S.target.value),children:[!E.value&&Pe("option",{value:"",children:" "}),(M=o.categories)==null?void 0:M.map((S,I)=>Pe("option",{value:S.id,children:S.id},I))]})]}),Pe("div",{className:"write-editor",children:Pe(SBe,{content:A,SetUploading:e})}),mn("div",{className:"write-submit",children:[Pe("button",{disabled:t,type:"submit",children:"Enter"}),Pe("button",{type:"button",onClick:()=>v(`/page/${k}`),children:"Close"})]})]})}function IBe(){var p;const[t,e]=q.useState([]),{categoryReducer:r,blogReducer:o}=ul(m=>m),a=yd(),u=(m,b)=>{m.currentTarget.className==="category-active"?(m.currentTarget.classList.remove("category-active"),e(k=>k.filter(v=>v!==b))):(m.currentTarget.classList.add("category-active"),e(k=>[...k,b]))},h=m=>{a(`/blog/${m}`)};return Pe($u,{children:r.loading?Pe("div",{children:"Loading..."}):mn($u,{children:[Pe("ul",{className:"category-flex",children:(p=r.categories)==null?void 0:p.map(m=>Pe("li",{onClick:b=>u(b,m.id),children:Pe("span",{children:m.id})},m.id))}),Pe("div",{className:"category-current",children:Pe(YY,{children:t.map(m=>{var b;return(b=o.blog)==null?void 0:b.map(k=>k).filter(k=>k.tag===m).map(k=>mn(Yc.div,{initial:{opacity:0,x:-300},animate:{opacity:1,x:0},transition:{type:"spring",duration:.4},exit:{opacity:0,x:-300},onClick:()=>h(k.id),children:[mn("span",{children:["[ ",k.tag," ]"]}),Pe("span",{children:k.title})]},k.id))})})})]})})}/*! @license DOMPurify 3.0.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.0/LICENSE */function Nu(t){return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function uD(t,e){return uD=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},uD(t,e)}function DBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dv(t,e,r){return DBe()?Dv=Reflect.construct:Dv=function(a,u,h){var p=[null];p.push.apply(p,u);var m=Function.bind.apply(a,p),b=new m;return h&&uD(b,h.prototype),b},Dv.apply(null,arguments)}function PBe(t,e){return NBe(t)||OBe(t,e)||b2(t,e)||BBe()}function rs(t){return MBe(t)||RBe(t)||b2(t)||LBe()}function MBe(t){if(Array.isArray(t))return dD(t)}function NBe(t){if(Array.isArray(t))return t}function RBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o=[],a=!0,u=!1,h,p;try{for(r=r.call(t);!(a=(h=r.next()).done)&&(o.push(h.value),!(e&&o.length===e));a=!0);}catch(m){u=!0,p=m}finally{try{!a&&r.return!=null&&r.return()}finally{if(u)throw p}}return o}}function b2(t,e){if(t){if(typeof t=="string")return dD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dD(t,e)}}function dD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function LBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zBe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=b2(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,p;return{s:function(){r=r.call(t)},n:function(){var m=r.next();return u=m.done,m},e:function(m){h=!0,p=m},f:function(){try{!u&&r.return!=null&&r.return()}finally{if(h)throw p}}}}var fQ=Object.entries,T$=Object.setPrototypeOf,FBe=Object.isFrozen,jBe=Object.getPrototypeOf,VBe=Object.getOwnPropertyDescriptor,Ni=Object.freeze,ps=Object.seal,UBe=Object.create,pQ=typeof Reflect<"u"&&Reflect,hD=pQ.apply,fD=pQ.construct;hD||(hD=function(e,r,o){return e.apply(r,o)});Ni||(Ni=function(e){return e});ps||(ps=function(e){return e});fD||(fD=function(e,r){return Dv(e,rs(r))});var $Be=$o(Array.prototype.forEach),I$=$o(Array.prototype.pop),rm=$o(Array.prototype.push),Pv=$o(String.prototype.toLowerCase),DS=$o(String.prototype.toString),HBe=$o(String.prototype.match),ns=$o(String.prototype.replace),qBe=$o(String.prototype.indexOf),WBe=$o(String.prototype.trim),so=$o(RegExp.prototype.test),PS=GBe(TypeError);function $o(t){return function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return hD(t,e,o)}}function GBe(t){return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return fD(t,r)}}function kt(t,e,r){r=r||Pv,T$&&T$(t,null);for(var o=e.length;o--;){var a=e[o];if(typeof a=="string"){var u=r(a);u!==a&&(FBe(e)||(e[o]=u),a=u)}t[a]=!0}return t}function ih(t){var e=UBe(null),r=zBe(fQ(t)),o;try{for(r.s();!(o=r.n()).done;){var a=PBe(o.value,2),u=a[0],h=a[1];e[u]=h}}catch(p){r.e(p)}finally{r.f()}return e}function Zk(t,e){for(;t!==null;){var r=VBe(t,e);if(r){if(r.get)return $o(r.get);if(typeof r.value=="function")return $o(r.value)}t=jBe(t)}function o(a){return console.warn("fallback value for",a),null}return o}var D$=Ni(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MS=Ni(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),NS=Ni(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KBe=Ni(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),RS=Ni(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),YBe=Ni(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P$=Ni(["#text"]),M$=Ni(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),OS=Ni(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N$=Ni(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jk=Ni(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),QBe=ps(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZBe=ps(/<%[\w\W]*|[\w\W]*%>/gm),JBe=ps(/\${[\w\W]*}/gm),XBe=ps(/^data-[\-\w.\u00B7-\uFFFF]/),eze=ps(/^aria-[\-\w]+$/),tze=ps(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nze=ps(/^(?:\w+script|data):/i),rze=ps(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ize=ps(/^html$/i),oze=function(){return typeof window>"u"?null:window},sze=function(e,r){if(Nu(e)!=="object"||typeof e.createPolicy!="function")return null;var o=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(o=r.currentScript.getAttribute(a));var u="dompurify"+(o?"#"+o:"");try{return e.createPolicy(u,{createHTML:function(p){return p},createScriptURL:function(p){return p}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function mQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oze(),e=function($){return mQ($)};if(e.version="3.0.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,o=t.document,a=t.DocumentFragment,u=t.HTMLTemplateElement,h=t.Node,p=t.Element,m=t.NodeFilter,b=t.NamedNodeMap,k=b===void 0?t.NamedNodeMap||t.MozNamedAttrMap:b,v=t.HTMLFormElement,_=t.DOMParser,A=t.trustedTypes,E=p.prototype,T=Zk(E,"cloneNode"),L=Zk(E,"nextSibling"),M=Zk(E,"childNodes"),S=Zk(E,"parentNode");if(typeof u=="function"){var I=o.createElement("template");I.content&&I.content.ownerDocument&&(o=I.content.ownerDocument)}var R=sze(A,r),j=R?R.createHTML(""):"",V=o,H=V.implementation,J=V.createNodeIterator,oe=V.createDocumentFragment,de=V.getElementsByTagName,Le=r.importNode,te={};e.isSupported=typeof fQ=="function"&&typeof S=="function"&&H&&typeof H.createHTMLDocument<"u";var ie=QBe,_e=ZBe,Ee=JBe,qe=XBe,ze=eze,le=nze,se=rze,W=tze,Ae=null,xe=kt({},[].concat(rs(D$),rs(MS),rs(NS),rs(RS),rs(P$))),O=null,Be=kt({},[].concat(rs(M$),rs(OS),rs(N$),rs(Jk))),rt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),bt=null,Lt=null,Rn=!0,Ar=!0,cn=!1,ln=!0,$t=!1,wt=!1,Bt=!1,z=!1,K=!1,Z=!1,ke=!1,Se=!0,ue=!1,je="user-content-",xt=!0,At=!1,En={},X=null,re=kt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pe=null,ve=kt({},["audio","video","img","source","image","track"]),De=null,et=kt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",ct="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml",Ut=Fe,Me=!1,zt=null,$r=kt({},[Je,ct,Fe],DS),On,qo=["application/xhtml+xml","text/html"],Wo="text/html",sn,Hr=null,Li=o.createElement("form"),gn=function($){return $ instanceof RegExp||$ instanceof Function},Cr=function($){Hr&&Hr===$||((!$||Nu($)!=="object")&&($={}),$=ih($),On=qo.indexOf($.PARSER_MEDIA_TYPE)===-1?On=Wo:On=$.PARSER_MEDIA_TYPE,sn=On==="application/xhtml+xml"?DS:Pv,Ae="ALLOWED_TAGS"in $?kt({},$.ALLOWED_TAGS,sn):xe,O="ALLOWED_ATTR"in $?kt({},$.ALLOWED_ATTR,sn):Be,zt="ALLOWED_NAMESPACES"in $?kt({},$.ALLOWED_NAMESPACES,DS):$r,De="ADD_URI_SAFE_ATTR"in $?kt(ih(et),$.ADD_URI_SAFE_ATTR,sn):et,pe="ADD_DATA_URI_TAGS"in $?kt(ih(ve),$.ADD_DATA_URI_TAGS,sn):ve,X="FORBID_CONTENTS"in $?kt({},$.FORBID_CONTENTS,sn):re,bt="FORBID_TAGS"in $?kt({},$.FORBID_TAGS,sn):{},Lt="FORBID_ATTR"in $?kt({},$.FORBID_ATTR,sn):{},En="USE_PROFILES"in $?$.USE_PROFILES:!1,Rn=$.ALLOW_ARIA_ATTR!==!1,Ar=$.ALLOW_DATA_ATTR!==!1,cn=$.ALLOW_UNKNOWN_PROTOCOLS||!1,ln=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$t=$.SAFE_FOR_TEMPLATES||!1,wt=$.WHOLE_DOCUMENT||!1,K=$.RETURN_DOM||!1,Z=$.RETURN_DOM_FRAGMENT||!1,ke=$.RETURN_TRUSTED_TYPE||!1,z=$.FORCE_BODY||!1,Se=$.SANITIZE_DOM!==!1,ue=$.SANITIZE_NAMED_PROPS||!1,xt=$.KEEP_CONTENT!==!1,At=$.IN_PLACE||!1,W=$.ALLOWED_URI_REGEXP||W,Ut=$.NAMESPACE||Fe,$.CUSTOM_ELEMENT_HANDLING&&gn($.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rt.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$.CUSTOM_ELEMENT_HANDLING&&gn($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rt.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rt.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$t&&(Ar=!1),Z&&(K=!0),En&&(Ae=kt({},rs(P$)),O=[],En.html===!0&&(kt(Ae,D$),kt(O,M$)),En.svg===!0&&(kt(Ae,MS),kt(O,OS),kt(O,Jk)),En.svgFilters===!0&&(kt(Ae,NS),kt(O,OS),kt(O,Jk)),En.mathMl===!0&&(kt(Ae,RS),kt(O,N$),kt(O,Jk))),$.ADD_TAGS&&(Ae===xe&&(Ae=ih(Ae)),kt(Ae,$.ADD_TAGS,sn)),$.ADD_ATTR&&(O===Be&&(O=ih(O)),kt(O,$.ADD_ATTR,sn)),$.ADD_URI_SAFE_ATTR&&kt(De,$.ADD_URI_SAFE_ATTR,sn),$.FORBID_CONTENTS&&(X===re&&(X=ih(X)),kt(X,$.FORBID_CONTENTS,sn)),xt&&(Ae["#text"]=!0),wt&&kt(Ae,["html","head","body"]),Ae.table&&(kt(Ae,["tbody"]),delete bt.tbody),Ni&&Ni($),Hr=$)},Bi=kt({},["mi","mo","mn","ms","mtext"]),ai=kt({},["foreignobject","desc","title","annotation-xml"]),xn=kt({},["title","style","font","a","script"]),Wn=kt({},MS);kt(Wn,NS),kt(Wn,KBe);var ra=kt({},RS);kt(ra,YBe);var ci=function($){var be=S($);(!be||!be.tagName)&&(be={namespaceURI:Ut,tagName:"template"});var Re=Pv($.tagName),Ft=Pv(be.tagName);return zt[$.namespaceURI]?$.namespaceURI===ct?be.namespaceURI===Fe?Re==="svg":be.namespaceURI===Je?Re==="svg"&&(Ft==="annotation-xml"||Bi[Ft]):Boolean(Wn[Re]):$.namespaceURI===Je?be.namespaceURI===Fe?Re==="math":be.namespaceURI===ct?Re==="math"&&ai[Ft]:Boolean(ra[Re]):$.namespaceURI===Fe?be.namespaceURI===ct&&!ai[Ft]||be.namespaceURI===Je&&!Bi[Ft]?!1:!ra[Re]&&(xn[Re]||!Wn[Re]):!!(On==="application/xhtml+xml"&&zt[$.namespaceURI]):!1},cr=function($){rm(e.removed,{element:$});try{$.parentNode.removeChild($)}catch{$.remove()}},gs=function($,be){try{rm(e.removed,{attribute:be.getAttributeNode($),from:be})}catch{rm(e.removed,{attribute:null,from:be})}if(be.removeAttribute($),$==="is"&&!O[$])if(K||Z)try{cr(be)}catch{}else try{be.setAttribute($,"")}catch{}},Er=function($){var be,Re;if(z)$="<remove></remove>"+$;else{var Ft=HBe($,/^[\r\n\t ]+/);Re=Ft&&Ft[0]}On==="application/xhtml+xml"&&Ut===Fe&&($='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>");var Sn=R?R.createHTML($):$;if(Ut===Fe)try{be=new _().parseFromString(Sn,On)}catch{}if(!be||!be.documentElement){be=H.createDocument(Ut,"template",null);try{be.documentElement.innerHTML=Me?j:Sn}catch{}}var li=be.body||be.documentElement;return $&&Re&&li.insertBefore(o.createTextNode(Re),li.childNodes[0]||null),Ut===Fe?de.call(be,wt?"html":"body")[0]:wt?be.documentElement:li},Go=function($){return J.call($.ownerDocument||$,$,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},zi=function($){return $ instanceof v&&(typeof $.nodeName!="string"||typeof $.textContent!="string"||typeof $.removeChild!="function"||!($.attributes instanceof k)||typeof $.removeAttribute!="function"||typeof $.setAttribute!="function"||typeof $.namespaceURI!="string"||typeof $.insertBefore!="function"||typeof $.hasChildNodes!="function")},ia=function($){return Nu(h)==="object"?$ instanceof h:$&&Nu($)==="object"&&typeof $.nodeType=="number"&&typeof $.nodeName=="string"},Fi=function($,be,Re){te[$]&&$Be(te[$],function(Ft){Ft.call(e,be,Re,Hr)})},Dl=function($){var be;if(Fi("beforeSanitizeElements",$,null),zi($))return cr($),!0;var Re=sn($.nodeName);if(Fi("uponSanitizeElement",$,{tagName:Re,allowedTags:Ae}),$.hasChildNodes()&&!ia($.firstElementChild)&&(!ia($.content)||!ia($.content.firstElementChild))&&so(/<[/\w]/g,$.innerHTML)&&so(/<[/\w]/g,$.textContent))return cr($),!0;if(!Ae[Re]||bt[Re]){if(!bt[Re]&&Pl(Re)&&(rt.tagNameCheck instanceof RegExp&&so(rt.tagNameCheck,Re)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(Re)))return!1;if(xt&&!X[Re]){var Ft=S($)||$.parentNode,Sn=M($)||$.childNodes;if(Sn&&Ft)for(var li=Sn.length,Zt=li-1;Zt>=0;--Zt)Ft.insertBefore(T(Sn[Zt],!0),L($))}return cr($),!0}return $ instanceof p&&!ci($)||(Re==="noscript"||Re==="noembed")&&so(/<\/no(script|embed)/i,$.innerHTML)?(cr($),!0):($t&&$.nodeType===3&&(be=$.textContent,be=ns(be,ie," "),be=ns(be,_e," "),be=ns(be,Ee," "),$.textContent!==be&&(rm(e.removed,{element:$.cloneNode()}),$.textContent=be)),Fi("afterSanitizeElements",$,null),!1)},bs=function($,be,Re){if(Se&&(be==="id"||be==="name")&&(Re in o||Re in Li))return!1;if(!(Ar&&!Lt[be]&&so(qe,be))){if(!(Rn&&so(ze,be))){if(!O[be]||Lt[be]){if(!(Pl($)&&(rt.tagNameCheck instanceof RegExp&&so(rt.tagNameCheck,$)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck($))&&(rt.attributeNameCheck instanceof RegExp&&so(rt.attributeNameCheck,be)||rt.attributeNameCheck instanceof Function&&rt.attributeNameCheck(be))||be==="is"&&rt.allowCustomizedBuiltInElements&&(rt.tagNameCheck instanceof RegExp&&so(rt.tagNameCheck,Re)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(Re))))return!1}else if(!De[be]){if(!so(W,ns(Re,se,""))){if(!((be==="src"||be==="xlink:href"||be==="href")&&$!=="script"&&qBe(Re,"data:")===0&&pe[$])){if(!(cn&&!so(le,ns(Re,se,"")))){if(Re)return!1}}}}}}return!0},Pl=function($){return $.indexOf("-")>0},oa=function($){var be,Re,Ft,Sn;Fi("beforeSanitizeAttributes",$,null);var li=$.attributes;if(li){var Zt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(Sn=li.length;Sn--;){be=li[Sn];var xr=be,un=xr.name,rc=xr.namespaceURI;if(Re=un==="value"?be.value:WBe(be.value),Ft=sn(un),Zt.attrName=Ft,Zt.attrValue=Re,Zt.keepAttr=!0,Zt.forceKeepAttr=void 0,Fi("uponSanitizeAttribute",$,Zt),Re=Zt.attrValue,!Zt.forceKeepAttr&&(gs(un,$),!!Zt.keepAttr)){if(!ln&&so(/\/>/i,Re)){gs(un,$);continue}$t&&(Re=ns(Re,ie," "),Re=ns(Re,_e," "),Re=ns(Re,Ee," "));var qr=sn($.nodeName);if(bs(qr,Ft,Re)){if(ue&&(Ft==="id"||Ft==="name")&&(gs(un,$),Re=je+Re),R&&Nu(A)==="object"&&typeof A.getAttributeType=="function"&&!rc)switch(A.getAttributeType(qr,Ft)){case"TrustedHTML":Re=R.createHTML(Re);break;case"TrustedScriptURL":Re=R.createScriptURL(Re);break}try{rc?$.setAttributeNS(rc,un,Re):$.setAttribute(un,Re),I$(e.removed)}catch{}}}}Fi("afterSanitizeAttributes",$,null)}},qf=function tt($){var be,Re=Go($);for(Fi("beforeSanitizeShadowDOM",$,null);be=Re.nextNode();)Fi("uponSanitizeShadowNode",be,null),!Dl(be)&&(be.content instanceof a&&tt(be.content),oa(be));Fi("afterSanitizeShadowDOM",$,null)};return e.sanitize=function(tt){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be,Re,Ft,Sn;if(Me=!tt,Me&&(tt="<!-->"),typeof tt!="string"&&!ia(tt)){if(typeof tt.toString!="function")throw PS("toString is not a function");if(tt=tt.toString(),typeof tt!="string")throw PS("dirty is not a string, aborting")}if(!e.isSupported)return tt;if(Bt||Cr($),e.removed=[],typeof tt=="string"&&(At=!1),At){if(tt.nodeName){var li=sn(tt.nodeName);if(!Ae[li]||bt[li])throw PS("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof h)be=Er("<!---->"),Re=be.ownerDocument.importNode(tt,!0),Re.nodeType===1&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?be=Re:be.appendChild(Re);else{if(!K&&!$t&&!wt&&tt.indexOf("<")===-1)return R&&ke?R.createHTML(tt):tt;if(be=Er(tt),!be)return K?null:ke?j:""}be&&z&&cr(be.firstChild);for(var Zt=Go(At?tt:be);Ft=Zt.nextNode();)Dl(Ft)||(Ft.content instanceof a&&qf(Ft.content),oa(Ft));if(At)return tt;if(K){if(Z)for(Sn=oe.call(be.ownerDocument);be.firstChild;)Sn.appendChild(be.firstChild);else Sn=be;return(O.shadowroot||O.shadowrootmod)&&(Sn=Le.call(r,Sn,!0)),Sn}var xr=wt?be.outerHTML:be.innerHTML;return wt&&Ae["!doctype"]&&be.ownerDocument&&be.ownerDocument.doctype&&be.ownerDocument.doctype.name&&so(ize,be.ownerDocument.doctype.name)&&(xr="<!DOCTYPE "+be.ownerDocument.doctype.name+`>
`+xr),$t&&(xr=ns(xr,ie," "),xr=ns(xr,_e," "),xr=ns(xr,Ee," ")),R&&ke?R.createHTML(xr):xr},e.setConfig=function(tt){Cr(tt),Bt=!0},e.clearConfig=function(){Hr=null,Bt=!1},e.isValidAttribute=function(tt,$,be){Hr||Cr({});var Re=sn(tt),Ft=sn($);return bs(Re,Ft,be)},e.addHook=function(tt,$){typeof $=="function"&&(te[tt]=te[tt]||[],rm(te[tt],$))},e.removeHook=function(tt){if(te[tt])return I$(te[tt])},e.removeHooks=function(tt){te[tt]&&(te[tt]=[])},e.removeAllHooks=function(){te={}},e}var aze=mQ();function cze(){const{id:t}=CN(),{blog:e,loading:r}=ul(m=>m.blogReducer),o=ZY(e,t),a=localStorage.getItem("page"),u=yd(),h=m=>{u(m)},p=async m=>{window.confirm("  ")&&(await Uu.doc(`blog/${m}`).delete(),u("/"))};if(q.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[window.history.state]),o){const m=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return Pe($u,{children:r?Pe("div",{children:"Loading.."}):mn("div",{className:"blog-flex",onWheel:b=>{const k=b.deltaY;if(b.pageY>=800){const v=document.querySelector(".blog-btn");v.style.opacity=k>0?"0":"1",v.style.visibility=k>0?"hidden":"visible"}},children:[mn("div",{className:"blog-title",children:[Pe("h1",{className:"root-overflow",children:o.title}),mn("div",{className:"blog-time",children:[Pe("span",{children:m.format(o.time.updatedAt)}),o.time.updated&&Pe("span",{children:"(  )"})]})]}),mn("div",{className:"blog-btn",children:[Pe("button",{onClick:()=>h(`/write/${t}`),children:""}),Pe("button",{onClick:()=>p(t),children:""}),Pe("button",{onClick:()=>h(`/page/${a}`),children:" "})]}),Pe("div",{className:"blog-inner ck-content",dangerouslySetInnerHTML:{__html:aze.sanitize(o.content)}})]})})}else return Pe("div",{children:"    "})}const lze=[{path:"/",element:Pe(rBe,{}),children:[{path:"",element:Pe(w$,{})},{path:"page/:page",element:Pe(w$,{})},{path:"blog/:id",element:Pe(cze,{})},{path:"write",element:Pe(S$,{})},{path:"write/:id",element:Pe(S$,{})},{path:"tag",element:Pe(IBe,{})}]},{path:"*",loader:()=>zPe("/")}];const uze=NMe(lze,{basename:"/react-blog_v2/"});BS.createRoot(document.getElementById("root")).render(Pe(Ywe,{store:hPe,children:Pe(CMe,{router:uze})}));
