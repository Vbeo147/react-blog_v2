function Rme(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const u=Object.getOwnPropertyDescriptor(o,a);u&&Object.defineProperty(t,a,u.get?u:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=r(a);fetch(a.href,u)}})();var Gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={},Ome={get exports(){return Wm},set exports(t){Wm=t}},s_={},G={},Lme={get exports(){return G},set exports(t){G=t}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=Symbol.for("react.element"),Bme=Symbol.for("react.portal"),zme=Symbol.for("react.fragment"),Fme=Symbol.for("react.strict_mode"),jme=Symbol.for("react.profiler"),Vme=Symbol.for("react.provider"),Ume=Symbol.for("react.context"),$me=Symbol.for("react.forward_ref"),Hme=Symbol.for("react.suspense"),qme=Symbol.for("react.memo"),Wme=Symbol.for("react.lazy"),QF=Symbol.iterator;function Gme(t){return t===null||typeof t!="object"?null:(t=QF&&t[QF]||t["@@iterator"],typeof t=="function"?t:null)}var O$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L$=Object.assign,B$={};function _f(t,e,r){this.props=t,this.context=e,this.refs=B$,this.updater=r||O$}_f.prototype.isReactComponent={};_f.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z$(){}z$.prototype=_f.prototype;function gD(t,e,r){this.props=t,this.context=e,this.refs=B$,this.updater=r||O$}var bD=gD.prototype=new z$;bD.constructor=gD;L$(bD,_f.prototype);bD.isPureReactComponent=!0;var ZF=Array.isArray,F$=Object.prototype.hasOwnProperty,wD={current:null},j$={key:!0,ref:!0,__self:!0,__source:!0};function V$(t,e,r){var o,a={},u=null,h=null;if(e!=null)for(o in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(u=""+e.key),e)F$.call(e,o)&&!j$.hasOwnProperty(o)&&(a[o]=e[o]);var p=arguments.length-2;if(p===1)a.children=r;else if(1<p){for(var m=Array(p),b=0;b<p;b++)m[b]=arguments[b+2];a.children=m}if(t&&t.defaultProps)for(o in p=t.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:Qg,type:t,key:u,ref:h,props:a,_owner:wD.current}}function Kme(t,e){return{$$typeof:Qg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kD(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qg}function Yme(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var JF=/\/+/g;function nx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yme(""+t.key):e.toString(36)}function Xk(t,e,r,o,a){var u=typeof t;(u==="undefined"||u==="boolean")&&(t=null);var h=!1;if(t===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case Qg:case Bme:h=!0}}if(h)return h=t,a=a(h),t=o===""?"."+nx(h,0):o,ZF(a)?(r="",t!=null&&(r=t.replace(JF,"$&/")+"/"),Xk(a,e,r,"",function(b){return b})):a!=null&&(kD(a)&&(a=Kme(a,r+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(JF,"$&/")+"/")+t)),e.push(a)),1;if(h=0,o=o===""?".":o+":",ZF(t))for(var p=0;p<t.length;p++){u=t[p];var m=o+nx(u,p);h+=Xk(u,e,r,m,a)}else if(m=Gme(t),typeof m=="function")for(t=m.call(t),p=0;!(u=t.next()).done;)u=u.value,m=o+nx(u,p++),h+=Xk(u,e,r,m,a);else if(u==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function ck(t,e,r){if(t==null)return t;var o=[],a=0;return Xk(t,o,"","",function(u){return e.call(r,u,a++)}),o}function Qme(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ri={current:null},ev={transition:null},Zme={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:ev,ReactCurrentOwner:wD};Mt.Children={map:ck,forEach:function(t,e,r){ck(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ck(t,function(){e++}),e},toArray:function(t){return ck(t,function(e){return e})||[]},only:function(t){if(!kD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=_f;Mt.Fragment=zme;Mt.Profiler=jme;Mt.PureComponent=gD;Mt.StrictMode=Fme;Mt.Suspense=Hme;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zme;Mt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=L$({},t.props),a=t.key,u=t.ref,h=t._owner;if(e!=null){if(e.ref!==void 0&&(u=e.ref,h=wD.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(m in e)F$.call(e,m)&&!j$.hasOwnProperty(m)&&(o[m]=e[m]===void 0&&p!==void 0?p[m]:e[m])}var m=arguments.length-2;if(m===1)o.children=r;else if(1<m){p=Array(m);for(var b=0;b<m;b++)p[b]=arguments[b+2];o.children=p}return{$$typeof:Qg,type:t.type,key:a,ref:u,props:o,_owner:h}};Mt.createContext=function(t){return t={$$typeof:Ume,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vme,_context:t},t.Consumer=t};Mt.createElement=V$;Mt.createFactory=function(t){var e=V$.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:$me,render:t}};Mt.isValidElement=kD;Mt.lazy=function(t){return{$$typeof:Wme,_payload:{_status:-1,_result:t},_init:Qme}};Mt.memo=function(t,e){return{$$typeof:qme,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=ev.transition;ev.transition={};try{t()}finally{ev.transition=e}};Mt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Mt.useCallback=function(t,e){return Ri.current.useCallback(t,e)};Mt.useContext=function(t){return Ri.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return Ri.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return Ri.current.useEffect(t,e)};Mt.useId=function(){return Ri.current.useId()};Mt.useImperativeHandle=function(t,e,r){return Ri.current.useImperativeHandle(t,e,r)};Mt.useInsertionEffect=function(t,e){return Ri.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return Ri.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return Ri.current.useMemo(t,e)};Mt.useReducer=function(t,e,r){return Ri.current.useReducer(t,e,r)};Mt.useRef=function(t){return Ri.current.useRef(t)};Mt.useState=function(t){return Ri.current.useState(t)};Mt.useSyncExternalStore=function(t,e,r){return Ri.current.useSyncExternalStore(t,e,r)};Mt.useTransition=function(){return Ri.current.useTransition()};Mt.version="18.2.0";(function(t){t.exports=Mt})(Lme);const cn=o_(G),zS=Rme({__proto__:null,default:cn},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jme=G,Xme=Symbol.for("react.element"),ege=Symbol.for("react.fragment"),tge=Object.prototype.hasOwnProperty,nge=Jme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rge={key:!0,ref:!0,__self:!0,__source:!0};function U$(t,e,r){var o,a={},u=null,h=null;r!==void 0&&(u=""+r),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(h=e.ref);for(o in e)tge.call(e,o)&&!rge.hasOwnProperty(o)&&(a[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:Xme,type:t,key:u,ref:h,props:a,_owner:nge.current}}s_.Fragment=ege;s_.jsx=U$;s_.jsxs=U$;(function(t){t.exports=s_})(Ome);const $u=Wm.Fragment,Oe=Wm.jsx,wn=Wm.jsxs;var FS={},Mv={},ige={get exports(){return Mv},set exports(t){Mv=t}},wo={},jS={},oge={get exports(){return jS},set exports(t){jS=t}},$$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(pe,le){var Y=pe.length;pe.push(le);e:for(;0<Y;){var z=Y-1>>>1,$=pe[z];if(0<a($,le))pe[z]=le,pe[Y]=$,Y=z;else break e}}function r(pe){return pe.length===0?null:pe[0]}function o(pe){if(pe.length===0)return null;var le=pe[0],Y=pe.pop();if(Y!==le){pe[0]=Y;e:for(var z=0,$=pe.length,S=$>>>1;z<S;){var ee=2*(z+1)-1,we=pe[ee],Re=ee+1,$e=pe[Re];if(0>a(we,Y))Re<$&&0>a($e,we)?(pe[z]=$e,pe[Re]=Y,z=Re):(pe[z]=we,pe[ee]=Y,z=ee);else if(Re<$&&0>a($e,Y))pe[z]=$e,pe[Re]=Y,z=Re;else break e}}return le}function a(pe,le){var Y=pe.sortIndex-le.sortIndex;return Y!==0?Y:pe.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var m=[],b=[],k=1,v=null,_=3,A=!1,E=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(pe){for(var le=r(b);le!==null;){if(le.callback===null)o(b);else if(le.startTime<=pe)o(b),le.sortIndex=le.expirationTime,e(m,le);else break;le=r(b)}}function O(pe){if(I=!1,D(pe),!E)if(r(m)!==null)E=!0,Ke(V);else{var le=r(b);le!==null&&ze(O,le.startTime-pe)}}function V(pe,le){E=!1,I&&(I=!1,N(te),te=-1),A=!0;var Y=_;try{for(D(le),v=r(m);v!==null&&(!(v.expirationTime>le)||pe&&!Be());){var z=v.callback;if(typeof z=="function"){v.callback=null,_=v.priorityLevel;var $=z(v.expirationTime<=le);le=t.unstable_now(),typeof $=="function"?v.callback=$:v===r(m)&&o(m),D(le)}else o(m);v=r(m)}if(v!==null)var S=!0;else{var ee=r(b);ee!==null&&ze(O,ee.startTime-le),S=!1}return S}finally{v=null,_=Y,A=!1}}var U=!1,q=null,te=-1,ce=5,fe=-1;function Be(){return!(t.unstable_now()-fe<ce)}function re(){if(q!==null){var pe=t.unstable_now();fe=pe;var le=!0;try{le=q(!0,pe)}finally{le?ae():(U=!1,q=null)}}else U=!1}var ae;if(typeof T=="function")ae=function(){T(re)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,xe=Ce.port2;Ce.port1.onmessage=re,ae=function(){xe.postMessage(null)}}else ae=function(){L(re,0)};function Ke(pe){q=pe,U||(U=!0,ae())}function ze(pe,le){te=L(function(){pe(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(pe){pe.callback=null},t.unstable_continueExecution=function(){E||A||(E=!0,Ke(V))},t.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<pe?Math.floor(1e3/pe):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(m)},t.unstable_next=function(pe){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var Y=_;_=le;try{return pe()}finally{_=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(pe,le){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Y=_;_=pe;try{return le()}finally{_=Y}},t.unstable_scheduleCallback=function(pe,le,Y){var z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?z+Y:z):Y=z,pe){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Y+$,pe={id:k++,callback:le,priorityLevel:pe,startTime:Y,expirationTime:$,sortIndex:-1},Y>z?(pe.sortIndex=Y,e(b,pe),r(m)===null&&pe===r(b)&&(I?(N(te),te=-1):I=!0,ze(O,Y-z))):(pe.sortIndex=$,e(m,pe),E||A||(E=!0,Ke(V))),pe},t.unstable_shouldYield=Be,t.unstable_wrapCallback=function(pe){var le=_;return function(){var Y=_;_=le;try{return pe.apply(this,arguments)}finally{_=Y}}}})($$);(function(t){t.exports=$$})(oge);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H$=G,po=jS;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q$=new Set,Gm={};function dd(t,e){Gh(t,e),Gh(t+"Capture",e)}function Gh(t,e){for(Gm[t]=e,t=0;t<e.length;t++)q$.add(e[t])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VS=Object.prototype.hasOwnProperty,sge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XF={},e4={};function age(t){return VS.call(e4,t)?!0:VS.call(XF,t)?!1:sge.test(t)?e4[t]=!0:(XF[t]=!0,!1)}function cge(t,e,r,o){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lge(t,e,r,o){if(e===null||typeof e>"u"||cge(t,e,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,r,o,a,u,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=u,this.removeEmptyString=h}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ri[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ri[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ri[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ri[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ri[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ri[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ri[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ri[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ri[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var vD=/[\-:]([a-z])/g;function yD(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vD,yD);ri[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vD,yD);ri[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vD,yD);ri[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ri[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});ri.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ri[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function _D(t,e,r,o){var a=ri.hasOwnProperty(e)?ri[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lge(e,r,a,o)&&(r=null),o||a===null?age(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,o=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,o?t.setAttributeNS(o,e,r):t.setAttribute(e,r))))}var Ga=H$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lk=Symbol.for("react.element"),lh=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),AD=Symbol.for("react.strict_mode"),US=Symbol.for("react.profiler"),W$=Symbol.for("react.provider"),G$=Symbol.for("react.context"),CD=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),HS=Symbol.for("react.suspense_list"),ED=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),K$=Symbol.for("react.offscreen"),t4=Symbol.iterator;function Mp(t){return t===null||typeof t!="object"?null:(t=t4&&t[t4]||t["@@iterator"],typeof t=="function"?t:null)}var Hn=Object.assign,rx;function im(t){if(rx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rx=e&&e[1]||""}return`
`+rx+t}var ix=!1;function ox(t,e){if(!t||ix)return"";ix=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(b){var o=b}Reflect.construct(t,[],e)}else{try{e.call()}catch(b){o=b}t.call(e.prototype)}else{try{throw Error()}catch(b){o=b}t()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),u=o.stack.split(`
`),h=a.length-1,p=u.length-1;1<=h&&0<=p&&a[h]!==u[p];)p--;for(;1<=h&&0<=p;h--,p--)if(a[h]!==u[p]){if(h!==1||p!==1)do if(h--,p--,0>p||a[h]!==u[p]){var m=`
`+a[h].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=h&&0<=p);break}}}finally{ix=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?im(t):""}function uge(t){switch(t.tag){case 5:return im(t.type);case 16:return im("Lazy");case 13:return im("Suspense");case 19:return im("SuspenseList");case 0:case 2:case 15:return t=ox(t.type,!1),t;case 11:return t=ox(t.type.render,!1),t;case 1:return t=ox(t.type,!0),t;default:return""}}function qS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uh:return"Fragment";case lh:return"Portal";case US:return"Profiler";case AD:return"StrictMode";case $S:return"Suspense";case HS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G$:return(t.displayName||"Context")+".Consumer";case W$:return(t._context.displayName||"Context")+".Provider";case CD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ED:return e=t.displayName||null,e!==null?e:qS(t.type)||"Memo";case Ec:e=t._payload,t=t._init;try{return qS(t(e))}catch{}}return null}function dge(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qS(e);case 8:return e===AD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hge(t){var e=Y$(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,u=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(h){o=""+h,u.call(this,h)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uk(t){t._valueTracker||(t._valueTracker=hge(t))}function Q$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),o="";return t&&(o=Y$(t)?t.checked?"true":"false":t.value),t=o,t!==r?(e.setValue(t),!0):!1}function Nv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function WS(t,e){var r=e.checked;return Hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function n4(t,e){var r=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;r=Qc(e.value!=null?e.value:r),t._wrapperState={initialChecked:o,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z$(t,e){e=e.checked,e!=null&&_D(t,"checked",e,!1)}function GS(t,e){Z$(t,e);var r=Qc(e.value),o=e.type;if(r!=null)o==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?KS(t,e.type,r):e.hasOwnProperty("defaultValue")&&KS(t,e.type,Qc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function KS(t,e,r){(e!=="number"||Nv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var om=Array.isArray;function Ph(t,e,r,o){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Qc(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,o&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function YS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ee(92));if(om(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qc(r)}}function J$(t,e){var r=Qc(e.value),o=Qc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),o!=null&&(t.defaultValue=""+o)}function o4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function X$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dk,e6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,o,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,o,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dk=dk||document.createElement("div"),dk.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dk.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Km(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fge=["Webkit","ms","Moz","O"];Object.keys(bm).forEach(function(t){fge.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bm[e]=bm[t]})});function t6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bm.hasOwnProperty(t)&&bm[t]?(""+e).trim():e+"px"}function n6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=r.indexOf("--")===0,a=t6(r,e[r],o);r==="float"&&(r="cssFloat"),o?t.setProperty(r,a):t[r]=a}}var pge=Hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZS(t,e){if(e){if(pge[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function JS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XS=null;function xD(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eT=null,Mh=null,Nh=null;function s4(t){if(t=Xg(t)){if(typeof eT!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=d_(e),eT(t.stateNode,t.type,e))}}function r6(t){Mh?Nh?Nh.push(t):Nh=[t]:Mh=t}function i6(){if(Mh){var t=Mh,e=Nh;if(Nh=Mh=null,s4(t),e)for(t=0;t<e.length;t++)s4(e[t])}}function o6(t,e){return t(e)}function s6(){}var sx=!1;function a6(t,e,r){if(sx)return t(e,r);sx=!0;try{return o6(t,e,r)}finally{sx=!1,(Mh!==null||Nh!==null)&&(s6(),i6())}}function Ym(t,e){var r=t.stateNode;if(r===null)return null;var o=d_(r);if(o===null)return null;r=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ee(231,e,typeof r));return r}var tT=!1;if(Oa)try{var Np={};Object.defineProperty(Np,"passive",{get:function(){tT=!0}}),window.addEventListener("test",Np,Np),window.removeEventListener("test",Np,Np)}catch{tT=!1}function mge(t,e,r,o,a,u,h,p,m){var b=Array.prototype.slice.call(arguments,3);try{e.apply(r,b)}catch(k){this.onError(k)}}var wm=!1,Rv=null,Ov=!1,nT=null,gge={onError:function(t){wm=!0,Rv=t}};function bge(t,e,r,o,a,u,h,p,m){wm=!1,Rv=null,mge.apply(gge,arguments)}function wge(t,e,r,o,a,u,h,p,m){if(bge.apply(this,arguments),wm){if(wm){var b=Rv;wm=!1,Rv=null}else throw Error(Ee(198));Ov||(Ov=!0,nT=b)}}function hd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function c6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a4(t){if(hd(t)!==t)throw Error(Ee(188))}function kge(t){var e=t.alternate;if(!e){if(e=hd(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var r=t,o=e;;){var a=r.return;if(a===null)break;var u=a.alternate;if(u===null){if(o=a.return,o!==null){r=o;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===r)return a4(a),t;if(u===o)return a4(a),e;u=u.sibling}throw Error(Ee(188))}if(r.return!==o.return)r=a,o=u;else{for(var h=!1,p=a.child;p;){if(p===r){h=!0,r=a,o=u;break}if(p===o){h=!0,o=a,r=u;break}p=p.sibling}if(!h){for(p=u.child;p;){if(p===r){h=!0,r=u,o=a;break}if(p===o){h=!0,o=u,r=a;break}p=p.sibling}if(!h)throw Error(Ee(189))}}if(r.alternate!==o)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?t:e}function l6(t){return t=kge(t),t!==null?u6(t):null}function u6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u6(t);if(e!==null)return e;t=t.sibling}return null}var d6=po.unstable_scheduleCallback,c4=po.unstable_cancelCallback,vge=po.unstable_shouldYield,yge=po.unstable_requestPaint,or=po.unstable_now,_ge=po.unstable_getCurrentPriorityLevel,SD=po.unstable_ImmediatePriority,h6=po.unstable_UserBlockingPriority,Lv=po.unstable_NormalPriority,Age=po.unstable_LowPriority,f6=po.unstable_IdlePriority,a_=null,Gs=null;function Cge(t){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(a_,t,void 0,(t.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:Sge,Ege=Math.log,xge=Math.LN2;function Sge(t){return t>>>=0,t===0?32:31-(Ege(t)/xge|0)|0}var hk=64,fk=4194304;function sm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bv(t,e){var r=t.pendingLanes;if(r===0)return 0;var o=0,a=t.suspendedLanes,u=t.pingedLanes,h=r&268435455;if(h!==0){var p=h&~a;p!==0?o=sm(p):(u&=h,u!==0&&(o=sm(u)))}else h=r&~a,h!==0?o=sm(h):u!==0&&(o=sm(u));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,u=e&-e,a>=u||a===16&&(u&4194240)!==0))return e;if(o&4&&(o|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)r=31-ds(e),a=1<<r,o|=t[r],e&=~a;return o}function Tge(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ige(t,e){for(var r=t.suspendedLanes,o=t.pingedLanes,a=t.expirationTimes,u=t.pendingLanes;0<u;){var h=31-ds(u),p=1<<h,m=a[h];m===-1?(!(p&r)||p&o)&&(a[h]=Tge(p,e)):m<=e&&(t.expiredLanes|=p),u&=~p}}function rT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p6(){var t=hk;return hk<<=1,!(hk&4194240)&&(hk=64),t}function ax(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ds(e),t[e]=r}function Dge(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ds(r),u=1<<a;e[a]=0,o[a]=-1,t[a]=-1,r&=~u}}function TD(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var o=31-ds(r),a=1<<o;a&e|t[o]&e&&(t[o]|=e),r&=~a}}var Jt=0;function m6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g6,ID,b6,w6,k6,iT=!1,pk=[],zc=null,Fc=null,jc=null,Qm=new Map,Zm=new Map,Ic=[],Pge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l4(t,e){switch(t){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Fc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":Qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(e.pointerId)}}function Rp(t,e,r,o,a,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:r,eventSystemFlags:o,nativeEvent:u,targetContainers:[a]},e!==null&&(e=Xg(e),e!==null&&ID(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Mge(t,e,r,o,a){switch(e){case"focusin":return zc=Rp(zc,t,e,r,o,a),!0;case"dragenter":return Fc=Rp(Fc,t,e,r,o,a),!0;case"mouseover":return jc=Rp(jc,t,e,r,o,a),!0;case"pointerover":var u=a.pointerId;return Qm.set(u,Rp(Qm.get(u)||null,t,e,r,o,a)),!0;case"gotpointercapture":return u=a.pointerId,Zm.set(u,Rp(Zm.get(u)||null,t,e,r,o,a)),!0}return!1}function v6(t){var e=vu(t.target);if(e!==null){var r=hd(e);if(r!==null){if(e=r.tag,e===13){if(e=c6(r),e!==null){t.blockedOn=e,k6(t.priority,function(){b6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);XS=o,r.target.dispatchEvent(o),XS=null}else return e=Xg(r),e!==null&&ID(e),t.blockedOn=r,!1;e.shift()}return!0}function u4(t,e,r){tv(t)&&r.delete(e)}function Nge(){iT=!1,zc!==null&&tv(zc)&&(zc=null),Fc!==null&&tv(Fc)&&(Fc=null),jc!==null&&tv(jc)&&(jc=null),Qm.forEach(u4),Zm.forEach(u4)}function Op(t,e){t.blockedOn===e&&(t.blockedOn=null,iT||(iT=!0,po.unstable_scheduleCallback(po.unstable_NormalPriority,Nge)))}function Jm(t){function e(a){return Op(a,t)}if(0<pk.length){Op(pk[0],t);for(var r=1;r<pk.length;r++){var o=pk[r];o.blockedOn===t&&(o.blockedOn=null)}}for(zc!==null&&Op(zc,t),Fc!==null&&Op(Fc,t),jc!==null&&Op(jc,t),Qm.forEach(e),Zm.forEach(e),r=0;r<Ic.length;r++)o=Ic[r],o.blockedOn===t&&(o.blockedOn=null);for(;0<Ic.length&&(r=Ic[0],r.blockedOn===null);)v6(r),r.blockedOn===null&&Ic.shift()}var Rh=Ga.ReactCurrentBatchConfig,zv=!0;function Rge(t,e,r,o){var a=Jt,u=Rh.transition;Rh.transition=null;try{Jt=1,DD(t,e,r,o)}finally{Jt=a,Rh.transition=u}}function Oge(t,e,r,o){var a=Jt,u=Rh.transition;Rh.transition=null;try{Jt=4,DD(t,e,r,o)}finally{Jt=a,Rh.transition=u}}function DD(t,e,r,o){if(zv){var a=oT(t,e,r,o);if(a===null)bx(t,e,o,Fv,r),l4(t,o);else if(Mge(a,t,e,r,o))o.stopPropagation();else if(l4(t,o),e&4&&-1<Pge.indexOf(t)){for(;a!==null;){var u=Xg(a);if(u!==null&&g6(u),u=oT(t,e,r,o),u===null&&bx(t,e,o,Fv,r),u===a)break;a=u}a!==null&&o.stopPropagation()}else bx(t,e,o,null,r)}}var Fv=null;function oT(t,e,r,o){if(Fv=null,t=xD(o),t=vu(t),t!==null)if(e=hd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=c6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fv=t,null}function y6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_ge()){case SD:return 1;case h6:return 4;case Lv:case Age:return 16;case f6:return 536870912;default:return 16}default:return 16}}var Nc=null,PD=null,nv=null;function _6(){if(nv)return nv;var t,e=PD,r=e.length,o,a="value"in Nc?Nc.value:Nc.textContent,u=a.length;for(t=0;t<r&&e[t]===a[t];t++);var h=r-t;for(o=1;o<=h&&e[r-o]===a[u-o];o++);return nv=a.slice(t,1<o?1-o:void 0)}function rv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mk(){return!0}function d4(){return!1}function ko(t){function e(r,o,a,u,h){this._reactName=r,this._targetInst=a,this.type=o,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(r=t[p],this[p]=r?r(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?mk:d4,this.isPropagationStopped=d4,this}return Hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mk)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mk)},persist:function(){},isPersistent:mk}),e}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MD=ko(Af),Jg=Hn({},Af,{view:0,detail:0}),Lge=ko(Jg),cx,lx,Lp,c_=Hn({},Jg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ND,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lp&&(Lp&&t.type==="mousemove"?(cx=t.screenX-Lp.screenX,lx=t.screenY-Lp.screenY):lx=cx=0,Lp=t),cx)},movementY:function(t){return"movementY"in t?t.movementY:lx}}),h4=ko(c_),Bge=Hn({},c_,{dataTransfer:0}),zge=ko(Bge),Fge=Hn({},Jg,{relatedTarget:0}),ux=ko(Fge),jge=Hn({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),Vge=ko(jge),Uge=Hn({},Af,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$ge=ko(Uge),Hge=Hn({},Af,{data:0}),f4=ko(Hge),qge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kge(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gge[t])?!!e[t]:!1}function ND(){return Kge}var Yge=Hn({},Jg,{key:function(t){if(t.key){var e=qge[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wge[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ND,charCode:function(t){return t.type==="keypress"?rv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qge=ko(Yge),Zge=Hn({},c_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p4=ko(Zge),Jge=Hn({},Jg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ND}),Xge=ko(Jge),ebe=Hn({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),tbe=ko(ebe),nbe=Hn({},c_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rbe=ko(nbe),ibe=[9,13,27,32],RD=Oa&&"CompositionEvent"in window,km=null;Oa&&"documentMode"in document&&(km=document.documentMode);var obe=Oa&&"TextEvent"in window&&!km,A6=Oa&&(!RD||km&&8<km&&11>=km),m4=String.fromCharCode(32),g4=!1;function C6(t,e){switch(t){case"keyup":return ibe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dh=!1;function sbe(t,e){switch(t){case"compositionend":return E6(e);case"keypress":return e.which!==32?null:(g4=!0,m4);case"textInput":return t=e.data,t===m4&&g4?null:t;default:return null}}function abe(t,e){if(dh)return t==="compositionend"||!RD&&C6(t,e)?(t=_6(),nv=PD=Nc=null,dh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A6&&e.locale!=="ko"?null:e.data;default:return null}}var cbe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cbe[t.type]:e==="textarea"}function x6(t,e,r,o){r6(o),e=jv(e,"onChange"),0<e.length&&(r=new MD("onChange","change",null,r,o),t.push({event:r,listeners:e}))}var vm=null,Xm=null;function lbe(t){B6(t,0)}function l_(t){var e=ph(t);if(Q$(e))return t}function ube(t,e){if(t==="change")return e}var S6=!1;if(Oa){var dx;if(Oa){var hx="oninput"in document;if(!hx){var w4=document.createElement("div");w4.setAttribute("oninput","return;"),hx=typeof w4.oninput=="function"}dx=hx}else dx=!1;S6=dx&&(!document.documentMode||9<document.documentMode)}function k4(){vm&&(vm.detachEvent("onpropertychange",T6),Xm=vm=null)}function T6(t){if(t.propertyName==="value"&&l_(Xm)){var e=[];x6(e,Xm,t,xD(t)),a6(lbe,e)}}function dbe(t,e,r){t==="focusin"?(k4(),vm=e,Xm=r,vm.attachEvent("onpropertychange",T6)):t==="focusout"&&k4()}function hbe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return l_(Xm)}function fbe(t,e){if(t==="click")return l_(e)}function pbe(t,e){if(t==="input"||t==="change")return l_(e)}function mbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fs=typeof Object.is=="function"?Object.is:mbe;function eg(t,e){if(fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var a=r[o];if(!VS.call(e,a)||!fs(t[a],e[a]))return!1}return!0}function v4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y4(t,e){var r=v4(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=e&&o>=e)return{node:r,offset:e-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v4(r)}}function I6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D6(){for(var t=window,e=Nv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Nv(t.document)}return e}function OD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gbe(t){var e=D6(),r=t.focusedElem,o=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&I6(r.ownerDocument.documentElement,r)){if(o!==null&&OD(r)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,u=Math.min(o.start,a);o=o.end===void 0?u:Math.min(o.end,a),!t.extend&&u>o&&(a=o,o=u,u=a),a=y4(r,u);var h=y4(r,o);a&&h&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),u>o?(t.addRange(e),t.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bbe=Oa&&"documentMode"in document&&11>=document.documentMode,hh=null,sT=null,ym=null,aT=!1;function _4(t,e,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aT||hh==null||hh!==Nv(o)||(o=hh,"selectionStart"in o&&OD(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ym&&eg(ym,o)||(ym=o,o=jv(sT,"onSelect"),0<o.length&&(e=new MD("onSelect","select",null,e,r),t.push({event:e,listeners:o}),e.target=hh)))}function gk(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fh={animationend:gk("Animation","AnimationEnd"),animationiteration:gk("Animation","AnimationIteration"),animationstart:gk("Animation","AnimationStart"),transitionend:gk("Transition","TransitionEnd")},fx={},P6={};Oa&&(P6=document.createElement("div").style,"AnimationEvent"in window||(delete fh.animationend.animation,delete fh.animationiteration.animation,delete fh.animationstart.animation),"TransitionEvent"in window||delete fh.transitionend.transition);function u_(t){if(fx[t])return fx[t];if(!fh[t])return t;var e=fh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in P6)return fx[t]=e[r];return t}var M6=u_("animationend"),N6=u_("animationiteration"),R6=u_("animationstart"),O6=u_("transitionend"),L6=new Map,A4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(t,e){L6.set(t,e),dd(e,[t])}for(var px=0;px<A4.length;px++){var mx=A4[px],wbe=mx.toLowerCase(),kbe=mx[0].toUpperCase()+mx.slice(1);gl(wbe,"on"+kbe)}gl(M6,"onAnimationEnd");gl(N6,"onAnimationIteration");gl(R6,"onAnimationStart");gl("dblclick","onDoubleClick");gl("focusin","onFocus");gl("focusout","onBlur");gl(O6,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vbe=new Set("cancel close invalid load scroll toggle".split(" ").concat(am));function C4(t,e,r){var o=t.type||"unknown-event";t.currentTarget=r,wge(o,e,void 0,t),t.currentTarget=null}function B6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],a=o.event;o=o.listeners;e:{var u=void 0;if(e)for(var h=o.length-1;0<=h;h--){var p=o[h],m=p.instance,b=p.currentTarget;if(p=p.listener,m!==u&&a.isPropagationStopped())break e;C4(a,p,b),u=m}else for(h=0;h<o.length;h++){if(p=o[h],m=p.instance,b=p.currentTarget,p=p.listener,m!==u&&a.isPropagationStopped())break e;C4(a,p,b),u=m}}}if(Ov)throw t=nT,Ov=!1,nT=null,t}function _n(t,e){var r=e[hT];r===void 0&&(r=e[hT]=new Set);var o=t+"__bubble";r.has(o)||(z6(e,t,2,!1),r.add(o))}function gx(t,e,r){var o=0;e&&(o|=4),z6(r,t,o,e)}var bk="_reactListening"+Math.random().toString(36).slice(2);function tg(t){if(!t[bk]){t[bk]=!0,q$.forEach(function(r){r!=="selectionchange"&&(vbe.has(r)||gx(r,!1,t),gx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bk]||(e[bk]=!0,gx("selectionchange",!1,e))}}function z6(t,e,r,o){switch(y6(e)){case 1:var a=Rge;break;case 4:a=Oge;break;default:a=DD}r=a.bind(null,e,r,t),a=void 0,!tT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function bx(t,e,r,o,a){var u=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(h===4)for(h=o.return;h!==null;){var m=h.tag;if((m===3||m===4)&&(m=h.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;h=h.return}for(;p!==null;){if(h=vu(p),h===null)return;if(m=h.tag,m===5||m===6){o=u=h;continue e}p=p.parentNode}}o=o.return}a6(function(){var b=u,k=xD(r),v=[];e:{var _=L6.get(t);if(_!==void 0){var A=MD,E=t;switch(t){case"keypress":if(rv(r)===0)break e;case"keydown":case"keyup":A=Qge;break;case"focusin":E="focus",A=ux;break;case"focusout":E="blur",A=ux;break;case"beforeblur":case"afterblur":A=ux;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=h4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=zge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Xge;break;case M6:case N6:case R6:A=Vge;break;case O6:A=tbe;break;case"scroll":A=Lge;break;case"wheel":A=rbe;break;case"copy":case"cut":case"paste":A=$ge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=p4}var I=(e&4)!==0,L=!I&&t==="scroll",N=I?_!==null?_+"Capture":null:_;I=[];for(var T=b,D;T!==null;){D=T;var O=D.stateNode;if(D.tag===5&&O!==null&&(D=O,N!==null&&(O=Ym(T,N),O!=null&&I.push(ng(T,O,D)))),L)break;T=T.return}0<I.length&&(_=new A(_,E,null,r,k),v.push({event:_,listeners:I}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",_&&r!==XS&&(E=r.relatedTarget||r.fromElement)&&(vu(E)||E[La]))break e;if((A||_)&&(_=k.window===k?k:(_=k.ownerDocument)?_.defaultView||_.parentWindow:window,A?(E=r.relatedTarget||r.toElement,A=b,E=E?vu(E):null,E!==null&&(L=hd(E),E!==L||E.tag!==5&&E.tag!==6)&&(E=null)):(A=null,E=b),A!==E)){if(I=h4,O="onMouseLeave",N="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(I=p4,O="onPointerLeave",N="onPointerEnter",T="pointer"),L=A==null?_:ph(A),D=E==null?_:ph(E),_=new I(O,T+"leave",A,r,k),_.target=L,_.relatedTarget=D,O=null,vu(k)===b&&(I=new I(N,T+"enter",E,r,k),I.target=D,I.relatedTarget=L,O=I),L=O,A&&E)t:{for(I=A,N=E,T=0,D=I;D;D=Jd(D))T++;for(D=0,O=N;O;O=Jd(O))D++;for(;0<T-D;)I=Jd(I),T--;for(;0<D-T;)N=Jd(N),D--;for(;T--;){if(I===N||N!==null&&I===N.alternate)break t;I=Jd(I),N=Jd(N)}I=null}else I=null;A!==null&&E4(v,_,A,I,!1),E!==null&&L!==null&&E4(v,L,E,I,!0)}}e:{if(_=b?ph(b):window,A=_.nodeName&&_.nodeName.toLowerCase(),A==="select"||A==="input"&&_.type==="file")var V=ube;else if(b4(_))if(S6)V=pbe;else{V=hbe;var U=dbe}else(A=_.nodeName)&&A.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(V=fbe);if(V&&(V=V(t,b))){x6(v,V,r,k);break e}U&&U(t,_,b),t==="focusout"&&(U=_._wrapperState)&&U.controlled&&_.type==="number"&&KS(_,"number",_.value)}switch(U=b?ph(b):window,t){case"focusin":(b4(U)||U.contentEditable==="true")&&(hh=U,sT=b,ym=null);break;case"focusout":ym=sT=hh=null;break;case"mousedown":aT=!0;break;case"contextmenu":case"mouseup":case"dragend":aT=!1,_4(v,r,k);break;case"selectionchange":if(bbe)break;case"keydown":case"keyup":_4(v,r,k)}var q;if(RD)e:{switch(t){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else dh?C6(t,r)&&(te="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(te="onCompositionStart");te&&(A6&&r.locale!=="ko"&&(dh||te!=="onCompositionStart"?te==="onCompositionEnd"&&dh&&(q=_6()):(Nc=k,PD="value"in Nc?Nc.value:Nc.textContent,dh=!0)),U=jv(b,te),0<U.length&&(te=new f4(te,t,null,r,k),v.push({event:te,listeners:U}),q?te.data=q:(q=E6(r),q!==null&&(te.data=q)))),(q=obe?sbe(t,r):abe(t,r))&&(b=jv(b,"onBeforeInput"),0<b.length&&(k=new f4("onBeforeInput","beforeinput",null,r,k),v.push({event:k,listeners:b}),k.data=q))}B6(v,e)})}function ng(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jv(t,e){for(var r=e+"Capture",o=[];t!==null;){var a=t,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=Ym(t,r),u!=null&&o.unshift(ng(t,u,a)),u=Ym(t,e),u!=null&&o.push(ng(t,u,a))),t=t.return}return o}function Jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E4(t,e,r,o,a){for(var u=e._reactName,h=[];r!==null&&r!==o;){var p=r,m=p.alternate,b=p.stateNode;if(m!==null&&m===o)break;p.tag===5&&b!==null&&(p=b,a?(m=Ym(r,u),m!=null&&h.unshift(ng(r,m,p))):a||(m=Ym(r,u),m!=null&&h.push(ng(r,m,p)))),r=r.return}h.length!==0&&t.push({event:e,listeners:h})}var ybe=/\r\n?/g,_be=/\u0000|\uFFFD/g;function x4(t){return(typeof t=="string"?t:""+t).replace(ybe,`
`).replace(_be,"")}function wk(t,e,r){if(e=x4(e),x4(t)!==e&&r)throw Error(Ee(425))}function Vv(){}var cT=null,lT=null;function uT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dT=typeof setTimeout=="function"?setTimeout:void 0,Abe=typeof clearTimeout=="function"?clearTimeout:void 0,S4=typeof Promise=="function"?Promise:void 0,Cbe=typeof queueMicrotask=="function"?queueMicrotask:typeof S4<"u"?function(t){return S4.resolve(null).then(t).catch(Ebe)}:dT;function Ebe(t){setTimeout(function(){throw t})}function wx(t,e){var r=e,o=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(o===0){t.removeChild(a),Jm(e);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=a}while(r);Jm(e)}function Vc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Rs="__reactFiber$"+Cf,rg="__reactProps$"+Cf,La="__reactContainer$"+Cf,hT="__reactEvents$"+Cf,xbe="__reactListeners$"+Cf,Sbe="__reactHandles$"+Cf;function vu(t){var e=t[Rs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[La]||r[Rs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=T4(t);t!==null;){if(r=t[Rs])return r;t=T4(t)}return e}t=r,r=t.parentNode}return null}function Xg(t){return t=t[Rs]||t[La],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ph(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function d_(t){return t[rg]||null}var fT=[],mh=-1;function bl(t){return{current:t}}function En(t){0>mh||(t.current=fT[mh],fT[mh]=null,mh--)}function bn(t,e){mh++,fT[mh]=t.current,t.current=e}var Zc={},ki=bl(Zc),Ji=bl(!1),Hu=Zc;function Kh(t,e){var r=t.type.contextTypes;if(!r)return Zc;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in r)a[u]=e[u];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Xi(t){return t=t.childContextTypes,t!=null}function Uv(){En(Ji),En(ki)}function I4(t,e,r){if(ki.current!==Zc)throw Error(Ee(168));bn(ki,e),bn(Ji,r)}function F6(t,e,r){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(Ee(108,dge(t)||"Unknown",a));return Hn({},r,o)}function $v(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zc,Hu=ki.current,bn(ki,t),bn(Ji,Ji.current),!0}function D4(t,e,r){var o=t.stateNode;if(!o)throw Error(Ee(169));r?(t=F6(t,e,Hu),o.__reactInternalMemoizedMergedChildContext=t,En(Ji),En(ki),bn(ki,t)):En(Ji),bn(Ji,r)}var ka=null,h_=!1,kx=!1;function j6(t){ka===null?ka=[t]:ka.push(t)}function Tbe(t){h_=!0,j6(t)}function wl(){if(!kx&&ka!==null){kx=!0;var t=0,e=Jt;try{var r=ka;for(Jt=1;t<r.length;t++){var o=r[t];do o=o(!0);while(o!==null)}ka=null,h_=!1}catch(a){throw ka!==null&&(ka=ka.slice(t+1)),d6(SD,wl),a}finally{Jt=e,kx=!1}}return null}var gh=[],bh=0,Hv=null,qv=0,Po=[],Mo=0,qu=null,ya=1,_a="";function lu(t,e){gh[bh++]=qv,gh[bh++]=Hv,Hv=t,qv=e}function V6(t,e,r){Po[Mo++]=ya,Po[Mo++]=_a,Po[Mo++]=qu,qu=t;var o=ya;t=_a;var a=32-ds(o)-1;o&=~(1<<a),r+=1;var u=32-ds(e)+a;if(30<u){var h=a-a%5;u=(o&(1<<h)-1).toString(32),o>>=h,a-=h,ya=1<<32-ds(e)+a|r<<a|o,_a=u+t}else ya=1<<u|r<<a|o,_a=t}function LD(t){t.return!==null&&(lu(t,1),V6(t,1,0))}function BD(t){for(;t===Hv;)Hv=gh[--bh],gh[bh]=null,qv=gh[--bh],gh[bh]=null;for(;t===qu;)qu=Po[--Mo],Po[Mo]=null,_a=Po[--Mo],Po[Mo]=null,ya=Po[--Mo],Po[Mo]=null}var fo=null,uo=null,Mn=!1,as=null;function U6(t,e){var r=Ro(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function P4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fo=t,uo=Vc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fo=t,uo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qu!==null?{id:ya,overflow:_a}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ro(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fo=t,uo=null,!0):!1;default:return!1}}function pT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mT(t){if(Mn){var e=uo;if(e){var r=e;if(!P4(t,e)){if(pT(t))throw Error(Ee(418));e=Vc(r.nextSibling);var o=fo;e&&P4(t,e)?U6(o,r):(t.flags=t.flags&-4097|2,Mn=!1,fo=t)}}else{if(pT(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,Mn=!1,fo=t}}}function M4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fo=t}function kk(t){if(t!==fo)return!1;if(!Mn)return M4(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uT(t.type,t.memoizedProps)),e&&(e=uo)){if(pT(t))throw $6(),Error(Ee(418));for(;e;)U6(t,e),e=Vc(e.nextSibling)}if(M4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){uo=Vc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}uo=null}}else uo=fo?Vc(t.stateNode.nextSibling):null;return!0}function $6(){for(var t=uo;t;)t=Vc(t.nextSibling)}function Yh(){uo=fo=null,Mn=!1}function zD(t){as===null?as=[t]:as.push(t)}var Ibe=Ga.ReactCurrentBatchConfig;function os(t,e){if(t&&t.defaultProps){e=Hn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Wv=bl(null),Gv=null,wh=null,FD=null;function jD(){FD=wh=Gv=null}function VD(t){var e=Wv.current;En(Wv),t._currentValue=e}function gT(t,e,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===r)break;t=t.return}}function Oh(t,e){Gv=t,FD=wh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ki=!0),t.firstContext=null)}function jo(t){var e=t._currentValue;if(FD!==t)if(t={context:t,memoizedValue:e,next:null},wh===null){if(Gv===null)throw Error(Ee(308));wh=t,Gv.dependencies={lanes:0,firstContext:t}}else wh=wh.next=t;return e}var yu=null;function UD(t){yu===null?yu=[t]:yu.push(t)}function H6(t,e,r,o){var a=e.interleaved;return a===null?(r.next=r,UD(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ba(t,o)}function Ba(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var xc=!1;function $D(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uc(t,e,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Ut&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Ba(t,r)}return a=o.interleaved,a===null?(e.next=e,UD(o)):(e.next=a.next,a.next=e),o.interleaved=e,Ba(t,r)}function iv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,TD(t,r)}}function N4(t,e){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var a=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?a=u=h:u=u.next=h,r=r.next}while(r!==null);u===null?a=u=e:u=u.next=e}else a=u=e;r={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:o.shared,effects:o.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Kv(t,e,r,o){var a=t.updateQueue;xc=!1;var u=a.firstBaseUpdate,h=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var m=p,b=m.next;m.next=null,h===null?u=b:h.next=b,h=m;var k=t.alternate;k!==null&&(k=k.updateQueue,p=k.lastBaseUpdate,p!==h&&(p===null?k.firstBaseUpdate=b:p.next=b,k.lastBaseUpdate=m))}if(u!==null){var v=a.baseState;h=0,k=b=m=null,p=u;do{var _=p.lane,A=p.eventTime;if((o&_)===_){k!==null&&(k=k.next={eventTime:A,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var E=t,I=p;switch(_=e,A=r,I.tag){case 1:if(E=I.payload,typeof E=="function"){v=E.call(A,v,_);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=I.payload,_=typeof E=="function"?E.call(A,v,_):E,_==null)break e;v=Hn({},v,_);break e;case 2:xc=!0}}p.callback!==null&&p.lane!==0&&(t.flags|=64,_=a.effects,_===null?a.effects=[p]:_.push(p))}else A={eventTime:A,lane:_,tag:p.tag,payload:p.payload,callback:p.callback,next:null},k===null?(b=k=A,m=v):k=k.next=A,h|=_;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;_=p,p=_.next,_.next=null,a.lastBaseUpdate=_,a.shared.pending=null}}while(1);if(k===null&&(m=v),a.baseState=m,a.firstBaseUpdate=b,a.lastBaseUpdate=k,e=a.shared.interleaved,e!==null){a=e;do h|=a.lane,a=a.next;while(a!==e)}else u===null&&(a.shared.lanes=0);Gu|=h,t.lanes=h,t.memoizedState=v}}function R4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],a=o.callback;if(a!==null){if(o.callback=null,o=r,typeof a!="function")throw Error(Ee(191,a));a.call(o)}}}var W6=new H$.Component().refs;function bT(t,e,r,o){e=t.memoizedState,r=r(o,e),r=r==null?e:Hn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var f_={isMounted:function(t){return(t=t._reactInternals)?hd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var o=Pi(),a=Hc(t),u=Sa(o,a);u.payload=e,r!=null&&(u.callback=r),e=Uc(t,u,a),e!==null&&(hs(e,t,a,o),iv(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var o=Pi(),a=Hc(t),u=Sa(o,a);u.tag=1,u.payload=e,r!=null&&(u.callback=r),e=Uc(t,u,a),e!==null&&(hs(e,t,a,o),iv(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pi(),o=Hc(t),a=Sa(r,o);a.tag=2,e!=null&&(a.callback=e),e=Uc(t,a,o),e!==null&&(hs(e,t,o,r),iv(e,t,o))}};function O4(t,e,r,o,a,u,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,u,h):e.prototype&&e.prototype.isPureReactComponent?!eg(r,o)||!eg(a,u):!0}function G6(t,e,r){var o=!1,a=Zc,u=e.contextType;return typeof u=="object"&&u!==null?u=jo(u):(a=Xi(e)?Hu:ki.current,o=e.contextTypes,u=(o=o!=null)?Kh(t,a):Zc),e=new e(r,u),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=f_,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=u),e}function L4(t,e,r,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,o),e.state!==t&&f_.enqueueReplaceState(e,e.state,null)}function wT(t,e,r,o){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs=W6,$D(t);var u=e.contextType;typeof u=="object"&&u!==null?a.context=jo(u):(u=Xi(e)?Hu:ki.current,a.context=Kh(t,u)),a.state=t.memoizedState,u=e.getDerivedStateFromProps,typeof u=="function"&&(bT(t,e,u,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&f_.enqueueReplaceState(a,a.state,null),Kv(t,r,a,o),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Bp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var o=r.stateNode}if(!o)throw Error(Ee(147,t));var a=o,u=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===u?e.ref:(e=function(h){var p=a.refs;p===W6&&(p=a.refs={}),h===null?delete p[u]:p[u]=h},e._stringRef=u,e)}if(typeof t!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,t))}return t}function vk(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B4(t){var e=t._init;return e(t._payload)}function K6(t){function e(N,T){if(t){var D=N.deletions;D===null?(N.deletions=[T],N.flags|=16):D.push(T)}}function r(N,T){if(!t)return null;for(;T!==null;)e(N,T),T=T.sibling;return null}function o(N,T){for(N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function a(N,T){return N=qc(N,T),N.index=0,N.sibling=null,N}function u(N,T,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<T?(N.flags|=2,T):D):(N.flags|=2,T)):(N.flags|=1048576,T)}function h(N){return t&&N.alternate===null&&(N.flags|=2),N}function p(N,T,D,O){return T===null||T.tag!==6?(T=xx(D,N.mode,O),T.return=N,T):(T=a(T,D),T.return=N,T)}function m(N,T,D,O){var V=D.type;return V===uh?k(N,T,D.props.children,O,D.key):T!==null&&(T.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ec&&B4(V)===T.type)?(O=a(T,D.props),O.ref=Bp(N,T,D),O.return=N,O):(O=uv(D.type,D.key,D.props,null,N.mode,O),O.ref=Bp(N,T,D),O.return=N,O)}function b(N,T,D,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==D.containerInfo||T.stateNode.implementation!==D.implementation?(T=Sx(D,N.mode,O),T.return=N,T):(T=a(T,D.children||[]),T.return=N,T)}function k(N,T,D,O,V){return T===null||T.tag!==7?(T=Ou(D,N.mode,O,V),T.return=N,T):(T=a(T,D),T.return=N,T)}function v(N,T,D){if(typeof T=="string"&&T!==""||typeof T=="number")return T=xx(""+T,N.mode,D),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lk:return D=uv(T.type,T.key,T.props,null,N.mode,D),D.ref=Bp(N,null,T),D.return=N,D;case lh:return T=Sx(T,N.mode,D),T.return=N,T;case Ec:var O=T._init;return v(N,O(T._payload),D)}if(om(T)||Mp(T))return T=Ou(T,N.mode,D,null),T.return=N,T;vk(N,T)}return null}function _(N,T,D,O){var V=T!==null?T.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return V!==null?null:p(N,T,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case lk:return D.key===V?m(N,T,D,O):null;case lh:return D.key===V?b(N,T,D,O):null;case Ec:return V=D._init,_(N,T,V(D._payload),O)}if(om(D)||Mp(D))return V!==null?null:k(N,T,D,O,null);vk(N,D)}return null}function A(N,T,D,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return N=N.get(D)||null,p(T,N,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case lk:return N=N.get(O.key===null?D:O.key)||null,m(T,N,O,V);case lh:return N=N.get(O.key===null?D:O.key)||null,b(T,N,O,V);case Ec:var U=O._init;return A(N,T,D,U(O._payload),V)}if(om(O)||Mp(O))return N=N.get(D)||null,k(T,N,O,V,null);vk(T,O)}return null}function E(N,T,D,O){for(var V=null,U=null,q=T,te=T=0,ce=null;q!==null&&te<D.length;te++){q.index>te?(ce=q,q=null):ce=q.sibling;var fe=_(N,q,D[te],O);if(fe===null){q===null&&(q=ce);break}t&&q&&fe.alternate===null&&e(N,q),T=u(fe,T,te),U===null?V=fe:U.sibling=fe,U=fe,q=ce}if(te===D.length)return r(N,q),Mn&&lu(N,te),V;if(q===null){for(;te<D.length;te++)q=v(N,D[te],O),q!==null&&(T=u(q,T,te),U===null?V=q:U.sibling=q,U=q);return Mn&&lu(N,te),V}for(q=o(N,q);te<D.length;te++)ce=A(q,N,te,D[te],O),ce!==null&&(t&&ce.alternate!==null&&q.delete(ce.key===null?te:ce.key),T=u(ce,T,te),U===null?V=ce:U.sibling=ce,U=ce);return t&&q.forEach(function(Be){return e(N,Be)}),Mn&&lu(N,te),V}function I(N,T,D,O){var V=Mp(D);if(typeof V!="function")throw Error(Ee(150));if(D=V.call(D),D==null)throw Error(Ee(151));for(var U=V=null,q=T,te=T=0,ce=null,fe=D.next();q!==null&&!fe.done;te++,fe=D.next()){q.index>te?(ce=q,q=null):ce=q.sibling;var Be=_(N,q,fe.value,O);if(Be===null){q===null&&(q=ce);break}t&&q&&Be.alternate===null&&e(N,q),T=u(Be,T,te),U===null?V=Be:U.sibling=Be,U=Be,q=ce}if(fe.done)return r(N,q),Mn&&lu(N,te),V;if(q===null){for(;!fe.done;te++,fe=D.next())fe=v(N,fe.value,O),fe!==null&&(T=u(fe,T,te),U===null?V=fe:U.sibling=fe,U=fe);return Mn&&lu(N,te),V}for(q=o(N,q);!fe.done;te++,fe=D.next())fe=A(q,N,te,fe.value,O),fe!==null&&(t&&fe.alternate!==null&&q.delete(fe.key===null?te:fe.key),T=u(fe,T,te),U===null?V=fe:U.sibling=fe,U=fe);return t&&q.forEach(function(re){return e(N,re)}),Mn&&lu(N,te),V}function L(N,T,D,O){if(typeof D=="object"&&D!==null&&D.type===uh&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case lk:e:{for(var V=D.key,U=T;U!==null;){if(U.key===V){if(V=D.type,V===uh){if(U.tag===7){r(N,U.sibling),T=a(U,D.props.children),T.return=N,N=T;break e}}else if(U.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ec&&B4(V)===U.type){r(N,U.sibling),T=a(U,D.props),T.ref=Bp(N,U,D),T.return=N,N=T;break e}r(N,U);break}else e(N,U);U=U.sibling}D.type===uh?(T=Ou(D.props.children,N.mode,O,D.key),T.return=N,N=T):(O=uv(D.type,D.key,D.props,null,N.mode,O),O.ref=Bp(N,T,D),O.return=N,N=O)}return h(N);case lh:e:{for(U=D.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===D.containerInfo&&T.stateNode.implementation===D.implementation){r(N,T.sibling),T=a(T,D.children||[]),T.return=N,N=T;break e}else{r(N,T);break}else e(N,T);T=T.sibling}T=Sx(D,N.mode,O),T.return=N,N=T}return h(N);case Ec:return U=D._init,L(N,T,U(D._payload),O)}if(om(D))return E(N,T,D,O);if(Mp(D))return I(N,T,D,O);vk(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,T!==null&&T.tag===6?(r(N,T.sibling),T=a(T,D),T.return=N,N=T):(r(N,T),T=xx(D,N.mode,O),T.return=N,N=T),h(N)):r(N,T)}return L}var Qh=K6(!0),Y6=K6(!1),eb={},Ks=bl(eb),ig=bl(eb),og=bl(eb);function _u(t){if(t===eb)throw Error(Ee(174));return t}function HD(t,e){switch(bn(og,e),bn(ig,t),bn(Ks,eb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:QS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=QS(e,t)}En(Ks),bn(Ks,e)}function Zh(){En(Ks),En(ig),En(og)}function Q6(t){_u(og.current);var e=_u(Ks.current),r=QS(e,t.type);e!==r&&(bn(ig,t),bn(Ks,r))}function qD(t){ig.current===t&&(En(Ks),En(ig))}var Vn=bl(0);function Yv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vx=[];function WD(){for(var t=0;t<vx.length;t++)vx[t]._workInProgressVersionPrimary=null;vx.length=0}var ov=Ga.ReactCurrentDispatcher,yx=Ga.ReactCurrentBatchConfig,Wu=0,$n=null,gr=null,Nr=null,Qv=!1,_m=!1,sg=0,Dbe=0;function ui(){throw Error(Ee(321))}function GD(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!fs(t[r],e[r]))return!1;return!0}function KD(t,e,r,o,a,u){if(Wu=u,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ov.current=t===null||t.memoizedState===null?Rbe:Obe,t=r(o,a),_m){u=0;do{if(_m=!1,sg=0,25<=u)throw Error(Ee(301));u+=1,Nr=gr=null,e.updateQueue=null,ov.current=Lbe,t=r(o,a)}while(_m)}if(ov.current=Zv,e=gr!==null&&gr.next!==null,Wu=0,Nr=gr=$n=null,Qv=!1,e)throw Error(Ee(300));return t}function YD(){var t=sg!==0;return sg=0,t}function Ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?$n.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function Vo(){if(gr===null){var t=$n.alternate;t=t!==null?t.memoizedState:null}else t=gr.next;var e=Nr===null?$n.memoizedState:Nr.next;if(e!==null)Nr=e,gr=t;else{if(t===null)throw Error(Ee(310));gr=t,t={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Nr===null?$n.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function ag(t,e){return typeof e=="function"?e(t):e}function _x(t){var e=Vo(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var o=gr,a=o.baseQueue,u=r.pending;if(u!==null){if(a!==null){var h=a.next;a.next=u.next,u.next=h}o.baseQueue=a=u,r.pending=null}if(a!==null){u=a.next,o=o.baseState;var p=h=null,m=null,b=u;do{var k=b.lane;if((Wu&k)===k)m!==null&&(m=m.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:t(o,b.action);else{var v={lane:k,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};m===null?(p=m=v,h=o):m=m.next=v,$n.lanes|=k,Gu|=k}b=b.next}while(b!==null&&b!==u);m===null?h=o:m.next=p,fs(o,e.memoizedState)||(Ki=!0),e.memoizedState=o,e.baseState=h,e.baseQueue=m,r.lastRenderedState=o}if(t=r.interleaved,t!==null){a=t;do u=a.lane,$n.lanes|=u,Gu|=u,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ax(t){var e=Vo(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var o=r.dispatch,a=r.pending,u=e.memoizedState;if(a!==null){r.pending=null;var h=a=a.next;do u=t(u,h.action),h=h.next;while(h!==a);fs(u,e.memoizedState)||(Ki=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),r.lastRenderedState=u}return[u,o]}function Z6(){}function J6(t,e){var r=$n,o=Vo(),a=e(),u=!fs(o.memoizedState,a);if(u&&(o.memoizedState=a,Ki=!0),o=o.queue,QD(t7.bind(null,r,o,t),[t]),o.getSnapshot!==e||u||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,cg(9,e7.bind(null,r,o,a,e),void 0,null),Or===null)throw Error(Ee(349));Wu&30||X6(r,e,a)}return a}function X6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function e7(t,e,r,o){e.value=r,e.getSnapshot=o,n7(e)&&r7(t)}function t7(t,e,r){return r(function(){n7(e)&&r7(t)})}function n7(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fs(t,r)}catch{return!0}}function r7(t){var e=Ba(t,1);e!==null&&hs(e,t,1,-1)}function z4(t){var e=Ms();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:t},e.queue=t,t=t.dispatch=Nbe.bind(null,$n,t),[e.memoizedState,t]}function cg(t,e,r,o){return t={tag:t,create:e,destroy:r,deps:o,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,e.lastEffect=t)),t}function i7(){return Vo().memoizedState}function sv(t,e,r,o){var a=Ms();$n.flags|=t,a.memoizedState=cg(1|e,r,void 0,o===void 0?null:o)}function p_(t,e,r,o){var a=Vo();o=o===void 0?null:o;var u=void 0;if(gr!==null){var h=gr.memoizedState;if(u=h.destroy,o!==null&&GD(o,h.deps)){a.memoizedState=cg(e,r,u,o);return}}$n.flags|=t,a.memoizedState=cg(1|e,r,u,o)}function F4(t,e){return sv(8390656,8,t,e)}function QD(t,e){return p_(2048,8,t,e)}function o7(t,e){return p_(4,2,t,e)}function s7(t,e){return p_(4,4,t,e)}function a7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function c7(t,e,r){return r=r!=null?r.concat([t]):null,p_(4,4,a7.bind(null,e,t),r)}function ZD(){}function l7(t,e){var r=Vo();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&GD(e,o[1])?o[0]:(r.memoizedState=[t,e],t)}function u7(t,e){var r=Vo();e=e===void 0?null:e;var o=r.memoizedState;return o!==null&&e!==null&&GD(e,o[1])?o[0]:(t=t(),r.memoizedState=[t,e],t)}function d7(t,e,r){return Wu&21?(fs(r,e)||(r=p6(),$n.lanes|=r,Gu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ki=!0),t.memoizedState=r)}function Pbe(t,e){var r=Jt;Jt=r!==0&&4>r?r:4,t(!0);var o=yx.transition;yx.transition={};try{t(!1),e()}finally{Jt=r,yx.transition=o}}function h7(){return Vo().memoizedState}function Mbe(t,e,r){var o=Hc(t);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},f7(t))p7(e,r);else if(r=H6(t,e,r,o),r!==null){var a=Pi();hs(r,t,o,a),m7(r,e,o)}}function Nbe(t,e,r){var o=Hc(t),a={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(f7(t))p7(e,a);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var h=e.lastRenderedState,p=u(h,r);if(a.hasEagerState=!0,a.eagerState=p,fs(p,h)){var m=e.interleaved;m===null?(a.next=a,UD(e)):(a.next=m.next,m.next=a),e.interleaved=a;return}}catch{}finally{}r=H6(t,e,a,o),r!==null&&(a=Pi(),hs(r,t,o,a),m7(r,e,o))}}function f7(t){var e=t.alternate;return t===$n||e!==null&&e===$n}function p7(t,e){_m=Qv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function m7(t,e,r){if(r&4194240){var o=e.lanes;o&=t.pendingLanes,r|=o,e.lanes=r,TD(t,r)}}var Zv={readContext:jo,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},Rbe={readContext:jo,useCallback:function(t,e){return Ms().memoizedState=[t,e===void 0?null:e],t},useContext:jo,useEffect:F4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sv(4194308,4,a7.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sv(4194308,4,t,e)},useInsertionEffect:function(t,e){return sv(4,2,t,e)},useMemo:function(t,e){var r=Ms();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var o=Ms();return e=r!==void 0?r(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Mbe.bind(null,$n,t),[o.memoizedState,t]},useRef:function(t){var e=Ms();return t={current:t},e.memoizedState=t},useState:z4,useDebugValue:ZD,useDeferredValue:function(t){return Ms().memoizedState=t},useTransition:function(){var t=z4(!1),e=t[0];return t=Pbe.bind(null,t[1]),Ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var o=$n,a=Ms();if(Mn){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=e(),Or===null)throw Error(Ee(349));Wu&30||X6(o,e,r)}a.memoizedState=r;var u={value:r,getSnapshot:e};return a.queue=u,F4(t7.bind(null,o,u,t),[t]),o.flags|=2048,cg(9,e7.bind(null,o,u,r,e),void 0,null),r},useId:function(){var t=Ms(),e=Or.identifierPrefix;if(Mn){var r=_a,o=ya;r=(o&~(1<<32-ds(o)-1)).toString(32)+r,e=":"+e+"R"+r,r=sg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dbe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Obe={readContext:jo,useCallback:l7,useContext:jo,useEffect:QD,useImperativeHandle:c7,useInsertionEffect:o7,useLayoutEffect:s7,useMemo:u7,useReducer:_x,useRef:i7,useState:function(){return _x(ag)},useDebugValue:ZD,useDeferredValue:function(t){var e=Vo();return d7(e,gr.memoizedState,t)},useTransition:function(){var t=_x(ag)[0],e=Vo().memoizedState;return[t,e]},useMutableSource:Z6,useSyncExternalStore:J6,useId:h7,unstable_isNewReconciler:!1},Lbe={readContext:jo,useCallback:l7,useContext:jo,useEffect:QD,useImperativeHandle:c7,useInsertionEffect:o7,useLayoutEffect:s7,useMemo:u7,useReducer:Ax,useRef:i7,useState:function(){return Ax(ag)},useDebugValue:ZD,useDeferredValue:function(t){var e=Vo();return gr===null?e.memoizedState=t:d7(e,gr.memoizedState,t)},useTransition:function(){var t=Ax(ag)[0],e=Vo().memoizedState;return[t,e]},useMutableSource:Z6,useSyncExternalStore:J6,useId:h7,unstable_isNewReconciler:!1};function Jh(t,e){try{var r="",o=e;do r+=uge(o),o=o.return;while(o);var a=r}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:t,source:e,stack:a,digest:null}}function Cx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function kT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Bbe=typeof WeakMap=="function"?WeakMap:Map;function g7(t,e,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var o=e.value;return r.callback=function(){Xv||(Xv=!0,IT=o),kT(t,e)},r}function b7(t,e,r){r=Sa(-1,r),r.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;r.payload=function(){return o(a)},r.callback=function(){kT(t,e)}}var u=t.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){kT(t,e),typeof o!="function"&&($c===null?$c=new Set([this]):$c.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),r}function j4(t,e,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Bbe;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(r)||(a.add(r),t=Zbe.bind(null,t,e,r),e.then(t,t))}function V4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U4(t,e,r,o,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sa(-1,1),e.tag=2,Uc(r,e,1))),r.lanes|=1),t)}var zbe=Ga.ReactCurrentOwner,Ki=!1;function Ei(t,e,r,o){e.child=t===null?Y6(e,null,r,o):Qh(e,t.child,r,o)}function $4(t,e,r,o,a){r=r.render;var u=e.ref;return Oh(e,a),o=KD(t,e,r,o,u,a),r=YD(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,za(t,e,a)):(Mn&&r&&LD(e),e.flags|=1,Ei(t,e,o,a),e.child)}function H4(t,e,r,o,a){if(t===null){var u=r.type;return typeof u=="function"&&!oP(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=u,w7(t,e,u,o,a)):(t=uv(r.type,null,o,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!(t.lanes&a)){var h=u.memoizedProps;if(r=r.compare,r=r!==null?r:eg,r(h,o)&&t.ref===e.ref)return za(t,e,a)}return e.flags|=1,t=qc(u,o),t.ref=e.ref,t.return=e,e.child=t}function w7(t,e,r,o,a){if(t!==null){var u=t.memoizedProps;if(eg(u,o)&&t.ref===e.ref)if(Ki=!1,e.pendingProps=o=u,(t.lanes&a)!==0)t.flags&131072&&(Ki=!0);else return e.lanes=t.lanes,za(t,e,a)}return vT(t,e,r,o,a)}function k7(t,e,r){var o=e.pendingProps,a=o.children,u=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(vh,co),co|=r;else{if(!(r&1073741824))return t=u!==null?u.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bn(vh,co),co|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:r,bn(vh,co),co|=o}else u!==null?(o=u.baseLanes|r,e.memoizedState=null):o=r,bn(vh,co),co|=o;return Ei(t,e,a,r),e.child}function v7(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function vT(t,e,r,o,a){var u=Xi(r)?Hu:ki.current;return u=Kh(e,u),Oh(e,a),r=KD(t,e,r,o,u,a),o=YD(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,za(t,e,a)):(Mn&&o&&LD(e),e.flags|=1,Ei(t,e,r,a),e.child)}function q4(t,e,r,o,a){if(Xi(r)){var u=!0;$v(e)}else u=!1;if(Oh(e,a),e.stateNode===null)av(t,e),G6(e,r,o),wT(e,r,o,a),o=!0;else if(t===null){var h=e.stateNode,p=e.memoizedProps;h.props=p;var m=h.context,b=r.contextType;typeof b=="object"&&b!==null?b=jo(b):(b=Xi(r)?Hu:ki.current,b=Kh(e,b));var k=r.getDerivedStateFromProps,v=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function";v||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==o||m!==b)&&L4(e,h,o,b),xc=!1;var _=e.memoizedState;h.state=_,Kv(e,o,h,a),m=e.memoizedState,p!==o||_!==m||Ji.current||xc?(typeof k=="function"&&(bT(e,r,k,o),m=e.memoizedState),(p=xc||O4(e,r,p,o,_,m,b))?(v||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=m),h.props=o,h.state=m,h.context=b,o=p):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,q6(t,e),p=e.memoizedProps,b=e.type===e.elementType?p:os(e.type,p),h.props=b,v=e.pendingProps,_=h.context,m=r.contextType,typeof m=="object"&&m!==null?m=jo(m):(m=Xi(r)?Hu:ki.current,m=Kh(e,m));var A=r.getDerivedStateFromProps;(k=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==v||_!==m)&&L4(e,h,o,m),xc=!1,_=e.memoizedState,h.state=_,Kv(e,o,h,a);var E=e.memoizedState;p!==v||_!==E||Ji.current||xc?(typeof A=="function"&&(bT(e,r,A,o),E=e.memoizedState),(b=xc||O4(e,r,b,o,_,E,m)||!1)?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,E,m),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,E,m)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),h.props=o,h.state=E,h.context=m,o=b):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),o=!1)}return yT(t,e,r,o,u,a)}function yT(t,e,r,o,a,u){v7(t,e);var h=(e.flags&128)!==0;if(!o&&!h)return a&&D4(e,r,!1),za(t,e,u);o=e.stateNode,zbe.current=e;var p=h&&typeof r.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&h?(e.child=Qh(e,t.child,null,u),e.child=Qh(e,null,p,u)):Ei(t,e,p,u),e.memoizedState=o.state,a&&D4(e,r,!0),e.child}function y7(t){var e=t.stateNode;e.pendingContext?I4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I4(t,e.context,!1),HD(t,e.containerInfo)}function W4(t,e,r,o,a){return Yh(),zD(a),e.flags|=256,Ei(t,e,r,o),e.child}var _T={dehydrated:null,treeContext:null,retryLane:0};function AT(t){return{baseLanes:t,cachePool:null,transitions:null}}function _7(t,e,r){var o=e.pendingProps,a=Vn.current,u=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(a&2)!==0),p?(u=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),bn(Vn,a&1),t===null)return mT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=o.children,t=o.fallback,u?(o=e.mode,u=e.child,h={mode:"hidden",children:h},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=b_(h,o,0,null),t=Ou(t,o,r,null),u.return=e,t.return=e,u.sibling=t,e.child=u,e.child.memoizedState=AT(r),e.memoizedState=_T,t):JD(e,h));if(a=t.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return Fbe(t,e,h,o,p,a,r);if(u){u=o.fallback,h=e.mode,a=t.child,p=a.sibling;var m={mode:"hidden",children:o.children};return!(h&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=m,e.deletions=null):(o=qc(a,m),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?u=qc(p,u):(u=Ou(u,h,r,null),u.flags|=2),u.return=e,o.return=e,o.sibling=u,e.child=o,o=u,u=e.child,h=t.child.memoizedState,h=h===null?AT(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=t.childLanes&~r,e.memoizedState=_T,o}return u=t.child,t=u.sibling,o=qc(u,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=r),o.return=e,o.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=o,e.memoizedState=null,o}function JD(t,e){return e=b_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yk(t,e,r,o){return o!==null&&zD(o),Qh(e,t.child,null,r),t=JD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fbe(t,e,r,o,a,u,h){if(r)return e.flags&256?(e.flags&=-257,o=Cx(Error(Ee(422))),yk(t,e,h,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(u=o.fallback,a=e.mode,o=b_({mode:"visible",children:o.children},a,0,null),u=Ou(u,a,h,null),u.flags|=2,o.return=e,u.return=e,o.sibling=u,e.child=o,e.mode&1&&Qh(e,t.child,null,h),e.child.memoizedState=AT(h),e.memoizedState=_T,u);if(!(e.mode&1))return yk(t,e,h,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,u=Error(Ee(419)),o=Cx(u,o,void 0),yk(t,e,h,o)}if(p=(h&t.childLanes)!==0,Ki||p){if(o=Or,o!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|h)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,Ba(t,a),hs(o,t,a,-1))}return iP(),o=Cx(Error(Ee(421))),yk(t,e,h,o)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Jbe.bind(null,t),a._reactRetry=e,null):(t=u.treeContext,uo=Vc(a.nextSibling),fo=e,Mn=!0,as=null,t!==null&&(Po[Mo++]=ya,Po[Mo++]=_a,Po[Mo++]=qu,ya=t.id,_a=t.overflow,qu=e),e=JD(e,o.children),e.flags|=4096,e)}function G4(t,e,r){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),gT(t.return,e,r)}function Ex(t,e,r,o,a){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:a}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=r,u.tailMode=a)}function A7(t,e,r){var o=e.pendingProps,a=o.revealOrder,u=o.tail;if(Ei(t,e,o.children,r),o=Vn.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G4(t,r,e);else if(t.tag===19)G4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(bn(Vn,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Yv(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Ex(e,!1,a,r,u);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Yv(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Ex(e,!0,r,null,u);break;case"together":Ex(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function av(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function za(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,r=qc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jbe(t,e,r){switch(e.tag){case 3:y7(e),Yh();break;case 5:Q6(e);break;case 1:Xi(e.type)&&$v(e);break;case 4:HD(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;bn(Wv,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(bn(Vn,Vn.current&1),e.flags|=128,null):r&e.child.childLanes?_7(t,e,r):(bn(Vn,Vn.current&1),t=za(t,e,r),t!==null?t.sibling:null);bn(Vn,Vn.current&1);break;case 19:if(o=(r&e.childLanes)!==0,t.flags&128){if(o)return A7(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),bn(Vn,Vn.current),o)break;return null;case 22:case 23:return e.lanes=0,k7(t,e,r)}return za(t,e,r)}var C7,CT,E7,x7;C7=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};CT=function(){};E7=function(t,e,r,o){var a=t.memoizedProps;if(a!==o){t=e.stateNode,_u(Ks.current);var u=null;switch(r){case"input":a=WS(t,a),o=WS(t,o),u=[];break;case"select":a=Hn({},a,{value:void 0}),o=Hn({},o,{value:void 0}),u=[];break;case"textarea":a=YS(t,a),o=YS(t,o),u=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Vv)}ZS(r,o);var h;r=null;for(b in a)if(!o.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var p=a[b];for(h in p)p.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(Gm.hasOwnProperty(b)?u||(u=[]):(u=u||[]).push(b,null));for(b in o){var m=o[b];if(p=a!=null?a[b]:void 0,o.hasOwnProperty(b)&&m!==p&&(m!=null||p!=null))if(b==="style")if(p){for(h in p)!p.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in m)m.hasOwnProperty(h)&&p[h]!==m[h]&&(r||(r={}),r[h]=m[h])}else r||(u||(u=[]),u.push(b,r)),r=m;else b==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,p=p?p.__html:void 0,m!=null&&p!==m&&(u=u||[]).push(b,m)):b==="children"?typeof m!="string"&&typeof m!="number"||(u=u||[]).push(b,""+m):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(Gm.hasOwnProperty(b)?(m!=null&&b==="onScroll"&&_n("scroll",t),u||p===m||(u=[])):(u=u||[]).push(b,m))}r&&(u=u||[]).push("style",r);var b=u;(e.updateQueue=b)&&(e.flags|=4)}};x7=function(t,e,r,o){r!==o&&(e.flags|=4)};function zp(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function di(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=o,t.childLanes=r,e}function Vbe(t,e,r){var o=e.pendingProps;switch(BD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(e),null;case 1:return Xi(e.type)&&Uv(),di(e),null;case 3:return o=e.stateNode,Zh(),En(Ji),En(ki),WD(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(kk(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,as!==null&&(MT(as),as=null))),CT(t,e),di(e),null;case 5:qD(e);var a=_u(og.current);if(r=e.type,t!==null&&e.stateNode!=null)E7(t,e,r,o,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(Ee(166));return di(e),null}if(t=_u(Ks.current),kk(e)){o=e.stateNode,r=e.type;var u=e.memoizedProps;switch(o[Rs]=e,o[rg]=u,t=(e.mode&1)!==0,r){case"dialog":_n("cancel",o),_n("close",o);break;case"iframe":case"object":case"embed":_n("load",o);break;case"video":case"audio":for(a=0;a<am.length;a++)_n(am[a],o);break;case"source":_n("error",o);break;case"img":case"image":case"link":_n("error",o),_n("load",o);break;case"details":_n("toggle",o);break;case"input":n4(o,u),_n("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},_n("invalid",o);break;case"textarea":i4(o,u),_n("invalid",o)}ZS(r,u),a=null;for(var h in u)if(u.hasOwnProperty(h)){var p=u[h];h==="children"?typeof p=="string"?o.textContent!==p&&(u.suppressHydrationWarning!==!0&&wk(o.textContent,p,t),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(u.suppressHydrationWarning!==!0&&wk(o.textContent,p,t),a=["children",""+p]):Gm.hasOwnProperty(h)&&p!=null&&h==="onScroll"&&_n("scroll",o)}switch(r){case"input":uk(o),r4(o,u,!0);break;case"textarea":uk(o),o4(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Vv)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=X$(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=h.createElement(r,{is:o.is}):(t=h.createElement(r),r==="select"&&(h=t,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):t=h.createElementNS(t,r),t[Rs]=e,t[rg]=o,C7(t,e,!1,!1),e.stateNode=t;e:{switch(h=JS(r,o),r){case"dialog":_n("cancel",t),_n("close",t),a=o;break;case"iframe":case"object":case"embed":_n("load",t),a=o;break;case"video":case"audio":for(a=0;a<am.length;a++)_n(am[a],t);a=o;break;case"source":_n("error",t),a=o;break;case"img":case"image":case"link":_n("error",t),_n("load",t),a=o;break;case"details":_n("toggle",t),a=o;break;case"input":n4(t,o),a=WS(t,o),_n("invalid",t);break;case"option":a=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},a=Hn({},o,{value:void 0}),_n("invalid",t);break;case"textarea":i4(t,o),a=YS(t,o),_n("invalid",t);break;default:a=o}ZS(r,a),p=a;for(u in p)if(p.hasOwnProperty(u)){var m=p[u];u==="style"?n6(t,m):u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&e6(t,m)):u==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Km(t,m):typeof m=="number"&&Km(t,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gm.hasOwnProperty(u)?m!=null&&u==="onScroll"&&_n("scroll",t):m!=null&&_D(t,u,m,h))}switch(r){case"input":uk(t),r4(t,o,!1);break;case"textarea":uk(t),o4(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Qc(o.value));break;case"select":t.multiple=!!o.multiple,u=o.value,u!=null?Ph(t,!!o.multiple,u,!1):o.defaultValue!=null&&Ph(t,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Vv)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return di(e),null;case 6:if(t&&e.stateNode!=null)x7(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(Ee(166));if(r=_u(og.current),_u(Ks.current),kk(e)){if(o=e.stateNode,r=e.memoizedProps,o[Rs]=e,(u=o.nodeValue!==r)&&(t=fo,t!==null))switch(t.tag){case 3:wk(o.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wk(o.nodeValue,r,(t.mode&1)!==0)}u&&(e.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Rs]=e,e.stateNode=o}return di(e),null;case 13:if(En(Vn),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&uo!==null&&e.mode&1&&!(e.flags&128))$6(),Yh(),e.flags|=98560,u=!1;else if(u=kk(e),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(Ee(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(Ee(317));u[Rs]=e}else Yh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;di(e),u=!1}else as!==null&&(MT(as),as=null),u=!0;if(!u)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||Vn.current&1?wr===0&&(wr=3):iP())),e.updateQueue!==null&&(e.flags|=4),di(e),null);case 4:return Zh(),CT(t,e),t===null&&tg(e.stateNode.containerInfo),di(e),null;case 10:return VD(e.type._context),di(e),null;case 17:return Xi(e.type)&&Uv(),di(e),null;case 19:if(En(Vn),u=e.memoizedState,u===null)return di(e),null;if(o=(e.flags&128)!==0,h=u.rendering,h===null)if(o)zp(u,!1);else{if(wr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(h=Yv(t),h!==null){for(e.flags|=128,zp(u,!1),o=h.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=r,r=e.child;r!==null;)u=r,t=o,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=t,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,t=h.dependencies,u.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return bn(Vn,Vn.current&1|2),e.child}t=t.sibling}u.tail!==null&&or()>Xh&&(e.flags|=128,o=!0,zp(u,!1),e.lanes=4194304)}else{if(!o)if(t=Yv(h),t!==null){if(e.flags|=128,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),zp(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Mn)return di(e),null}else 2*or()-u.renderingStartTime>Xh&&r!==1073741824&&(e.flags|=128,o=!0,zp(u,!1),e.lanes=4194304);u.isBackwards?(h.sibling=e.child,e.child=h):(r=u.last,r!==null?r.sibling=h:e.child=h,u.last=h)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=or(),e.sibling=null,r=Vn.current,bn(Vn,o?r&1|2:r&1),e):(di(e),null);case 22:case 23:return rP(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?co&1073741824&&(di(e),e.subtreeFlags&6&&(e.flags|=8192)):di(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function Ube(t,e){switch(BD(e),e.tag){case 1:return Xi(e.type)&&Uv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zh(),En(Ji),En(ki),WD(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qD(e),null;case 13:if(En(Vn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));Yh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return En(Vn),null;case 4:return Zh(),null;case 10:return VD(e.type._context),null;case 22:case 23:return rP(),null;case 24:return null;default:return null}}var _k=!1,fi=!1,$be=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function kh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Jn(t,e,o)}else r.current=null}function ET(t,e,r){try{r()}catch(o){Jn(t,e,o)}}var K4=!1;function Hbe(t,e){if(cT=zv,t=D6(),OD(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var a=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var h=0,p=-1,m=-1,b=0,k=0,v=t,_=null;t:for(;;){for(var A;v!==r||a!==0&&v.nodeType!==3||(p=h+a),v!==u||o!==0&&v.nodeType!==3||(m=h+o),v.nodeType===3&&(h+=v.nodeValue.length),(A=v.firstChild)!==null;)_=v,v=A;for(;;){if(v===t)break t;if(_===r&&++b===a&&(p=h),_===u&&++k===o&&(m=h),(A=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=A}r=p===-1||m===-1?null:{start:p,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(lT={focusedElem:t,selectionRange:r},zv=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var I=E.memoizedProps,L=E.memoizedState,N=e.stateNode,T=N.getSnapshotBeforeUpdate(e.elementType===e.type?I:os(e.type,I),L);N.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(O){Jn(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return E=K4,K4=!1,E}function Am(t,e,r){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&t)===t){var u=a.destroy;a.destroy=void 0,u!==void 0&&ET(e,r,u)}a=a.next}while(a!==o)}}function m_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}}function xT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function S7(t){var e=t.alternate;e!==null&&(t.alternate=null,S7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rs],delete e[rg],delete e[hT],delete e[xbe],delete e[Sbe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T7(t){return t.tag===5||t.tag===3||t.tag===4}function Y4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ST(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vv));else if(o!==4&&(t=t.child,t!==null))for(ST(t,e,r),t=t.sibling;t!==null;)ST(t,e,r),t=t.sibling}function TT(t,e,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(TT(t,e,r),t=t.sibling;t!==null;)TT(t,e,r),t=t.sibling}var Qr=null,ss=!1;function bc(t,e,r){for(r=r.child;r!==null;)I7(t,e,r),r=r.sibling}function I7(t,e,r){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(a_,r)}catch{}switch(r.tag){case 5:fi||kh(r,e);case 6:var o=Qr,a=ss;Qr=null,bc(t,e,r),Qr=o,ss=a,Qr!==null&&(ss?(t=Qr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Qr.removeChild(r.stateNode));break;case 18:Qr!==null&&(ss?(t=Qr,r=r.stateNode,t.nodeType===8?wx(t.parentNode,r):t.nodeType===1&&wx(t,r),Jm(t)):wx(Qr,r.stateNode));break;case 4:o=Qr,a=ss,Qr=r.stateNode.containerInfo,ss=!0,bc(t,e,r),Qr=o,ss=a;break;case 0:case 11:case 14:case 15:if(!fi&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var u=a,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&ET(r,e,h),a=a.next}while(a!==o)}bc(t,e,r);break;case 1:if(!fi&&(kh(r,e),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(p){Jn(r,e,p)}bc(t,e,r);break;case 21:bc(t,e,r);break;case 22:r.mode&1?(fi=(o=fi)||r.memoizedState!==null,bc(t,e,r),fi=o):bc(t,e,r);break;default:bc(t,e,r)}}function Q4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $be),e.forEach(function(o){var a=Xbe.bind(null,t,o);r.has(o)||(r.add(o),o.then(a,a))})}}function ns(t,e){var r=e.deletions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];try{var u=t,h=e,p=h;e:for(;p!==null;){switch(p.tag){case 5:Qr=p.stateNode,ss=!1;break e;case 3:Qr=p.stateNode.containerInfo,ss=!0;break e;case 4:Qr=p.stateNode.containerInfo,ss=!0;break e}p=p.return}if(Qr===null)throw Error(Ee(160));I7(u,h,a),Qr=null,ss=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(b){Jn(a,e,b)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D7(e,t),e=e.sibling}function D7(t,e){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ns(e,t),Ps(t),o&4){try{Am(3,t,t.return),m_(3,t)}catch(I){Jn(t,t.return,I)}try{Am(5,t,t.return)}catch(I){Jn(t,t.return,I)}}break;case 1:ns(e,t),Ps(t),o&512&&r!==null&&kh(r,r.return);break;case 5:if(ns(e,t),Ps(t),o&512&&r!==null&&kh(r,r.return),t.flags&32){var a=t.stateNode;try{Km(a,"")}catch(I){Jn(t,t.return,I)}}if(o&4&&(a=t.stateNode,a!=null)){var u=t.memoizedProps,h=r!==null?r.memoizedProps:u,p=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{p==="input"&&u.type==="radio"&&u.name!=null&&Z$(a,u),JS(p,h);var b=JS(p,u);for(h=0;h<m.length;h+=2){var k=m[h],v=m[h+1];k==="style"?n6(a,v):k==="dangerouslySetInnerHTML"?e6(a,v):k==="children"?Km(a,v):_D(a,k,v,b)}switch(p){case"input":GS(a,u);break;case"textarea":J$(a,u);break;case"select":var _=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var A=u.value;A!=null?Ph(a,!!u.multiple,A,!1):_!==!!u.multiple&&(u.defaultValue!=null?Ph(a,!!u.multiple,u.defaultValue,!0):Ph(a,!!u.multiple,u.multiple?[]:"",!1))}a[rg]=u}catch(I){Jn(t,t.return,I)}}break;case 6:if(ns(e,t),Ps(t),o&4){if(t.stateNode===null)throw Error(Ee(162));a=t.stateNode,u=t.memoizedProps;try{a.nodeValue=u}catch(I){Jn(t,t.return,I)}}break;case 3:if(ns(e,t),Ps(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Jm(e.containerInfo)}catch(I){Jn(t,t.return,I)}break;case 4:ns(e,t),Ps(t);break;case 13:ns(e,t),Ps(t),a=t.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(tP=or())),o&4&&Q4(t);break;case 22:if(k=r!==null&&r.memoizedState!==null,t.mode&1?(fi=(b=fi)||k,ns(e,t),fi=b):ns(e,t),Ps(t),o&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!k&&t.mode&1)for(Ge=t,k=t.child;k!==null;){for(v=Ge=k;Ge!==null;){switch(_=Ge,A=_.child,_.tag){case 0:case 11:case 14:case 15:Am(4,_,_.return);break;case 1:kh(_,_.return);var E=_.stateNode;if(typeof E.componentWillUnmount=="function"){o=_,r=_.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(I){Jn(o,r,I)}}break;case 5:kh(_,_.return);break;case 22:if(_.memoizedState!==null){J4(v);continue}}A!==null?(A.return=_,Ge=A):J4(v)}k=k.sibling}e:for(k=null,v=t;;){if(v.tag===5){if(k===null){k=v;try{a=v.stateNode,b?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(p=v.stateNode,m=v.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null,p.style.display=t6("display",h))}catch(I){Jn(t,t.return,I)}}}else if(v.tag===6){if(k===null)try{v.stateNode.nodeValue=b?"":v.memoizedProps}catch(I){Jn(t,t.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;k===v&&(k=null),v=v.return}k===v&&(k=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ns(e,t),Ps(t),o&4&&Q4(t);break;case 21:break;default:ns(e,t),Ps(t)}}function Ps(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T7(r)){var o=r;break e}r=r.return}throw Error(Ee(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(Km(a,""),o.flags&=-33);var u=Y4(t);TT(t,u,a);break;case 3:case 4:var h=o.stateNode.containerInfo,p=Y4(t);ST(t,p,h);break;default:throw Error(Ee(161))}}catch(m){Jn(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qbe(t,e,r){Ge=t,P7(t)}function P7(t,e,r){for(var o=(t.mode&1)!==0;Ge!==null;){var a=Ge,u=a.child;if(a.tag===22&&o){var h=a.memoizedState!==null||_k;if(!h){var p=a.alternate,m=p!==null&&p.memoizedState!==null||fi;p=_k;var b=fi;if(_k=h,(fi=m)&&!b)for(Ge=a;Ge!==null;)h=Ge,m=h.child,h.tag===22&&h.memoizedState!==null?X4(a):m!==null?(m.return=h,Ge=m):X4(a);for(;u!==null;)Ge=u,P7(u),u=u.sibling;Ge=a,_k=p,fi=b}Z4(t)}else a.subtreeFlags&8772&&u!==null?(u.return=a,Ge=u):Z4(t)}}function Z4(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fi||m_(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!fi)if(r===null)o.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:os(e.type,r.memoizedProps);o.componentDidUpdate(a,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=e.updateQueue;u!==null&&R4(e,u,o);break;case 3:var h=e.updateQueue;if(h!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}R4(e,h,r)}break;case 5:var p=e.stateNode;if(r===null&&e.flags&4){r=p;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var b=e.alternate;if(b!==null){var k=b.memoizedState;if(k!==null){var v=k.dehydrated;v!==null&&Jm(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}fi||e.flags&512&&xT(e)}catch(_){Jn(e,e.return,_)}}if(e===t){Ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function J4(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function X4(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{m_(4,e)}catch(m){Jn(e,r,m)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(m){Jn(e,a,m)}}var u=e.return;try{xT(e)}catch(m){Jn(e,u,m)}break;case 5:var h=e.return;try{xT(e)}catch(m){Jn(e,h,m)}}}catch(m){Jn(e,e.return,m)}if(e===t){Ge=null;break}var p=e.sibling;if(p!==null){p.return=e.return,Ge=p;break}Ge=e.return}}var Wbe=Math.ceil,Jv=Ga.ReactCurrentDispatcher,XD=Ga.ReactCurrentOwner,Bo=Ga.ReactCurrentBatchConfig,Ut=0,Or=null,pr=null,ei=0,co=0,vh=bl(0),wr=0,lg=null,Gu=0,g_=0,eP=0,Cm=null,Wi=null,tP=0,Xh=1/0,ba=null,Xv=!1,IT=null,$c=null,Ak=!1,Rc=null,ey=0,Em=0,DT=null,cv=-1,lv=0;function Pi(){return Ut&6?or():cv!==-1?cv:cv=or()}function Hc(t){return t.mode&1?Ut&2&&ei!==0?ei&-ei:Ibe.transition!==null?(lv===0&&(lv=p6()),lv):(t=Jt,t!==0||(t=window.event,t=t===void 0?16:y6(t.type)),t):1}function hs(t,e,r,o){if(50<Em)throw Em=0,DT=null,Error(Ee(185));Zg(t,r,o),(!(Ut&2)||t!==Or)&&(t===Or&&(!(Ut&2)&&(g_|=r),wr===4&&Dc(t,ei)),eo(t,o),r===1&&Ut===0&&!(e.mode&1)&&(Xh=or()+500,h_&&wl()))}function eo(t,e){var r=t.callbackNode;Ige(t,e);var o=Bv(t,t===Or?ei:0);if(o===0)r!==null&&c4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(r!=null&&c4(r),e===1)t.tag===0?Tbe(e3.bind(null,t)):j6(e3.bind(null,t)),Cbe(function(){!(Ut&6)&&wl()}),r=null;else{switch(m6(o)){case 1:r=SD;break;case 4:r=h6;break;case 16:r=Lv;break;case 536870912:r=f6;break;default:r=Lv}r=F7(r,M7.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function M7(t,e){if(cv=-1,lv=0,Ut&6)throw Error(Ee(327));var r=t.callbackNode;if(Lh()&&t.callbackNode!==r)return null;var o=Bv(t,t===Or?ei:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=ty(t,o);else{e=o;var a=Ut;Ut|=2;var u=R7();(Or!==t||ei!==e)&&(ba=null,Xh=or()+500,Ru(t,e));do try{Ybe();break}catch(p){N7(t,p)}while(1);jD(),Jv.current=u,Ut=a,pr!==null?e=0:(Or=null,ei=0,e=wr)}if(e!==0){if(e===2&&(a=rT(t),a!==0&&(o=a,e=PT(t,a))),e===1)throw r=lg,Ru(t,0),Dc(t,o),eo(t,or()),r;if(e===6)Dc(t,o);else{if(a=t.current.alternate,!(o&30)&&!Gbe(a)&&(e=ty(t,o),e===2&&(u=rT(t),u!==0&&(o=u,e=PT(t,u))),e===1))throw r=lg,Ru(t,0),Dc(t,o),eo(t,or()),r;switch(t.finishedWork=a,t.finishedLanes=o,e){case 0:case 1:throw Error(Ee(345));case 2:uu(t,Wi,ba);break;case 3:if(Dc(t,o),(o&130023424)===o&&(e=tP+500-or(),10<e)){if(Bv(t,0)!==0)break;if(a=t.suspendedLanes,(a&o)!==o){Pi(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=dT(uu.bind(null,t,Wi,ba),e);break}uu(t,Wi,ba);break;case 4:if(Dc(t,o),(o&4194240)===o)break;for(e=t.eventTimes,a=-1;0<o;){var h=31-ds(o);u=1<<h,h=e[h],h>a&&(a=h),o&=~u}if(o=a,o=or()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Wbe(o/1960))-o,10<o){t.timeoutHandle=dT(uu.bind(null,t,Wi,ba),o);break}uu(t,Wi,ba);break;case 5:uu(t,Wi,ba);break;default:throw Error(Ee(329))}}}return eo(t,or()),t.callbackNode===r?M7.bind(null,t):null}function PT(t,e){var r=Cm;return t.current.memoizedState.isDehydrated&&(Ru(t,e).flags|=256),t=ty(t,e),t!==2&&(e=Wi,Wi=r,e!==null&&MT(e)),t}function MT(t){Wi===null?Wi=t:Wi.push.apply(Wi,t)}function Gbe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var a=r[o],u=a.getSnapshot;a=a.value;try{if(!fs(u(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dc(t,e){for(e&=~eP,e&=~g_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ds(e),o=1<<r;t[r]=-1,e&=~o}}function e3(t){if(Ut&6)throw Error(Ee(327));Lh();var e=Bv(t,0);if(!(e&1))return eo(t,or()),null;var r=ty(t,e);if(t.tag!==0&&r===2){var o=rT(t);o!==0&&(e=o,r=PT(t,o))}if(r===1)throw r=lg,Ru(t,0),Dc(t,e),eo(t,or()),r;if(r===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uu(t,Wi,ba),eo(t,or()),null}function nP(t,e){var r=Ut;Ut|=1;try{return t(e)}finally{Ut=r,Ut===0&&(Xh=or()+500,h_&&wl())}}function Ku(t){Rc!==null&&Rc.tag===0&&!(Ut&6)&&Lh();var e=Ut;Ut|=1;var r=Bo.transition,o=Jt;try{if(Bo.transition=null,Jt=1,t)return t()}finally{Jt=o,Bo.transition=r,Ut=e,!(Ut&6)&&wl()}}function rP(){co=vh.current,En(vh)}function Ru(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Abe(r)),pr!==null)for(r=pr.return;r!==null;){var o=r;switch(BD(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Uv();break;case 3:Zh(),En(Ji),En(ki),WD();break;case 5:qD(o);break;case 4:Zh();break;case 13:En(Vn);break;case 19:En(Vn);break;case 10:VD(o.type._context);break;case 22:case 23:rP()}r=r.return}if(Or=t,pr=t=qc(t.current,null),ei=co=e,wr=0,lg=null,eP=g_=Gu=0,Wi=Cm=null,yu!==null){for(e=0;e<yu.length;e++)if(r=yu[e],o=r.interleaved,o!==null){r.interleaved=null;var a=o.next,u=r.pending;if(u!==null){var h=u.next;u.next=a,o.next=h}r.pending=o}yu=null}return t}function N7(t,e){do{var r=pr;try{if(jD(),ov.current=Zv,Qv){for(var o=$n.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Qv=!1}if(Wu=0,Nr=gr=$n=null,_m=!1,sg=0,XD.current=null,r===null||r.return===null){wr=1,lg=e,pr=null;break}e:{var u=t,h=r.return,p=r,m=e;if(e=ei,p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var b=m,k=p,v=k.tag;if(!(k.mode&1)&&(v===0||v===11||v===15)){var _=k.alternate;_?(k.updateQueue=_.updateQueue,k.memoizedState=_.memoizedState,k.lanes=_.lanes):(k.updateQueue=null,k.memoizedState=null)}var A=V4(h);if(A!==null){A.flags&=-257,U4(A,h,p,u,e),A.mode&1&&j4(u,b,e),e=A,m=b;var E=e.updateQueue;if(E===null){var I=new Set;I.add(m),e.updateQueue=I}else E.add(m);break e}else{if(!(e&1)){j4(u,b,e),iP();break e}m=Error(Ee(426))}}else if(Mn&&p.mode&1){var L=V4(h);if(L!==null){!(L.flags&65536)&&(L.flags|=256),U4(L,h,p,u,e),zD(Jh(m,p));break e}}u=m=Jh(m,p),wr!==4&&(wr=2),Cm===null?Cm=[u]:Cm.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,e&=-e,u.lanes|=e;var N=g7(u,m,e);N4(u,N);break e;case 1:p=m;var T=u.type,D=u.stateNode;if(!(u.flags&128)&&(typeof T.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&($c===null||!$c.has(D)))){u.flags|=65536,e&=-e,u.lanes|=e;var O=b7(u,p,e);N4(u,O);break e}}u=u.return}while(u!==null)}L7(r)}catch(V){e=V,pr===r&&r!==null&&(pr=r=r.return);continue}break}while(1)}function R7(){var t=Jv.current;return Jv.current=Zv,t===null?Zv:t}function iP(){(wr===0||wr===3||wr===2)&&(wr=4),Or===null||!(Gu&268435455)&&!(g_&268435455)||Dc(Or,ei)}function ty(t,e){var r=Ut;Ut|=2;var o=R7();(Or!==t||ei!==e)&&(ba=null,Ru(t,e));do try{Kbe();break}catch(a){N7(t,a)}while(1);if(jD(),Ut=r,Jv.current=o,pr!==null)throw Error(Ee(261));return Or=null,ei=0,wr}function Kbe(){for(;pr!==null;)O7(pr)}function Ybe(){for(;pr!==null&&!vge();)O7(pr)}function O7(t){var e=z7(t.alternate,t,co);t.memoizedProps=t.pendingProps,e===null?L7(t):pr=e,XD.current=null}function L7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ube(r,e),r!==null){r.flags&=32767,pr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wr=6,pr=null;return}}else if(r=Vbe(r,e,co),r!==null){pr=r;return}if(e=e.sibling,e!==null){pr=e;return}pr=e=t}while(e!==null);wr===0&&(wr=5)}function uu(t,e,r){var o=Jt,a=Bo.transition;try{Bo.transition=null,Jt=1,Qbe(t,e,r,o)}finally{Bo.transition=a,Jt=o}return null}function Qbe(t,e,r,o){do Lh();while(Rc!==null);if(Ut&6)throw Error(Ee(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var u=r.lanes|r.childLanes;if(Dge(t,u),t===Or&&(pr=Or=null,ei=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ak||(Ak=!0,F7(Lv,function(){return Lh(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=Bo.transition,Bo.transition=null;var h=Jt;Jt=1;var p=Ut;Ut|=4,XD.current=null,Hbe(t,r),D7(r,t),gbe(lT),zv=!!cT,lT=cT=null,t.current=r,qbe(r),yge(),Ut=p,Jt=h,Bo.transition=u}else t.current=r;if(Ak&&(Ak=!1,Rc=t,ey=a),u=t.pendingLanes,u===0&&($c=null),Cge(r.stateNode),eo(t,or()),e!==null)for(o=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],o(a.value,{componentStack:a.stack,digest:a.digest});if(Xv)throw Xv=!1,t=IT,IT=null,t;return ey&1&&t.tag!==0&&Lh(),u=t.pendingLanes,u&1?t===DT?Em++:(Em=0,DT=t):Em=0,wl(),null}function Lh(){if(Rc!==null){var t=m6(ey),e=Bo.transition,r=Jt;try{if(Bo.transition=null,Jt=16>t?16:t,Rc===null)var o=!1;else{if(t=Rc,Rc=null,ey=0,Ut&6)throw Error(Ee(331));var a=Ut;for(Ut|=4,Ge=t.current;Ge!==null;){var u=Ge,h=u.child;if(Ge.flags&16){var p=u.deletions;if(p!==null){for(var m=0;m<p.length;m++){var b=p[m];for(Ge=b;Ge!==null;){var k=Ge;switch(k.tag){case 0:case 11:case 15:Am(8,k,u)}var v=k.child;if(v!==null)v.return=k,Ge=v;else for(;Ge!==null;){k=Ge;var _=k.sibling,A=k.return;if(S7(k),k===b){Ge=null;break}if(_!==null){_.return=A,Ge=_;break}Ge=A}}}var E=u.alternate;if(E!==null){var I=E.child;if(I!==null){E.child=null;do{var L=I.sibling;I.sibling=null,I=L}while(I!==null)}}Ge=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,Ge=h;else e:for(;Ge!==null;){if(u=Ge,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Am(9,u,u.return)}var N=u.sibling;if(N!==null){N.return=u.return,Ge=N;break e}Ge=u.return}}var T=t.current;for(Ge=T;Ge!==null;){h=Ge;var D=h.child;if(h.subtreeFlags&2064&&D!==null)D.return=h,Ge=D;else e:for(h=T;Ge!==null;){if(p=Ge,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:m_(9,p)}}catch(V){Jn(p,p.return,V)}if(p===h){Ge=null;break e}var O=p.sibling;if(O!==null){O.return=p.return,Ge=O;break e}Ge=p.return}}if(Ut=a,wl(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(a_,t)}catch{}o=!0}return o}finally{Jt=r,Bo.transition=e}}return!1}function t3(t,e,r){e=Jh(r,e),e=g7(t,e,1),t=Uc(t,e,1),e=Pi(),t!==null&&(Zg(t,1,e),eo(t,e))}function Jn(t,e,r){if(t.tag===3)t3(t,t,r);else for(;e!==null;){if(e.tag===3){t3(e,t,r);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($c===null||!$c.has(o))){t=Jh(r,t),t=b7(e,t,1),e=Uc(e,t,1),t=Pi(),e!==null&&(Zg(e,1,t),eo(e,t));break}}e=e.return}}function Zbe(t,e,r){var o=t.pingCache;o!==null&&o.delete(e),e=Pi(),t.pingedLanes|=t.suspendedLanes&r,Or===t&&(ei&r)===r&&(wr===4||wr===3&&(ei&130023424)===ei&&500>or()-tP?Ru(t,0):eP|=r),eo(t,e)}function B7(t,e){e===0&&(t.mode&1?(e=fk,fk<<=1,!(fk&130023424)&&(fk=4194304)):e=1);var r=Pi();t=Ba(t,e),t!==null&&(Zg(t,e,r),eo(t,r))}function Jbe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),B7(t,r)}function Xbe(t,e){var r=0;switch(t.tag){case 13:var o=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(Ee(314))}o!==null&&o.delete(e),B7(t,r)}var z7;z7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)Ki=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ki=!1,jbe(t,e,r);Ki=!!(t.flags&131072)}else Ki=!1,Mn&&e.flags&1048576&&V6(e,qv,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;av(t,e),t=e.pendingProps;var a=Kh(e,ki.current);Oh(e,r),a=KD(null,e,o,t,a,r);var u=YD();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xi(o)?(u=!0,$v(e)):u=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$D(e),a.updater=f_,e.stateNode=a,a._reactInternals=e,wT(e,o,t,r),e=yT(null,e,o,!0,u,r)):(e.tag=0,Mn&&u&&LD(e),Ei(null,e,a,r),e=e.child),e;case 16:o=e.elementType;e:{switch(av(t,e),t=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=twe(o),t=os(o,t),a){case 0:e=vT(null,e,o,t,r);break e;case 1:e=q4(null,e,o,t,r);break e;case 11:e=$4(null,e,o,t,r);break e;case 14:e=H4(null,e,o,os(o.type,t),r);break e}throw Error(Ee(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:os(o,a),vT(t,e,o,a,r);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:os(o,a),q4(t,e,o,a,r);case 3:e:{if(y7(e),t===null)throw Error(Ee(387));o=e.pendingProps,u=e.memoizedState,a=u.element,q6(t,e),Kv(e,o,null,r);var h=e.memoizedState;if(o=h.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){a=Jh(Error(Ee(423)),e),e=W4(t,e,o,r,a);break e}else if(o!==a){a=Jh(Error(Ee(424)),e),e=W4(t,e,o,r,a);break e}else for(uo=Vc(e.stateNode.containerInfo.firstChild),fo=e,Mn=!0,as=null,r=Y6(e,null,o,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yh(),o===a){e=za(t,e,r);break e}Ei(t,e,o,r)}e=e.child}return e;case 5:return Q6(e),t===null&&mT(e),o=e.type,a=e.pendingProps,u=t!==null?t.memoizedProps:null,h=a.children,uT(o,a)?h=null:u!==null&&uT(o,u)&&(e.flags|=32),v7(t,e),Ei(t,e,h,r),e.child;case 6:return t===null&&mT(e),null;case 13:return _7(t,e,r);case 4:return HD(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Qh(e,null,o,r):Ei(t,e,o,r),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:os(o,a),$4(t,e,o,a,r);case 7:return Ei(t,e,e.pendingProps,r),e.child;case 8:return Ei(t,e,e.pendingProps.children,r),e.child;case 12:return Ei(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,u=e.memoizedProps,h=a.value,bn(Wv,o._currentValue),o._currentValue=h,u!==null)if(fs(u.value,h)){if(u.children===a.children&&!Ji.current){e=za(t,e,r);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var p=u.dependencies;if(p!==null){h=u.child;for(var m=p.firstContext;m!==null;){if(m.context===o){if(u.tag===1){m=Sa(-1,r&-r),m.tag=2;var b=u.updateQueue;if(b!==null){b=b.shared;var k=b.pending;k===null?m.next=m:(m.next=k.next,k.next=m),b.pending=m}}u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),gT(u.return,r,e),p.lanes|=r;break}m=m.next}}else if(u.tag===10)h=u.type===e.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(Ee(341));h.lanes|=r,p=h.alternate,p!==null&&(p.lanes|=r),gT(h,r,e),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Ei(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Oh(e,r),a=jo(a),o=o(a),e.flags|=1,Ei(t,e,o,r),e.child;case 14:return o=e.type,a=os(o,e.pendingProps),a=os(o.type,a),H4(t,e,o,a,r);case 15:return w7(t,e,e.type,e.pendingProps,r);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:os(o,a),av(t,e),e.tag=1,Xi(o)?(t=!0,$v(e)):t=!1,Oh(e,r),G6(e,o,a),wT(e,o,a,r),yT(null,e,o,!0,t,r);case 19:return A7(t,e,r);case 22:return k7(t,e,r)}throw Error(Ee(156,e.tag))};function F7(t,e){return d6(t,e)}function ewe(t,e,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(t,e,r,o){return new ewe(t,e,r,o)}function oP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function twe(t){if(typeof t=="function")return oP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===CD)return 11;if(t===ED)return 14}return 2}function qc(t,e){var r=t.alternate;return r===null?(r=Ro(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uv(t,e,r,o,a,u){var h=2;if(o=t,typeof t=="function")oP(t)&&(h=1);else if(typeof t=="string")h=5;else e:switch(t){case uh:return Ou(r.children,a,u,e);case AD:h=8,a|=8;break;case US:return t=Ro(12,r,e,a|2),t.elementType=US,t.lanes=u,t;case $S:return t=Ro(13,r,e,a),t.elementType=$S,t.lanes=u,t;case HS:return t=Ro(19,r,e,a),t.elementType=HS,t.lanes=u,t;case K$:return b_(r,a,u,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W$:h=10;break e;case G$:h=9;break e;case CD:h=11;break e;case ED:h=14;break e;case Ec:h=16,o=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=Ro(h,r,e,a),e.elementType=t,e.type=o,e.lanes=u,e}function Ou(t,e,r,o){return t=Ro(7,t,o,e),t.lanes=r,t}function b_(t,e,r,o){return t=Ro(22,t,o,e),t.elementType=K$,t.lanes=r,t.stateNode={isHidden:!1},t}function xx(t,e,r){return t=Ro(6,t,null,e),t.lanes=r,t}function Sx(t,e,r){return e=Ro(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nwe(t,e,r,o,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ax(0),this.expirationTimes=ax(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ax(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sP(t,e,r,o,a,u,h,p,m){return t=new nwe(t,e,r,p,m),e===1?(e=1,u===!0&&(e|=8)):e=0,u=Ro(3,null,null,e),t.current=u,u.stateNode=t,u.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$D(u),t}function rwe(t,e,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:o==null?null:""+o,children:t,containerInfo:e,implementation:r}}function j7(t){if(!t)return Zc;t=t._reactInternals;e:{if(hd(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var r=t.type;if(Xi(r))return F6(t,r,e)}return e}function V7(t,e,r,o,a,u,h,p,m){return t=sP(r,o,!0,t,a,u,h,p,m),t.context=j7(null),r=t.current,o=Pi(),a=Hc(r),u=Sa(o,a),u.callback=e??null,Uc(r,u,a),t.current.lanes=a,Zg(t,a,o),eo(t,o),t}function w_(t,e,r,o){var a=e.current,u=Pi(),h=Hc(a);return r=j7(r),e.context===null?e.context=r:e.pendingContext=r,e=Sa(u,h),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Uc(a,e,h),t!==null&&(hs(t,a,h,u),iv(t,a,h)),h}function ny(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function aP(t,e){n3(t,e),(t=t.alternate)&&n3(t,e)}function iwe(){return null}var U7=typeof reportError=="function"?reportError:function(t){console.error(t)};function cP(t){this._internalRoot=t}k_.prototype.render=cP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));w_(t,e,null,null)};k_.prototype.unmount=cP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ku(function(){w_(null,t,null,null)}),e[La]=null}};function k_(t){this._internalRoot=t}k_.prototype.unstable_scheduleHydration=function(t){if(t){var e=w6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ic.length&&e!==0&&e<Ic[r].priority;r++);Ic.splice(r,0,t),r===0&&v6(t)}};function lP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r3(){}function owe(t,e,r,o,a){if(a){if(typeof o=="function"){var u=o;o=function(){var b=ny(h);u.call(b)}}var h=V7(e,o,t,0,null,!1,!1,"",r3);return t._reactRootContainer=h,t[La]=h.current,tg(t.nodeType===8?t.parentNode:t),Ku(),h}for(;a=t.lastChild;)t.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var b=ny(m);p.call(b)}}var m=sP(t,0,!1,null,null,!1,!1,"",r3);return t._reactRootContainer=m,t[La]=m.current,tg(t.nodeType===8?t.parentNode:t),Ku(function(){w_(e,m,r,o)}),m}function y_(t,e,r,o,a){var u=r._reactRootContainer;if(u){var h=u;if(typeof a=="function"){var p=a;a=function(){var m=ny(h);p.call(m)}}w_(e,h,t,a)}else h=owe(r,e,t,a,o);return ny(h)}g6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=sm(e.pendingLanes);r!==0&&(TD(e,r|1),eo(e,or()),!(Ut&6)&&(Xh=or()+500,wl()))}break;case 13:Ku(function(){var o=Ba(t,1);if(o!==null){var a=Pi();hs(o,t,1,a)}}),aP(t,1)}};ID=function(t){if(t.tag===13){var e=Ba(t,134217728);if(e!==null){var r=Pi();hs(e,t,134217728,r)}aP(t,134217728)}};b6=function(t){if(t.tag===13){var e=Hc(t),r=Ba(t,e);if(r!==null){var o=Pi();hs(r,t,e,o)}aP(t,e)}};w6=function(){return Jt};k6=function(t,e){var r=Jt;try{return Jt=t,e()}finally{Jt=r}};eT=function(t,e,r){switch(e){case"input":if(GS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var o=r[e];if(o!==t&&o.form===t.form){var a=d_(o);if(!a)throw Error(Ee(90));Q$(o),GS(o,a)}}}break;case"textarea":J$(t,r);break;case"select":e=r.value,e!=null&&Ph(t,!!r.multiple,e,!1)}};o6=nP;s6=Ku;var swe={usingClientEntryPoint:!1,Events:[Xg,ph,d_,r6,i6,nP]},Fp={findFiberByHostInstance:vu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},awe={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=l6(t),t===null?null:t.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||iwe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ck=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ck.isDisabled&&Ck.supportsFiber)try{a_=Ck.inject(awe),Gs=Ck}catch{}}wo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=swe;wo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lP(e))throw Error(Ee(200));return rwe(t,e,null,r)};wo.createRoot=function(t,e){if(!lP(t))throw Error(Ee(299));var r=!1,o="",a=U7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=sP(t,1,!1,null,null,r,!1,o,a),t[La]=e.current,tg(t.nodeType===8?t.parentNode:t),new cP(e)};wo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=l6(e),t=t===null?null:t.stateNode,t};wo.flushSync=function(t){return Ku(t)};wo.hydrate=function(t,e,r){if(!v_(e))throw Error(Ee(200));return y_(null,t,e,!0,r)};wo.hydrateRoot=function(t,e,r){if(!lP(t))throw Error(Ee(405));var o=r!=null&&r.hydratedSources||null,a=!1,u="",h=U7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),e=V7(e,null,t,1,r??null,a,!1,u,h),t[La]=e.current,tg(t),o)for(t=0;t<o.length;t++)r=o[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new k_(e)};wo.render=function(t,e,r){if(!v_(e))throw Error(Ee(200));return y_(null,t,e,!1,r)};wo.unmountComponentAtNode=function(t){if(!v_(t))throw Error(Ee(40));return t._reactRootContainer?(Ku(function(){y_(null,null,t,!1,function(){t._reactRootContainer=null,t[La]=null})}),!0):!1};wo.unstable_batchedUpdates=nP;wo.unstable_renderSubtreeIntoContainer=function(t,e,r,o){if(!v_(r))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return y_(t,e,r,!1,o)};wo.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=wo})(ige);var i3=Mv;FS.createRoot=i3.createRoot,FS.hydrateRoot=i3.hydrateRoot;var NT={},cwe={get exports(){return NT},set exports(t){NT=t}},$7={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=G;function lwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uwe=typeof Object.is=="function"?Object.is:lwe,dwe=ef.useState,hwe=ef.useEffect,fwe=ef.useLayoutEffect,pwe=ef.useDebugValue;function mwe(t,e){var r=e(),o=dwe({inst:{value:r,getSnapshot:e}}),a=o[0].inst,u=o[1];return fwe(function(){a.value=r,a.getSnapshot=e,Tx(a)&&u({inst:a})},[t,r,e]),hwe(function(){return Tx(a)&&u({inst:a}),t(function(){Tx(a)&&u({inst:a})})},[t]),pwe(r),r}function Tx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!uwe(t,r)}catch{return!0}}function gwe(t,e){return e()}var bwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gwe:mwe;$7.useSyncExternalStore=ef.useSyncExternalStore!==void 0?ef.useSyncExternalStore:bwe;(function(t){t.exports=$7})(cwe);var RT={},wwe={get exports(){return RT},set exports(t){RT=t}},H7={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=G,kwe=NT;function vwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ywe=typeof Object.is=="function"?Object.is:vwe,_we=kwe.useSyncExternalStore,Awe=__.useRef,Cwe=__.useEffect,Ewe=__.useMemo,xwe=__.useDebugValue;H7.useSyncExternalStoreWithSelector=function(t,e,r,o,a){var u=Awe(null);if(u.current===null){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=Ewe(function(){function m(A){if(!b){if(b=!0,k=A,A=o(A),a!==void 0&&h.hasValue){var E=h.value;if(a(E,A))return v=E}return v=A}if(E=v,ywe(k,A))return E;var I=o(A);return a!==void 0&&a(E,I)?E:(k=A,v=I)}var b=!1,k,v,_=r===void 0?null:r;return[function(){return m(e())},_===null?void 0:function(){return m(_())}]},[e,r,o,a]);var p=_we(t,u[0],u[1]);return Cwe(function(){h.hasValue=!0,h.value=p},[p]),xwe(p),p};(function(t){t.exports=H7})(wwe);function Swe(t){t()}let q7=Swe;const Twe=t=>q7=t,Iwe=()=>q7,Jc=G.createContext(null);function W7(){return G.useContext(Jc)}const Dwe=()=>{throw new Error("uSES not initialized!")};let G7=Dwe;const Pwe=t=>{G7=t},Mwe=(t,e)=>t===e;function Nwe(t=Jc){const e=t===Jc?W7:()=>G.useContext(t);return function(o,a=Mwe){const{store:u,subscription:h,getServerState:p}=e(),m=G7(h.addNestedSub,u.getState,p||u.getState,o,a);return G.useDebugValue(m),m}}const Rwe=Nwe();var OT={},Owe={get exports(){return OT},set exports(t){OT=t}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=typeof Symbol=="function"&&Symbol.for,uP=Fr?Symbol.for("react.element"):60103,dP=Fr?Symbol.for("react.portal"):60106,A_=Fr?Symbol.for("react.fragment"):60107,C_=Fr?Symbol.for("react.strict_mode"):60108,E_=Fr?Symbol.for("react.profiler"):60114,x_=Fr?Symbol.for("react.provider"):60109,S_=Fr?Symbol.for("react.context"):60110,hP=Fr?Symbol.for("react.async_mode"):60111,T_=Fr?Symbol.for("react.concurrent_mode"):60111,I_=Fr?Symbol.for("react.forward_ref"):60112,D_=Fr?Symbol.for("react.suspense"):60113,Lwe=Fr?Symbol.for("react.suspense_list"):60120,P_=Fr?Symbol.for("react.memo"):60115,M_=Fr?Symbol.for("react.lazy"):60116,Bwe=Fr?Symbol.for("react.block"):60121,zwe=Fr?Symbol.for("react.fundamental"):60117,Fwe=Fr?Symbol.for("react.responder"):60118,jwe=Fr?Symbol.for("react.scope"):60119;function vo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uP:switch(t=t.type,t){case hP:case T_:case A_:case E_:case C_:case D_:return t;default:switch(t=t&&t.$$typeof,t){case S_:case I_:case M_:case P_:case x_:return t;default:return e}}case dP:return e}}}function K7(t){return vo(t)===T_}Xt.AsyncMode=hP;Xt.ConcurrentMode=T_;Xt.ContextConsumer=S_;Xt.ContextProvider=x_;Xt.Element=uP;Xt.ForwardRef=I_;Xt.Fragment=A_;Xt.Lazy=M_;Xt.Memo=P_;Xt.Portal=dP;Xt.Profiler=E_;Xt.StrictMode=C_;Xt.Suspense=D_;Xt.isAsyncMode=function(t){return K7(t)||vo(t)===hP};Xt.isConcurrentMode=K7;Xt.isContextConsumer=function(t){return vo(t)===S_};Xt.isContextProvider=function(t){return vo(t)===x_};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uP};Xt.isForwardRef=function(t){return vo(t)===I_};Xt.isFragment=function(t){return vo(t)===A_};Xt.isLazy=function(t){return vo(t)===M_};Xt.isMemo=function(t){return vo(t)===P_};Xt.isPortal=function(t){return vo(t)===dP};Xt.isProfiler=function(t){return vo(t)===E_};Xt.isStrictMode=function(t){return vo(t)===C_};Xt.isSuspense=function(t){return vo(t)===D_};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===A_||t===T_||t===E_||t===C_||t===D_||t===Lwe||typeof t=="object"&&t!==null&&(t.$$typeof===M_||t.$$typeof===P_||t.$$typeof===x_||t.$$typeof===S_||t.$$typeof===I_||t.$$typeof===zwe||t.$$typeof===Fwe||t.$$typeof===jwe||t.$$typeof===Bwe)};Xt.typeOf=vo;(function(t){t.exports=Xt})(Owe);var Y7=OT,Vwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Uwe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q7={};Q7[Y7.ForwardRef]=Vwe;Q7[Y7.Memo]=Uwe;var o3={},$we={get exports(){return o3},set exports(t){o3=t}},en={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP=Symbol.for("react.element"),pP=Symbol.for("react.portal"),N_=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),O_=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),Hwe=Symbol.for("react.server_context"),z_=Symbol.for("react.forward_ref"),F_=Symbol.for("react.suspense"),j_=Symbol.for("react.suspense_list"),V_=Symbol.for("react.memo"),U_=Symbol.for("react.lazy"),qwe=Symbol.for("react.offscreen"),Z7;Z7=Symbol.for("react.module.reference");function qo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fP:switch(t=t.type,t){case N_:case O_:case R_:case F_:case j_:return t;default:switch(t=t&&t.$$typeof,t){case Hwe:case B_:case z_:case U_:case V_:case L_:return t;default:return e}}case pP:return e}}}en.ContextConsumer=B_;en.ContextProvider=L_;en.Element=fP;en.ForwardRef=z_;en.Fragment=N_;en.Lazy=U_;en.Memo=V_;en.Portal=pP;en.Profiler=O_;en.StrictMode=R_;en.Suspense=F_;en.SuspenseList=j_;en.isAsyncMode=function(){return!1};en.isConcurrentMode=function(){return!1};en.isContextConsumer=function(t){return qo(t)===B_};en.isContextProvider=function(t){return qo(t)===L_};en.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fP};en.isForwardRef=function(t){return qo(t)===z_};en.isFragment=function(t){return qo(t)===N_};en.isLazy=function(t){return qo(t)===U_};en.isMemo=function(t){return qo(t)===V_};en.isPortal=function(t){return qo(t)===pP};en.isProfiler=function(t){return qo(t)===O_};en.isStrictMode=function(t){return qo(t)===R_};en.isSuspense=function(t){return qo(t)===F_};en.isSuspenseList=function(t){return qo(t)===j_};en.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===N_||t===O_||t===R_||t===F_||t===j_||t===qwe||typeof t=="object"&&t!==null&&(t.$$typeof===U_||t.$$typeof===V_||t.$$typeof===L_||t.$$typeof===B_||t.$$typeof===z_||t.$$typeof===Z7||t.getModuleId!==void 0)};en.typeOf=qo;(function(t){t.exports=en})($we);function Wwe(){const t=Iwe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let o=e;for(;o;)o.callback(),o=o.next})},get(){let o=[],a=e;for(;a;)o.push(a),a=a.next;return o},subscribe(o){let a=!0,u=r={callback:o,next:null,prev:r};return u.prev?u.prev.next=u:e=u,function(){!a||e===null||(a=!1,u.next?u.next.prev=u.prev:r=u.prev,u.prev?u.prev.next=u.next:e=u.next)}}}}const s3={notify(){},get:()=>[]};function Gwe(t,e){let r,o=s3;function a(v){return m(),o.subscribe(v)}function u(){o.notify()}function h(){k.onStateChange&&k.onStateChange()}function p(){return Boolean(r)}function m(){r||(r=e?e.addNestedSub(h):t.subscribe(h),o=Wwe())}function b(){r&&(r(),r=void 0,o.clear(),o=s3)}const k={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:p,trySubscribe:m,tryUnsubscribe:b,getListeners:()=>o};return k}const Kwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ywe=Kwe?G.useLayoutEffect:G.useEffect;function Qwe({store:t,context:e,children:r,serverState:o}){const a=G.useMemo(()=>{const p=Gwe(t);return{store:t,subscription:p,getServerState:o?()=>o:void 0}},[t,o]),u=G.useMemo(()=>t.getState(),[t]);Ywe(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==t.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,u]);const h=e||Jc;return cn.createElement(h.Provider,{value:a},r)}function J7(t=Jc){const e=t===Jc?W7:()=>G.useContext(t);return function(){const{store:o}=e();return o}}const Zwe=J7();function Jwe(t=Jc){const e=t===Jc?Zwe:J7(t);return function(){return e().dispatch}}const Xwe=Jwe();Pwe(RT.useSyncExternalStoreWithSelector);Twe(Mv.unstable_batchedUpdates);function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function eke(t,e){if(ug(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(ug(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tke(t){var e=eke(t,"string");return ug(e)==="symbol"?e:String(e)}function nke(t,e,r){return e=tke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function c3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(r),!0).forEach(function(o){nke(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function hi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var l3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ix=function(){return Math.random().toString(36).substring(7).split("").join(".")},ry={INIT:"@@redux/INIT"+Ix(),REPLACE:"@@redux/REPLACE"+Ix(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ix()}};function rke(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function X7(t,e,r){var o;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hi(1));return r(X7)(t,e)}if(typeof t!="function")throw new Error(hi(2));var a=t,u=e,h=[],p=h,m=!1;function b(){p===h&&(p=h.slice())}function k(){if(m)throw new Error(hi(3));return u}function v(I){if(typeof I!="function")throw new Error(hi(4));if(m)throw new Error(hi(5));var L=!0;return b(),p.push(I),function(){if(L){if(m)throw new Error(hi(6));L=!1,b();var T=p.indexOf(I);p.splice(T,1),h=null}}}function _(I){if(!rke(I))throw new Error(hi(7));if(typeof I.type>"u")throw new Error(hi(8));if(m)throw new Error(hi(9));try{m=!0,u=a(u,I)}finally{m=!1}for(var L=h=p,N=0;N<L.length;N++){var T=L[N];T()}return I}function A(I){if(typeof I!="function")throw new Error(hi(10));a=I,_({type:ry.REPLACE})}function E(){var I,L=v;return I={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(hi(11));function D(){T.next&&T.next(k())}D();var O=L(D);return{unsubscribe:O}}},I[l3]=function(){return this},I}return _({type:ry.INIT}),o={dispatch:_,subscribe:v,getState:k,replaceReducer:A},o[l3]=E,o}var ike=X7;function oke(t){Object.keys(t).forEach(function(e){var r=t[e],o=r(void 0,{type:ry.INIT});if(typeof o>"u")throw new Error(hi(12));if(typeof r(void 0,{type:ry.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hi(13))})}function ske(t){for(var e=Object.keys(t),r={},o=0;o<e.length;o++){var a=e[o];typeof t[a]=="function"&&(r[a]=t[a])}var u=Object.keys(r),h;try{oke(r)}catch(p){h=p}return function(m,b){if(m===void 0&&(m={}),h)throw h;for(var k=!1,v={},_=0;_<u.length;_++){var A=u[_],E=r[A],I=m[A],L=E(I,b);if(typeof L>"u")throw b&&b.type,new Error(hi(14));v[A]=L,k=k||L!==I}return k=k||u.length!==Object.keys(m).length,k?v:m}}function ake(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(o){return o}:e.length===1?e[0]:e.reduce(function(o,a){return function(){return o(a.apply(void 0,arguments))}})}function cke(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(o){return function(){var a=o.apply(void 0,arguments),u=function(){throw new Error(hi(15))},h={getState:a.getState,dispatch:function(){return u.apply(void 0,arguments)}},p=e.map(function(m){return m(h)});return u=ake.apply(void 0,p)(a.dispatch),c3(c3({},a),{},{dispatch:u})}}}function eH(t){var e=function(o){var a=o.dispatch,u=o.getState;return function(h){return function(p){return typeof p=="function"?p(a,u,t):h(p)}}};return e}var tH=eH();tH.withExtraArgument=eH;const lke=tH;var iy={},uke={get exports(){return iy},set exports(t){iy=t}};(function(t,e){(function(r,o){o(e)})(Gi,function(r){function o(z,$){z.super_=$,z.prototype=Object.create($.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}})}function a(z,$){Object.defineProperty(this,"kind",{value:z,enumerable:!0}),$&&$.length&&Object.defineProperty(this,"path",{value:$,enumerable:!0})}function u(z,$,S){u.super_.call(this,"E",z),Object.defineProperty(this,"lhs",{value:$,enumerable:!0}),Object.defineProperty(this,"rhs",{value:S,enumerable:!0})}function h(z,$){h.super_.call(this,"N",z),Object.defineProperty(this,"rhs",{value:$,enumerable:!0})}function p(z,$){p.super_.call(this,"D",z),Object.defineProperty(this,"lhs",{value:$,enumerable:!0})}function m(z,$,S){m.super_.call(this,"A",z),Object.defineProperty(this,"index",{value:$,enumerable:!0}),Object.defineProperty(this,"item",{value:S,enumerable:!0})}function b(z,$,S){var ee=z.slice((S||$)+1||z.length);return z.length=$<0?z.length+$:$,z.push.apply(z,ee),z}function k(z){var $=typeof z>"u"?"undefined":xe(z);return $!=="object"?$:z===Math?"math":z===null?"null":Array.isArray(z)?"array":Object.prototype.toString.call(z)==="[object Date]"?"date":typeof z.toString=="function"&&/^\/.*\//.test(z.toString())?"regexp":"object"}function v(z,$,S,ee,we,Re,$e){we=we||[],$e=$e||[];var it=we.slice(0);if(typeof Re<"u"){if(ee){if(typeof ee=="function"&&ee(it,Re))return;if((typeof ee>"u"?"undefined":xe(ee))==="object"){if(ee.prefilter&&ee.prefilter(it,Re))return;if(ee.normalize){var Gt=ee.normalize(it,Re,z,$);Gt&&(z=Gt[0],$=Gt[1])}}}it.push(Re)}k(z)==="regexp"&&k($)==="regexp"&&(z=z.toString(),$=$.toString());var Dt=typeof z>"u"?"undefined":xe(z),Ct=typeof $>"u"?"undefined":xe($),pt=Dt!=="undefined"||$e&&$e[$e.length-1].lhs&&$e[$e.length-1].lhs.hasOwnProperty(Re),lt=Ct!=="undefined"||$e&&$e[$e.length-1].rhs&&$e[$e.length-1].rhs.hasOwnProperty(Re);if(!pt&&lt)S(new h(it,$));else if(!lt&&pt)S(new p(it,z));else if(k(z)!==k($))S(new u(it,z,$));else if(k(z)==="date"&&z-$!==0)S(new u(it,z,$));else if(Dt==="object"&&z!==null&&$!==null)if($e.filter(function(K){return K.lhs===z}).length)z!==$&&S(new u(it,z,$));else{if($e.push({lhs:z,rhs:$}),Array.isArray(z)){var nt;for(z.length,nt=0;nt<z.length;nt++)nt>=$.length?S(new m(it,nt,new p(void 0,z[nt]))):v(z[nt],$[nt],S,ee,it,nt,$e);for(;nt<$.length;)S(new m(it,nt,new h(void 0,$[nt++])))}else{var B=Object.keys(z),Q=Object.keys($);B.forEach(function(K,ve){var Te=Q.indexOf(K);Te>=0?(v(z[K],$[K],S,ee,it,K,$e),Q=b(Q,Te)):v(z[K],void 0,S,ee,it,K,$e)}),Q.forEach(function(K){v(void 0,$[K],S,ee,it,K,$e)})}$e.length=$e.length-1}else z!==$&&(Dt==="number"&&isNaN(z)&&isNaN($)||S(new u(it,z,$)))}function _(z,$,S,ee){return ee=ee||[],v(z,$,function(we){we&&ee.push(we)},S),ee.length?ee:void 0}function A(z,$,S){if(S.path&&S.path.length){var ee,we=z[$],Re=S.path.length-1;for(ee=0;ee<Re;ee++)we=we[S.path[ee]];switch(S.kind){case"A":A(we[S.path[ee]],S.index,S.item);break;case"D":delete we[S.path[ee]];break;case"E":case"N":we[S.path[ee]]=S.rhs}}else switch(S.kind){case"A":A(z[$],S.index,S.item);break;case"D":z=b(z,$);break;case"E":case"N":z[$]=S.rhs}return z}function E(z,$,S){if(z&&$&&S&&S.kind){for(var ee=z,we=-1,Re=S.path?S.path.length-1:0;++we<Re;)typeof ee[S.path[we]]>"u"&&(ee[S.path[we]]=typeof S.path[we]=="number"?[]:{}),ee=ee[S.path[we]];switch(S.kind){case"A":A(S.path?ee[S.path[we]]:ee,S.index,S.item);break;case"D":delete ee[S.path[we]];break;case"E":case"N":ee[S.path[we]]=S.rhs}}}function I(z,$,S){if(S.path&&S.path.length){var ee,we=z[$],Re=S.path.length-1;for(ee=0;ee<Re;ee++)we=we[S.path[ee]];switch(S.kind){case"A":I(we[S.path[ee]],S.index,S.item);break;case"D":we[S.path[ee]]=S.lhs;break;case"E":we[S.path[ee]]=S.lhs;break;case"N":delete we[S.path[ee]]}}else switch(S.kind){case"A":I(z[$],S.index,S.item);break;case"D":z[$]=S.lhs;break;case"E":z[$]=S.lhs;break;case"N":z=b(z,$)}return z}function L(z,$,S){if(z&&$&&S&&S.kind){var ee,we,Re=z;for(we=S.path.length-1,ee=0;ee<we;ee++)typeof Re[S.path[ee]]>"u"&&(Re[S.path[ee]]={}),Re=Re[S.path[ee]];switch(S.kind){case"A":I(Re[S.path[ee]],S.index,S.item);break;case"D":Re[S.path[ee]]=S.lhs;break;case"E":Re[S.path[ee]]=S.lhs;break;case"N":delete Re[S.path[ee]]}}}function N(z,$,S){if(z&&$){var ee=function(we){S&&!S(z,$,we)||E(z,$,we)};v(z,$,ee)}}function T(z){return"color: "+pe[z].color+"; font-weight: bold"}function D(z){var $=z.kind,S=z.path,ee=z.lhs,we=z.rhs,Re=z.index,$e=z.item;switch($){case"E":return[S.join("."),ee,"",we];case"N":return[S.join("."),we];case"D":return[S.join(".")];case"A":return[S.join(".")+"["+Re+"]",$e];default:return[]}}function O(z,$,S,ee){var we=_(z,$);try{ee?S.groupCollapsed("diff"):S.group("diff")}catch{S.log("diff")}we?we.forEach(function(Re){var $e=Re.kind,it=D(Re);S.log.apply(S,["%c "+pe[$e].text,T($e)].concat(Ke(it)))}):S.log(" no diff ");try{S.groupEnd()}catch{S.log(" diff end  ")}}function V(z,$,S,ee){switch(typeof z>"u"?"undefined":xe(z)){case"object":return typeof z[ee]=="function"?z[ee].apply(z,Ke(S)):z[ee];case"function":return z($);default:return z}}function U(z){var $=z.timestamp,S=z.duration;return function(ee,we,Re){var $e=["action"];return $e.push("%c"+String(ee.type)),$&&$e.push("%c@ "+we),S&&$e.push("%c(in "+Re.toFixed(2)+" ms)"),$e.join(" ")}}function q(z,$){var S=$.logger,ee=$.actionTransformer,we=$.titleFormatter,Re=we===void 0?U($):we,$e=$.collapsed,it=$.colors,Gt=$.level,Dt=$.diff,Ct=typeof $.titleFormatter>"u";z.forEach(function(pt,lt){var nt=pt.started,B=pt.startedTime,Q=pt.action,K=pt.prevState,ve=pt.error,Te=pt.took,ue=pt.nextState,Ve=z[lt+1];Ve&&(ue=Ve.prevState,Te=Ve.started-nt);var mt=ee(Q),Et=typeof $e=="function"?$e(function(){return ue},Q,pt):$e,hn=ae(B),ne=it.title?"color: "+it.title(mt)+";":"",oe=["color: gray; font-weight: lighter;"];oe.push(ne),$.timestamp&&oe.push("color: gray; font-weight: lighter;"),$.duration&&oe.push("color: gray; font-weight: lighter;");var me=Re(mt,hn,Te);try{Et?it.title&&Ct?S.groupCollapsed.apply(S,["%c "+me].concat(oe)):S.groupCollapsed(me):it.title&&Ct?S.group.apply(S,["%c "+me].concat(oe)):S.group(me)}catch{S.log(me)}var _e=V(Gt,mt,[K],"prevState"),De=V(Gt,mt,[mt],"action"),Xe=V(Gt,mt,[ve,K],"error"),Je=V(Gt,mt,[ue],"nextState");if(_e)if(it.prevState){var ut="color: "+it.prevState(K)+"; font-weight: bold";S[_e]("%c prev state",ut,K)}else S[_e]("prev state",K);if(De)if(it.action){var Ue="color: "+it.action(mt)+"; font-weight: bold";S[De]("%c action    ",Ue,mt)}else S[De]("action    ",mt);if(ve&&Xe)if(it.error){var zt="color: "+it.error(ve,K)+"; font-weight: bold;";S[Xe]("%c error     ",zt,ve)}else S[Xe]("error     ",ve);if(Je)if(it.nextState){var Pe="color: "+it.nextState(ue)+"; font-weight: bold";S[Je]("%c next state",Pe,ue)}else S[Je]("next state",ue);Dt&&O(K,ue,S,Et);try{S.groupEnd()}catch{S.log(" log end ")}})}function te(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=Object.assign({},le,z),S=$.logger,ee=$.stateTransformer,we=$.errorTransformer,Re=$.predicate,$e=$.logErrors,it=$.diffPredicate;if(typeof S>"u")return function(){return function(Dt){return function(Ct){return Dt(Ct)}}};if(z.getState&&z.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(Dt){return function(Ct){return Dt(Ct)}}};var Gt=[];return function(Dt){var Ct=Dt.getState;return function(pt){return function(lt){if(typeof Re=="function"&&!Re(Ct,lt))return pt(lt);var nt={};Gt.push(nt),nt.started=Ce.now(),nt.startedTime=new Date,nt.prevState=ee(Ct()),nt.action=lt;var B=void 0;if($e)try{B=pt(lt)}catch(K){nt.error=we(K)}else B=pt(lt);nt.took=Ce.now()-nt.started,nt.nextState=ee(Ct());var Q=$.diff&&typeof it=="function"?it(Ct,lt):$.diff;if(q(Gt,Object.assign({},$,{diff:Q})),Gt.length=0,nt.error)throw nt.error;return B}}}}var ce,fe,Be=function(z,$){return new Array($+1).join(z)},re=function(z,$){return Be("0",$-z.toString().length)+z},ae=function(z){return re(z.getHours(),2)+":"+re(z.getMinutes(),2)+":"+re(z.getSeconds(),2)+"."+re(z.getMilliseconds(),3)},Ce=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},Ke=function(z){if(Array.isArray(z)){for(var $=0,S=Array(z.length);$<z.length;$++)S[$]=z[$];return S}return Array.from(z)},ze=[];ce=(typeof Gi>"u"?"undefined":xe(Gi))==="object"&&Gi?Gi:typeof window<"u"?window:{},fe=ce.DeepDiff,fe&&ze.push(function(){typeof fe<"u"&&ce.DeepDiff===_&&(ce.DeepDiff=fe,fe=void 0)}),o(u,a),o(h,a),o(p,a),o(m,a),Object.defineProperties(_,{diff:{value:_,enumerable:!0},observableDiff:{value:v,enumerable:!0},applyDiff:{value:N,enumerable:!0},applyChange:{value:E,enumerable:!0},revertChange:{value:L,enumerable:!0},isConflict:{value:function(){return typeof fe<"u"},enumerable:!0},noConflict:{value:function(){return ze&&(ze.forEach(function(z){z()}),ze=null),_},enumerable:!0}});var pe={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},le={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(z){return z},actionTransformer:function(z){return z},errorTransformer:function(z){return z},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},Y=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=z.dispatch,S=z.getState;return typeof $=="function"||typeof S=="function"?te()({dispatch:$,getState:S}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};r.defaults=le,r.createLogger=te,r.logger=Y,r.default=Y,Object.defineProperty(r,"__esModule",{value:!0})})})(uke,iy);const dke=o_(iy);function mP(t){return t==null}function gP(t){throw new Error("Argument "+t+" is empty.")}function nH(t){return typeof t=="function"&&"getType"in t}function hke(t){throw new Error("Argument "+t+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function rH(t){return typeof t=="string"||typeof t=="symbol"}function iH(t){return!rH(t)}function oH(t){throw new Error("Argument "+t+" is invalid, it should be an action type of type: string | symbol")}function fke(t,e){return mP(t)&&gP(1),iH(t)&&oH(1),Object.assign(function(){var r=e!=null?e.apply(void 0,arguments):void 0;return Object.assign({type:t},r)},{getType:function(){return t},toString:function(){return t}})}function Fa(t,e,r){return mP(t)&&gP(1),iH(t)&&oH(1),function(){return fke(t,function(){var o=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1];return e==null&&r==null||(o=e!=null?e.apply(void 0,arguments):void 0,a=r!=null?r.apply(void 0,arguments):void 0),Object.assign({},o!==void 0&&{payload:o},{},a!==void 0&&{meta:a})})}}function sH(t,e,r,o){return function(){var a=[t,e,r,o].map(function(u,h){return Array.isArray(u)?Fa(u[0],u[1],u[2])():typeof u=="string"||typeof u=="symbol"?Fa(u)():void(h<3&&function(p){throw new Error("Argument "+p+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(h))});return{request:a[0],success:a[1],failure:a[2],cancel:a[3]}}}function pke(t){return mP(t)&&gP(1),nH(t)||hke(1),t.getType()}function tb(t,e){e===void 0&&(e={});var r=Object.assign({},e),o=function(a,u){var h=Array.isArray(a)?a:[a],p={};return h.map(function(m,b){return nH(m)?pke(m):rH(m)?m:function(k){throw new Error("Argument "+k+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(b+1)}).forEach(function(m){return p[m]=u}),tb(t,Object.assign({},r,{},p))};return Object.assign(function(a,u){if(a===void 0&&(a=t),r.hasOwnProperty(u.type)){var h=r[u.type];if(typeof h!="function")throw Error('Reducer under "'+u.type+'" key is not a valid reducer');return h(a,u)}return a},{handlers:Object.assign({},r),handleAction:o,handleType:o})}function aH(t,e){return function(){return t.apply(e,arguments)}}const{toString:cH}=Object.prototype,{getPrototypeOf:bP}=Object,wP=(t=>e=>{const r=cH.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ka=t=>(t=t.toLowerCase(),e=>wP(e)===t),$_=t=>e=>typeof e===t,{isArray:Ef}=Array,dg=$_("undefined");function mke(t){return t!==null&&!dg(t)&&t.constructor!==null&&!dg(t.constructor)&&Xc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lH=Ka("ArrayBuffer");function gke(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lH(t.buffer),e}const bke=$_("string"),Xc=$_("function"),uH=$_("number"),kP=t=>t!==null&&typeof t=="object",wke=t=>t===!0||t===!1,dv=t=>{if(wP(t)!=="object")return!1;const e=bP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kke=Ka("Date"),vke=Ka("File"),yke=Ka("Blob"),_ke=Ka("FileList"),Ake=t=>kP(t)&&Xc(t.pipe),Cke=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||cH.call(t)===e||Xc(t.toString)&&t.toString()===e)},Eke=Ka("URLSearchParams"),xke=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nb(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Ef(t))for(o=0,a=t.length;o<a;o++)e.call(null,t[o],o,t);else{const u=r?Object.getOwnPropertyNames(t):Object.keys(t),h=u.length;let p;for(o=0;o<h;o++)p=u[o],e.call(null,t[p],p,t)}}function dH(t,e){e=e.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const hH=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fH=t=>!dg(t)&&t!==hH;function LT(){const{caseless:t}=fH(this)&&this||{},e={},r=(o,a)=>{const u=t&&dH(e,a)||a;dv(e[u])&&dv(o)?e[u]=LT(e[u],o):dv(o)?e[u]=LT({},o):Ef(o)?e[u]=o.slice():e[u]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&nb(arguments[o],r);return e}const Ske=(t,e,r,{allOwnKeys:o}={})=>(nb(e,(a,u)=>{r&&Xc(a)?t[u]=aH(a,r):t[u]=a},{allOwnKeys:o}),t),Tke=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ike=(t,e,r,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Dke=(t,e,r,o)=>{let a,u,h;const p={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),u=a.length;u-- >0;)h=a[u],(!o||o(h,t,e))&&!p[h]&&(e[h]=t[h],p[h]=!0);t=r!==!1&&bP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Pke=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const o=t.indexOf(e,r);return o!==-1&&o===r},Mke=t=>{if(!t)return null;if(Ef(t))return t;let e=t.length;if(!uH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Nke=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bP(Uint8Array)),Rke=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=o.next())&&!a.done;){const u=a.value;e.call(t,u[0],u[1])}},Oke=(t,e)=>{let r;const o=[];for(;(r=t.exec(e))!==null;)o.push(r);return o},Lke=Ka("HTMLFormElement"),Bke=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),u3=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),zke=Ka("RegExp"),pH=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),o={};nb(r,(a,u)=>{e(a,u,t)!==!1&&(o[u]=a)}),Object.defineProperties(t,o)},Fke=t=>{pH(t,(e,r)=>{if(Xc(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(Xc(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jke=(t,e)=>{const r={},o=a=>{a.forEach(u=>{r[u]=!0})};return Ef(t)?o(t):o(String(t).split(e)),r},Vke=()=>{},Uke=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Dx="abcdefghijklmnopqrstuvwxyz",d3="0123456789",mH={DIGIT:d3,ALPHA:Dx,ALPHA_DIGIT:Dx+Dx.toUpperCase()+d3},$ke=(t=16,e=mH.ALPHA_DIGIT)=>{let r="";const{length:o}=e;for(;t--;)r+=e[Math.random()*o|0];return r};function Hke(t){return!!(t&&Xc(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const qke=t=>{const e=new Array(10),r=(o,a)=>{if(kP(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const u=Ef(o)?[]:{};return nb(o,(h,p)=>{const m=r(h,a+1);!dg(m)&&(u[p]=m)}),e[a]=void 0,u}}return o};return r(t,0)},he={isArray:Ef,isArrayBuffer:lH,isBuffer:mke,isFormData:Cke,isArrayBufferView:gke,isString:bke,isNumber:uH,isBoolean:wke,isObject:kP,isPlainObject:dv,isUndefined:dg,isDate:kke,isFile:vke,isBlob:yke,isRegExp:zke,isFunction:Xc,isStream:Ake,isURLSearchParams:Eke,isTypedArray:Nke,isFileList:_ke,forEach:nb,merge:LT,extend:Ske,trim:xke,stripBOM:Tke,inherits:Ike,toFlatObject:Dke,kindOf:wP,kindOfTest:Ka,endsWith:Pke,toArray:Mke,forEachEntry:Rke,matchAll:Oke,isHTMLForm:Lke,hasOwnProperty:u3,hasOwnProp:u3,reduceDescriptors:pH,freezeMethods:Fke,toObjectSet:jke,toCamelCase:Bke,noop:Vke,toFiniteNumber:Uke,findKey:dH,global:hH,isContextDefined:fH,ALPHABET:mH,generateString:$ke,isSpecCompliantForm:Hke,toJSONObject:qke};function Vt(t,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a)}he.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gH=Vt.prototype,bH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bH[t]={value:t}});Object.defineProperties(Vt,bH);Object.defineProperty(gH,"isAxiosError",{value:!0});Vt.from=(t,e,r,o,a,u)=>{const h=Object.create(gH);return he.toFlatObject(t,h,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),Vt.call(h,t.message,e,r,o,a),h.cause=t,h.name=t.name,u&&Object.assign(h,u),h};const Wke=null;function BT(t){return he.isPlainObject(t)||he.isArray(t)}function wH(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function h3(t,e,r){return t?t.concat(e).map(function(a,u){return a=wH(a),!r&&u?"["+a+"]":a}).join(r?".":""):e}function Gke(t){return he.isArray(t)&&!t.some(BT)}const Kke=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function H_(t,e,r){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=he.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,L){return!he.isUndefined(L[I])});const o=r.metaTokens,a=r.visitor||k,u=r.dots,h=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(a))throw new TypeError("visitor must be a function");function b(E){if(E===null)return"";if(he.isDate(E))return E.toISOString();if(!m&&he.isBlob(E))throw new Vt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(E)||he.isTypedArray(E)?m&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function k(E,I,L){let N=E;if(E&&!L&&typeof E=="object"){if(he.endsWith(I,"{}"))I=o?I:I.slice(0,-2),E=JSON.stringify(E);else if(he.isArray(E)&&Gke(E)||(he.isFileList(E)||he.endsWith(I,"[]"))&&(N=he.toArray(E)))return I=wH(I),N.forEach(function(D,O){!(he.isUndefined(D)||D===null)&&e.append(h===!0?h3([I],O,u):h===null?I:I+"[]",b(D))}),!1}return BT(E)?!0:(e.append(h3(L,I,u),b(E)),!1)}const v=[],_=Object.assign(Kke,{defaultVisitor:k,convertValue:b,isVisitable:BT});function A(E,I){if(!he.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+I.join("."));v.push(E),he.forEach(E,function(N,T){(!(he.isUndefined(N)||N===null)&&a.call(e,N,he.isString(T)?T.trim():T,I,_))===!0&&A(N,I?I.concat(T):[T])}),v.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return A(t),e}function f3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function vP(t,e){this._pairs=[],t&&H_(t,this,e)}const kH=vP.prototype;kH.append=function(e,r){this._pairs.push([e,r])};kH.toString=function(e){const r=e?function(o){return e.call(this,o,f3)}:f3;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Yke(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vH(t,e,r){if(!e)return t;const o=r&&r.encode||Yke,a=r&&r.serialize;let u;if(a?u=a(e,r):u=he.isURLSearchParams(e)?e.toString():new vP(e,r).toString(o),u){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class Qke{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(o){o!==null&&e(o)})}}const p3=Qke,yH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zke=typeof URLSearchParams<"u"?URLSearchParams:vP,Jke=FormData,Xke=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eve=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vs={isBrowser:!0,classes:{URLSearchParams:Zke,FormData:Jke,Blob},isStandardBrowserEnv:Xke,isStandardBrowserWebWorkerEnv:eve,protocols:["http","https","file","blob","url","data"]};function tve(t,e){return H_(t,new Vs.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,u){return Vs.isNode&&he.isBuffer(r)?(this.append(o,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function nve(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rve(t){const e={},r=Object.keys(t);let o;const a=r.length;let u;for(o=0;o<a;o++)u=r[o],e[u]=t[u];return e}function _H(t){function e(r,o,a,u){let h=r[u++];const p=Number.isFinite(+h),m=u>=r.length;return h=!h&&he.isArray(a)?a.length:h,m?(he.hasOwnProp(a,h)?a[h]=[a[h],o]:a[h]=o,!p):((!a[h]||!he.isObject(a[h]))&&(a[h]=[]),e(r,o,a[h],u)&&he.isArray(a[h])&&(a[h]=rve(a[h])),!p)}if(he.isFormData(t)&&he.isFunction(t.entries)){const r={};return he.forEachEntry(t,(o,a)=>{e(nve(o),a,r,0)}),r}return null}const ive={"Content-Type":void 0};function ove(t,e,r){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const q_={transitional:yH,adapter:["xhr","http"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,u=he.isObject(e);if(u&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return a&&a?JSON.stringify(_H(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return tve(e,this.formSerializer).toString();if((p=he.isFileList(e))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return H_(p?{"files[]":e}:e,m&&new m,this.formSerializer)}}return u||a?(r.setContentType("application/json",!1),ove(e)):e}],transformResponse:[function(e){const r=this.transitional||q_.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(e&&he.isString(e)&&(o&&!this.responseType||a)){const h=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(p){if(h)throw p.name==="SyntaxError"?Vt.from(p,Vt.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vs.classes.FormData,Blob:Vs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};he.forEach(["delete","get","head"],function(e){q_.headers[e]={}});he.forEach(["post","put","patch"],function(e){q_.headers[e]=he.merge(ive)});const yP=q_,sve=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ave=t=>{const e={};let r,o,a;return t&&t.split(`
`).forEach(function(h){a=h.indexOf(":"),r=h.substring(0,a).trim().toLowerCase(),o=h.substring(a+1).trim(),!(!r||e[r]&&sve[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},m3=Symbol("internals");function jp(t){return t&&String(t).trim().toLowerCase()}function hv(t){return t===!1||t==null?t:he.isArray(t)?t.map(hv):String(t)}function cve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)e[o[1]]=o[2];return e}function lve(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function Px(t,e,r,o){if(he.isFunction(o))return o.call(this,e,r);if(he.isString(e)){if(he.isString(o))return e.indexOf(o)!==-1;if(he.isRegExp(o))return o.test(e)}}function uve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function dve(t,e){const r=he.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,u,h){return this[o].call(this,e,a,u,h)},configurable:!0})})}class W_{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function u(p,m,b){const k=jp(m);if(!k)throw new Error("header name must be a non-empty string");const v=he.findKey(a,k);(!v||a[v]===void 0||b===!0||b===void 0&&a[v]!==!1)&&(a[v||m]=hv(p))}const h=(p,m)=>he.forEach(p,(b,k)=>u(b,k,m));return he.isPlainObject(e)||e instanceof this.constructor?h(e,r):he.isString(e)&&(e=e.trim())&&!lve(e)?h(ave(e),r):e!=null&&u(r,e,o),this}get(e,r){if(e=jp(e),e){const o=he.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return cve(a);if(he.isFunction(r))return r.call(this,a,o);if(he.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=jp(e),e){const o=he.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||Px(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function u(h){if(h=jp(h),h){const p=he.findKey(o,h);p&&(!r||Px(o,o[p],p,r))&&(delete o[p],a=!0)}}return he.isArray(e)?e.forEach(u):u(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const u=r[o];(!e||Px(this,this[u],u,e))&&(delete this[u],a=!0)}return a}normalize(e){const r=this,o={};return he.forEach(this,(a,u)=>{const h=he.findKey(o,u);if(h){r[h]=hv(a),delete r[u];return}const p=e?uve(u):String(u).trim();p!==u&&delete r[u],r[p]=hv(a),o[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return he.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&he.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[m3]=this[m3]={accessors:{}}).accessors,a=this.prototype;function u(h){const p=jp(h);o[p]||(dve(a,h),o[p]=!0)}return he.isArray(e)?e.forEach(u):u(e),this}}W_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.freezeMethods(W_.prototype);he.freezeMethods(W_);const Ta=W_;function Mx(t,e){const r=this||yP,o=e||r,a=Ta.from(o.headers);let u=o.data;return he.forEach(t,function(p){u=p.call(r,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function AH(t){return!!(t&&t.__CANCEL__)}function rb(t,e,r){Vt.call(this,t??"canceled",Vt.ERR_CANCELED,e,r),this.name="CanceledError"}he.inherits(rb,Vt,{__CANCEL__:!0});function hve(t,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):e(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const fve=Vs.isStandardBrowserEnv?function(){return{write:function(r,o,a,u,h,p){const m=[];m.push(r+"="+encodeURIComponent(o)),he.isNumber(a)&&m.push("expires="+new Date(a).toGMTString()),he.isString(u)&&m.push("path="+u),he.isString(h)&&m.push("domain="+h),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mve(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function CH(t,e){return t&&!pve(e)?mve(t,e):e}const gve=Vs.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function a(u){let h=u;return e&&(r.setAttribute("href",h),h=r.href),r.setAttribute("href",h),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=a(window.location.href),function(h){const p=he.isString(h)?a(h):h;return p.protocol===o.protocol&&p.host===o.host}}():function(){return function(){return!0}}();function bve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wve(t,e){t=t||10;const r=new Array(t),o=new Array(t);let a=0,u=0,h;return e=e!==void 0?e:1e3,function(m){const b=Date.now(),k=o[u];h||(h=b),r[a]=m,o[a]=b;let v=u,_=0;for(;v!==a;)_+=r[v++],v=v%t;if(a=(a+1)%t,a===u&&(u=(u+1)%t),b-h<e)return;const A=k&&b-k;return A?Math.round(_*1e3/A):void 0}}function g3(t,e){let r=0;const o=wve(50,250);return a=>{const u=a.loaded,h=a.lengthComputable?a.total:void 0,p=u-r,m=o(p),b=u<=h;r=u;const k={loaded:u,total:h,progress:h?u/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&b?(h-u)/m:void 0,event:a};k[e?"download":"upload"]=!0,t(k)}}const kve=typeof XMLHttpRequest<"u",vve=kve&&function(t){return new Promise(function(r,o){let a=t.data;const u=Ta.from(t.headers).normalize(),h=t.responseType;let p;function m(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}he.isFormData(a)&&(Vs.isStandardBrowserEnv||Vs.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let b=new XMLHttpRequest;if(t.auth){const A=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.set("Authorization","Basic "+btoa(A+":"+E))}const k=CH(t.baseURL,t.url);b.open(t.method.toUpperCase(),vH(k,t.params,t.paramsSerializer),!0),b.timeout=t.timeout;function v(){if(!b)return;const A=Ta.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),I={data:!h||h==="text"||h==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};hve(function(N){r(N),m()},function(N){o(N),m()},I),b=null}if("onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(o(new Vt("Request aborted",Vt.ECONNABORTED,t,b)),b=null)},b.onerror=function(){o(new Vt("Network Error",Vt.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const I=t.transitional||yH;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),o(new Vt(E,I.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,t,b)),b=null},Vs.isStandardBrowserEnv){const A=(t.withCredentials||gve(k))&&t.xsrfCookieName&&fve.read(t.xsrfCookieName);A&&u.set(t.xsrfHeaderName,A)}a===void 0&&u.setContentType(null),"setRequestHeader"in b&&he.forEach(u.toJSON(),function(E,I){b.setRequestHeader(I,E)}),he.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),h&&h!=="json"&&(b.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&b.addEventListener("progress",g3(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",g3(t.onUploadProgress)),(t.cancelToken||t.signal)&&(p=A=>{b&&(o(!A||A.type?new rb(null,t,b):A),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p)));const _=bve(k);if(_&&Vs.protocols.indexOf(_)===-1){o(new Vt("Unsupported protocol "+_+":",Vt.ERR_BAD_REQUEST,t));return}b.send(a||null)})},fv={http:Wke,xhr:vve};he.forEach(fv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yve={getAdapter:t=>{t=he.isArray(t)?t:[t];const{length:e}=t;let r,o;for(let a=0;a<e&&(r=t[a],!(o=he.isString(r)?fv[r.toLowerCase()]:r));a++);if(!o)throw o===!1?new Vt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(he.hasOwnProp(fv,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!he.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:fv};function Nx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rb(null,t)}function b3(t){return Nx(t),t.headers=Ta.from(t.headers),t.data=Mx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yve.getAdapter(t.adapter||yP.adapter)(t).then(function(o){return Nx(t),o.data=Mx.call(t,t.transformResponse,o),o.headers=Ta.from(o.headers),o},function(o){return AH(o)||(Nx(t),o&&o.response&&(o.response.data=Mx.call(t,t.transformResponse,o.response),o.response.headers=Ta.from(o.response.headers))),Promise.reject(o)})}const w3=t=>t instanceof Ta?t.toJSON():t;function tf(t,e){e=e||{};const r={};function o(b,k,v){return he.isPlainObject(b)&&he.isPlainObject(k)?he.merge.call({caseless:v},b,k):he.isPlainObject(k)?he.merge({},k):he.isArray(k)?k.slice():k}function a(b,k,v){if(he.isUndefined(k)){if(!he.isUndefined(b))return o(void 0,b,v)}else return o(b,k,v)}function u(b,k){if(!he.isUndefined(k))return o(void 0,k)}function h(b,k){if(he.isUndefined(k)){if(!he.isUndefined(b))return o(void 0,b)}else return o(void 0,k)}function p(b,k,v){if(v in e)return o(b,k);if(v in t)return o(void 0,b)}const m={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(b,k)=>a(w3(b),w3(k),!0)};return he.forEach(Object.keys(t).concat(Object.keys(e)),function(k){const v=m[k]||a,_=v(t[k],e[k],k);he.isUndefined(_)&&v!==p||(r[k]=_)}),r}const EH="1.3.2",_P={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_P[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const k3={};_P.transitional=function(e,r,o){function a(u,h){return"[Axios v"+EH+"] Transitional option '"+u+"'"+h+(o?". "+o:"")}return(u,h,p)=>{if(e===!1)throw new Vt(a(h," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!k3[h]&&(k3[h]=!0,console.warn(a(h," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(u,h,p):!0}};function _ve(t,e,r){if(typeof t!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const u=o[a],h=e[u];if(h){const p=t[u],m=p===void 0||h(p,u,t);if(m!==!0)throw new Vt("option "+u+" must be "+m,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+u,Vt.ERR_BAD_OPTION)}}const zT={assertOptions:_ve,validators:_P},wc=zT.validators;class oy{constructor(e){this.defaults=e,this.interceptors={request:new p3,response:new p3}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=tf(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:u}=r;o!==void 0&&zT.assertOptions(o,{silentJSONParsing:wc.transitional(wc.boolean),forcedJSONParsing:wc.transitional(wc.boolean),clarifyTimeoutError:wc.transitional(wc.boolean)},!1),a!==void 0&&zT.assertOptions(a,{encode:wc.function,serialize:wc.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h;h=u&&he.merge(u.common,u[r.method]),h&&he.forEach(["delete","get","head","post","put","patch","common"],E=>{delete u[E]}),r.headers=Ta.concat(h,u);const p=[];let m=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(r)===!1||(m=m&&I.synchronous,p.unshift(I.fulfilled,I.rejected))});const b=[];this.interceptors.response.forEach(function(I){b.push(I.fulfilled,I.rejected)});let k,v=0,_;if(!m){const E=[b3.bind(this),void 0];for(E.unshift.apply(E,p),E.push.apply(E,b),_=E.length,k=Promise.resolve(r);v<_;)k=k.then(E[v++],E[v++]);return k}_=p.length;let A=r;for(v=0;v<_;){const E=p[v++],I=p[v++];try{A=E(A)}catch(L){I.call(this,L);break}}try{k=b3.call(this,A)}catch(E){return Promise.reject(E)}for(v=0,_=b.length;v<_;)k=k.then(b[v++],b[v++]);return k}getUri(e){e=tf(this.defaults,e);const r=CH(e.baseURL,e.url);return vH(r,e.params,e.paramsSerializer)}}he.forEach(["delete","get","head","options"],function(e){oy.prototype[e]=function(r,o){return this.request(tf(o||{},{method:e,url:r,data:(o||{}).data}))}});he.forEach(["post","put","patch"],function(e){function r(o){return function(u,h,p){return this.request(tf(p||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}oy.prototype[e]=r(),oy.prototype[e+"Form"]=r(!0)});const pv=oy;class AP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const o=this;this.promise.then(a=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](a);o._listeners=null}),this.promise.then=a=>{let u;const h=new Promise(p=>{o.subscribe(p),u=p}).then(a);return h.cancel=function(){o.unsubscribe(u)},h},e(function(u,h,p){o.reason||(o.reason=new rb(u,h,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new AP(function(a){e=a}),cancel:e}}}const Ave=AP;function Cve(t){return function(r){return t.apply(null,r)}}function Eve(t){return he.isObject(t)&&t.isAxiosError===!0}const FT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(FT).forEach(([t,e])=>{FT[e]=t});const xve=FT;function xH(t){const e=new pv(t),r=aH(pv.prototype.request,e);return he.extend(r,pv.prototype,e,{allOwnKeys:!0}),he.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return xH(tf(t,a))},r}const kr=xH(yP);kr.Axios=pv;kr.CanceledError=rb;kr.CancelToken=Ave;kr.isCancel=AH;kr.VERSION=EH;kr.toFormData=H_;kr.AxiosError=Vt;kr.Cancel=kr.CanceledError;kr.all=function(e){return Promise.all(e)};kr.spread=Cve;kr.isAxiosError=Eve;kr.mergeConfig=tf;kr.AxiosHeaders=Ta;kr.formToJSON=t=>_H(he.isHTMLForm(t)?new FormData(t):t);kr.HttpStatusCode=xve;kr.default=kr;const Sve=kr;async function Tve(t){return(await Sve.get(`https://api.github.com/user/${t}`)).data}const No={initial:t=>({loading:!0,data:t||null,error:null}),loading:t=>({loading:!0,data:t||null,error:null}),success:t=>({loading:!1,data:t,error:null}),error:t=>({loading:!1,data:null,error:t}),null:t=>({loading:!1,data:t||null,error:null})},SH="github/GET_GITHUB_PROFILE",TH="github/GET_GITHUB_PROFILE_SUCCESS",IH="github/GET_GITHUB_PROFILE_ERROR",DH="github/GET_GITHUB_PROFILE_NULL",Ive=sH(SH,TH,IH,DH)();function Dve(t){return async(e,r)=>{const{request:o,success:a,failure:u,cancel:h}=Ive;if(e(o()),r().authReducer.auth.data)try{const p=await Tve(t);e(a(p))}catch(p){e(u(p))}else e(h())}}const Pve={github:No.initial()},Mve=tb(Pve,{[SH]:t=>({...t,github:No.loading()}),[TH]:(t,e)=>({...t,github:No.success(e.payload)}),[IH]:(t,e)=>({...t,github:No.error(e.payload)}),[DH]:t=>({...t,github:No.null()})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=function(t){const e=[];let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++o)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Nve=function(t){const e=[];let r=0,o=0;for(;r<t.length;){const a=t[r++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=t[r++];e[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=t[r++],h=t[r++],p=t[r++],m=((a&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[o++]=String.fromCharCode(55296+(m>>10)),e[o++]=String.fromCharCode(56320+(m&1023))}else{const u=t[r++],h=t[r++];e[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},MH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<t.length;a+=3){const u=t[a],h=a+1<t.length,p=h?t[a+1]:0,m=a+2<t.length,b=m?t[a+2]:0,k=u>>2,v=(u&3)<<4|p>>4;let _=(p&15)<<2|b>>6,A=b&63;m||(A=64,h||(_=64)),o.push(r[k],r[v],r[_],r[A])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nve(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<t.length;){const u=r[t.charAt(a++)],p=a<t.length?r[t.charAt(a)]:0;++a;const b=a<t.length?r[t.charAt(a)]:64;++a;const v=a<t.length?r[t.charAt(a)]:64;if(++a,u==null||p==null||b==null||v==null)throw Error();const _=u<<2|p>>4;if(o.push(_),b!==64){const A=p<<4&240|b>>2;if(o.push(A),v!==64){const E=b<<6&192|v;o.push(E)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rve=function(t){const e=PH(t);return MH.encodeByteArray(e,!0)},sy=function(t){return Rve(t).replace(/\./g,"")},NH=function(t){try{return MH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ay(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Ove(r)||(t[r]=ay(t[r],e[r]));return t}function Ove(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bve=()=>Lve().__FIREBASE_DEFAULTS__,zve=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fve=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NH(t[1]);return e&&JSON.parse(e)},CP=()=>{try{return Bve()||zve()||Fve()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jve=()=>{var t;return(t=CP())===null||t===void 0?void 0:t.config},Vve=t=>{var e;return(e=CP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",a=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),p="";return[sy(JSON.stringify(r)),sy(JSON.stringify(h)),p].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function G_(){var t;const e=(t=CP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hve(){return typeof self=="object"&&self.self===self}function OH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LH(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qve(){return!G_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hg(){try{return typeof indexedDB=="object"}catch{return!1}}function Wve(){return new Promise((t,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gve="FirebaseError";class mi extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=Gve,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Kve(u,o):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new mi(a,p,o)}}function Kve(t,e){return t.replace(Yve,(r,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const Yve=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qve(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jT(t,e){if(t===e)return!0;const r=Object.keys(t),o=Object.keys(e);for(const a of r){if(!o.includes(a))return!1;const u=t[a],h=e[a];if(y3(u)&&y3(h)){if(!jT(u,h))return!1}else if(u!==h)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function y3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[r,o]of Object.entries(t))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[a,u]=o.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function cm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function BH(t,e){const r=new Zve(t,e);return r.subscribe.bind(r)}class Zve{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,o){let a;if(e===void 0&&r===void 0&&o===void 0)throw new Error("Missing Observer.");Jve(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:o},a.next===void 0&&(a.next=Rx),a.error===void 0&&(a.error=Rx),a.complete===void 0&&(a.complete=Rx);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jve(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Rx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Uo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new Uve;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tye(e))try{this.getOrInitializeService({instanceIdentifier:du})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(e=du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=du){return this.instances.has(e)}getOptions(e=du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);o===p&&h.resolve(a)}return a}onInit(e,r){var o;const a=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:eye(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=du){return this.component?this.component.multipleInstances?e:du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eye(t){return t===du?void 0:t}function tye(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Xve(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=[];var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const zH={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},rye=jt.INFO,iye={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},oye=(t,e,...r)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),a=iye[e];if(a)console[a](`[${o}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=rye,this._logHandler=oye,this._userLogHandler=null,xP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}function sye(t){xP.forEach(e=>{e.setLogLevel(t)})}function aye(t,e){for(const r of xP){let o=null;e&&e.level&&(o=zH[e.level]),t===null?r.userLogHandler=null:r.userLogHandler=(a,u,...h)=>{const p=h.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");u>=(o??a.logLevel)&&t({level:jt[u].toLowerCase(),message:p,args:h,type:a.name})}}}const cye=(t,e)=>e.some(r=>t instanceof r);let _3,A3;function lye(){return _3||(_3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uye(){return A3||(A3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FH=new WeakMap,VT=new WeakMap,jH=new WeakMap,Ox=new WeakMap,SP=new WeakMap;function dye(t){const e=new Promise((r,o)=>{const a=()=>{t.removeEventListener("success",u),t.removeEventListener("error",h)},u=()=>{r(Wc(t.result)),a()},h=()=>{o(t.error),a()};t.addEventListener("success",u),t.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&FH.set(r,t)}).catch(()=>{}),SP.set(e,t),e}function hye(t){if(VT.has(t))return;const e=new Promise((r,o)=>{const a=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",h),t.removeEventListener("abort",h)},u=()=>{r(),a()},h=()=>{o(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",u),t.addEventListener("error",h),t.addEventListener("abort",h)});VT.set(t,e)}let UT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return VT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jH.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fye(t){UT=t(UT)}function pye(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=t.call(Lx(this),e,...r);return jH.set(o,e.sort?e.sort():[e]),Wc(o)}:uye().includes(t)?function(...e){return t.apply(Lx(this),e),Wc(FH.get(this))}:function(...e){return Wc(t.apply(Lx(this),e))}}function mye(t){return typeof t=="function"?pye(t):(t instanceof IDBTransaction&&hye(t),cye(t,lye())?new Proxy(t,UT):t)}function Wc(t){if(t instanceof IDBRequest)return dye(t);if(Ox.has(t))return Ox.get(t);const e=mye(t);return e!==t&&(Ox.set(t,e),SP.set(e,t)),e}const Lx=t=>SP.get(t);function gye(t,e,{blocked:r,upgrade:o,blocking:a,terminated:u}={}){const h=indexedDB.open(t,e),p=Wc(h);return o&&h.addEventListener("upgradeneeded",m=>{o(Wc(h.result),m.oldVersion,m.newVersion,Wc(h.transaction))}),r&&h.addEventListener("blocked",()=>r()),p.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",()=>a())}).catch(()=>{}),p}const bye=["get","getKey","getAll","getAllKeys","count"],wye=["put","add","delete","clear"],Bx=new Map;function C3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bx.get(e))return Bx.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,a=wye.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||bye.includes(r)))return;const u=async function(h,...p){const m=this.transaction(h,a?"readwrite":"readonly");let b=m.store;return o&&(b=b.index(p.shift())),(await Promise.all([b[r](...p),a&&m.done]))[0]};return Bx.set(e,u),u}fye(t=>({...t,get:(e,r,o)=>C3(e,r)||t.get(e,r,o),has:(e,r)=>!!C3(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(vye(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function vye(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $T="@firebase/app",E3="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new K_("@firebase/app"),yye="@firebase/app-compat",_ye="@firebase/analytics-compat",Aye="@firebase/analytics",Cye="@firebase/app-check-compat",Eye="@firebase/app-check",xye="@firebase/auth",Sye="@firebase/auth-compat",Tye="@firebase/database",Iye="@firebase/database-compat",Dye="@firebase/functions",Pye="@firebase/functions-compat",Mye="@firebase/installations",Nye="@firebase/installations-compat",Rye="@firebase/messaging",Oye="@firebase/messaging-compat",Lye="@firebase/performance",Bye="@firebase/performance-compat",zye="@firebase/remote-config",Fye="@firebase/remote-config-compat",jye="@firebase/storage",Vye="@firebase/storage-compat",Uye="@firebase/firestore",$ye="@firebase/firestore-compat",Hye="firebase",qye="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]",Wye={[$T]:"fire-core",[yye]:"fire-core-compat",[Aye]:"fire-analytics",[_ye]:"fire-analytics-compat",[Eye]:"fire-app-check",[Cye]:"fire-app-check-compat",[xye]:"fire-auth",[Sye]:"fire-auth-compat",[Tye]:"fire-rtdb",[Iye]:"fire-rtdb-compat",[Dye]:"fire-fn",[Pye]:"fire-fn-compat",[Mye]:"fire-iid",[Nye]:"fire-iid-compat",[Rye]:"fire-fcm",[Oye]:"fire-fcm-compat",[Lye]:"fire-perf",[Bye]:"fire-perf-compat",[zye]:"fire-rc",[Fye]:"fire-rc-compat",[jye]:"fire-gcs",[Vye]:"fire-gcs-compat",[Uye]:"fire-fst",[$ye]:"fire-fst-compat","fire-js":"fire-js",[Hye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Map,fg=new Map;function cy(t,e){try{t.container.addComponent(e)}catch(r){Yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function VH(t,e){t.container.addOrOverwriteComponent(e)}function ja(t){const e=t.name;if(fg.has(e))return Yu.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(const r of tl.values())cy(r,t);return!0}function UH(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Gye(t,e,r=el){UH(t,e).clearInstance(r)}function Kye(){fg.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yye={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ia=new fd("app","Firebase",Yye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qye=class{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=qye;function TP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:el,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw Ia.create("bad-app-name",{appName:String(a)});if(r||(r=jve()),!r)throw Ia.create("no-options");const u=tl.get(a);if(u){if(jT(r,u.options)&&jT(o,u.config))return u;throw Ia.create("duplicate-app",{appName:a})}const h=new nye(a);for(const m of fg.values())h.addComponent(m);const p=new Qye(r,o,h);return tl.set(a,p),p}function Zye(t=el){const e=tl.get(t);if(!e&&t===el)return TP();if(!e)throw Ia.create("no-app",{appName:t});return e}function Jye(){return Array.from(tl.values())}async function $H(t){const e=t.name;tl.has(e)&&(tl.delete(e),await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function zo(t,e,r){var o;let a=(o=Wye[t])!==null&&o!==void 0?o:t;r&&(a+=`-${r}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${a}" with version "${e}":`];u&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yu.warn(p.join(" "));return}ja(new Uo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function HH(t,e){if(t!==null&&typeof t!="function")throw Ia.create("invalid-log-argument");aye(t,e)}function qH(t){sye(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xye="firebase-heartbeat-database",e_e=1,pg="firebase-heartbeat-store";let zx=null;function WH(){return zx||(zx=gye(Xye,e_e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pg)}}}).catch(t=>{throw Ia.create("idb-open",{originalErrorMessage:t.message})})),zx}async function t_e(t){try{return(await WH()).transaction(pg).objectStore(pg).get(GH(t))}catch(e){if(e instanceof mi)Yu.warn(e.message);else{const r=Ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yu.warn(r.message)}}}async function x3(t,e){try{const o=(await WH()).transaction(pg,"readwrite");return await o.objectStore(pg).put(e,GH(t)),o.done}catch(r){if(r instanceof mi)Yu.warn(r.message);else{const o=Ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yu.warn(o.message)}}}function GH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_e=1024,r_e=30*24*60*60*1e3;class i_e{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new s_e(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=S3();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=r_e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S3(),{heartbeatsToSend:r,unsentEntries:o}=o_e(this._heartbeatsCache.heartbeats),a=sy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function S3(){return new Date().toISOString().substring(0,10)}function o_e(t,e=n_e){const r=[];let o=t.slice();for(const a of t){const u=r.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),T3(r)>e){u.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),T3(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class s_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hg()?Wve().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await t_e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return x3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return x3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function T3(t){return sy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_e(t){ja(new Uo("platform-logger",e=>new kye(e),"PRIVATE")),ja(new Uo("heartbeat",e=>new i_e(e),"PRIVATE")),zo($T,E3,t),zo($T,E3,"esm2017"),zo("fire-js","")}a_e("");const c_e=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:mi,SDK_VERSION:kl,_DEFAULT_ENTRY_NAME:el,_addComponent:cy,_addOrOverwriteComponent:VH,_apps:tl,_clearComponents:Kye,_components:fg,_getProvider:UH,_registerComponent:ja,_removeServiceInstance:Gye,deleteApp:$H,getApp:Zye,getApps:Jye,initializeApp:TP,onLog:HH,registerVersion:zo,setLogLevel:qH},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_e{constructor(e,r){this._delegate=e,this.firebase=r,cy(e,new Uo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$H(this._delegate)))}_getService(e,r=el){var o;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((o=a.getComponent())===null||o===void 0?void 0:o.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:r})}_removeServiceInstance(e,r=el){this._delegate.container.getProvider(e).clearInstance(r)}_addComponent(e){cy(this._delegate,e)}_addOrOverwriteComponent(e){VH(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},I3=new fd("app-compat","Firebase",u_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_e(t){const e={},r={__esModule:!0,initializeApp:u,app:a,registerVersion:zo,setLogLevel:qH,onLog:HH,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:p,removeApp:o,useAsService:m,modularAPIs:c_e}};r.default=r,Object.defineProperty(r,"apps",{get:h});function o(b){delete e[b]}function a(b){if(b=b||el,!v3(e,b))throw I3.create("no-app",{appName:b});return e[b]}a.App=t;function u(b,k={}){const v=TP(b,k);if(v3(e,v.name))return e[v.name];const _=new t(v,r);return e[v.name]=_,_}function h(){return Object.keys(e).map(b=>e[b])}function p(b){const k=b.name,v=k.replace("-compat","");if(ja(b)&&b.type==="PUBLIC"){const _=(A=a())=>{if(typeof A[v]!="function")throw I3.create("invalid-app-argument",{appName:k});return A[v]()};b.serviceProps!==void 0&&ay(_,b.serviceProps),r[v]=_,t.prototype[v]=function(...A){return this._getService.bind(this,k).apply(this,b.multipleInstances?A:[])}}return b.type==="PUBLIC"?r[v]:null}function m(b,k){return k==="serverAuth"?null:k}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(){const t=d_e(l_e);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:KH,extendNamespace:e,createSubscribe:BH,ErrorFactory:fd,deepExtend:ay});function e(r){ay(t,r)}return t}const h_e=KH();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new K_("@firebase/app-compat"),f_e="@firebase/app-compat",p_e="0.2.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_e(t){zo(f_e,p_e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Hve()&&self.firebase!==void 0){D3.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&D3.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const gs=h_e;m_e();var g_e="firebase",b_e="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs.registerVersion(g_e,b_e,"app-compat");function IP(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(r[o[a]]=t[o[a]]);return r}const Vp={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_e(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function YH(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k_e=w_e,v_e=YH,QH=new fd("auth","Firebase",YH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new K_("@firebase/auth");function mv(t,...e){P3.logLevel<=jt.ERROR&&P3.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw DP(t,...e)}function ti(t,...e){return DP(t,...e)}function ZH(t,e,r){const o=Object.assign(Object.assign({},v_e()),{[e]:r});return new fd("auth","Firebase",o).create(e,{appName:t.name})}function Sf(t,e,r){const o=r;if(!(e instanceof o))throw o.name!==e.constructor.name&&ii(t,"argument-error"),ZH(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DP(t,...e){if(typeof t!="string"){const r=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=t.name),t._errorFactory.create(r,...o)}return QH.create(t,...e)}function Se(t,e,...r){if(!t)throw DP(e,...r)}function Us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mv(e),new Error(e)}function ps(t,e){t||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Map;function ho(t){ps(t instanceof Function,"Expected a class definition");let e=M3.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M3.set(t,e),e)}function y_e(t,e){const r=(e==null?void 0:e.persistence)||[],o=(Array.isArray(r)?r:[r]).map(ho);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PP(){return N3()==="http:"||N3()==="https:"}function N3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PP()||OH()||"connection"in navigator)?navigator.onLine:!0}function A_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,r){this.shortDelay=e,this.longDelay=r,ps(r>e,"Short delay should be less than long delay!"),this.isMobile=$ve()||EP()}get(){return __e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e){ps(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{static initialize(e,r,o){this.fetchImpl=e,r&&(this.headersImpl=r),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_e=new ib(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jr(t,e,r,o,a={}){return XH(t,a,async()=>{let u={},h={};o&&(e==="GET"?h=o:u={body:JSON.stringify(o)});const p=xf(Object.assign({key:t.config.apiKey},h)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),JH.fetch()(e8(t,t.config.apiHost,r,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))})}async function XH(t,e,r){t._canInitEmulator=!1;const o=Object.assign(Object.assign({},C_e),e);try{const a=new x_e(t),u=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw lm(t,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,b]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lm(t,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw lm(t,"email-already-in-use",h);if(m==="USER_DISABLED")throw lm(t,"user-disabled",h);const k=o[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw ZH(t,k,b);ii(t,k)}}catch(a){if(a instanceof mi)throw a;ii(t,"network-request-failed")}}async function Ya(t,e,r,o,a={}){const u=await jr(t,e,r,o,a);return"mfaPendingCredential"in u&&ii(t,"multi-factor-auth-required",{_serverResponse:u}),u}function e8(t,e,r,o){const a=`${e}${r}?${o}`;return t.config.emulator?MP(t.config,a):`${t.config.apiScheme}://${a}`}class x_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,o)=>{this.timer=setTimeout(()=>o(ti(this.auth,"network-request-failed")),E_e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lm(t,e,r){const o={appName:t.name};r.email&&(o.email=r.email),r.phoneNumber&&(o.phoneNumber=r.phoneNumber);const a=ti(t,e,o);return a.customData._tokenResponse=r,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_e(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function T_e(t,e){return jr(t,"POST","/v1/accounts:update",e)}async function I_e(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D_e(t,e=!1){const r=Ze(t),o=await r.getIdToken(e),a=Y_(o);Se(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:a,token:o,authTime:xm(Fx(a.auth_time)),issuedAtTime:xm(Fx(a.iat)),expirationTime:xm(Fx(a.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Fx(t){return Number(t)*1e3}function Y_(t){const[e,r,o]=t.split(".");if(e===void 0||r===void 0||o===void 0)return mv("JWT malformed, contained fewer than 3 sections"),null;try{const a=NH(r);return a?JSON.parse(a):(mv("Failed to decode base64 JWT payload"),null)}catch(a){return mv("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function P_e(t){const e=Y_(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,r=!1){if(r)return e;try{return await e}catch(o){throw o instanceof mi&&M_e(o)&&t.auth.currentUser===t&&await t.auth.signOut(),o}}function M_e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=xm(this.lastLoginAt),this.creationTime=xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){var e;const r=t.auth,o=await t.getIdToken(),a=await Va(t,I_e(r,{idToken:o}));Se(a==null?void 0:a.users.length,r,"internal-error");const u=a.users[0];t._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?L_e(u.providerUserInfo):[],p=O_e(t.providerData,h),m=t.isAnonymous,b=!(t.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?b:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new t8(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(t,v)}async function R_e(t){const e=Ze(t);await gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O_e(t,e){return[...t.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function L_e(t){return t.map(e=>{var{providerId:r}=e,o=IP(e,["providerId"]);return{providerId:r,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_e(t,e){const r=await XH(t,{},async()=>{const o=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=t.config,h=e8(t,a,"/v1/token",`key=${u}`),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",JH.fetch()(h,{method:"POST",headers:p,body:o})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_e(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:o,refreshToken:a,expiresIn:u}=await B_e(e,r);this.updateTokensAndExpiration(o,a,Number(u))}updateTokensAndExpiration(e,r,o){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,r){const{refreshToken:o,accessToken:a,expirationTime:u}=r,h=new bg;return o&&(Se(typeof o=="string","internal-error",{appName:e}),h.refreshToken=o),a&&(Se(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bg,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lu{constructor(e){var{uid:r,auth:o,stsTokenManager:a}=e,u=IP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new t8(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const r=await Va(this,this.stsTokenManager.getToken(this.auth,e));return Se(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return D_e(this,e)}reload(){return R_e(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Lu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),r&&await gg(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Va(this,S_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var o,a,u,h,p,m,b,k;const v=(o=r.displayName)!==null&&o!==void 0?o:void 0,_=(a=r.email)!==null&&a!==void 0?a:void 0,A=(u=r.phoneNumber)!==null&&u!==void 0?u:void 0,E=(h=r.photoURL)!==null&&h!==void 0?h:void 0,I=(p=r.tenantId)!==null&&p!==void 0?p:void 0,L=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,N=(b=r.createdAt)!==null&&b!==void 0?b:void 0,T=(k=r.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:D,emailVerified:O,isAnonymous:V,providerData:U,stsTokenManager:q}=r;Se(D&&q,e,"internal-error");const te=bg.fromJSON(this.name,q);Se(typeof D=="string",e,"internal-error"),kc(v,e.name),kc(_,e.name),Se(typeof O=="boolean",e,"internal-error"),Se(typeof V=="boolean",e,"internal-error"),kc(A,e.name),kc(E,e.name),kc(I,e.name),kc(L,e.name),kc(N,e.name),kc(T,e.name);const ce=new Lu({uid:D,auth:e,email:_,emailVerified:O,displayName:v,isAnonymous:V,photoURL:E,phoneNumber:A,tenantId:I,stsTokenManager:te,createdAt:N,lastLoginAt:T});return U&&Array.isArray(U)&&(ce.providerData=U.map(fe=>Object.assign({},fe))),L&&(ce._redirectEventId=L),ce}static async _fromIdTokenResponse(e,r,o=!1){const a=new bg;a.updateFromServerResponse(r);const u=new Lu({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await gg(u),u}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}n8.type="NONE";const nf=n8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e,r){return`firebase:${t}:${e}:${r}`}class Bh{constructor(e,r,o){this.persistence=e,this.auth=r,this.userKey=o;const{config:a,name:u}=this.auth;this.fullUserKey=Bu(this.userKey,a.apiKey,u),this.fullPersistenceKey=Bu("persistence",a.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,o="authUser"){if(!r.length)return new Bh(ho(nf),e,o);const a=(await Promise.all(r.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let u=a[0]||ho(nf);const h=Bu(o,e.config.apiKey,e.name);let p=null;for(const b of r)try{const k=await b._get(h);if(k){const v=Lu._fromJSON(e,k);b!==u&&(p=v),u=b;break}}catch{}const m=a.filter(b=>b._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Bh(u,e,o):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(r.map(async b=>{if(b!==u)try{await b._remove(h)}catch{}})),new Bh(u,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s8(e))return"Blackberry";if(a8(e))return"Webos";if(NP(e))return"Safari";if((e.includes("chrome/")||i8(e))&&!e.includes("edge/"))return"Chrome";if(ob(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=t.match(r);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function r8(t=qn()){return/firefox\//i.test(t)}function NP(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i8(t=qn()){return/crios\//i.test(t)}function o8(t=qn()){return/iemobile/i.test(t)}function ob(t=qn()){return/android/i.test(t)}function s8(t=qn()){return/blackberry/i.test(t)}function a8(t=qn()){return/webos/i.test(t)}function Tf(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z_e(t=qn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function F_e(t=qn()){var e;return Tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j_e(){return LH()&&document.documentMode===10}function c8(t=qn()){return Tf(t)||ob(t)||a8(t)||s8(t)||/windows phone/i.test(t)||o8(t)}function V_e(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e=[]){let r;switch(t){case"Browser":r=R3(qn());break;case"Worker":r=`${R3(qn())}-${t}`;break;default:r=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${kl}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const o=u=>new Promise((h,p)=>{try{const m=e(u);h(m)}catch(m){p(m)}});o.onAbort=r,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const o of this.queue)await o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_e{constructor(e,r,o){this.app=e,this.heartbeatServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O3(this),this.idTokenSubscription=new O3(this),this.beforeStateQueue=new U_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QH,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ho(r)),this._initializationPromise=this.queue(async()=>{var o,a;if(!this._deleted&&(this.persistenceManager=await Bh.create(this,e),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var r;const o=await this.assertedPersistence.getCurrentUser();let a=o,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,p=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===p)&&(m!=null&&m.user)&&(a=m.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await gg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?Ze(e):null;return r&&Se(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ho(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,r,o){return this.registerStateListener(this.authStateSubscription,e,r,o)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,o){return this.registerStateListener(this.idTokenSubscription,e,r,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const o=await this.getOrInitRedirectPersistenceManager(r);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ho(e)||this._popupRedirectResolver;Se(r,this,"argument-error"),this.redirectPersistenceManager=await Bh.create(this,[ho(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,o;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,o,a){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r),h=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(h,this,"internal-error"),h.then(()=>u(this.currentUser)),typeof r=="function"?e.addObserver(r,o,a):e.addObserver(r)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return o&&(r["X-Firebase-Client"]=o),r}}function Br(t){return Ze(t)}class O3{constructor(e){this.auth=e,this.observer=null,this.addObserver=BH(r=>this.observer=r)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function H_e(t,e,r){const o=Br(t);Se(o._canInitEmulator,o,"emulator-config-failed"),Se(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!!(r!=null&&r.disableWarnings),u=u8(e),{host:h,port:p}=q_e(e),m=p===null?"":`:${p}`;o.config.emulator={url:`${u}//${h}${m}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||W_e()}function u8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q_e(t){const e=u8(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const o=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const u=a[1];return{host:u,port:L3(o.substr(u.length+1))}}else{const[u,h]=o.split(":");return{host:u,port:L3(h)}}}function L3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W_e(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,r){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(t,e){return jr(t,"POST","/v1/accounts:resetPassword",Ar(t,e))}async function h8(t,e){return jr(t,"POST","/v1/accounts:update",e)}async function G_e(t,e){return jr(t,"POST","/v1/accounts:update",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_e(t,e){return Ya(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))}async function Q_(t,e){return jr(t,"POST","/v1/accounts:sendOobCode",Ar(t,e))}async function Y_e(t,e){return Q_(t,e)}async function Q_e(t,e){return Q_(t,e)}async function Z_e(t,e){return Q_(t,e)}async function J_e(t,e){return Q_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_e(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}async function e0e(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends If{constructor(e,r,o,a=null){super("password",o),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new wg(e,r,"password")}static _fromEmailAndCode(e,r,o=null){return new wg(e,r,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return K_e(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return X_e(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":return h8(e,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return e0e(e,{idToken:r,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Ya(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0e="http://localhost";class ea extends If{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ii("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=r,u=IP(r,["providerId","signInMethod"]);if(!o||!a)return null;const h=new ea(o,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const r=this.buildRequest();return Da(e,r)}_linkToIdToken(e,r){const o=this.buildRequest();return o.idToken=r,Da(e,o)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Da(e,r)}buildRequest(){const e={requestUri:t0e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=xf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0e(t,e){return jr(t,"POST","/v1/accounts:sendVerificationCode",Ar(t,e))}async function r0e(t,e){return Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,e))}async function i0e(t,e){const r=await Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,e));if(r.temporaryProof)throw lm(t,"account-exists-with-different-credential",r);return r}const o0e={USER_NOT_FOUND:"user-not-found"};async function s0e(t,e){const r=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,r),o0e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends If{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new zu({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new zu({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return r0e(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return i0e(e,Object.assign({idToken:r},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return s0e(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:o,verificationCode:a}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:o,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:o,phoneNumber:a,temporaryProof:u}=e;return!o&&!r&&!a&&!u?null:new zu({verificationId:r,verificationCode:o,phoneNumber:a,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c0e(t){const e=yh(cm(t)).link,r=e?yh(cm(e)).deep_link_id:null,o=yh(cm(t)).deep_link_id;return(o?yh(cm(o)).link:null)||o||r||e||t}class Z_{constructor(e){var r,o,a,u,h,p;const m=yh(cm(e)),b=(r=m.apiKey)!==null&&r!==void 0?r:null,k=(o=m.oobCode)!==null&&o!==void 0?o:null,v=a0e((a=m.mode)!==null&&a!==void 0?a:null);Se(b&&k&&v,"argument-error"),this.apiKey=b,this.operation=v,this.code=k,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const r=c0e(e);try{return new Z_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,r){return wg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const o=Z_.parseLink(r);return Se(o,"argument-error"),wg._fromEmailAndCode(e,o.code,o.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Qa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zh extends Df{static credentialFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return Se("providerId"in r&&"signInMethod"in r,"argument-error"),ea._fromParams(r)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Se(e.idToken||e.accessToken,"argument-error"),ea._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return zh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return zh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:u,nonce:h,providerId:p}=e;if(!o&&!a&&!r&&!u||!p)return null;try{return new zh(p)._credential({idToken:r,accessToken:o,nonce:h,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Df{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ea._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:o}=e;if(!r&&!o)return null;try{return Ls.credential(r,o)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Df{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0e="http://localhost";class rf extends If{constructor(e,r){super(e,e),this.pendingToken=r}_getIdTokenResponse(e){const r=this.buildRequest();return Da(e,r)}_linkToIdToken(e,r){const o=this.buildRequest();return o.idToken=r,Da(e,o)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Da(e,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a,pendingToken:u}=r;return!o||!a||!u||o!==a?null:new rf(o,u)}static _create(e,r){return new rf(e,r)}buildRequest(){return{requestUri:l0e,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0e="saml.";class ly extends Qa{constructor(e){Se(e.startsWith(u0e),"argument-error"),super(e)}static credentialFromResult(e){return ly.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ly.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const r=rf.fromJSON(e);return Se(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:r,providerId:o}=e;if(!r||!o)return null;try{return rf._create(o,r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Df{constructor(){super("twitter.com")}static credential(e,r){return ea._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=e;if(!r||!o)return null;try{return zs.credential(r,o)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){return Ya(t,"POST","/v1/accounts:signUp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,o,a=!1){const u=await Lu._fromIdTokenResponse(e,o,a),h=B3(o);return new $o({user:u,providerId:h,_tokenResponse:o,operationType:r})}static async _forOperation(e,r,o){await e._updateTokensIfNecessary(o,!0);const a=B3(o);return new $o({user:e,providerId:a,_tokenResponse:o,operationType:r})}}function B3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0e(t){var e;const r=Br(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new $o({user:r.currentUser,providerId:null,operationType:"signIn"});const o=await f8(r,{returnSecureToken:!0}),a=await $o._fromIdTokenResponse(r,"signIn",o,!0);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends mi{constructor(e,r,o,a){var u;super(r.code,r.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,uy.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:r.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,r,o,a){return new uy(e,r,o,a)}}function p8(t,e,r,o){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uy._fromErrorAndOperation(t,u,e,o):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0e(t,e){const r=Ze(t);await J_(!0,r,e);const{providerUserInfo:o}=await T_e(r.auth,{idToken:await r.getIdToken(),deleteProvider:[e]}),a=m8(o||[]);return r.providerData=r.providerData.filter(u=>a.has(u.providerId)),a.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function RP(t,e,r=!1){const o=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return $o._forOperation(t,"link",o)}async function J_(t,e,r){await gg(e);const o=m8(e.providerData),a=t===!1?"provider-already-linked":"no-such-provider";Se(o.has(r)===t,e.auth,a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e,r=!1){const{auth:o}=t,a="reauthenticate";try{const u=await Va(t,p8(o,a,e,t),r);Se(u.idToken,o,"internal-error");const h=Y_(u.idToken);Se(h,o,"internal-error");const{sub:p}=h;return Se(t.uid===p,o,"user-mismatch"),$o._forOperation(t,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(o,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e,r=!1){const o="signIn",a=await p8(t,o,e),u=await $o._fromIdTokenResponse(t,o,a);return r||await t._updateCurrentUser(u.user),u}async function X_(t,e){return b8(Br(t),e)}async function w8(t,e){const r=Ze(t);return await J_(!1,r,e.providerId),RP(r,e)}async function k8(t,e){return g8(Ze(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0e(t,e){return Ya(t,"POST","/v1/accounts:signInWithCustomToken",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0e(t,e){const r=Br(t),o=await f0e(r,{token:e,returnSecureToken:!0}),a=await $o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?OP._fromServerResponse(e,r):ii(e,"internal-error")}}class OP extends e0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new OP(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e,r){var o;Se(((o=r.url)===null||o===void 0?void 0:o.length)>0,t,"invalid-continue-uri"),Se(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Se(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Se(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0e(t,e,r){const o=Ze(t),a={requestType:"PASSWORD_RESET",email:e};r&&t0(o,a,r),await Q_e(o,a)}async function g0e(t,e,r){await d8(Ze(t),{oobCode:e,newPassword:r})}async function b0e(t,e){await G_e(Ze(t),{oobCode:e})}async function v8(t,e){const r=Ze(t),o=await d8(r,{oobCode:e}),a=o.requestType;switch(Se(a,r,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(o.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(o.mfaInfo,r,"internal-error");default:Se(o.email,r,"internal-error")}let u=null;return o.mfaInfo&&(u=e0._fromServerResponse(Br(r),o.mfaInfo)),{data:{email:(o.requestType==="VERIFY_AND_CHANGE_EMAIL"?o.newEmail:o.email)||null,previousEmail:(o.requestType==="VERIFY_AND_CHANGE_EMAIL"?o.email:o.newEmail)||null,multiFactorInfo:u},operation:a}}async function w0e(t,e){const{data:r}=await v8(Ze(t),e);return r.email}async function k0e(t,e,r){const o=Br(t),a=await f8(o,{returnSecureToken:!0,email:e,password:r}),u=await $o._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(u.user),u}function v0e(t,e,r){return X_(Ze(t),vl.credential(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0e(t,e,r){const o=Ze(t),a={requestType:"EMAIL_SIGNIN",email:e};Se(r.handleCodeInApp,o,"argument-error"),r&&t0(o,a,r),await Z_e(o,a)}function _0e(t,e){const r=Z_.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function A0e(t,e,r){const o=Ze(t),a=vl.credentialWithLink(e,r||mg());return Se(a._tenantId===(o.tenantId||null),o,"tenant-id-mismatch"),X_(o,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0e(t,e){return jr(t,"POST","/v1/accounts:createAuthUri",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0e(t,e){const r=PP()?mg():"http://localhost",o={identifier:e,continueUri:r},{signinMethods:a}=await C0e(Ze(t),o);return a||[]}async function x0e(t,e){const r=Ze(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&t0(r.auth,a,e);const{email:u}=await Y_e(r.auth,a);u!==t.email&&await t.reload()}async function S0e(t,e,r){const o=Ze(t),u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};r&&t0(o.auth,u,r);const{email:h}=await J_e(o.auth,u);h!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0e(t,e){return jr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0e(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const o=Ze(t),u={idToken:await o.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},h=await Va(o,T0e(o.auth,u));o.displayName=h.displayName||null,o.photoURL=h.photoUrl||null;const p=o.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=o.displayName,p.photoURL=o.photoURL),await o._updateTokensIfNecessary(h)}function D0e(t,e){return y8(Ze(t),e,null)}function P0e(t,e){return y8(Ze(t),null,e)}async function y8(t,e,r){const{auth:o}=t,u={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(u.email=e),r&&(u.password=r);const h=await Va(t,h8(o,u));await t._updateTokensIfNecessary(h,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0e(t){var e,r;if(!t)return null;const{providerId:o}=t,a=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},u=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!o&&(t!=null&&t.idToken)){const h=(r=(e=Y_(t.idToken))===null||e===void 0?void 0:e.firebase)===null||r===void 0?void 0:r.sign_in_provider;if(h){const p=h!=="anonymous"&&h!=="custom"?h:null;return new Fh(u,p)}}if(!o)return null;switch(o){case"facebook.com":return new N0e(u,a);case"github.com":return new R0e(u,a);case"google.com":return new O0e(u,a);case"twitter.com":return new L0e(u,a,t.screenName||null);case"custom":case"anonymous":return new Fh(u,null);default:return new Fh(u,o,a)}}class Fh{constructor(e,r,o={}){this.isNewUser=e,this.providerId=r,this.profile=o}}class _8 extends Fh{constructor(e,r,o,a){super(e,r,o),this.username=a}}class N0e extends Fh{constructor(e,r){super(e,"facebook.com",r)}}class R0e extends _8{constructor(e,r){super(e,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)}}class O0e extends Fh{constructor(e,r){super(e,"google.com",r)}}class L0e extends _8{constructor(e,r,o){super(e,"twitter.com",r,o)}}function B0e(t){const{user:e,_tokenResponse:r}=t;return e.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:M0e(r)}class Au{constructor(e,r,o){this.type=e,this.credential=r,this.auth=o}static _fromIdtoken(e,r){return new Au("enroll",e,r)}static _fromMfaPendingCredential(e){return new Au("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var r,o;if(e!=null&&e.multiFactorSession){if(!((r=e.multiFactorSession)===null||r===void 0)&&r.pendingCredential)return Au._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((o=e.multiFactorSession)===null||o===void 0)&&o.idToken)return Au._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,r,o){this.session=e,this.hints=r,this.signInResolver=o}static _fromError(e,r){const o=Br(e),a=r.customData._serverResponse,u=(a.mfaInfo||[]).map(p=>e0._fromServerResponse(o,p));Se(a.mfaPendingCredential,o,"internal-error");const h=Au._fromMfaPendingCredential(a.mfaPendingCredential);return new LP(h,u,async p=>{const m=await p._process(o,h);delete a.mfaInfo,delete a.mfaPendingCredential;const b=Object.assign(Object.assign({},a),{idToken:m.idToken,refreshToken:m.refreshToken});switch(r.operationType){case"signIn":const k=await $o._fromIdTokenResponse(o,r.operationType,b);return await o._updateCurrentUser(k.user),k;case"reauthenticate":return Se(r.user,o,"internal-error"),$o._forOperation(r.user,r.operationType,b);default:ii(o,"internal-error")}})}async resolveSignIn(e){const r=e;return this.signInResolver(r)}}function z0e(t,e){var r;const o=Ze(t),a=e;return Se(e.customData.operationType,o,"argument-error"),Se((r=a.customData._serverResponse)===null||r===void 0?void 0:r.mfaPendingCredential,o,"argument-error"),LP._fromError(o,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0e(t,e){return jr(t,"POST","/v2/accounts/mfaEnrollment:start",Ar(t,e))}function j0e(t,e){return jr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ar(t,e))}function V0e(t,e){return jr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ar(t,e))}class BP{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(o=>e0._fromServerResponse(e.auth,o)))})}static _fromUser(e){return new BP(e)}async getSession(){return Au._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,r){const o=e,a=await this.getSession(),u=await Va(this.user,o._process(this.user.auth,a,r));return await this.user._updateTokensIfNecessary(u),this.user.reload()}async unenroll(e){const r=typeof e=="string"?e:e.uid,o=await this.user.getIdToken(),a=await Va(this.user,V0e(this.user.auth,{idToken:o,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:u})=>u!==r),await this.user._updateTokensIfNecessary(a);try{await this.user.reload()}catch(u){if((u==null?void 0:u.code)!=="auth/user-token-expired")throw u}}}const jx=new WeakMap;function U0e(t){const e=Ze(t);return jx.has(e)||jx.set(e,BP._fromUser(e)),jx.get(e)}const dy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dy,"1"),this.storage.removeItem(dy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0e(){const t=qn();return NP(t)||Tf(t)}const H0e=1e3,q0e=10;class C8 extends A8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$0e()&&V_e(),this.fallbackToPolling=c8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),a=this.localCache[r];o!==a&&e(r,a,o)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const o=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(o);if(e.newValue!==h)e.newValue!==null?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!r)return}const a=()=>{const h=this.storage.getItem(o);!r&&this.localCache[o]===h||this.notifyListeners(o,h)},u=this.storage.getItem(o);j_e()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,q0e):a()}notifyListeners(e,r){this.localCache[e]=r;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:o}),!0)})},H0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}C8.type="LOCAL";const zP=C8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8 extends A8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}E8.type="SESSION";const Qu=E8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const o=new n0(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:o,eventType:a,data:u}=r.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const p=Array.from(h).map(async b=>b(r.origin,u)),m=await W0e(p);r.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t="",e=10){let r="";for(let o=0;o<e;o++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const b=sb("",20);a.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},o);h={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===b)switch(_.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(_.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:b,data:r},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function K0e(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function Y0e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q0e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z0e(){return FP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="firebaseLocalStorageDb",J0e=1,hy="firebaseLocalStorage",S8="fbase_key";class ab{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function r0(t,e){return t.transaction([hy],e?"readwrite":"readonly").objectStore(hy)}function X0e(){const t=indexedDB.deleteDatabase(x8);return new ab(t).toPromise()}function HT(){const t=indexedDB.open(x8,J0e);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const o=t.result;try{o.createObjectStore(hy,{keyPath:S8})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const o=t.result;o.objectStoreNames.contains(hy)?e(o):(o.close(),await X0e(),e(await HT()))})})}async function z3(t,e,r){const o=r0(t,!0).put({[S8]:e,value:r});return new ab(o).toPromise()}async function eAe(t,e){const r=r0(t,!1).get(e),o=await new ab(r).toPromise();return o===void 0?null:o.value}function F3(t,e){const r=r0(t,!0).delete(e);return new ab(r).toPromise()}const tAe=800,nAe=3;class T8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(r++>nAe)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n0._getInstance(Z0e()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Y0e(),!this.activeServiceWorker)return;this.sender=new G0e(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((e=o[0])===null||e===void 0)&&e.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q0e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await HT();return await z3(e,dy,"1"),await F3(e,dy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(o=>z3(o,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(o=>eAe(o,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>F3(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=r0(a,!1).getAll();return new ab(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],o=new Set;for(const{fbase_key:a,value:u}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T8.type="LOCAL";const kg=T8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rAe(t,e){return jr(t,"POST","/v2/accounts/mfaSignIn:start",Ar(t,e))}function iAe(t,e){return jr(t,"POST","/v2/accounts/mfaSignIn:finalize",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oAe(t){return(await jr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sAe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function I8(t){return new Promise((e,r)=>{const o=document.createElement("script");o.setAttribute("src",t),o.onload=e,o.onerror=a=>{const u=ti("internal-error");u.customData=a,r(u)},o.type="text/javascript",o.charset="UTF-8",sAe().appendChild(o)})}function D8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aAe=500,cAe=6e4,Ek=1e12;class lAe{constructor(e){this.auth=e,this.counter=Ek,this._widgets=new Map}render(e,r){const o=this.counter;return this._widgets.set(o,new uAe(e,this.auth.name,r||{})),this.counter++,o}reset(e){var r;const o=e||Ek;(r=this._widgets.get(o))===null||r===void 0||r.delete(),this._widgets.delete(o)}getResponse(e){var r;const o=e||Ek;return((r=this._widgets.get(o))===null||r===void 0?void 0:r.getResponse())||""}async execute(e){var r;const o=e||Ek;return(r=this._widgets.get(o))===null||r===void 0||r.execute(),""}}class uAe{constructor(e,r,o){this.params=o,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;Se(a,"argument-error",{appName:r}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=dAe(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},cAe)},aAe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function dAe(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let o=0;o<t;o++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=D8("rcb"),hAe=new ib(3e4,6e4),fAe="https://www.google.com/recaptcha/api.js?";class pAe{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=br().grecaptcha)===null||e===void 0)&&e.render)}load(e,r=""){return Se(mAe(r),e,"argument-error"),this.shouldResolveImmediately(r)?Promise.resolve(br().grecaptcha):new Promise((o,a)=>{const u=br().setTimeout(()=>{a(ti(e,"network-request-failed"))},hAe.get());br()[Vx]=()=>{br().clearTimeout(u),delete br()[Vx];const p=br().grecaptcha;if(!p){a(ti(e,"internal-error"));return}const m=p.render;p.render=(b,k)=>{const v=m(b,k);return this.counter++,v},this.hostLanguage=r,o(p)};const h=`${fAe}?${xf({onload:Vx,render:"explicit",hl:r})}`;I8(h).catch(()=>{clearTimeout(u),a(ti(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!(!((r=br().grecaptcha)===null||r===void 0)&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function mAe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class gAe{async load(e){return new lAe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="recaptcha",bAe={theme:"light",type:"image"};let wAe=class{constructor(e,r=Object.assign({},bAe),o){this.parameters=r,this.type=P8,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Br(o),this.isInvisible=this.parameters.size==="invisible",Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof e=="string"?document.getElementById(e):e;Se(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gAe:new pAe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),o=r.getResponse(e);return o||new Promise(a=>{const u=h=>{h&&(this.tokenChangeListeners.delete(u),a(h))};this.tokenChangeListeners.add(u),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(o=>o(r)),typeof e=="function")e(r);else if(typeof e=="string"){const o=br()[e];typeof o=="function"&&o(r)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Se(PP()&&!FP(),this.auth,"internal-error"),await kAe(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await oAe(this.auth);Se(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function kAe(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=zu._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function vAe(t,e,r){const o=Br(t),a=await i0(o,e,Ze(r));return new jP(a,u=>X_(o,u))}async function yAe(t,e,r){const o=Ze(t);await J_(!1,o,"phone");const a=await i0(o.auth,e,Ze(r));return new jP(a,u=>w8(o,u))}async function _Ae(t,e,r){const o=Ze(t),a=await i0(o.auth,e,Ze(r));return new jP(a,u=>k8(o,u))}async function i0(t,e,r){var o;const a=await r.verify();try{Se(typeof a=="string",t,"argument-error"),Se(r.type===P8,t,"argument-error");let u;if(typeof e=="string"?u={phoneNumber:e}:u=e,"session"in u){const h=u.session;if("phoneNumber"in u)return Se(h.type==="enroll",t,"internal-error"),(await F0e(t,{idToken:h.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:a}})).phoneSessionInfo.sessionInfo;{Se(h.type==="signin",t,"internal-error");const p=((o=u.multiFactorHint)===null||o===void 0?void 0:o.uid)||u.multiFactorUid;return Se(p,t,"missing-multi-factor-info"),(await rAe(t,{mfaPendingCredential:h.credential,mfaEnrollmentId:p,phoneSignInInfo:{recaptchaToken:a}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:h}=await n0e(t,{phoneNumber:u.phoneNumber,recaptchaToken:a});return h}}finally{r._reset()}}async function AAe(t,e){await RP(Ze(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys=class{constructor(e){this.providerId=Ys.PROVIDER_ID,this.auth=Br(e)}verifyPhoneNumber(e,r){return i0(this.auth,e,Ze(r))}static credential(e,r){return zu._fromVerification(e,r)}static credentialFromResult(e){const r=e;return Ys.credentialFromTaggedObject(r)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:o}=e;return r&&o?zu._fromTokenResponse(r,o):null}};Ys.PROVIDER_ID="phone";Ys.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e){return e?ho(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends If{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Da(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function CAe(t){return b8(t.auth,new VP(t),t.bypassAuthState)}function EAe(t){const{auth:e,user:r}=t;return Se(r,e,"internal-error"),g8(r,new VP(t),t.bypassAuthState)}async function xAe(t){const{auth:e,user:r}=t;return Se(r,e,"internal-error"),RP(r,new VP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,r,o,a,u=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:o,postBody:a,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:r,sessionId:o,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(b){this.reject(b)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CAe;case"linkViaPopup":case"linkViaRedirect":return xAe;case"reauthViaPopup":case"reauthViaRedirect":return EAe;default:ii(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAe=new ib(2e3,1e4);async function TAe(t,e,r){const o=Br(t);Sf(t,e,Qa);const a=pd(o,r);return new Aa(o,"signInViaPopup",e,a).executeNotNull()}async function IAe(t,e,r){const o=Ze(t);Sf(o.auth,e,Qa);const a=pd(o.auth,r);return new Aa(o.auth,"reauthViaPopup",e,a,o).executeNotNull()}async function DAe(t,e,r){const o=Ze(t);Sf(o.auth,e,Qa);const a=pd(o.auth,r);return new Aa(o.auth,"linkViaPopup",e,a,o).executeNotNull()}class Aa extends M8{constructor(e,r,o,a,u){super(e,r,a,u),this.provider=o,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,o;if(!((o=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,SAe.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PAe="pendingRedirect",Sm=new Map;class MAe extends M8{constructor(e,r,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o),this.eventId=null}async execute(){let e=Sm.get(this.auth._key());if(!e){try{const o=await NAe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(r){e=()=>Promise.reject(r)}Sm.set(this.auth._key(),e)}return this.bypassAuthState||Sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NAe(t,e){const r=R8(e),o=N8(t);if(!await o._isAvailable())return!1;const a=await o._get(r)==="true";return await o._remove(r),a}async function UP(t,e){return N8(t)._set(R8(e),"true")}function RAe(){Sm.clear()}function $P(t,e){Sm.set(t._key(),e)}function N8(t){return ho(t._redirectPersistence)}function R8(t){return Bu(PAe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OAe(t,e,r){return LAe(t,e,r)}async function LAe(t,e,r){const o=Br(t);Sf(t,e,Qa),await o._initializationPromise;const a=pd(o,r);return await UP(a,o),a._openRedirect(o,e,"signInViaRedirect")}function BAe(t,e,r){return zAe(t,e,r)}async function zAe(t,e,r){const o=Ze(t);Sf(o.auth,e,Qa),await o.auth._initializationPromise;const a=pd(o.auth,r);await UP(a,o.auth);const u=await O8(o);return a._openRedirect(o.auth,e,"reauthViaRedirect",u)}function FAe(t,e,r){return jAe(t,e,r)}async function jAe(t,e,r){const o=Ze(t);Sf(o.auth,e,Qa),await o.auth._initializationPromise;const a=pd(o.auth,r);await J_(!1,o,e.providerId),await UP(a,o.auth);const u=await O8(o);return a._openRedirect(o.auth,e,"linkViaRedirect",u)}async function VAe(t,e){return await Br(t)._initializationPromise,o0(t,e,!1)}async function o0(t,e,r=!1){const o=Br(t),a=pd(o,e),h=await new MAe(o,a,r).execute();return h&&!r&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,e)),h}async function O8(t){const e=sb(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UAe=10*60*1e3;class L8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(r=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$Ae(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var o;if(e.error&&!B8(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";r.onError(ti(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const o=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UAe&&this.cachedEventUids.clear(),this.cachedEventUids.has(j3(e))}saveEventToCache(e){this.cachedEventUids.add(j3(e)),this.lastProcessedEventTime=Date.now()}}function j3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $Ae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HAe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qAe=/^https?/;async function WAe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z8(t);for(const r of e)try{if(GAe(r))return}catch{}ii(t,"unauthorized-domain")}function GAe(t){const e=mg(),{protocol:r,hostname:o}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&o===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&h.hostname===o}if(!qAe.test(r))return!1;if(HAe.test(t))return o===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KAe=new ib(3e4,6e4);function V3(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function YAe(t){return new Promise((e,r)=>{var o,a,u;function h(){V3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V3(),r(ti(t,"network-request-failed"))},timeout:KAe.get()})}if(!((a=(o=br().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=br().gapi)===null||u===void 0)&&u.load)h();else{const p=D8("iframefcb");return br()[p]=()=>{gapi.load?h():r(ti(t,"network-request-failed"))},I8(`https://apis.google.com/js/api.js?onload=${p}`).catch(m=>r(m))}}).catch(e=>{throw gv=null,e})}let gv=null;function QAe(t){return gv=gv||YAe(t),gv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZAe=new ib(5e3,15e3),JAe="__/auth/iframe",XAe="emulator/auth/iframe",eCe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tCe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nCe(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?MP(e,XAe):`https://${t.config.authDomain}/${JAe}`,o={apiKey:e.apiKey,appName:t.name,v:kl},a=tCe.get(t.config.apiHost);a&&(o.eid=a);const u=t._getFrameworks();return u.length&&(o.fw=u.join(",")),`${r}?${xf(o).slice(1)}`}async function rCe(t){const e=await QAe(t),r=br().gapi;return Se(r,t,"internal-error"),e.open({where:document.body,url:nCe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eCe,dontclear:!0},o=>new Promise(async(a,u)=>{await o.restyle({setHideOnLeave:!1});const h=ti(t,"network-request-failed"),p=br().setTimeout(()=>{u(h)},ZAe.get());function m(){br().clearTimeout(p),a(o)}o.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iCe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oCe=500,sCe=600,aCe="_blank",cCe="http://localhost";class U3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lCe(t,e,r,o=oCe,a=sCe){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let p="";const m=Object.assign(Object.assign({},iCe),{width:o.toString(),height:a.toString(),top:u,left:h}),b=qn().toLowerCase();r&&(p=i8(b)?aCe:r),r8(b)&&(e=e||cCe,m.scrollbars="yes");const k=Object.entries(m).reduce((_,[A,E])=>`${_}${A}=${E},`,"");if(F_e(b)&&p!=="_self")return uCe(e||"",p),new U3(null);const v=window.open(e||"",p,k);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new U3(v)}function uCe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dCe="__/auth/handler",hCe="emulator/auth/handler";function qT(t,e,r,o,a,u){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:o,v:kl,eventId:a};if(e instanceof Qa){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",Qve(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,b]of Object.entries(u||{}))h[m]=b}if(e instanceof Df){const m=e.getScopes().filter(b=>b!=="");m.length>0&&(h.scopes=m.join(","))}t.tenantId&&(h.tid=t.tenantId);const p=h;for(const m of Object.keys(p))p[m]===void 0&&delete p[m];return`${fCe(t)}?${xf(p).slice(1)}`}function fCe({config:t}){return t.emulator?MP(t,hCe):`https://${t.authDomain}/${dCe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="webStorageSupport";class pCe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qu,this._completeRedirectFn=o0,this._overrideRedirectResult=$P}async _openPopup(e,r,o,a){var u;ps((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=qT(e,r,o,mg(),a);return lCe(e,h,sb())}async _openRedirect(e,r,o,a){return await this._originValidation(e),K0e(qT(e,r,o,mg(),a)),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:u}=this.eventManagers[r];return a?Promise.resolve(a):(ps(u,"If manager is not set, promise should be"),u)}const o=this.initAndGetManager(e);return this.eventManagers[r]={promise:o},o.catch(()=>{delete this.eventManagers[r]}),o}async initAndGetManager(e){const r=await rCe(e),o=new L8(e);return r.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=r,o}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Ux,{type:Ux},a=>{var u;const h=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[Ux];h!==void 0&&r(!!h),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=WAe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return c8()||NP()||Tf()}}const mCe=pCe;class gCe{constructor(e){this.factorId=e}_process(e,r,o){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,o);case"signin":return this._finalizeSignIn(e,r.credential);default:return Us("unexpected MultiFactorSessionType")}}}class HP extends gCe{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new HP(e)}_finalizeEnroll(e,r,o){return j0e(e,{idToken:r,displayName:o,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return iAe(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class F8{constructor(){}static assertion(e){return HP._fromCredential(e)}}F8.FACTOR_ID="phone";var $3="@firebase/auth",H3="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bCe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(o=>{e((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wCe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function kCe(t){ja(new Uo("auth",(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:u,authDomain:h}=o.options;return((p,m)=>{Se(u&&!u.includes(":"),"invalid-api-key",{appName:p.name}),Se(!(h!=null&&h.includes(":")),"argument-error",{appName:p.name});const b={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l8(t)},k=new $_e(p,m,b);return y_e(k,r),k})(o,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,o)=>{e.getProvider("auth-internal").initialize()})),ja(new Uo("auth-internal",e=>{const r=Br(e.getProvider("auth").getImmediate());return(o=>new bCe(o))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),zo($3,H3,wCe(t)),zo($3,H3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vCe=5*60;Vve("authIdTokenMaxAge");kCe("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yCe=2e3;async function _Ce(t,e,r){var o;const{BuildInfo:a}=Zu();ps(e.sessionId,"AuthEvent did not contain a session ID");const u=await SCe(e.sessionId),h={};return Tf()?h.ibi=a.packageName:ob()?h.apn=a.packageName:ii(t,"operation-not-supported-in-this-environment"),a.displayName&&(h.appDisplayName=a.displayName),h.sessionId=u,qT(t,r,e.type,void 0,(o=e.eventId)!==null&&o!==void 0?o:void 0,h)}async function ACe(t){const{BuildInfo:e}=Zu(),r={};Tf()?r.iosBundleId=e.packageName:ob()?r.androidPackageName=e.packageName:ii(t,"operation-not-supported-in-this-environment"),await z8(t,r)}function CCe(t){const{cordova:e}=Zu();return new Promise(r=>{e.plugins.browsertab.isAvailable(o=>{let a=null;o?e.plugins.browsertab.openUrl(t):a=e.InAppBrowser.open(t,z_e()?"_blank":"_system","location=yes"),r(a)})})}async function ECe(t,e,r){const{cordova:o}=Zu();let a=()=>{};try{await new Promise((u,h)=>{let p=null;function m(){var v;u();const _=(v=o.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof _=="function"&&_(),typeof(r==null?void 0:r.close)=="function"&&r.close()}function b(){p||(p=window.setTimeout(()=>{h(ti(t,"redirect-cancelled-by-user"))},yCe))}function k(){(document==null?void 0:document.visibilityState)==="visible"&&b()}e.addPassiveListener(m),document.addEventListener("resume",b,!1),ob()&&document.addEventListener("visibilitychange",k,!1),a=()=>{e.removePassiveListener(m),document.removeEventListener("resume",b,!1),document.removeEventListener("visibilitychange",k,!1),p&&window.clearTimeout(p)}})}finally{a()}}function xCe(t){var e,r,o,a,u,h,p,m,b,k;const v=Zu();Se(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof((r=v==null?void 0:v.BuildInfo)===null||r===void 0?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se(typeof((u=(a=(o=v==null?void 0:v.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se(typeof((m=(p=(h=v==null?void 0:v.cordova)===null||h===void 0?void 0:h.plugins)===null||p===void 0?void 0:p.browsertab)===null||m===void 0?void 0:m.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se(typeof((k=(b=v==null?void 0:v.cordova)===null||b===void 0?void 0:b.InAppBrowser)===null||k===void 0?void 0:k.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function SCe(t){const e=TCe(t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")}function TCe(t){if(ps(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ICe=20;class DCe extends L8{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(r=>r(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function PCe(t,e,r=null){return{type:e,eventId:r,urlResponse:null,sessionId:RCe(),postBody:null,tenantId:t.tenantId,error:ti(t,"no-auth-event")}}function MCe(t,e){return WT()._set(GT(t),e)}async function q3(t){const e=await WT()._get(GT(t));return e&&await WT()._remove(GT(t)),e}function NCe(t,e){var r,o;const a=LCe(e);if(a.includes("/__/auth/callback")){const u=bv(a),h=u.firebaseError?OCe(decodeURIComponent(u.firebaseError)):null,p=(o=(r=h==null?void 0:h.code)===null||r===void 0?void 0:r.split("auth/"))===null||o===void 0?void 0:o[1],m=p?ti(p):null;return m?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:m,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:a,postBody:null}}return null}function RCe(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<ICe;r++){const o=Math.floor(Math.random()*e.length);t.push(e.charAt(o))}return t.join("")}function WT(){return ho(zP)}function GT(t){return Bu("authEvent",t.config.apiKey,t.name)}function OCe(t){try{return JSON.parse(t)}catch{return null}}function LCe(t){const e=bv(t),r=e.link?decodeURIComponent(e.link):void 0,o=bv(r).link,a=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return bv(a).link||a||o||r||t}function bv(t){if(!(t!=null&&t.includes("?")))return{};const[e,...r]=t.split("?");return yh(r.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BCe=500;class zCe{constructor(){this._redirectPersistence=Qu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o0,this._overrideRedirectResult=$P}async _initialize(e){const r=e._key();let o=this.eventManagers.get(r);return o||(o=new DCe(e),this.eventManagers.set(r,o),this.attachCallbackListeners(e,o)),o}_openPopup(e){ii(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,r,o,a){xCe(e);const u=await this._initialize(e);await u.initialized(),u.resetRedirect(),RAe(),await this._originValidation(e);const h=PCe(e,o,a);await MCe(e,h);const p=await _Ce(e,h,r),m=await CCe(p);return ECe(e,u,m)}_isIframeWebStorageSupported(e,r){throw new Error("Method not implemented.")}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ACe(e)),this.originValidationPromises[r]}attachCallbackListeners(e,r){const{universalLinks:o,handleOpenURL:a,BuildInfo:u}=Zu(),h=setTimeout(async()=>{await q3(e),r.onEvent(W3())},BCe),p=async k=>{clearTimeout(h);const v=await q3(e);let _=null;v&&(k!=null&&k.url)&&(_=NCe(v,k.url)),r.onEvent(_||W3())};typeof o<"u"&&typeof o.subscribe=="function"&&o.subscribe(null,p);const m=a,b=`${u.packageName.toLowerCase()}://`;Zu().handleOpenURL=async k=>{if(k.toLowerCase().startsWith(b)&&p({url:k}),typeof m=="function")try{m(k)}catch(v){console.error(v)}}}}const FCe=zCe;function W3(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ti("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jCe(t,e){Br(t)._logFramework(e)}var VCe="@firebase/auth-compat",UCe="0.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ce=1e3;function Tm(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function HCe(){return Tm()==="http:"||Tm()==="https:"}function j8(t=qn()){return!!((Tm()==="file:"||Tm()==="ionic:"||Tm()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function qCe(){return EP()||G_()}function WCe(){return LH()&&(document==null?void 0:document.documentMode)===11}function GCe(t=qn()){return/Edge\/\d+/.test(t)}function KCe(t=qn()){return WCe()||GCe(t)}function V8(){try{const t=self.localStorage,e=sb();if(t)return t.setItem(e,"1"),t.removeItem(e),KCe()?hg():!0}catch{return qP()&&hg()}return!1}function qP(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $x(){return(HCe()||OH()||j8())&&!qCe()&&V8()&&!qP()}function U8(){return j8()&&typeof document<"u"}async function YCe(){return U8()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},$Ce);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function QCe(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo={LOCAL:"local",NONE:"none",SESSION:"session"},Up=Se,$8="persistence";function ZCe(t,e){if(Up(Object.values(lo).includes(e),t,"invalid-persistence-type"),EP()){Up(e!==lo.SESSION,t,"unsupported-persistence-type");return}if(G_()){Up(e===lo.NONE,t,"unsupported-persistence-type");return}if(qP()){Up(e===lo.NONE||e===lo.LOCAL&&hg(),t,"unsupported-persistence-type");return}Up(e===lo.NONE||V8(),t,"unsupported-persistence-type")}async function KT(t){await t._initializationPromise;const e=H8(),r=Bu($8,t.config.apiKey,t.name);e&&e.setItem(r,t._getPersistence())}function JCe(t,e){const r=H8();if(!r)return[];const o=Bu($8,t,e);switch(r.getItem(o)){case lo.NONE:return[nf];case lo.LOCAL:return[kg,Qu];case lo.SESSION:return[Qu];default:return[]}}function H8(){var t;try{return((t=QCe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XCe=Se;class Oc{constructor(){this.browserResolver=ho(mCe),this.cordovaResolver=ho(FCe),this.underlyingResolver=null,this._redirectPersistence=Qu,this._completeRedirectFn=o0,this._overrideRedirectResult=$P}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,r,o,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,r,o,a)}async _openRedirect(e,r,o,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,r,o,a)}_isIframeWebStorageSupported(e,r){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,r)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return U8()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return XCe(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await YCe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){return t.unwrap()}function e1e(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1e(t){return W8(t)}function n1e(t,e){var r;const o=(r=e.customData)===null||r===void 0?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const a=e;a.resolver=new r1e(t,z0e(t,e))}else if(o){const a=W8(e),u=e;a&&(u.credential=a,u.tenantId=o.tenantId||void 0,u.email=o.email||void 0,u.phoneNumber=o.phoneNumber||void 0)}}function W8(t){const{_tokenResponse:e}=t instanceof mi?t.customData:t;if(!e)return null;if(!(t instanceof mi)&&"temporaryProof"in e&&"phoneNumber"in e)return Ys.credentialFromResult(t);const r=e.providerId;if(!r||r===Vp.PASSWORD)return null;let o;switch(r){case Vp.GOOGLE:o=Ls;break;case Vp.FACEBOOK:o=Os;break;case Vp.GITHUB:o=Bs;break;case Vp.TWITTER:o=zs;break;default:const{oauthIdToken:a,oauthAccessToken:u,oauthTokenSecret:h,pendingToken:p,nonce:m}=e;return!u&&!h&&!a&&!p?null:p?r.startsWith("saml.")?rf._create(r,p):ea._fromParams({providerId:r,signInMethod:r,pendingToken:p,idToken:a,accessToken:u}):new zh(r).credential({idToken:a,accessToken:u,rawNonce:m})}return t instanceof mi?o.credentialFromError(t):o.credentialFromResult(t)}function Hi(t,e){return e.catch(r=>{throw r instanceof mi&&n1e(t,r),r}).then(r=>{const o=r.operationType,a=r.user;return{operationType:o,credential:t1e(r),additionalUserInfo:B0e(r),user:Ca.getOrCreate(a)}})}async function YT(t,e){const r=await e;return{verificationId:r.verificationId,confirm:o=>Hi(t,r.confirm(o))}}class r1e{constructor(e,r){this.resolver=r,this.auth=e1e(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hi(q8(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._delegate=e,this.multiFactor=U0e(e)}static getOrCreate(e){return Ca.USER_MAP.has(e)||Ca.USER_MAP.set(e,new Ca(e)),Ca.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hi(this.auth,w8(this._delegate,e))}async linkWithPhoneNumber(e,r){return YT(this.auth,yAe(this._delegate,e,r))}async linkWithPopup(e){return Hi(this.auth,DAe(this._delegate,e,Oc))}async linkWithRedirect(e){return await KT(Br(this.auth)),FAe(this._delegate,e,Oc)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hi(this.auth,k8(this._delegate,e))}reauthenticateWithPhoneNumber(e,r){return YT(this.auth,_Ae(this._delegate,e,r))}reauthenticateWithPopup(e){return Hi(this.auth,IAe(this._delegate,e,Oc))}async reauthenticateWithRedirect(e){return await KT(Br(this.auth)),BAe(this._delegate,e,Oc)}sendEmailVerification(e){return x0e(this._delegate,e)}async unlink(e){return await h0e(this._delegate,e),this}updateEmail(e){return D0e(this._delegate,e)}updatePassword(e){return P0e(this._delegate,e)}updatePhoneNumber(e){return AAe(this._delegate,e)}updateProfile(e){return I0e(this._delegate,e)}verifyBeforeUpdateEmail(e,r){return S0e(this._delegate,e,r)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=Se;class QT{constructor(e,r){if(this.app=e,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:o}=e.options;$p(o,"invalid-api-key",{appName:e.name}),$p(o,"invalid-api-key",{appName:e.name});const a=typeof window<"u"?Oc:void 0;this._delegate=r.initialize({options:{persistence:i1e(o,e.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(k_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,r){H_e(this._delegate,e,r)}applyActionCode(e){return b0e(this._delegate,e)}checkActionCode(e){return v8(this._delegate,e)}confirmPasswordReset(e,r){return g0e(this._delegate,e,r)}async createUserWithEmailAndPassword(e,r){return Hi(this._delegate,k0e(this._delegate,e,r))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return E0e(this._delegate,e)}isSignInWithEmailLink(e){return _0e(this._delegate,e)}async getRedirectResult(){$p($x(),this._delegate,"operation-not-supported-in-this-environment");const e=await VAe(this._delegate,Oc);return e?Hi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){jCe(this._delegate,e)}onAuthStateChanged(e,r,o){const{next:a,error:u,complete:h}=G3(e,r,o);return this._delegate.onAuthStateChanged(a,u,h)}onIdTokenChanged(e,r,o){const{next:a,error:u,complete:h}=G3(e,r,o);return this._delegate.onIdTokenChanged(a,u,h)}sendSignInLinkToEmail(e,r){return y0e(this._delegate,e,r)}sendPasswordResetEmail(e,r){return m0e(this._delegate,e,r||void 0)}async setPersistence(e){ZCe(this._delegate,e);let r;switch(e){case lo.SESSION:r=Qu;break;case lo.LOCAL:r=await ho(kg)._isAvailable()?kg:zP;break;case lo.NONE:r=nf;break;default:return ii("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hi(this._delegate,d0e(this._delegate))}signInWithCredential(e){return Hi(this._delegate,X_(this._delegate,e))}signInWithCustomToken(e){return Hi(this._delegate,p0e(this._delegate,e))}signInWithEmailAndPassword(e,r){return Hi(this._delegate,v0e(this._delegate,e,r))}signInWithEmailLink(e,r){return Hi(this._delegate,A0e(this._delegate,e,r))}signInWithPhoneNumber(e,r){return YT(this._delegate,vAe(this._delegate,e,r))}async signInWithPopup(e){return $p($x(),this._delegate,"operation-not-supported-in-this-environment"),Hi(this._delegate,TAe(this._delegate,e,Oc))}async signInWithRedirect(e){return $p($x(),this._delegate,"operation-not-supported-in-this-environment"),await KT(this._delegate),OAe(this._delegate,e,Oc)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return w0e(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}QT.Persistence=lo;function G3(t,e,r){let o=t;typeof t!="function"&&({next:o,error:e,complete:r}=t);const a=o;return{next:h=>a(h&&Ca.getOrCreate(h)),error:e,complete:r}}function i1e(t,e){const r=JCe(t,e);if(typeof self<"u"&&!r.includes(kg)&&r.push(kg),typeof window<"u")for(const o of[zP,Qu])r.includes(o)||r.push(o);return r.includes(nf)||r.push(nf),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.providerId="phone",this._delegate=new Ys(q8(gs.auth()))}static credential(e,r){return Ys.credential(e,r)}verifyPhoneNumber(e,r){return this._delegate.verifyPhoneNumber(e,r)}unwrap(){return this._delegate}}WP.PHONE_SIGN_IN_METHOD=Ys.PHONE_SIGN_IN_METHOD;WP.PROVIDER_ID=Ys.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1e=Se;class s1e{constructor(e,r,o=gs.app()){var a;o1e((a=o.options)===null||a===void 0?void 0:a.apiKey,"invalid-api-key",{appName:o.name}),this._delegate=new wAe(e,r,o.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1e="auth-compat";function c1e(t){t.INTERNAL.registerComponent(new Uo(a1e,e=>{const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("auth");return new QT(r,o)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xd.EMAIL_SIGNIN,PASSWORD_RESET:Xd.PASSWORD_RESET,RECOVER_EMAIL:Xd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Xd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Xd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Xd.VERIFY_EMAIL}},EmailAuthProvider:vl,FacebookAuthProvider:Os,GithubAuthProvider:Bs,GoogleAuthProvider:Ls,OAuthProvider:zh,SAMLAuthProvider:ly,PhoneAuthProvider:WP,PhoneMultiFactorGenerator:F8,RecaptchaVerifier:s1e,TwitterAuthProvider:zs,Auth:QT,AuthCredential:If,Error:mi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(VCe,UCe)}c1e(gs);var l1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tt,GP=GP||{},bt=l1e||self;function fy(){}function s0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cb(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function u1e(t){return Object.prototype.hasOwnProperty.call(t,Hx)&&t[Hx]||(t[Hx]=++d1e)}var Hx="closure_uid_"+(1e9*Math.random()>>>0),d1e=0;function h1e(t,e,r){return t.call.apply(t.bind,arguments)}function f1e(t,e,r){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function gi(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gi=h1e:gi=f1e,gi.apply(null,arguments)}function xk(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function si(t,e){function r(){}r.prototype=e.prototype,t.X=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Wb=function(o,a,u){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[a].apply(o,h)}}function yl(){this.s=this.s,this.o=this.o}var p1e=0;yl.prototype.s=!1;yl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),p1e!=0)&&u1e(this)};yl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const G8=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function KP(t){const e=t.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=t[o];return r}return[]}function K3(t,e){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(s0(o)){const a=t.length||0,u=o.length||0;t.length=a+u;for(let h=0;h<u;h++)t[a+h]=o[h]}else t.push(o)}}function bi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bi.prototype.h=function(){this.defaultPrevented=!0};var m1e=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bt.addEventListener("test",fy,e),bt.removeEventListener("test",fy,e)}catch{}return t}();function py(t){return/^[\s\xa0]*$/.test(t)}var Y3=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qx(t,e){return t<e?-1:t>e?1:0}function a0(){var t=bt.navigator;return t&&(t=t.userAgent)?t:""}function Fs(t){return a0().indexOf(t)!=-1}function YP(t){return YP[" "](t),t}YP[" "]=fy;function g1e(t){var e=k1e;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var b1e=Fs("Opera"),of=Fs("Trident")||Fs("MSIE"),K8=Fs("Edge"),ZT=K8||of,Y8=Fs("Gecko")&&!(a0().toLowerCase().indexOf("webkit")!=-1&&!Fs("Edge"))&&!(Fs("Trident")||Fs("MSIE"))&&!Fs("Edge"),w1e=a0().toLowerCase().indexOf("webkit")!=-1&&!Fs("Edge");function Q8(){var t=bt.document;return t?t.documentMode:void 0}var my;e:{var Wx="",Gx=function(){var t=a0();if(Y8)return/rv:([^\);]+)(\)|;)/.exec(t);if(K8)return/Edge\/([\d\.]+)/.exec(t);if(of)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(w1e)return/WebKit\/(\S+)/.exec(t);if(b1e)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Gx&&(Wx=Gx?Gx[1]:""),of){var Kx=Q8();if(Kx!=null&&Kx>parseFloat(Wx)){my=String(Kx);break e}}my=Wx}var k1e={};function v1e(){return g1e(function(){let t=0;const e=Y3(String(my)).split("."),r=Y3("9").split("."),o=Math.max(e.length,r.length);for(let h=0;t==0&&h<o;h++){var a=e[h]||"",u=r[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a[0].length==0&&u[0].length==0)break;t=qx(a[1].length==0?0:parseInt(a[1],10),u[1].length==0?0:parseInt(u[1],10))||qx(a[2].length==0,u[2].length==0)||qx(a[2],u[2]),a=a[3],u=u[3]}while(t==0)}return 0<=t})}var JT;if(bt.document&&of){var Q3=Q8();JT=Q3||parseInt(my,10)||void 0}else JT=void 0;var y1e=JT;function vg(t,e){if(bi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y8){e:{try{YP(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_1e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vg.X.h.call(this)}}si(vg,bi);var _1e={2:"touch",3:"pen",4:"mouse"};vg.prototype.h=function(){vg.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lb="closure_listenable_"+(1e6*Math.random()|0),A1e=0;function C1e(t,e,r,o,a){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ha=a,this.key=++A1e,this.ba=this.ea=!1}function c0(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function QP(t,e,r){for(const o in t)e.call(r,t[o],o,t)}function Z8(t){const e={};for(const r in t)e[r]=t[r];return e}const Z3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J8(t,e){let r,o;for(let a=1;a<arguments.length;a++){o=arguments[a];for(r in o)t[r]=o[r];for(let u=0;u<Z3.length;u++)r=Z3[u],Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}}function l0(t){this.src=t,this.g={},this.h=0}l0.prototype.add=function(t,e,r,o,a){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var h=eI(t,e,o,a);return-1<h?(e=t[h],r||(e.ea=!1)):(e=new C1e(e,this.src,u,!!o,a),e.ea=r,t.push(e)),e};function XT(t,e){var r=e.type;if(r in t.g){var o=t.g[r],a=G8(o,e),u;(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(c0(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function eI(t,e,r,o){for(var a=0;a<t.length;++a){var u=t[a];if(!u.ba&&u.listener==e&&u.capture==!!r&&u.ha==o)return a}return-1}var ZP="closure_lm_"+(1e6*Math.random()|0),Yx={};function X8(t,e,r,o,a){if(o&&o.once)return t9(t,e,r,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)X8(t,e[u],r,o,a);return null}return r=eM(r),t&&t[lb]?t.N(e,r,cb(o)?!!o.capture:!!o,a):e9(t,e,r,!1,o,a)}function e9(t,e,r,o,a,u){if(!e)throw Error("Invalid event type");var h=cb(a)?!!a.capture:!!a,p=XP(t);if(p||(t[ZP]=p=new l0(t)),r=p.add(e,r,o,h,u),r.proxy)return r;if(o=E1e(),r.proxy=o,o.src=t,o.listener=r,t.addEventListener)m1e||(a=h),a===void 0&&(a=!1),t.addEventListener(e.toString(),o,a);else if(t.attachEvent)t.attachEvent(r9(e.toString()),o);else if(t.addListener&&t.removeListener)t.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function E1e(){function t(r){return e.call(t.src,t.listener,r)}const e=x1e;return t}function t9(t,e,r,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)t9(t,e[u],r,o,a);return null}return r=eM(r),t&&t[lb]?t.O(e,r,cb(o)?!!o.capture:!!o,a):e9(t,e,r,!0,o,a)}function n9(t,e,r,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)n9(t,e[u],r,o,a);else o=cb(o)?!!o.capture:!!o,r=eM(r),t&&t[lb]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],r=eI(u,r,o,a),-1<r&&(c0(u[r]),Array.prototype.splice.call(u,r,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=XP(t))&&(e=t.g[e.toString()],t=-1,e&&(t=eI(e,r,o,a)),(r=-1<t?e[t]:null)&&JP(r))}function JP(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[lb])XT(e.i,t);else{var r=t.type,o=t.proxy;e.removeEventListener?e.removeEventListener(r,o,t.capture):e.detachEvent?e.detachEvent(r9(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=XP(e))?(XT(r,t),r.h==0&&(r.src=null,e[ZP]=null)):c0(t)}}}function r9(t){return t in Yx?Yx[t]:Yx[t]="on"+t}function x1e(t,e){if(t.ba)t=!0;else{e=new vg(e,this);var r=t.listener,o=t.ha||t.src;t.ea&&JP(t),t=r.call(o,e)}return t}function XP(t){return t=t[ZP],t instanceof l0?t:null}var Qx="__closure_events_fn_"+(1e9*Math.random()>>>0);function eM(t){return typeof t=="function"?t:(t[Qx]||(t[Qx]=function(e){return t.handleEvent(e)}),t[Qx])}function zr(){yl.call(this),this.i=new l0(this),this.P=this,this.I=null}si(zr,yl);zr.prototype[lb]=!0;zr.prototype.removeEventListener=function(t,e,r,o){n9(this,t,e,r,o)};function ni(t,e){var r,o=t.I;if(o)for(r=[];o;o=o.I)r.push(o);if(t=t.P,o=e.type||e,typeof e=="string")e=new bi(e,t);else if(e instanceof bi)e.target=e.target||t;else{var a=e;e=new bi(o,t),J8(e,a)}if(a=!0,r)for(var u=r.length-1;0<=u;u--){var h=e.g=r[u];a=Sk(h,o,!0,e)&&a}if(h=e.g=t,a=Sk(h,o,!0,e)&&a,a=Sk(h,o,!1,e)&&a,r)for(u=0;u<r.length;u++)h=e.g=r[u],a=Sk(h,o,!1,e)&&a}zr.prototype.M=function(){if(zr.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],o=0;o<r.length;o++)c0(r[o]);delete t.g[e],t.h--}}this.I=null};zr.prototype.N=function(t,e,r,o){return this.i.add(String(t),e,!1,r,o)};zr.prototype.O=function(t,e,r,o){return this.i.add(String(t),e,!0,r,o)};function Sk(t,e,r,o){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ba&&h.capture==r){var p=h.listener,m=h.ha||h.src;h.ea&&XT(t.i,h),a=p.call(m,o)!==!1&&a}}return a&&!o.defaultPrevented}var tM=bt.JSON.stringify;function S1e(){var t=s9;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class T1e{constructor(){this.h=this.g=null}add(e,r){const o=i9.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}}var i9=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new I1e,t=>t.reset());class I1e{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function D1e(t){bt.setTimeout(()=>{throw t},0)}function o9(t,e){tI||P1e(),nI||(tI(),nI=!0),s9.add(t,e)}var tI;function P1e(){var t=bt.Promise.resolve(void 0);tI=function(){t.then(M1e)}}var nI=!1,s9=new T1e;function M1e(){for(var t;t=S1e();){try{t.h.call(t.g)}catch(r){D1e(r)}var e=i9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nI=!1}function u0(t,e){zr.call(this),this.h=t||1,this.g=e||bt,this.j=gi(this.lb,this),this.l=Date.now()}si(u0,zr);tt=u0.prototype;tt.ca=!1;tt.R=null;tt.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ni(this,"tick"),this.ca&&(nM(this),this.start()))}};tt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nM(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}tt.M=function(){u0.X.M.call(this),nM(this),delete this.g};function rM(t,e,r){if(typeof t=="function")r&&(t=gi(t,r));else if(t&&typeof t.handleEvent=="function")t=gi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:bt.setTimeout(t,e||0)}function a9(t){t.g=rM(()=>{t.g=null,t.i&&(t.i=!1,a9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class N1e extends yl{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:a9(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yg(t){yl.call(this),this.h=t,this.g={}}si(yg,yl);var J3=[];function c9(t,e,r,o){Array.isArray(r)||(r&&(J3[0]=r.toString()),r=J3);for(var a=0;a<r.length;a++){var u=X8(e,r[a],o||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function l9(t){QP(t.g,function(e,r){this.g.hasOwnProperty(r)&&JP(e)},t),t.g={}}yg.prototype.M=function(){yg.X.M.call(this),l9(this)};yg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function d0(){this.g=!0}d0.prototype.Aa=function(){this.g=!1};function R1e(t,e,r,o,a,u){t.info(function(){if(t.g)if(u)for(var h="",p=u.split("&"),m=0;m<p.length;m++){var b=p[m].split("=");if(1<b.length){var k=b[0];b=b[1];var v=k.split("_");h=2<=v.length&&v[1]=="type"?h+(k+"="+b+"&"):h+(k+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+`
`+r+`
`+h})}function O1e(t,e,r,o,a,u,h){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+`
`+r+`
`+u+" "+h})}function _h(t,e,r,o){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+B1e(t,r)+(o?" "+o:"")})}function L1e(t,e){t.info(function(){return"TIMEOUT: "+e})}d0.prototype.info=function(){};function B1e(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var o=r[t];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if(u!="noop"&&u!="stop"&&u!="close")for(var h=1;h<a.length;h++)a[h]=""}}}}return tM(r)}catch{return e}}var md={},X3=null;function h0(){return X3=X3||new zr}md.Pa="serverreachability";function u9(t){bi.call(this,md.Pa,t)}si(u9,bi);function _g(t){const e=h0();ni(e,new u9(e))}md.STAT_EVENT="statevent";function d9(t,e){bi.call(this,md.STAT_EVENT,t),this.stat=e}si(d9,bi);function Di(t){const e=h0();ni(e,new d9(e,t))}md.Qa="timingevent";function h9(t,e){bi.call(this,md.Qa,t),this.size=e}si(h9,bi);function ub(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){t()},e)}var f0={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},f9={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function iM(){}iM.prototype.h=null;function ej(t){return t.h||(t.h=t.i())}function p9(){}var db={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function oM(){bi.call(this,"d")}si(oM,bi);function sM(){bi.call(this,"c")}si(sM,bi);var rI;function p0(){}si(p0,iM);p0.prototype.g=function(){return new XMLHttpRequest};p0.prototype.i=function(){return{}};rI=new p0;function hb(t,e,r,o){this.l=t,this.j=e,this.m=r,this.U=o||1,this.S=new yg(this),this.O=z1e,t=ZT?125:void 0,this.T=new u0(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new m9}function m9(){this.i=null,this.g="",this.h=!1}var z1e=45e3,iI={},gy={};tt=hb.prototype;tt.setTimeout=function(t){this.O=t};function oI(t,e,r){t.K=1,t.v=g0(Ua(e)),t.s=r,t.P=!0,g9(t,null)}function g9(t,e){t.F=Date.now(),fb(t),t.A=Ua(t.v);var r=t.A,o=t.U;Array.isArray(o)||(o=[String(o)]),C9(r.i,"t",o),t.C=0,r=t.l.H,t.h=new m9,t.g=q9(t.l,r?e:null,!t.s),0<t.N&&(t.L=new N1e(gi(t.La,t,t.g),t.N)),c9(t.S,t.g,"readystatechange",t.ib),e=t.H?Z8(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),_g(),R1e(t.j,t.u,t.A,t.m,t.U,t.s)}tt.ib=function(t){t=t.target;const e=this.L;e&&Ea(t)==3?e.l():this.La(t)};tt.La=function(t){try{if(t==this.g)e:{const k=Ea(this.g);var e=this.g.Ea();const v=this.g.aa();if(!(3>k)&&(k!=3||ZT||this.g&&(this.h.h||this.g.fa()||ij(this.g)))){this.I||k!=4||e==7||(e==8||0>=v?_g(3):_g(2)),m0(this);var r=this.g.aa();this.Y=r;t:if(b9(this)){var o=ij(this.g);t="";var a=o.length,u=Ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cu(this),Im(this);var h="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=t,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=r==200,O1e(this.j,this.u,this.A,this.m,this.U,k,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!py(p)){var b=p;break t}}b=null}if(r=b)_h(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sI(this,r);else{this.i=!1,this.o=3,Di(12),Cu(this),Im(this);break e}}this.P?(w9(this,k,h),ZT&&this.i&&k==3&&(c9(this.S,this.T,"tick",this.hb),this.T.start())):(_h(this.j,this.m,h,null),sI(this,h)),k==4&&Cu(this),this.i&&!this.I&&(k==4?V9(this.l,this):(this.i=!1,fb(this)))}else r==400&&0<h.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),Cu(this),Im(this)}}}catch{}finally{}};function b9(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function w9(t,e,r){let o=!0,a;for(;!t.I&&t.C<r.length;)if(a=F1e(t,r),a==gy){e==4&&(t.o=4,Di(14),o=!1),_h(t.j,t.m,null,"[Incomplete Response]");break}else if(a==iI){t.o=4,Di(15),_h(t.j,t.m,r,"[Invalid Chunk]"),o=!1;break}else _h(t.j,t.m,a,null),sI(t,a);b9(t)&&a!=gy&&a!=iI&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,Di(16),o=!1),t.i=t.i&&o,o?0<r.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),fM(e),e.K=!0,Di(11))):(_h(t.j,t.m,r,"[Invalid Chunked Response]"),Cu(t),Im(t))}tt.hb=function(){if(this.g){var t=Ea(this.g),e=this.g.fa();this.C<e.length&&(m0(this),w9(this,t,e),this.i&&t!=4&&fb(this))}};function F1e(t,e){var r=t.C,o=e.indexOf(`
`,r);return o==-1?gy:(r=Number(e.substring(r,o)),isNaN(r)?iI:(o+=1,o+r>e.length?gy:(e=e.substr(o,r),t.C=o+r,e)))}tt.cancel=function(){this.I=!0,Cu(this)};function fb(t){t.V=Date.now()+t.O,k9(t,t.O)}function k9(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ub(gi(t.gb,t),e)}function m0(t){t.B&&(bt.clearTimeout(t.B),t.B=null)}tt.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(L1e(this.j,this.A),this.K!=2&&(_g(),Di(17)),Cu(this),this.o=2,Im(this)):k9(this,this.V-t)};function Im(t){t.l.G==0||t.I||V9(t.l,t)}function Cu(t){m0(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,nM(t.T),l9(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function sI(t,e){try{var r=t.l;if(r.G!=0&&(r.g==t||aI(r.h,t))){if(!t.J&&aI(r.h,t)&&r.G==3){try{var o=r.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&o.length==3){var a=o;if(a[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)ky(r),k0(r);else break e;hM(r),Di(18)}}else r.Ba=a[1],0<r.Ba-r.T&&37500>a[2]&&r.L&&r.A==0&&!r.v&&(r.v=ub(gi(r.cb,r),6e3));if(1>=S9(r.h)&&r.ja){try{r.ja()}catch{}r.ja=void 0}}else Eu(r,11)}else if((t.J||r.g==t)&&ky(r),!py(e))for(a=r.Fa.g.parse(e),e=0;e<a.length;e++){let b=a[e];if(r.T=b[0],b=b[1],r.G==2)if(b[0]=="c"){r.I=b[1],r.ka=b[2];const k=b[3];k!=null&&(r.ma=k,r.j.info("VER="+r.ma));const v=b[4];v!=null&&(r.Ca=v,r.j.info("SVER="+r.Ca));const _=b[5];_!=null&&typeof _=="number"&&0<_&&(o=1.5*_,r.J=o,r.j.info("backChannelRequestTimeoutMs_="+o)),o=r;const A=t.g;if(A){const E=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var u=o.h;u.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(aM(u,u.h),u.h=null))}if(o.D){const I=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(o.za=I,Nn(o.F,o.D,I))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-t.F,r.j.info("Handshake RTT: "+r.P+"ms")),o=r;var h=t;if(o.sa=H9(o,o.H?o.ka:null,o.V),h.J){T9(o.h,h);var p=h,m=o.J;m&&p.setTimeout(m),p.B&&(m0(p),fb(p)),o.g=h}else F9(o);0<r.i.length&&v0(r)}else b[0]!="stop"&&b[0]!="close"||Eu(r,7);else r.G==3&&(b[0]=="stop"||b[0]=="close"?b[0]=="stop"?Eu(r,7):dM(r):b[0]!="noop"&&r.l&&r.l.wa(b),r.A=0)}}_g(4)}catch{}}function j1e(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(s0(t)){for(var e=[],r=t.length,o=0;o<r;o++)e.push(t[o]);return e}e=[],r=0;for(o in t)e[r++]=t[o];return e}function V1e(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(s0(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const o in t)e[r++]=o;return e}}}function v9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(s0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=V1e(t),o=j1e(t),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],r&&r[u],t)}var y9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U1e(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var o=t[r].indexOf("="),a=null;if(0<=o){var u=t[r].substring(0,o);a=t[r].substring(o+1)}else u=t[r];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function Fu(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fu){this.h=e!==void 0?e:t.h,by(this,t.j),this.s=t.s,this.g=t.g,wy(this,t.m),this.l=t.l,e=t.i;var r=new Ag;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),tj(this,r),this.o=t.o}else t&&(r=String(t).match(y9))?(this.h=!!e,by(this,r[1]||"",!0),this.s=um(r[2]||""),this.g=um(r[3]||"",!0),wy(this,r[4]),this.l=um(r[5]||"",!0),tj(this,r[6]||"",!0),this.o=um(r[7]||"")):(this.h=!!e,this.i=new Ag(null,this.h))}Fu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dm(e,nj,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dm(e,nj,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(dm(r,r.charAt(0)=="/"?q1e:H1e,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",dm(r,G1e)),t.join("")};function Ua(t){return new Fu(t)}function by(t,e,r){t.j=r?um(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tj(t,e,r){e instanceof Ag?(t.i=e,K1e(t.i,t.h)):(r||(e=dm(e,W1e)),t.i=new Ag(e,t.h))}function Nn(t,e,r){t.i.set(e,r)}function g0(t){return Nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function um(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dm(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,$1e),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $1e(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nj=/[#\/\?@]/g,H1e=/[#\?:]/g,q1e=/[#\?]/g,W1e=/[#\?@]/g,G1e=/#/g;function Ag(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _l(t){t.g||(t.g=new Map,t.h=0,t.i&&U1e(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}tt=Ag.prototype;tt.add=function(t,e){_l(this),this.i=null,t=Pf(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function _9(t,e){_l(t),e=Pf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function A9(t,e){return _l(t),e=Pf(t,e),t.g.has(e)}tt.forEach=function(t,e){_l(this),this.g.forEach(function(r,o){r.forEach(function(a){t.call(e,a,o,this)},this)},this)};tt.oa=function(){_l(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let o=0;o<e.length;o++){const a=t[o];for(let u=0;u<a.length;u++)r.push(e[o])}return r};tt.W=function(t){_l(this);let e=[];if(typeof t=="string")A9(this,t)&&(e=e.concat(this.g.get(Pf(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};tt.set=function(t,e){return _l(this),this.i=null,t=Pf(this,t),A9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};tt.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function C9(t,e,r){_9(t,e),0<r.length&&(t.i=null,t.g.set(Pf(t,e),KP(r)),t.h+=r.length)}tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var o=e[r];const u=encodeURIComponent(String(o)),h=this.W(o);for(o=0;o<h.length;o++){var a=u;h[o]!==""&&(a+="="+encodeURIComponent(String(h[o]))),t.push(a)}}return this.i=t.join("&")};function Pf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function K1e(t,e){e&&!t.j&&(_l(t),t.i=null,t.g.forEach(function(r,o){var a=o.toLowerCase();o!=a&&(_9(this,o),C9(this,a,r))},t)),t.j=e}var Y1e=class{constructor(e,r){this.h=e,this.g=r}};function E9(t){this.l=t||Q1e,bt.PerformanceNavigationTiming?(t=bt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(bt.g&&bt.g.Ga&&bt.g.Ga()&&bt.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Q1e=10;function x9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function S9(t){return t.h?1:t.g?t.g.size:0}function aI(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function aM(t,e){t.g?t.g.add(e):t.h=e}function T9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}E9.prototype.cancel=function(){if(this.i=I9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function I9(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return KP(t.i)}function cM(){}cM.prototype.stringify=function(t){return bt.JSON.stringify(t,void 0)};cM.prototype.parse=function(t){return bt.JSON.parse(t,void 0)};function Z1e(){this.g=new cM}function J1e(t,e,r){const o=r||"";try{v9(t,function(a,u){let h=a;cb(a)&&(h=tM(a)),e.push(o+u+"="+encodeURIComponent(h))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function X1e(t,e){const r=new d0;if(bt.Image){const o=new Image;o.onload=xk(Tk,r,o,"TestLoadImage: loaded",!0,e),o.onerror=xk(Tk,r,o,"TestLoadImage: error",!1,e),o.onabort=xk(Tk,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=xk(Tk,r,o,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else e(!1)}function Tk(t,e,r,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function pb(t){this.l=t.ac||null,this.j=t.jb||!1}si(pb,iM);pb.prototype.g=function(){return new b0(this.l,this.j)};pb.prototype.i=function(t){return function(){return t}}({});function b0(t,e){zr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=lM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}si(b0,zr);var lM=0;tt=b0.prototype;tt.open=function(t,e){if(this.readyState!=lM)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cg(this)};tt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||bt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mb(this)),this.readyState=lM};tt.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cg(this)),this.g&&(this.readyState=3,Cg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D9(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function D9(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}tt.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mb(this):Cg(this),this.readyState==3&&D9(this)}};tt.Va=function(t){this.g&&(this.response=this.responseText=t,mb(this))};tt.Ua=function(t){this.g&&(this.response=t,mb(this))};tt.ga=function(){this.g&&mb(this)};function mb(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cg(t)}tt.setRequestHeader=function(t,e){this.v.append(t,e)};tt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};tt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Cg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(b0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eEe=bt.JSON.parse;function tr(t){zr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=P9,this.K=this.L=!1}si(tr,zr);var P9="",tEe=/^https?$/i,nEe=["POST","PUT"];tt=tr.prototype;tt.Ka=function(t){this.L=t};tt.da=function(t,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rI.g(),this.C=this.u?ej(this.u):ej(rI),this.g.onreadystatechange=gi(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){rj(this,u);return}if(t=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)r.set(a,o[a]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const u of o.keys())r.set(u,o.get(u));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(u=>u.toLowerCase()=="content-type"),a=bt.FormData&&t instanceof bt.FormData,!(0<=G8(nEe,e))||o||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of r)this.g.setRequestHeader(u,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{R9(this),0<this.B&&((this.K=rEe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.qa,this)):this.A=rM(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){rj(this,u)}};function rEe(t){return of&&v1e()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}tt.qa=function(){typeof GP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))};function rj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,M9(t),w0(t)}function M9(t){t.D||(t.D=!0,ni(t,"complete"),ni(t,"error"))}tt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ni(this,"complete"),ni(this,"abort"),w0(this))};tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),w0(this,!0)),tr.X.M.call(this)};tt.Ha=function(){this.s||(this.F||this.v||this.l?N9(this):this.fb())};tt.fb=function(){N9(this)};function N9(t){if(t.h&&typeof GP<"u"&&(!t.C[1]||Ea(t)!=4||t.aa()!=2)){if(t.v&&Ea(t)==4)rM(t.Ha,0,t);else if(ni(t,"readystatechange"),Ea(t)==4){t.h=!1;try{const p=t.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=p===0){var a=String(t.H).match(y9)[1]||null;if(!a&&bt.self&&bt.self.location){var u=bt.self.location.protocol;a=u.substr(0,u.length-1)}o=!tEe.test(a?a.toLowerCase():"")}r=o}if(r)ni(t,"complete"),ni(t,"success");else{t.m=6;try{var h=2<Ea(t)?t.g.statusText:""}catch{h=""}t.j=h+" ["+t.aa()+"]",M9(t)}}finally{w0(t)}}}}function w0(t,e){if(t.g){R9(t);const r=t.g,o=t.C[0]?fy:null;t.g=null,t.C=null,e||ni(t,"ready");try{r.onreadystatechange=o}catch{}}}function R9(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(bt.clearTimeout(t.A),t.A=null)}function Ea(t){return t.g?t.g.readyState:0}tt.aa=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}};tt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};tt.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eEe(e)}};function ij(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case P9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}tt.Ea=function(){return this.m};tt.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function O9(t){let e="";return QP(t,function(r,o){e+=o,e+=":",e+=r,e+=`\r
`}),e}function uM(t,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=O9(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):Nn(t,e,r))}function Hp(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function L9(t){this.Ca=0,this.i=[],this.j=new d0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Hp("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Hp("baseRetryDelayMs",5e3,t),this.bb=Hp("retryDelaySeedMs",1e4,t),this.$a=Hp("forwardChannelMaxRetries",2,t),this.ta=Hp("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new E9(t&&t.concurrentRequestLimit),this.Fa=new Z1e,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}tt=L9.prototype;tt.ma=8;tt.G=1;function dM(t){if(B9(t),t.G==3){var e=t.U++,r=Ua(t.F);Nn(r,"SID",t.I),Nn(r,"RID",e),Nn(r,"TYPE","terminate"),gb(t,r),e=new hb(t,t.j,e,void 0),e.K=2,e.v=g0(Ua(r)),r=!1,bt.navigator&&bt.navigator.sendBeacon&&(r=bt.navigator.sendBeacon(e.v.toString(),"")),!r&&bt.Image&&(new Image().src=e.v,r=!0),r||(e.g=q9(e.l,null),e.g.da(e.v)),e.F=Date.now(),fb(e)}$9(t)}function k0(t){t.g&&(fM(t),t.g.cancel(),t.g=null)}function B9(t){k0(t),t.u&&(bt.clearTimeout(t.u),t.u=null),ky(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&bt.clearTimeout(t.m),t.m=null)}function v0(t){x9(t.h)||t.m||(t.m=!0,o9(t.Ja,t),t.C=0)}function iEe(t,e){return S9(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ub(gi(t.Ja,t,e),U9(t,t.C)),t.C++,!0)}tt.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const a=new hb(this,this.j,t,void 0);let u=this.s;if(this.S&&(u?(u=Z8(u),J8(u,this.S)):u=this.S),this.o!==null||this.N||(a.H=u,u=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){t:{var o=this.i[r];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(e+=o,4096<e){e=r;break e}if(e===4096||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=z9(this,a,e),r=Ua(this.F),Nn(r,"RID",t),Nn(r,"CVER",22),this.D&&Nn(r,"X-HTTP-Session-Id",this.D),gb(this,r),u&&(this.N?e="headers="+encodeURIComponent(String(O9(u)))+"&"+e:this.o&&uM(r,this.o,u)),aM(this.h,a),this.Ya&&Nn(r,"TYPE","init"),this.O?(Nn(r,"$req",e),Nn(r,"SID","null"),a.Z=!0,oI(a,r,null)):oI(a,r,e),this.G=2}}else this.G==3&&(t?oj(this,t):this.i.length==0||x9(this.h)||oj(this))};function oj(t,e){var r;e?r=e.m:r=t.U++;const o=Ua(t.F);Nn(o,"SID",t.I),Nn(o,"RID",r),Nn(o,"AID",t.T),gb(t,o),t.o&&t.s&&uM(o,t.o,t.s),r=new hb(t,t.j,r,t.C+1),t.o===null&&(r.H=t.s),e&&(t.i=e.D.concat(t.i)),e=z9(t,r,1e3),r.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),aM(t.h,r),oI(r,o,e)}function gb(t,e){t.ia&&QP(t.ia,function(r,o){Nn(e,o,r)}),t.l&&v9({},function(r,o){Nn(e,o,r)})}function z9(t,e,r){r=Math.min(t.i.length,r);var o=t.l?gi(t.l.Ra,t.l,t):null;e:{var a=t.i;let u=-1;for(;;){const h=["count="+r];u==-1?0<r?(u=a[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let p=!0;for(let m=0;m<r;m++){let b=a[m].h;const k=a[m].g;if(b-=u,0>b)u=Math.max(0,a[m].h-100),p=!1;else try{J1e(k,h,"req"+b+"_")}catch{o&&o(k)}}if(p){o=h.join("&");break e}}}return t=t.i.splice(0,r),e.D=t,o}function F9(t){t.g||t.u||(t.Z=1,o9(t.Ia,t),t.A=0)}function hM(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ub(gi(t.Ia,t),U9(t,t.A)),t.A++,!0)}tt.Ia=function(){if(this.u=null,j9(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ub(gi(this.eb,this),t)}};tt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Di(10),k0(this),j9(this))};function fM(t){t.B!=null&&(bt.clearTimeout(t.B),t.B=null)}function j9(t){t.g=new hb(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ua(t.sa);Nn(e,"RID","rpc"),Nn(e,"SID",t.I),Nn(e,"CI",t.L?"0":"1"),Nn(e,"AID",t.T),Nn(e,"TYPE","xmlhttp"),gb(t,e),t.o&&t.s&&uM(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var r=t.g;t=t.ka,r.K=1,r.v=g0(Ua(e)),r.s=null,r.P=!0,g9(r,t)}tt.cb=function(){this.v!=null&&(this.v=null,k0(this),hM(this),Di(19))};function ky(t){t.v!=null&&(bt.clearTimeout(t.v),t.v=null)}function V9(t,e){var r=null;if(t.g==e){ky(t),fM(t),t.g=null;var o=2}else if(aI(t.h,e))r=e.D,T9(t.h,e),o=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(o==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var a=t.C;o=h0(),ni(o,new h9(o,r)),v0(t)}else F9(t);else if(a=e.o,a==3||a==0&&0<t.pa||!(o==1&&iEe(t,e)||o==2&&hM(t)))switch(r&&0<r.length&&(e=t.h,e.i=e.i.concat(r)),a){case 1:Eu(t,5);break;case 4:Eu(t,10);break;case 3:Eu(t,6);break;default:Eu(t,2)}}}function U9(t,e){let r=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(r*=2),r*e}function Eu(t,e){if(t.j.info("Error code "+e),e==2){var r=null;t.l&&(r=null);var o=gi(t.kb,t);r||(r=new Fu("//www.google.com/images/cleardot.gif"),bt.location&&bt.location.protocol=="http"||by(r,"https"),g0(r)),X1e(r.toString(),o)}else Di(2);t.G=0,t.l&&t.l.va(e),$9(t),B9(t)}tt.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Di(2)):(this.j.info("Failed to ping google.com"),Di(1))};function $9(t){if(t.G=0,t.la=[],t.l){const e=I9(t.h);(e.length!=0||t.i.length!=0)&&(K3(t.la,e),K3(t.la,t.i),t.h.i.length=0,KP(t.i),t.i.length=0),t.l.ua()}}function H9(t,e,r){var o=r instanceof Fu?Ua(r):new Fu(r,void 0);if(o.g!="")e&&(o.g=e+"."+o.g),wy(o,o.m);else{var a=bt.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new Fu(null,void 0);o&&by(u,o),e&&(u.g=e),a&&wy(u,a),r&&(u.l=r),o=u}return r=t.D,e=t.za,r&&e&&Nn(o,r,e),Nn(o,"VER",t.ma),gb(t,o),o}function q9(t,e,r){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Da&&!t.ra?new tr(new pb({jb:!0})):new tr(t.ra),e.Ka(t.H),e}function W9(){}tt=W9.prototype;tt.xa=function(){};tt.wa=function(){};tt.va=function(){};tt.ua=function(){};tt.Ra=function(){};function vy(){if(of&&!(10<=Number(y1e)))throw Error("Environmental error: no available transport.")}vy.prototype.g=function(t,e){return new mo(t,e)};function mo(t,e){zr.call(this),this.g=new L9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!py(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!py(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mf(this)}si(mo,zr);mo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,r=this.h||void 0;Di(0),t.V=e,t.ia=r||{},t.L=t.Y,t.F=H9(t,null,t.V),v0(t)};mo.prototype.close=function(){dM(this.g)};mo.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=tM(t),t=r);e.i.push(new Y1e(e.ab++,t)),e.G==3&&v0(e)};mo.prototype.M=function(){this.g.l=null,delete this.j,dM(this.g),delete this.g,mo.X.M.call(this)};function G9(t){oM.call(this);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}si(G9,oM);function K9(){sM.call(this),this.status=1}si(K9,sM);function Mf(t){this.g=t}si(Mf,W9);Mf.prototype.xa=function(){ni(this.g,"a")};Mf.prototype.wa=function(t){ni(this.g,new G9(t))};Mf.prototype.va=function(t){ni(this.g,new K9)};Mf.prototype.ua=function(){ni(this.g,"b")};vy.prototype.createWebChannel=vy.prototype.g;mo.prototype.send=mo.prototype.u;mo.prototype.open=mo.prototype.m;mo.prototype.close=mo.prototype.close;f0.NO_ERROR=0;f0.TIMEOUT=8;f0.HTTP_ERROR=6;f9.COMPLETE="complete";p9.EventType=db;db.OPEN="a";db.CLOSE="b";db.ERROR="c";db.MESSAGE="d";zr.prototype.listen=zr.prototype.N;tr.prototype.listenOnce=tr.prototype.O;tr.prototype.getLastError=tr.prototype.Oa;tr.prototype.getLastErrorCode=tr.prototype.Ea;tr.prototype.getStatus=tr.prototype.aa;tr.prototype.getResponseJson=tr.prototype.Sa;tr.prototype.getResponseText=tr.prototype.fa;tr.prototype.send=tr.prototype.da;tr.prototype.setWithCredentials=tr.prototype.Ka;var oEe=function(){return new vy},sEe=function(){return h0()},Zx=f0,aEe=f9,cEe=md,sj={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},lEe=pb,Ik=p9,uEe=tr;const aj="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new K_("@firebase/firestore");function cI(){return nl.logLevel}function dEe(t){nl.setLogLevel(t)}function ye(t,...e){if(nl.logLevel<=jt.DEBUG){const r=e.map(pM);nl.debug(`Firestore (${Nf}): ${t}`,...r)}}function sr(t,...e){if(nl.logLevel<=jt.ERROR){const r=e.map(pM);nl.error(`Firestore (${Nf}): ${t}`,...r)}}function sf(t,...e){if(nl.logLevel<=jt.WARN){const r=e.map(pM);nl.warn(`Firestore (${Nf}): ${t}`,...r)}}function pM(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${Nf}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function rt(t,e){t||qe()}function hEe(t,e){t||qe()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends mi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Rr.UNAUTHENTICATED))}shutdown(){}}class pEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mEe{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let o=this.i;const a=m=>this.i!==o?(o=this.i,r(m)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},p=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(rt(typeof o.accessToken=="string"),new Y9(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new Rr(e)}}class gEe{constructor(e,r,o,a){this.h=e,this.l=r,this.m=o,this.g=a,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(rt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class bEe{constructor(e,r,o,a){this.h=e,this.l=r,this.m=o,this.g=a}getToken(){return Promise.resolve(new gEe(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wEe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kEe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const o=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.A;return this.A=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?a(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(rt(typeof r.token=="string"),this.A=r.token,new wEe(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<t;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=vEe(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<r&&(o+=e.charAt(a[u]%e.length))}return o}}function yt(t,e){return t<e?-1:t>e?1:0}function af(t,e,r){return t.length===e.length&&t.every((o,a)=>r(o,e[a]))}function Z9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ke(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ke(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ke(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new On(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new On(0,0))}static max(){return new ot(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,r,o){r===void 0?r=0:r>e.length&&qe(),o===void 0?o=e.length-r:o>e.length-r&&qe(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Eg.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Eg?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let a=0;a<o;a++){const u=e.get(a),h=r.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Bt extends Eg{construct(e,r,o){return new Bt(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ke(ie.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Bt(r)}static emptyPath(){return new Bt([])}}const yEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Eg{construct(e,r,o){return new ar(e,r,o)}static isValidIdentifier(e){return yEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const r=[];let o="",a=0;const u=()=>{if(o.length===0)throw new ke(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let h=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new ke(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ke(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=m,a+=2}else p==="`"?(h=!h,a++):p!=="."||h?(o+=p,a++):(u(),a++)}if(u(),h)throw new ke(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(r)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Bt.fromString(e))}static fromName(e){return new Ne(Bt.fromString(e).popFirst(5))}static empty(){return new Ne(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Bt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,r,o,a){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=a}}function lI(t){return t.fields.find(e=>e.kind===2)}function hu(t){return t.fields.filter(e=>e.kind!==2)}J9.UNKNOWN_ID=-1;class _Ee{constructor(e,r){this.fieldPath=e,this.kind=r}}class yy{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new yy(0,go.min())}}function X9(t,e){const r=t.toTimestamp().seconds,o=t.toTimestamp().nanoseconds+1,a=ot.fromTimestamp(o===1e9?new On(r+1,0):new On(r,o));return new go(a,Ne.empty(),e)}function eq(t){return new go(t.readTime,t.key,-1)}class go{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new go(ot.min(),Ne.empty(),-1)}static max(){return new go(ot.max(),Ne.empty(),-1)}}function mM(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ne.comparator(t.documentKey,e.documentKey),r!==0?r:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==tq)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new X((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(r,u).next(o,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof X?r:X.resolve(r)}catch(r){return X.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):X.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):X.reject(r)}static resolve(e){return new X((r,o)=>{r(e)})}static reject(e){return new X((r,o)=>{o(e)})}static waitFor(e){return new X((r,o)=>{let a=0,u=0,h=!1;e.forEach(p=>{++a,p.next(()=>{++u,h&&u===a&&r()},m=>o(m))}),h=!0,u===a&&r()})}static or(e){let r=X.resolve(!1);for(const o of e)r=r.next(a=>a?X.resolve(a):o());return r}static forEach(e,r){const o=[];return e.forEach((a,u)=>{o.push(r.call(this,a,u))}),this.waitFor(o)}static mapArray(e,r){return new X((o,a)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const b=m;r(e[b]).next(k=>{h[b]=k,++p,p===u&&o(h)},k=>a(k))}})}static doWhile(e,r){return new X((o,a)=>{const u=()=>{e()===!0?r().next(()=>{u()},a):o()};u()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.P=new Lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{r.error?this.P.reject(new Dm(e,r.error)):this.P.resolve()},this.transaction.onerror=o=>{const a=gM(o.target.error);this.P.reject(new Dm(e,a))}}static open(e,r,o,a){try{return new y0(r,e.transaction(a,o))}catch(u){throw new Dm(r,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new CEe(r)}}class ls{constructor(e,r,o){this.name=e,this.version=r,this.S=o,ls.D(qn())===12.2&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ye("SimpleDb","Removing database:",e),mu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!hg())return!1;if(ls.N())return!0;const e=qn(),r=ls.D(e),o=0<r&&r<10,a=ls.k(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,r){return e.store(r)}static D(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}async F(e){return this.db||(ye("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,o)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=u=>{const h=u.target.result;r(h)},a.onblocked=()=>{o(new Dm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;h.name==="VersionError"?o(new ke(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):h.name==="InvalidStateError"?o(new ke(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h)):o(new Dm(e,h))},a.onupgradeneeded=u=>{ye("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const h=u.target.result;this.S.$(h,a.transaction,u.oldVersion,this.version).next(()=>{ye("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=r=>this.B(r)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,o,a){const u=r==="readonly";let h=0;for(;;){++h;try{this.db=await this.F(e);const p=y0.open(this.db,e,u?"readonly":"readwrite",o),m=a(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),X.reject(b))).toPromise();return m.catch(()=>{}),await p.v,m}catch(p){const m=p,b=m.name!=="FirebaseError"&&h<3;if(ye("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),this.close(),!b)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}class AEe{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return mu(this.q.delete())}}class Dm extends ke{constructor(e,r){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Cl(t){return t.name==="IndexedDbTransactionError"}class CEe{constructor(e){this.store=e}put(e,r){let o;return r!==void 0?(ye("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),mu(o)}add(e){return ye("SimpleDb","ADD",this.store.name,e,e),mu(this.store.add(e))}get(e){return mu(this.store.get(e)).next(r=>(r===void 0&&(r=null),ye("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ye("SimpleDb","DELETE",this.store.name,e),mu(this.store.delete(e))}count(){return ye("SimpleDb","COUNT",this.store.name),mu(this.store.count())}W(e,r){const o=this.options(e,r);if(o.index||typeof this.store.getAll!="function"){const a=this.cursor(o),u=[];return this.H(a,(h,p)=>{u.push(p)}).next(()=>u)}{const a=this.store.getAll(o.range);return new X((u,h)=>{a.onerror=p=>{h(p.target.error)},a.onsuccess=p=>{u(p.target.result)}})}}J(e,r){const o=this.store.getAll(e,r===null?void 0:r);return new X((a,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{a(h.target.result)}})}Y(e,r){ye("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.X=!1;const a=this.cursor(o);return this.H(a,(u,h,p)=>p.delete())}Z(e,r){let o;r?o=e:(o={},r=e);const a=this.cursor(o);return this.H(a,r)}tt(e){const r=this.cursor({});return new X((o,a)=>{r.onerror=u=>{const h=gM(u.target.error);a(h)},r.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(p=>{p?h.continue():o()}):o()}})}H(e,r){const o=[];return new X((a,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const p=h.target.result;if(!p)return void a();const m=new AEe(p),b=r(p.primaryKey,p.value,m);if(b instanceof X){const k=b.catch(v=>(m.done(),X.reject(v)));o.push(k)}m.isDone?a():m.G===null?p.continue():p.continue(m.G)}}).next(()=>X.waitFor(o))}options(e,r){let o;return e!==void 0&&(typeof e=="string"?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function mu(t){return new X((e,r)=>{t.onsuccess=o=>{const a=o.target.result;e(a)},t.onerror=o=>{const a=gM(o.target.error);r(a)}})}let cj=!1;function gM(t){const e=ls.D(qn());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const o=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cj||(cj=!0,setTimeout(()=>{throw o},0)),o}}return t}class EEe{constructor(e,r){this.asyncQueue=e,this.et=r,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){ye("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ye("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(r){Cl(r)?ye("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):await Al(r)}await this.nt(6e4)})}}class xEe{constructor(e,r){this.localStore=e,this.persistence=r}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.it(r,e))}it(e,r){const o=new Set;let a=r,u=!0;return X.doWhile(()=>u===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(h!==null&&!o.has(h))return ye("IndexBackiller",`Processing collection: ${h}`),this.rt(e,h,a).next(p=>{a-=p,o.add(h)});u=!1})).next(()=>r-a)}rt(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(a=>this.localStore.localDocuments.getNextDocuments(e,r,a,o).next(u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ot(a,u)).next(p=>(ye("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,r,p))).next(()=>h.size)}))}ot(e,r){let o=e;return r.changes.forEach((a,u)=>{const h=eq(u);mM(h,o)>0&&(o=h)}),new go(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>r.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Yi.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SEe{constructor(e,r,o,a,u,h,p,m){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=m}}class rl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function rq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){return t==null}function xg(t){return t===0&&1/t==-1/0}function iq(t){return typeof t=="number"&&Number.isInteger(t)&&!xg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TEe(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new vr(r)}static fromUint8Array(e){const r=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new vr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const IEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(rt(!!t),typeof t=="string"){let e=0;const r=IEe.exec(t);if(rt(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Xn(t.seconds),nanos:Xn(t.nanos)}}function Xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ju(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function oq(t){const e=t.mapValue.fields.__previous_value__;return bM(e)?oq(e):e}function Sg(t){const e=il(t.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wv={nullValue:"NULL_VALUE"};function Xu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bM(t)?4:sq(t)?9007199254740991:10:qe()}function ta(t,e){if(t===e)return!0;const r=Xu(t);if(r!==Xu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sg(t).isEqual(Sg(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=il(o.timestampValue),h=il(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Ju(o.bytesValue).isEqual(Ju(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return Xn(o.geoPointValue.latitude)===Xn(a.geoPointValue.latitude)&&Xn(o.geoPointValue.longitude)===Xn(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Xn(o.integerValue)===Xn(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Xn(o.doubleValue),h=Xn(a.doubleValue);return u===h?xg(u)===xg(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return af(t.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(lj(u)!==lj(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!ta(u[p],h[p])))return!1;return!0}(t,e);default:return qe()}}function Tg(t,e){return(t.values||[]).find(r=>ta(r,e))!==void 0}function ol(t,e){if(t===e)return 0;const r=Xu(t),o=Xu(e);if(r!==o)return yt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Xn(a.integerValue||a.doubleValue),p=Xn(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(t,e);case 3:return uj(t.timestampValue,e.timestampValue);case 4:return uj(Sg(t),Sg(e));case 5:return yt(t.stringValue,e.stringValue);case 6:return function(a,u){const h=Ju(a),p=Ju(u);return h.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const b=yt(h[m],p[m]);if(b!==0)return b}return yt(h.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=yt(Xn(a.latitude),Xn(u.latitude));return h!==0?h:yt(Xn(a.longitude),Xn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,u){const h=a.values||[],p=u.values||[];for(let m=0;m<h.length&&m<p.length;++m){const b=ol(h[m],p[m]);if(b)return b}return yt(h.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===Lc.mapValue&&u===Lc.mapValue)return 0;if(a===Lc.mapValue)return 1;if(u===Lc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),m=u.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let k=0;k<p.length&&k<b.length;++k){const v=yt(p[k],b[k]);if(v!==0)return v;const _=ol(h[p[k]],m[b[k]]);if(_!==0)return _}return yt(p.length,b.length)}(t.mapValue,e.mapValue);default:throw qe()}}function uj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const r=il(t),o=il(e),a=yt(r.seconds,o.seconds);return a!==0?a:yt(r.nanos,o.nanos)}function cf(t){return uI(t)}function uI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(o){const a=il(o);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ju(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Ne.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(o){let a="[",u=!0;for(const h of o.values||[])u?u=!1:a+=",",a+=uI(h);return a+"]"}(t.arrayValue):"mapValue"in t?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",h=!0;for(const p of a)h?h=!1:u+=",",u+=`${p}:${uI(o.fields[p])}`;return u+"}"}(t.mapValue):qe();var e,r}function ed(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dI(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function dj(t){return!!t&&"nullValue"in t}function hj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kv(t){return!!t&&"mapValue"in t}function Pm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gd(t.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Pm(o)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Pm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function sq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function DEe(t){return"nullValue"in t?wv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ed(rl.empty(),Ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:qe()}function PEe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ed(rl.empty(),Ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Lc:qe()}function fj(t,e){const r=ol(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pj(t,e){const r=ol(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,r){this.position=e,this.inclusive=r}}function mj(t,e,r){let o=0;for(let a=0;a<t.position.length;a++){const u=e[a],h=t.position[a];if(u.field.isKeyField()?o=Ne.comparator(Ne.fromName(h.referenceValue),r.key):o=ol(h,r.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function gj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ta(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{}class Pt extends aq{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new MEe(e,r,o):r==="array-contains"?new OEe(e,o):r==="in"?new fq(e,o):r==="not-in"?new LEe(e,o):r==="array-contains-any"?new BEe(e,o):new Pt(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new NEe(e,o):new REe(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ol(r,this.value)):r!==null&&Xu(this.value)===Xu(r)&&this.matchesComparison(ol(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zt extends aq{constructor(e,r){super(),this.filters=e,this.op=r,this.ht=null}static create(e,r){return new Zt(e,r)}matches(e){return lf(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(r=>r.isInequality());return e!==null?e.field:null}lt(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function lf(t){return t.op==="and"}function hI(t){return t.op==="or"}function wM(t){return cq(t)&&lf(t)}function cq(t){for(const e of t.filters)if(e instanceof Zt)return!1;return!0}function fI(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+cf(t.value);if(wM(t))return t.filters.map(e=>fI(e)).join(",");{const e=t.filters.map(r=>fI(r)).join(",");return`${t.op}(${e})`}}function lq(t,e){return t instanceof Pt?function(r,o){return o instanceof Pt&&r.op===o.op&&r.field.isEqual(o.field)&&ta(r.value,o.value)}(t,e):t instanceof Zt?function(r,o){return o instanceof Zt&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&lq(u,o.filters[h]),!0):!1}(t,e):void qe()}function uq(t,e){const r=t.filters.concat(e);return Zt.create(r,t.op)}function dq(t){return t instanceof Pt?function(e){return`${e.field.canonicalString()} ${e.op} ${cf(e.value)}`}(t):t instanceof Zt?function(e){return e.op.toString()+" {"+e.getFilters().map(dq).join(" ,")+"}"}(t):"Filter"}class MEe extends Pt{constructor(e,r,o){super(e,r,o),this.key=Ne.fromName(o.referenceValue)}matches(e){const r=Ne.comparator(e.key,this.key);return this.matchesComparison(r)}}class NEe extends Pt{constructor(e,r){super(e,"in",r),this.keys=hq("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class REe extends Pt{constructor(e,r){super(e,"not-in",r),this.keys=hq("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function hq(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>Ne.fromName(o.referenceValue))}class OEe extends Pt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ig(r)&&Tg(r.arrayValue,this.value)}}class fq extends Pt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Tg(this.value.arrayValue,r)}}class LEe extends Pt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Tg(this.value.arrayValue,r)}}class BEe extends Pt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ig(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Tg(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,r="asc"){this.field=e,this.dir=r}}function zEe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,r){this.comparator=e,this.root=r||Zr.EMPTY}insert(e,r){return new nr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dk(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dk(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dk(this.root,e,this.comparator,!0)}}class Dk{constructor(e,r,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?o(e.key,r):1,r&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,r,o,a,u){this.key=e,this.value=r,this.color=o??Zr.RED,this.left=a??Zr.EMPTY,this.right=u??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,a,u){return new Zr(e??this.key,r??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,r,o),null):u===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Zr.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(t,e,r,o,a){return this}insert(t,e,r){return new Zr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new bj(this.data.getIterator())}getIteratorFrom(e){return new bj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ln(this.comparator);return r.data=e,r}}class bj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Qi([])}unionWith(e){let r=new ln(ar.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Qi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!kv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pm(r)}setAll(e){let r=ar.emptyPath(),o={},a=[];e.forEach((h,p)=>{if(!r.isImmediateParentOf(p)){const m=this.getFieldsMap(r);this.applyChanges(m,o,a),o={},a=[],r=p.popLast()}h?o[p.lastSegment()]=Pm(h):a.push(p.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,o,a)}delete(e){const r=this.field(e.popLast());kv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=r.mapValue.fields[e.get(o)];kv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,o){gd(r,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new Xr(Pm(this.value))}}function pq(t){const e=[];return gd(t.fields,(r,o)=>{const a=new ar([r]);if(kv(o)){const u=pq(o.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,r,o,a,u,h,p){this.key=e,this.documentType=r,this.version=o,this.readTime=a,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Cn(e,0,ot.min(),ot.min(),ot.min(),Xr.empty(),0)}static newFoundDocument(e,r,o,a){return new Cn(e,1,r,ot.min(),o,a,0)}static newNoDocument(e,r){return new Cn(e,2,r,ot.min(),ot.min(),Xr.empty(),0)}static newUnknownDocument(e,r){return new Cn(e,3,r,ot.min(),ot.min(),Xr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FEe{constructor(e,r=null,o=[],a=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=h,this.endAt=p,this.ft=null}}function pI(t,e=null,r=[],o=[],a=null,u=null,h=null){return new FEe(t,e,r,o,a,u,h)}function td(t){const e=Le(t);if(e.ft===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>fI(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(a){return a.field.canonicalString()+a.dir}(o)).join(","),bb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>cf(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>cf(o)).join(",")),e.ft=r}return e.ft}function wb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!zEe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!lq(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gj(t.startAt,e.startAt)&&gj(t.endAt,e.endAt)}function _y(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ay(t,e){return t.filters.filter(r=>r instanceof Pt&&r.field.isEqual(e))}function wj(t,e,r){let o=wv,a=!0;for(const u of Ay(t,e)){let h=wv,p=!0;switch(u.op){case"<":case"<=":h=DEe(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,p=!1;break;case"!=":case"not-in":h=wv}fj({value:o,inclusive:a},{value:h,inclusive:p})<0&&(o=h,a=p)}if(r!==null){for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const h=r.position[u];fj({value:o,inclusive:a},{value:h,inclusive:r.inclusive})<0&&(o=h,a=r.inclusive);break}}return{value:o,inclusive:a}}function kj(t,e,r){let o=Lc,a=!0;for(const u of Ay(t,e)){let h=Lc,p=!0;switch(u.op){case">=":case">":h=PEe(u.value),p=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,p=!1;break;case"!=":case"not-in":h=Lc}pj({value:o,inclusive:a},{value:h,inclusive:p})>0&&(o=h,a=p)}if(r!==null){for(let u=0;u<t.orderBy.length;++u)if(t.orderBy[u].field.isEqual(e)){const h=r.position[u];pj({value:o,inclusive:a},{value:h,inclusive:r.inclusive})>0&&(o=h,a=r.inclusive);break}}return{value:o,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,r=null,o=[],a=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.dt=null,this._t=null,this.startAt,this.endAt}}function mq(t,e,r,o,a,u,h,p){return new Za(t,e,r,o,a,u,h,p)}function Rf(t){return new Za(t)}function vj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _0(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function vM(t){return t.collectionGroup!==null}function ju(t){const e=Le(t);if(e.dt===null){e.dt=[];const r=_0(e),o=kM(e);if(r!==null&&o===null)r.isKeyField()||e.dt.push(new jh(r)),e.dt.push(new jh(ar.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new jh(ar.keyField(),u))}}}return e.dt}function to(t){const e=Le(t);if(!e._t)if(e.limitType==="F")e._t=pI(e.path,e.collectionGroup,ju(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const u of ju(e)){const h=u.dir==="desc"?"asc":"desc";r.push(new jh(u.field,h))}const o=e.endAt?new sl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new sl(e.startAt.position,e.startAt.inclusive):null;e._t=pI(e.path,e.collectionGroup,r,e.filters,e.limit,o,a)}return e._t}function mI(t,e){e.getFirstInequalityField(),_0(t);const r=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,r){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function kb(t,e){return wb(to(t),to(e))&&t.limitType===e.limitType}function gq(t){return`${td(to(t))}|lt:${t.limitType}`}function gI(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>dq(o)).join(", ")}]`),bb(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>cf(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>cf(o)).join(",")),`Target(${r})`}(to(t))}; limitType=${t.limitType})`}function yM(t,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,o){for(const a of ju(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(a,u,h){const p=mj(a,u,h);return a.inclusive?p<=0:p<0}(r.startAt,ju(r),o)||r.endAt&&!function(a,u,h){const p=mj(a,u,h);return a.inclusive?p>=0:p>0}(r.endAt,ju(r),o))}(t,e)}function bq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wq(t){return(e,r)=>{let o=!1;for(const a of ju(t)){const u=jEe(a,e,r);if(u!==0)return u;o=o||a.field.isKeyField()}return 0}}function jEe(t,e,r){const o=t.field.isKeyField()?Ne.comparator(e.key,r.key):function(a,u,h){const p=u.data.field(a),m=h.data.field(a);return p!==null&&m!==null?ol(p,m):qe()}(t.field,e,r);switch(t.dir){case"asc":return o;case"desc":return-1*o;default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(e)?"-0":e}}function vq(t){return{integerValue:""+t}}function yq(t,e){return iq(e)?vq(e):kq(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this._=void 0}}function VEe(t,e,r){return t instanceof uf?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(u.fields.__previous_value__=a),{mapValue:u}}(r,e):t instanceof nd?Aq(t,e):t instanceof rd?Cq(t,e):function(o,a){const u=_q(o,a),h=yj(u)+yj(o.gt);return dI(u)&&dI(o.gt)?vq(h):kq(o.yt,h)}(t,e)}function UEe(t,e,r){return t instanceof nd?Aq(t,e):t instanceof rd?Cq(t,e):r}function _q(t,e){return t instanceof df?dI(r=e)||function(o){return!!o&&"doubleValue"in o}(r)?e:{integerValue:0}:null;var r}class uf extends A0{}class nd extends A0{constructor(e){super(),this.elements=e}}function Aq(t,e){const r=Eq(e);for(const o of t.elements)r.some(a=>ta(a,o))||r.push(o);return{arrayValue:{values:r}}}class rd extends A0{constructor(e){super(),this.elements=e}}function Cq(t,e){let r=Eq(e);for(const o of t.elements)r=r.filter(a=>!ta(a,o));return{arrayValue:{values:r}}}class df extends A0{constructor(e,r){super(),this.yt=e,this.gt=r}}function yj(t){return Xn(t.integerValue||t.doubleValue)}function Eq(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,r){this.field=e,this.transform=r}}function $Ee(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof nd&&o instanceof nd||r instanceof rd&&o instanceof rd?af(r.elements,o.elements,ta):r instanceof df&&o instanceof df?ta(r.gt,o.gt):r instanceof uf&&o instanceof uf}(t.transform,e.transform)}class HEe{constructor(e,r){this.version=e,this.transformResults=r}}class Rn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C0{}function xq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lf(t.key,Rn.none()):new Of(t.key,t.data,Rn.none());{const r=t.data,o=Xr.empty();let a=new ln(ar.comparator);for(let u of e.fields)if(!a.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?o.delete(u):o.set(u,h),a=a.add(u)}return new Ja(t.key,o,new Qi(a.toArray()),Rn.none())}}function qEe(t,e,r){t instanceof Of?function(o,a,u){const h=o.value.clone(),p=Aj(o.fieldTransforms,a,u.transformResults);h.setAll(p),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,r):t instanceof Ja?function(o,a,u){if(!vv(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Aj(o.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(Sq(o)),p.setAll(h),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(t,e,r):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,r)}function Mm(t,e,r,o){return t instanceof Of?function(a,u,h,p){if(!vv(a.precondition,u))return h;const m=a.value.clone(),b=Cj(a.fieldTransforms,p,u);return m.setAll(b),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,r,o):t instanceof Ja?function(a,u,h,p){if(!vv(a.precondition,u))return h;const m=Cj(a.fieldTransforms,p,u),b=u.data;return b.setAll(Sq(a)),b.setAll(m),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(k=>k.field))}(t,e,r,o):function(a,u,h){return vv(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,r)}function WEe(t,e){let r=null;for(const o of t.fieldTransforms){const a=e.data.field(o.field),u=_q(o.transform,a||null);u!=null&&(r===null&&(r=Xr.empty()),r.set(o.field,u))}return r||null}function _j(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&af(r,o,(a,u)=>$Ee(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends C0{constructor(e,r,o,a=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ja extends C0{constructor(e,r,o,a,u=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Sq(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=t.data.field(r);e.set(r,o)}}),e}function Aj(t,e,r){const o=new Map;rt(t.length===r.length);for(let a=0;a<r.length;a++){const u=t[a],h=u.transform,p=e.data.field(u.field);o.set(u.field,UEe(h,p,r[a]))}return o}function Cj(t,e,r){const o=new Map;for(const a of t){const u=a.transform,h=r.data.field(a.field);o.set(a.field,VEe(u,h,e))}return o}let Lf=class extends C0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};class _M extends C0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GEe{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur,Lt;function Tq(t){switch(t){default:return qe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function Iq(t){if(t===void 0)return sr("GRPC error has no .code"),ie.UNKNOWN;switch(t){case ur.OK:return ie.OK;case ur.CANCELLED:return ie.CANCELLED;case ur.UNKNOWN:return ie.UNKNOWN;case ur.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case ur.INTERNAL:return ie.INTERNAL;case ur.UNAVAILABLE:return ie.UNAVAILABLE;case ur.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case ur.NOT_FOUND:return ie.NOT_FOUND;case ur.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case ur.ABORTED:return ie.ABORTED;case ur.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case ur.DATA_LOSS:return ie.DATA_LOSS;default:return qe()}}(Lt=ur||(ur={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[a,u]of o)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){gd(this.inner,(r,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return rq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KEe=new nr(Ne.comparator);function Zi(){return KEe}const Dq=new nr(Ne.comparator);function hm(...t){let e=Dq;for(const r of t)e=e.insert(r.key,r);return e}function Pq(t){let e=Dq;return t.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function $s(){return Nm()}function Mq(){return Nm()}function Nm(){return new El(t=>t.toString(),(t,e)=>t.isEqual(e))}const YEe=new nr(Ne.comparator),QEe=new ln(Ne.comparator);function At(...t){let e=QEe;for(const r of t)e=e.add(r);return e}const ZEe=new ln(yt);function E0(){return ZEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,r,o,a,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const a=new Map;return a.set(e,_b.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new yb(ot.min(),a,E0(),Zi(),At())}}class _b{constructor(e,r,o,a,u){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new _b(o,r,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,r,o,a){this.It=e,this.removedTargetIds=r,this.key=o,this.Tt=a}}class Nq{constructor(e,r){this.targetId=e,this.Et=r}}class Rq{constructor(e,r,o=vr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=a}}class Ej{constructor(){this.At=0,this.Rt=Sj(),this.bt=vr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=At(),r=At(),o=At();return this.Rt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:qe()}}),new _b(this.bt,this.Pt,e,r,o)}xt(){this.vt=!1,this.Rt=Sj()}Nt(e,r){this.vt=!0,this.Rt=this.Rt.insert(e,r)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class JEe{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Zi(),this.qt=xj(),this.Ut=new ln(yt)}Kt(e){for(const r of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt);for(const r of e.removedTargetIds)this.Qt(r,e.key,e.Tt)}jt(e){this.forEachTarget(e,r=>{const o=this.Wt(r);switch(e.state){case 0:this.zt(r)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(r);break;case 3:this.zt(r)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(r)&&(this.Ht(r),o.Dt(e.resumeToken));break;default:qe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Bt.forEach((o,a)=>{this.zt(a)&&r(a)})}Jt(e){const r=e.targetId,o=e.Et.count,a=this.Yt(r);if(a){const u=a.target;if(_y(u))if(o===0){const h=new Ne(u.path);this.Qt(r,h,Cn.newNoDocument(h,ot.min()))}else rt(o===1);else this.Xt(r)!==o&&(this.Ht(r),this.Ut=this.Ut.add(r))}}Zt(e){const r=new Map;this.Bt.forEach((u,h)=>{const p=this.Yt(h);if(p){if(u.current&&_y(p.target)){const m=new Ne(p.target.path);this.Lt.get(m)!==null||this.te(h,m)||this.Qt(h,m,Cn.newNoDocument(m,e))}u.St&&(r.set(h,u.Ct()),u.xt())}});let o=At();this.qt.forEach((u,h)=>{let p=!0;h.forEachWhile(m=>{const b=this.Yt(m);return!b||b.purpose===2||(p=!1,!1)}),p&&(o=o.add(u))}),this.Lt.forEach((u,h)=>h.setReadTime(e));const a=new yb(e,r,this.Ut,this.Lt,o);return this.Lt=Zi(),this.qt=xj(),this.Ut=new ln(yt),a}Gt(e,r){if(!this.zt(e))return;const o=this.te(e,r.key)?2:0;this.Wt(e).Nt(r.key,o),this.Lt=this.Lt.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ee(r.key).add(e))}Qt(e,r,o){if(!this.zt(e))return;const a=this.Wt(e);this.te(e,r)?a.Nt(r,1):a.kt(r),this.qt=this.qt.insert(r,this.ee(r).delete(e)),o&&(this.Lt=this.Lt.insert(r,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const r=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let r=this.Bt.get(e);return r||(r=new Ej,this.Bt.set(e,r)),r}ee(e){let r=this.qt.get(e);return r||(r=new ln(yt),this.qt=this.qt.insert(e,r)),r}zt(e){const r=this.Yt(e)!==null;return r||ye("WatchChangeAggregator","Detected inactive target",e),r}Yt(e){const r=this.Bt.get(e);return r&&r.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Ej),this.$t.getRemoteKeysForTarget(e).forEach(r=>{this.Qt(e,r,null)})}te(e,r){return this.$t.getRemoteKeysForTarget(e).has(r)}}function xj(){return new nr(Ne.comparator)}function Sj(){return new nr(Ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XEe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),exe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),txe=(()=>({and:"AND",or:"OR"}))();class nxe{constructor(e,r){this.databaseId=e,this.wt=r}}function hf(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Oq(t,e){return t.wt?e.toBase64():e.toUint8Array()}function rxe(t,e){return hf(t,e.toTimestamp())}function cr(t){return rt(!!t),ot.fromTimestamp(function(e){const r=il(e);return new On(r.seconds,r.nanos)}(t))}function AM(t,e){return function(r){return new Bt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Lq(t){const e=Bt.fromString(t);return rt(qq(e)),e}function Dg(t,e){return AM(t.databaseId,e.path)}function Qs(t,e){const r=Lq(e);if(r.get(1)!==t.databaseId.projectId)throw new ke(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ke(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ne(zq(r))}function bI(t,e){return AM(t.databaseId,e)}function Bq(t){const e=Lq(t);return e.length===4?Bt.emptyPath():zq(e)}function Pg(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zq(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Tj(t,e,r){return{name:Dg(t,e),fields:r.value.mapValue.fields}}function Fq(t,e,r){const o=Qs(t,e.name),a=cr(e.updateTime),u=e.createTime?cr(e.createTime):ot.min(),h=new Xr({mapValue:{fields:e.fields}}),p=Cn.newFoundDocument(o,a,u,h);return r&&p.setHasCommittedMutations(),r?p.setHasCommittedMutations():p}function ixe(t,e){return"found"in e?function(r,o){rt(!!o.found),o.found.name,o.found.updateTime;const a=Qs(r,o.found.name),u=cr(o.found.updateTime),h=o.found.createTime?cr(o.found.createTime):ot.min(),p=new Xr({mapValue:{fields:o.found.fields}});return Cn.newFoundDocument(a,u,h,p)}(t,e):"missing"in e?function(r,o){rt(!!o.missing),rt(!!o.readTime);const a=Qs(r,o.missing),u=cr(o.readTime);return Cn.newNoDocument(a,u)}(t,e):qe()}function oxe(t,e){let r;if("targetChange"in e){e.targetChange;const o=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(m,b){return m.wt?(rt(b===void 0||typeof b=="string"),vr.fromBase64String(b||"")):(rt(b===void 0||b instanceof Uint8Array),vr.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(m){const b=m.code===void 0?ie.UNKNOWN:Iq(m.code);return new ke(b,m.message||"")}(h);r=new Rq(o,a,u,p||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=Qs(t,o.document.name),u=cr(o.document.updateTime),h=o.document.createTime?cr(o.document.createTime):ot.min(),p=new Xr({mapValue:{fields:o.document.fields}}),m=Cn.newFoundDocument(a,u,h,p),b=o.targetIds||[],k=o.removedTargetIds||[];r=new yv(b,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=Qs(t,o.document),u=o.readTime?cr(o.readTime):ot.min(),h=Cn.newNoDocument(a,u),p=o.removedTargetIds||[];r=new yv([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=Qs(t,o.document),u=o.removedTargetIds||[];r=new yv([],u,a,null)}else{if(!("filter"in e))return qe();{e.filter;const o=e.filter;o.targetId;const a=o.count||0,u=new GEe(a),h=o.targetId;r=new Nq(h,u)}}return r}function Mg(t,e){let r;if(e instanceof Of)r={update:Tj(t,e.key,e.value)};else if(e instanceof Lf)r={delete:Dg(t,e.key)};else if(e instanceof Ja)r={update:Tj(t,e.key,e.data),updateMask:dxe(e.fieldMask)};else{if(!(e instanceof _M))return qe();r={verify:Dg(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const h=u.transform;if(h instanceof uf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof rd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof df)return{fieldPath:u.field.canonicalString(),increment:h.gt};throw qe()}(0,o))),e.precondition.isNone||(r.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:rxe(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe()}(t,e.precondition)),r}function wI(t,e){const r=e.currentDocument?function(a){return a.updateTime!==void 0?Rn.updateTime(cr(a.updateTime)):a.exists!==void 0?Rn.exists(a.exists):Rn.none()}(e.currentDocument):Rn.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,h){let p=null;if("setToServerValue"in h)rt(h.setToServerValue==="REQUEST_TIME"),p=new uf;else if("appendMissingElements"in h){const b=h.appendMissingElements.values||[];p=new nd(b)}else if("removeAllFromArray"in h){const b=h.removeAllFromArray.values||[];p=new rd(b)}else"increment"in h?p=new df(u,h.increment):qe();const m=ar.fromServerFormat(h.fieldPath);return new vb(m,p)}(t,a)):[];if(e.update){e.update.name;const a=Qs(t,e.update.name),u=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=function(p){const m=p.fieldPaths||[];return new Qi(m.map(b=>ar.fromServerFormat(b)))}(e.updateMask);return new Ja(a,u,h,r,o)}return new Of(a,u,r,o)}if(e.delete){const a=Qs(t,e.delete);return new Lf(a,r)}if(e.verify){const a=Qs(t,e.verify);return new _M(a,r)}return qe()}function sxe(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(r=>function(o,a){let u=o.updateTime?cr(o.updateTime):cr(a);return u.isEqual(ot.min())&&(u=cr(a)),new HEe(u,o.transformResults||[])}(r,e))):[]}function jq(t,e){return{documents:[bI(t,e.path)]}}function Vq(t,e){const r={structuredQuery:{}},o=e.path;e.collectionGroup!==null?(r.parent=bI(t,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=bI(t,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(m){if(m.length!==0)return Hq(Zt.create(m,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(b=>function(k){return{field:oh(k.field),direction:cxe(k.dir)}}(b))}(e.orderBy);u&&(r.structuredQuery.orderBy=u);const h=function(m,b){return m.wt||bb(b)?b:{value:b}}(t,e.limit);var p;return h!==null&&(r.structuredQuery.limit=h),e.startAt&&(r.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(r.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),r}function Uq(t){let e=Bq(t.parent);const r=t.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){rt(o===1);const k=r.from[0];k.allDescendants?a=k.collectionId:e=e.child(k.collectionId)}let u=[];r.where&&(u=function(k){const v=$q(k);return v instanceof Zt&&wM(v)?v.getFilters():[v]}(r.where));let h=[];r.orderBy&&(h=r.orderBy.map(k=>function(v){return new jh(sh(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(k)));let p=null;r.limit&&(p=function(k){let v;return v=typeof k=="object"?k.value:k,bb(v)?null:v}(r.limit));let m=null;r.startAt&&(m=function(k){const v=!!k.before,_=k.values||[];return new sl(_,v)}(r.startAt));let b=null;return r.endAt&&(b=function(k){const v=!k.before,_=k.values||[];return new sl(_,v)}(r.endAt)),mq(e,a,h,u,p,"F",m,b)}function axe(t,e){const r=function(o,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qe()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function $q(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=sh(e.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=sh(e.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sh(e.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sh(e.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(e){return Pt.create(sh(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Zt.create(e.compositeFilter.filters.map(r=>$q(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return qe()}}(e.compositeFilter.op))}(t):qe()}function cxe(t){return XEe[t]}function lxe(t){return exe[t]}function uxe(t){return txe[t]}function oh(t){return{fieldPath:t.canonicalString()}}function sh(t){return ar.fromServerFormat(t.fieldPath)}function Hq(t){return t instanceof Pt?function(e){if(e.op==="=="){if(hj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(dj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(dj(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:lxe(e.op),value:e.value}}}(t):t instanceof Zt?function(e){const r=e.getFilters().map(o=>Hq(o));return r.length===1?r[0]:{compositeFilter:{op:uxe(e.op),filters:r}}}(t):qe()}function dxe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function qq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Ij(e)),e=hxe(t.get(r),e);return Ij(e)}function hxe(t,e){let r=e;const o=t.length;for(let a=0;a<o;a++){const u=t.charAt(a);switch(u){case"\0":r+="";break;case"":r+="";break;default:r+=u}}return r}function Ij(t){return t+""}function Hs(t){const e=t.length;if(rt(e>=2),e===2)return rt(t.charAt(0)===""&&t.charAt(1)===""),Bt.emptyPath();const r=e-2,o=[];let a="";for(let u=0;u<e;){const h=t.indexOf("",u);switch((h<0||h>r)&&qe(),t.charAt(h+1)){case"":const p=t.substring(u,h);let m;a.length===0?m=p:(a+=p,m=a,a=""),o.push(m);break;case"":a+=t.substring(u,h),a+="\0";break;case"":a+=t.substring(u,h+1);break;default:qe()}u=h+2}return new Bt(o)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){return[t,Mi(e)]}function Wq(t,e,r){return[t,Mi(e),r]}const fxe={},pxe=["prefixPath","collectionGroup","readTime","documentId"],mxe=["prefixPath","collectionGroup","documentId"],gxe=["collectionGroup","readTime","prefixPath","documentId"],bxe=["canonicalId","targetId"],wxe=["targetId","path"],kxe=["path","targetId"],vxe=["collectionId","parent"],yxe=["indexId","uid"],_xe=["uid","sequenceNumber"],Axe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cxe=["indexId","uid","orderedDocumentKey"],Exe=["userId","collectionPath","documentId"],xxe=["userId","collectionPath","largestBatchId"],Sxe=["userId","collectionGroup","largestBatchId"],Gq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Txe=[...Gq,"documentOverlays"],Kq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yq=Kq,Ixe=[...Yq,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends nq{constructor(e,r){super(),this.se=e,this.currentSequenceNumber=r}}function Vr(t,e){const r=Le(t);return ls.M(r.se,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,r,o,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&qEe(u,e,o[a])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Mm(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Mm(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Mq();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=r.has(a.key)?null:p;const m=xq(h,p);m!==null&&o.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(ot.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),At())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,(r,o)=>_j(r,o))&&af(this.baseMutations,e.baseMutations,(r,o)=>_j(r,o))}}class EM{constructor(e,r,o,a){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(e,r,o){rt(e.mutations.length===o.length);let a=YEe;const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,o[h].version);return new EM(e,r,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r,o,a,u=ot.min(),h=ot.min(),p=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new Gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.ie=e}}function Dxe(t,e){let r;if(e.document)r=Fq(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ne.fromSegments(e.noDocument.path),a=od(e.noDocument.readTime);r=Cn.newNoDocument(o,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return qe();{const o=Ne.fromSegments(e.unknownDocument.path),a=od(e.unknownDocument.version);r=Cn.newUnknownDocument(o,a)}}return e.readTime&&r.setReadTime(function(o){const a=new On(o[0],o[1]);return ot.fromTimestamp(a)}(e.readTime)),r}function Pj(t,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Ey(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document=function(a,u){return{name:Dg(a,u.key),fields:u.data.value.mapValue.fields,updateTime:hf(a,u.version.toTimestamp()),createTime:hf(a,u.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:id(e.version)};else{if(!e.isUnknownDocument())return qe();o.unknownDocument={path:r.path.toArray(),version:id(e.version)}}return o}function Ey(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function id(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function od(t){const e=new On(t.seconds,t.nanoseconds);return ot.fromTimestamp(e)}function gu(t,e){const r=(e.baseMutations||[]).map(u=>wI(t.ie,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];if(u+1<e.mutations.length&&e.mutations[u+1].transform!==void 0){const p=e.mutations[u+1];h.updateTransforms=p.transform.fieldTransforms,e.mutations.splice(u+1,1),++u}}const o=e.mutations.map(u=>wI(t.ie,u)),a=On.fromMillis(e.localWriteTimeMs);return new CM(e.batchId,a,r,o)}function fm(t){const e=od(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?od(t.lastLimboFreeSnapshotVersion):ot.min();let o;var a;return t.query.documents!==void 0?(rt((a=t.query).documents.length===1),o=to(Rf(Bq(a.documents[0])))):o=function(u){return to(Uq(u))}(t.query),new Gc(o,t.targetId,0,t.lastListenSequenceNumber,e,r,vr.fromBase64String(t.resumeToken))}function Zq(t,e){const r=id(e.snapshotVersion),o=id(e.lastLimboFreeSnapshotVersion);let a;a=_y(e.target)?jq(t.ie,e.target):Vq(t.ie,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:td(e.target),readTime:r,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function SM(t){const e=Uq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}function Jx(t,e){return new xM(e.largestBatchId,wI(t.ie,e.overlayMutation))}function Mj(t,e){const r=e.path.lastSegment();return[t,Mi(e.path.popLast()),r]}function Nj(t,e,r,o){return{indexId:t,uid:e.uid||"",sequenceNumber:r,readTime:id(o.readTime),documentKey:Mi(o.documentKey.path),largestBatchId:o.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{getBundleMetadata(e,r){return Rj(e).get(r).next(o=>{if(o)return{id:(a=o).bundleId,createTime:od(a.createTime),version:a.version};var a})}saveBundleMetadata(e,r){return Rj(e).put({bundleId:(o=r).id,createTime:id(cr(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Oj(e).get(r).next(o=>{if(o)return{name:(a=o).name,query:SM(a.bundledQuery),readTime:od(a.readTime)};var a})}saveNamedQuery(e,r){return Oj(e).put(function(o){return{name:o.name,readTime:id(cr(o.readTime)),bundledQuery:o.bundledQuery}}(r))}}function Rj(t){return Vr(t,"bundles")}function Oj(t){return Vr(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,r){this.yt=e,this.userId=r}static re(e,r){const o=r.uid||"";return new x0(e,o)}getOverlay(e,r){return qp(e).get(Mj(this.userId,r)).next(o=>o?Jx(this.yt,o):null)}getOverlays(e,r){const o=$s();return X.forEach(r,a=>this.getOverlay(e,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(e,r,o){const a=[];return o.forEach((u,h)=>{const p=new xM(r,h);a.push(this.oe(e,p))}),X.waitFor(a)}removeOverlaysForBatchId(e,r,o){const a=new Set;r.forEach(h=>a.add(Mi(h.getCollectionPath())));const u=[];return a.forEach(h=>{const p=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,o+1],!1,!0);u.push(qp(e).Y("collectionPathOverlayIndex",p))}),X.waitFor(u)}getOverlaysForCollection(e,r,o){const a=$s(),u=Mi(r),h=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qp(e).W("collectionPathOverlayIndex",h).next(p=>{for(const m of p){const b=Jx(this.yt,m);a.set(b.getKey(),b)}return a})}getOverlaysForCollectionGroup(e,r,o,a){const u=$s();let h;const p=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qp(e).Z({index:"collectionGroupOverlayIndex",range:p},(m,b,k)=>{const v=Jx(this.yt,b);u.size()<a||v.largestBatchId===h?(u.set(v.getKey(),v),h=v.largestBatchId):k.done()}).next(()=>u)}oe(e,r){return qp(e).put(function(o,a,u){const[h,p,m]=Mj(a,u.mutation.key);return{userId:a,collectionPath:p,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Mg(o.ie,u.mutation)}}(this.yt,this.userId,r))}}function qp(t){return Vr(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){}ue(e,r){this.ce(e,r),r.ae()}ce(e,r){if("nullValue"in e)this.he(r,5);else if("booleanValue"in e)this.he(r,10),r.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(r,15),r.le(Xn(e.integerValue));else if("doubleValue"in e){const o=Xn(e.doubleValue);isNaN(o)?this.he(r,13):(this.he(r,15),xg(o)?r.le(0):r.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(r,20),typeof o=="string"?r.fe(o):(r.fe(`${o.seconds||""}`),r.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,r),this._e(r);else if("bytesValue"in e)this.he(r,30),r.we(Ju(e.bytesValue)),this._e(r);else if("referenceValue"in e)this.me(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(r,45),r.le(o.latitude||0),r.le(o.longitude||0)}else"mapValue"in e?sq(e)?this.he(r,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,r),this._e(r)):"arrayValue"in e?(this.ye(e.arrayValue,r),this._e(r)):qe()}de(e,r){this.he(r,25),this.pe(e,r)}pe(e,r){r.fe(e)}ge(e,r){const o=e.fields||{};this.he(r,55);for(const a of Object.keys(o))this.de(a,r),this.ce(o[a],r)}ye(e,r){const o=e.values||[];this.he(r,50);for(const a of o)this.ce(a,r)}me(e,r){this.he(r,37),Ne.fromName(e).path.forEach(o=>{this.he(r,60),this.pe(o,r)})}he(e,r){e.le(r)}_e(e){e.le(2)}}bu.Ie=new bu;function Mxe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Lj(t){const e=64-function(r){let o=0;for(let a=0;a<8;++a){const u=Mxe(255&r[a]);if(o+=u,u!==8)break}return o}(t);return Math.ceil(e/8)}class Nxe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ee(o.value),o=r.next();this.Ae()}Re(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.be(o.value),o=r.next();this.Pe()}ve(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(r<"\uD800"||"\uDBFF"<r)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}this.Ae()}Ve(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(r<"\uD800"||"\uDBFF"<r)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Pe()}Se(e){const r=this.De(e),o=Lj(r);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let a=r.length-o;a<r.length;++a)this.buffer[this.position++]=255&r[a]}xe(e){const r=this.De(e),o=Lj(r);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let a=r.length-o;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const r=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=(128&r[0])!=0;r[0]^=o?255:128;for(let a=1;a<r.length;++a)r[a]^=o?255:0;return r}Ee(e){const r=255&e;r===0?(this.ke(0),this.ke(255)):r===255?(this.ke(255),this.ke(0)):this.ke(r)}be(e){const r=255&e;r===0?(this.Me(0),this.Me(255)):r===255?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class Rxe{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Oxe{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Wp{constructor(){this.$e=new Nxe,this.Be=new Rxe(this.$e),this.Le=new Oxe(this.$e)}seed(e){this.$e.seed(e)}qe(e){return e===0?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,r,o,a){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=a}Ue(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new wu(this.indexId,this.documentKey,this.arrayValue,o)}}function vc(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=Bj(t.arrayValue,e.arrayValue),r!==0?r:(r=Bj(t.directionalValue,e.directionalValue),r!==0?r:Ne.comparator(t.documentKey,e.documentKey)))}function Bj(t,e){for(let r=0;r<t.length&&r<e.length;++r){const o=t[r]-e[r];if(o!==0)return o}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const r of e.filters){const o=r;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){rt(e.collectionGroup===this.collectionId);const r=lI(e);if(r!==void 0&&!this.We(r))return!1;const o=hu(e);let a=0,u=0;for(;a<o.length&&this.We(o[a]);++a);if(a===o.length)return!0;if(this.Qe!==void 0){const h=o[a];if(!this.ze(this.Qe,h)||!this.He(this.Ke[u++],h))return!1;++a}for(;a<o.length;++a){const h=o[a];if(u>=this.Ke.length||!this.He(this.Ke[u++],h))return!1}return!0}We(e){for(const r of this.Ge)if(this.ze(r,e))return!0;return!1}ze(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const o=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===o}He(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){var e,r;if(rt(t instanceof Pt||t instanceof Zt),t instanceof Pt){if(t instanceof fq){const a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(u=>Pt.create(t.field,"==",u)))||[];return Zt.create(a,"or")}return t}const o=t.filters.map(a=>Jq(a));return Zt.create(o,t.op)}function Bxe(t){if(t.getFilters().length===0)return[];const e=_I(Jq(t));return rt(Xq(e)),vI(e)||yI(e)?[e]:e.getFilters()}function vI(t){return t instanceof Pt}function yI(t){return t instanceof Zt&&wM(t)}function Xq(t){return vI(t)||yI(t)||function(e){if(e instanceof Zt&&hI(e)){for(const r of e.getFilters())if(!vI(r)&&!yI(r))return!1;return!0}return!1}(t)}function _I(t){if(rt(t instanceof Pt||t instanceof Zt),t instanceof Pt)return t;if(t.filters.length===1)return _I(t.filters[0]);const e=t.filters.map(o=>_I(o));let r=Zt.create(e,t.op);return r=xy(r),Xq(r)?r:(rt(r instanceof Zt),rt(lf(r)),rt(r.filters.length>1),r.filters.reduce((o,a)=>TM(o,a)))}function TM(t,e){let r;return rt(t instanceof Pt||t instanceof Zt),rt(e instanceof Pt||e instanceof Zt),r=t instanceof Pt?e instanceof Pt?function(o,a){return Zt.create([o,a],"and")}(t,e):zj(t,e):e instanceof Pt?zj(e,t):function(o,a){if(rt(o.filters.length>0&&a.filters.length>0),lf(o)&&lf(a))return uq(o,a.getFilters());const u=hI(o)?o:a,h=hI(o)?a:o,p=u.filters.map(m=>TM(m,h));return Zt.create(p,"or")}(t,e),xy(r)}function zj(t,e){if(lf(e))return uq(e,t.getFilters());{const r=e.filters.map(o=>TM(t,o));return Zt.create(r,"or")}}function xy(t){if(rt(t instanceof Pt||t instanceof Zt),t instanceof Pt)return t;const e=t.getFilters();if(e.length===1)return xy(e[0]);if(cq(t))return t;const r=e.map(a=>xy(a)),o=[];return r.forEach(a=>{a instanceof Pt?o.push(a):a instanceof Zt&&(a.op===t.op?o.push(...a.filters):o.push(a))}),o.length===1?o[0]:Zt.create(o,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zxe{constructor(){this.Je=new IM}addToCollectionParentIndex(e,r){return this.Je.add(r),X.resolve()}getCollectionParents(e,r){return X.resolve(this.Je.getEntries(r))}addFieldIndex(e,r){return X.resolve()}deleteFieldIndex(e,r){return X.resolve()}getDocumentsMatchingTarget(e,r){return X.resolve(null)}getIndexType(e,r){return X.resolve(0)}getFieldIndexes(e,r){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,r){return X.resolve(go.min())}getMinOffsetFromCollectionGroup(e,r){return X.resolve(go.min())}updateCollectionGroup(e,r,o){return X.resolve()}updateIndexEntries(e,r){return X.resolve()}}class IM{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r]||new ln(Bt.comparator),u=!a.has(o);return this.index[r]=a.add(o),u}has(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(e){return(this.index[e]||new ln(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Uint8Array(0);class Fxe{constructor(e,r){this.user=e,this.databaseId=r,this.Ye=new IM,this.Xe=new El(o=>td(o),(o,a)=>wb(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Ye.has(r)){const o=r.lastSegment(),a=r.popLast();e.addOnCommittedListener(()=>{this.Ye.add(r)});const u={collectionId:o,parent:Mi(a)};return Fj(e).put(u)}return X.resolve()}getCollectionParents(e,r){const o=[],a=IDBKeyRange.bound([r,""],[Z9(r),""],!1,!0);return Fj(e).W(a).next(u=>{for(const h of u){if(h.collectionId!==r)break;o.push(Hs(h.parent))}return o})}addFieldIndex(e,r){const o=Mk(e),a=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])}}(r);delete a.indexId;const u=o.add(a);if(r.indexState){const h=Kp(e);return u.next(p=>{h.put(Nj(p,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return u.next()}deleteFieldIndex(e,r){const o=Mk(e),a=Kp(e),u=Gp(e);return o.delete(r.indexId).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const o=Gp(e);let a=!0;const u=new Map;return X.forEach(this.Ze(r),h=>this.tn(e,h).next(p=>{a&&(a=!!p),u.set(h,p)})).next(()=>{if(a){let h=At();const p=[];return X.forEach(u,(m,b)=>{var k;ye("IndexedDbIndexManager",`Using index ${k=m,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(D=>`${D.fieldPath}:${D.kind}`).join(",")}`} to execute ${td(r)}`);const v=function(D,O){const V=lI(O);if(V===void 0)return null;for(const U of Ay(D,V.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null}(b,m),_=function(D,O){const V=new Map;for(const U of hu(O))for(const q of Ay(D,U.fieldPath))switch(q.op){case"==":case"in":V.set(U.fieldPath.canonicalString(),q.value);break;case"not-in":case"!=":return V.set(U.fieldPath.canonicalString(),q.value),Array.from(V.values())}return null}(b,m),A=function(D,O){const V=[];let U=!0;for(const q of hu(O)){const te=q.kind===0?wj(D,q.fieldPath,D.startAt):kj(D,q.fieldPath,D.startAt);V.push(te.value),U&&(U=te.inclusive)}return new sl(V,U)}(b,m),E=function(D,O){const V=[];let U=!0;for(const q of hu(O)){const te=q.kind===0?kj(D,q.fieldPath,D.endAt):wj(D,q.fieldPath,D.endAt);V.push(te.value),U&&(U=te.inclusive)}return new sl(V,U)}(b,m),I=this.en(m,b,A),L=this.en(m,b,E),N=this.nn(m,b,_),T=this.sn(m.indexId,v,I,A.inclusive,L,E.inclusive,N);return X.forEach(T,D=>o.J(D,r.limit).next(O=>{O.forEach(V=>{const U=Ne.fromSegments(V.documentKey);h.has(U)||(h=h.add(U),p.push(U))})}))}).next(()=>p)}return X.resolve(null)})}Ze(e){let r=this.Xe.get(e);return r||(e.filters.length===0?r=[e]:r=Bxe(Zt.create(e.filters,"and")).map(o=>pI(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,r),r)}sn(e,r,o,a,u,h,p){const m=(r!=null?r.length:1)*Math.max(o.length,u.length),b=m/(r!=null?r.length:1),k=[];for(let v=0;v<m;++v){const _=r?this.rn(r[v/b]):Pk,A=this.on(e,_,o[v%b],a),E=this.un(e,_,u[v%b],h),I=p.map(L=>this.on(e,_,L,!0));k.push(...this.createRange(A,E,I))}return k}on(e,r,o,a){const u=new wu(e,Ne.empty(),r,o);return a?u:u.Ue()}un(e,r,o,a){const u=new wu(e,Ne.empty(),r,o);return a?u.Ue():u}tn(e,r){const o=new Lxe(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let h=null;for(const p of u)o.je(p)&&(!h||p.fields.length>h.fields.length)&&(h=p);return h})}getIndexType(e,r){let o=2;const a=this.Ze(r);return X.forEach(a,u=>this.tn(e,u).next(h=>{h?o!==0&&h.fields.length<function(p){let m=new ln(ar.comparator),b=!1;for(const k of p.filters)for(const v of k.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?b=!0:m=m.add(v.field));for(const k of p.orderBy)k.field.isKeyField()||(m=m.add(k.field));return m.size+(b?1:0)}(u)&&(o=1):o=0})).next(()=>function(u){return u.limit!==null}(r)&&a.length>1&&o===2?1:o)}cn(e,r){const o=new Wp;for(const a of hu(e)){const u=r.data.field(a.fieldPath);if(u==null)return null;const h=o.qe(a.kind);bu.Ie.ue(u,h)}return o.Fe()}rn(e){const r=new Wp;return bu.Ie.ue(e,r.qe(0)),r.Fe()}an(e,r){const o=new Wp;return bu.Ie.ue(ed(this.databaseId,r),o.qe(function(a){const u=hu(a);return u.length===0?0:u[u.length-1].kind}(e))),o.Fe()}nn(e,r,o){if(o===null)return[];let a=[];a.push(new Wp);let u=0;for(const h of hu(e)){const p=o[u++];for(const m of a)if(this.hn(r,h.fieldPath)&&Ig(p))a=this.ln(a,h,p);else{const b=m.qe(h.kind);bu.Ie.ue(p,b)}}return this.fn(a)}en(e,r,o){return this.nn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Fe();return r}ln(e,r,o){const a=[...e],u=[];for(const h of o.arrayValue.values||[])for(const p of a){const m=new Wp;m.seed(p.Fe()),bu.Ie.ue(h,m.qe(r.kind)),u.push(m)}return u}hn(e,r){return!!e.filters.find(o=>o instanceof Pt&&o.field.isEqual(r)&&(o.op==="in"||o.op==="not-in"))}getFieldIndexes(e,r){const o=Mk(e),a=Kp(e);return(r?o.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.W()).next(u=>{const h=[];return X.forEach(u,p=>a.get([p.indexId,this.uid]).next(m=>{h.push(function(b,k){const v=k?new yy(k.sequenceNumber,new go(od(k.readTime),new Ne(Hs(k.documentKey)),k.largestBatchId)):yy.empty(),_=b.fields.map(([A,E])=>new _Ee(ar.fromServerFormat(A),E));return new J9(b.indexId,b.collectionGroup,_,v)}(p,m))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return u!==0?u:yt(o.collectionGroup,a.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const a=Mk(e),u=Kp(e);return this.dn(e).next(h=>a.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(p=>X.forEach(p,m=>u.put(Nj(m.indexId,this.user,h,o)))))}updateIndexEntries(e,r){const o=new Map;return X.forEach(r,(a,u)=>{const h=o.get(a.collectionGroup);return(h?X.resolve(h):this.getFieldIndexes(e,a.collectionGroup)).next(p=>(o.set(a.collectionGroup,p),X.forEach(p,m=>this._n(e,a,m).next(b=>{const k=this.wn(u,m);return b.isEqual(k)?X.resolve():this.mn(e,u,m,b,k)}))))})}gn(e,r,o,a){return Gp(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.an(o,r.key),documentKey:r.key.path.toArray()})}yn(e,r,o,a){return Gp(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.an(o,r.key),r.key.path.toArray()])}_n(e,r,o){const a=Gp(e);let u=new ln(vc);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,r)])},(h,p)=>{u=u.add(new wu(o.indexId,r,p.arrayValue,p.directionalValue))}).next(()=>u)}wn(e,r){let o=new ln(vc);const a=this.cn(r,e);if(a==null)return o;const u=lI(r);if(u!=null){const h=e.data.field(u.fieldPath);if(Ig(h))for(const p of h.arrayValue.values||[])o=o.add(new wu(r.indexId,e.key,this.rn(p),a))}else o=o.add(new wu(r.indexId,e.key,Pk,a));return o}mn(e,r,o,a,u){ye("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const h=[];return function(p,m,b,k,v){const _=p.getIterator(),A=m.getIterator();let E=eh(_),I=eh(A);for(;E||I;){let L=!1,N=!1;if(E&&I){const T=b(E,I);T<0?N=!0:T>0&&(L=!0)}else E!=null?N=!0:L=!0;L?(k(I),I=eh(A)):N?(v(E),E=eh(_)):(E=eh(_),I=eh(A))}}(a,u,vc,p=>{h.push(this.gn(e,r,o,p))},p=>{h.push(this.yn(e,r,o,p))}),X.waitFor(h)}dn(e){let r=1;return Kp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),r=a.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((h,p)=>vc(h,p)).filter((h,p,m)=>!p||vc(h,m[p-1])!==0);const a=[];a.push(e);for(const h of o){const p=vc(h,e),m=vc(h,r);if(p===0)a[0]=e.Ue();else if(p>0&&m<0)a.push(h),a.push(h.Ue());else if(m>0)break}a.push(r);const u=[];for(let h=0;h<a.length;h+=2){if(this.pn(a[h],a[h+1]))return[];const p=[a[h].indexId,this.uid,a[h].arrayValue,a[h].directionalValue,Pk,[]],m=[a[h+1].indexId,this.uid,a[h+1].arrayValue,a[h+1].directionalValue,Pk,[]];u.push(IDBKeyRange.bound(p,m))}return u}pn(e,r){return vc(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(jj)}getMinOffset(e,r){return X.mapArray(this.Ze(r),o=>this.tn(e,o).next(a=>a||qe())).next(jj)}}function Fj(t){return Vr(t,"collectionParents")}function Gp(t){return Vr(t,"indexEntries")}function Mk(t){return Vr(t,"indexConfiguration")}function Kp(t){return Vr(t,"indexState")}function jj(t){rt(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<t.length;o++){const a=t[o].indexState.offset;mM(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new go(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t,e,r){const o=t.store("mutations"),a=t.store("documentMutations"),u=[],h=IDBKeyRange.only(r.batchId);let p=0;const m=o.Z({range:h},(k,v,_)=>(p++,_.delete()));u.push(m.next(()=>{rt(p===1)}));const b=[];for(const k of r.mutations){const v=Wq(e,k.key.path,r.batchId);u.push(a.delete(v)),b.push(k.key)}return X.waitFor(u).next(()=>b)}function Sy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw qe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class S0{constructor(e,r,o,a){this.userId=e,this.yt=r,this.indexManager=o,this.referenceDelegate=a,this.In={}}static re(e,r,o,a){rt(e.uid!=="");const u=e.isAuthenticated()?e.uid:"";return new S0(u,r,o,a)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).Z({index:"userMutationsIndex",range:o},(a,u,h)=>{r=!1,h.done()}).next(()=>r)}addMutationBatch(e,r,o,a){const u=ah(e),h=yc(e);return h.add({}).next(p=>{rt(typeof p=="number");const m=new CM(p,r,o,a),b=function(_,A,E){const I=E.baseMutations.map(N=>Mg(_.ie,N)),L=E.mutations.map(N=>Mg(_.ie,N));return{userId:A,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:I,mutations:L}}(this.yt,this.userId,m),k=[];let v=new ln((_,A)=>yt(_.canonicalString(),A.canonicalString()));for(const _ of a){const A=Wq(this.userId,_.key.path,p);v=v.add(_.key.path.popLast()),k.push(h.put(b)),k.push(u.put(A,fxe))}return v.forEach(_=>{k.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.In[p]=m.keys()}),X.waitFor(k).next(()=>m)})}lookupMutationBatch(e,r){return yc(e).get(r).next(o=>o?(rt(o.userId===this.userId),gu(this.yt,o)):null)}Tn(e,r){return this.In[r]?X.resolve(this.In[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const a=o.keys();return this.In[r]=a,a}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return yc(e).Z({index:"userMutationsIndex",range:a},(h,p,m)=>{p.userId===this.userId&&(rt(p.batchId>=o),u=gu(this.yt,p)),m.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return yc(e).Z({index:"userMutationsIndex",range:r,reverse:!0},(a,u,h)=>{o=u.batchId,h.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).W("userMutationsIndex",r).next(o=>o.map(a=>gu(this.yt,a)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=_v(this.userId,r.path),a=IDBKeyRange.lowerBound(o),u=[];return ah(e).Z({range:a},(h,p,m)=>{const[b,k,v]=h,_=Hs(k);if(b===this.userId&&r.path.isEqual(_))return yc(e).get(v).next(A=>{if(!A)throw qe();rt(A.userId===this.userId),u.push(gu(this.yt,A))});m.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ln(yt);const a=[];return r.forEach(u=>{const h=_v(this.userId,u.path),p=IDBKeyRange.lowerBound(h),m=ah(e).Z({range:p},(b,k,v)=>{const[_,A,E]=b,I=Hs(A);_===this.userId&&u.path.isEqual(I)?o=o.add(E):v.done()});a.push(m)}),X.waitFor(a).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1,u=_v(this.userId,o),h=IDBKeyRange.lowerBound(u);let p=new ln(yt);return ah(e).Z({range:h},(m,b,k)=>{const[v,_,A]=m,E=Hs(_);v===this.userId&&o.isPrefixOf(E)?E.length===a&&(p=p.add(A)):k.done()}).next(()=>this.En(e,p))}En(e,r){const o=[],a=[];return r.forEach(u=>{a.push(yc(e).get(u).next(h=>{if(h===null)throw qe();rt(h.userId===this.userId),o.push(gu(this.yt,h))}))}),X.waitFor(a).next(()=>o)}removeMutationBatch(e,r){return eW(e.se,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.An(r.batchId)}),X.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return X.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return ah(e).Z({range:o},(u,h,p)=>{if(u[0]===this.userId){const m=Hs(u[1]);a.push(m)}else p.done()}).next(()=>{rt(a.length===0)})})}containsKey(e,r){return tW(e,this.userId,r)}Rn(e){return nW(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tW(t,e,r){const o=_v(e,r.path),a=o[1],u=IDBKeyRange.lowerBound(o);let h=!1;return ah(t).Z({range:u,X:!0},(p,m,b)=>{const[k,v,_]=p;k===e&&v===a&&(h=!0),b.done()}).next(()=>h)}function yc(t){return Vr(t,"mutations")}function ah(t){return Vr(t,"documentMutations")}function nW(t){return Vr(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sd(0)}static vn(){return new sd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jxe{constructor(e,r){this.referenceDelegate=e,this.yt=r}allocateTargetId(e){return this.Vn(e).next(r=>{const o=new sd(r.highestTargetId);return r.highestTargetId=o.next(),this.Sn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(r=>ot.fromTimestamp(new On(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=r,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Sn(e,a)))}addTargetData(e,r){return this.Dn(e,r).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(r,o),this.Sn(e,o))))}updateTargetData(e,r){return this.Dn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>th(e).delete(r.targetId)).next(()=>this.Vn(e)).next(o=>(rt(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,r,o){let a=0;const u=[];return th(e).Z((h,p)=>{const m=fm(p);m.sequenceNumber<=r&&o.get(m.targetId)===null&&(a++,u.push(this.removeTargetData(e,m)))}).next(()=>X.waitFor(u)).next(()=>a)}forEachTarget(e,r){return th(e).Z((o,a)=>{const u=fm(a);r(u)})}Vn(e){return Uj(e).get("targetGlobalKey").next(r=>(rt(r!==null),r))}Sn(e,r){return Uj(e).put("targetGlobalKey",r)}Dn(e,r){return th(e).put(Zq(this.yt,r))}Cn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=td(r),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return th(e).Z({range:a,index:"queryTargetsIndex"},(h,p,m)=>{const b=fm(p);wb(r,b.target)&&(u=b,m.done())}).next(()=>u)}addMatchingKeys(e,r,o){const a=[],u=Pc(e);return r.forEach(h=>{const p=Mi(h.path);a.push(u.put({targetId:o,path:p})),a.push(this.referenceDelegate.addReference(e,o,h))}),X.waitFor(a)}removeMatchingKeys(e,r,o){const a=Pc(e);return X.forEach(r,u=>{const h=Mi(u.path);return X.waitFor([a.delete([o,h]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,r){const o=Pc(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),a=Pc(e);let u=At();return a.Z({range:o,X:!0},(h,p,m)=>{const b=Hs(h[1]),k=new Ne(b);u=u.add(k)}).next(()=>u)}containsKey(e,r){const o=Mi(r.path),a=IDBKeyRange.bound([o],[Z9(o)],!1,!0);let u=0;return Pc(e).Z({index:"documentTargetsIndex",X:!0,range:a},([h,p],m,b)=>{h!==0&&(u++,b.done())}).next(()=>u>0)}ne(e,r){return th(e).get(r).next(o=>o?fm(o):null)}}function th(t){return Vr(t,"targets")}function Uj(t){return Vr(t,"targetGlobal")}function Pc(t){return Vr(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j([t,e],[r,o]){const a=yt(t,r);return a===0?yt(e,o):a}class Vxe{constructor(e){this.xn=e,this.buffer=new ln($j),this.Nn=0}kn(){return++this.Nn}On(e){const r=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();$j(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Uxe{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Cl(r)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Al(r)}await this.Fn(3e5)})}}class $xe{constructor(e,r){this.$n=e,this.params=r}calculateTargetCount(e,r){return this.$n.Bn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return X.resolve(Yi.at);const o=new Vxe(r);return this.$n.forEachTarget(e,a=>o.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>o.On(a))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.$n.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.$n.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Vj)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vj):this.qn(e,r))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,r){let o,a,u,h,p,m,b;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,h=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(o=v,p=Date.now(),this.removeTargets(e,o,r))).next(v=>(u=v,m=Date.now(),this.removeOrphanedDocuments(e,o))).next(v=>(b=Date.now(),cI()<=jt.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-k}ms
	Determined least recently used ${a} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${v} documents in `+(b-m)+`ms
Total Duration: ${b-k}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:v})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hxe{constructor(e,r){this.db=e,this.garbageCollector=function(o,a){return new $xe(o,a)}(this,r)}Bn(e){const r=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(a=>o+a))}Un(e){let r=0;return this.Ln(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Ln(e,r){return this.Kn(e,(o,a)=>r(a))}addReference(e,r,o){return Nk(e,o)}removeReference(e,r,o){return Nk(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Nk(e,r)}Gn(e,r){return function(o,a){let u=!1;return nW(o).tt(h=>tW(o,h,a).next(p=>(p&&(u=!0),X.resolve(!p)))).next(()=>u)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Kn(e,(h,p)=>{if(p<=r){const m=this.Gn(e,h).next(b=>{if(!b)return u++,o.getEntry(e,h).next(()=>(o.removeEntry(h,ot.min()),Pc(e).delete([0,Mi(h.path)])))});a.push(m)}}).next(()=>X.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Nk(e,r)}Kn(e,r){const o=Pc(e);let a,u=Yi.at;return o.Z({index:"documentTargetsIndex"},([h,p],{path:m,sequenceNumber:b})=>{h===0?(u!==Yi.at&&r(new Ne(Hs(a)),u),u=b,a=m):u=Yi.at}).next(()=>{u!==Yi.at&&r(new Ne(Hs(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nk(t,e){return Pc(t).put(function(r,o){return{targetId:0,path:Mi(r.path),sequenceNumber:o}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.changes=new El(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?X.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qxe{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return au(e).put(o)}removeEntry(e,r,o){return au(e).delete(function(a,u){const h=a.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Ey(u),h[h.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Qn(e,o)))}getEntry(e,r){let o=Cn.newInvalidDocument(r);return au(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yp(r))},(a,u)=>{o=this.jn(r,u)}).next(()=>o)}Wn(e,r){let o={size:0,document:Cn.newInvalidDocument(r)};return au(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yp(r))},(a,u)=>{o={document:this.jn(r,u),size:Sy(u)}}).next(()=>o)}getEntries(e,r){let o=Zi();return this.zn(e,r,(a,u)=>{const h=this.jn(a,u);o=o.insert(a,h)}).next(()=>o)}Hn(e,r){let o=Zi(),a=new nr(Ne.comparator);return this.zn(e,r,(u,h)=>{const p=this.jn(u,h);o=o.insert(u,p),a=a.insert(u,Sy(h))}).next(()=>({documents:o,Jn:a}))}zn(e,r,o){if(r.isEmpty())return X.resolve();let a=new ln(Wj);r.forEach(m=>a=a.add(m));const u=IDBKeyRange.bound(Yp(a.first()),Yp(a.last())),h=a.getIterator();let p=h.getNext();return au(e).Z({index:"documentKeyIndex",range:u},(m,b,k)=>{const v=Ne.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&Wj(p,v)<0;)o(p,null),p=h.getNext();p&&p.isEqual(v)&&(o(p,b),p=h.hasNext()?h.getNext():null),p?k.j(Yp(p)):k.done()}).next(()=>{for(;p;)o(p,null),p=h.hasNext()?h.getNext():null})}getAllFromCollection(e,r,o){const a=[r.popLast().toArray(),r.lastSegment(),Ey(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],u=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return au(e).W(IDBKeyRange.bound(a,u,!0)).next(h=>{let p=Zi();for(const m of h){const b=this.jn(Ne.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,r,o,a){let u=Zi();const h=qj(r,o),p=qj(r,go.max());return au(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,p,!0)},(m,b,k)=>{const v=this.jn(Ne.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(v.key,v),u.size===a&&k.done()}).next(()=>u)}newChangeBuffer(e){return new Wxe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Hj(e).get("remoteDocumentGlobalKey").next(r=>(rt(!!r),r))}Qn(e,r){return Hj(e).put("remoteDocumentGlobalKey",r)}jn(e,r){if(r){const o=Dxe(this.yt,r);if(!(o.isNoDocument()&&o.version.isEqual(ot.min())))return o}return Cn.newInvalidDocument(e)}}function iW(t){return new qxe(t)}class Wxe extends rW{constructor(e,r){super(),this.Yn=e,this.trackRemovals=r,this.Xn=new El(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const r=[];let o=0,a=new ln((u,h)=>yt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const p=this.Xn.get(u);if(r.push(this.Yn.removeEntry(e,u,p.readTime)),h.isValidDocument()){const m=Pj(this.Yn.yt,h);a=a.add(u.path.popLast());const b=Sy(m);o+=b-p.size,r.push(this.Yn.addEntry(e,u,m))}else if(o-=p.size,this.trackRemovals){const m=Pj(this.Yn.yt,h.convertToNoDocument(ot.min()));r.push(this.Yn.addEntry(e,u,m))}}),a.forEach(u=>{r.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),r.push(this.Yn.updateMetadata(e,o)),X.waitFor(r)}getFromCache(e,r){return this.Yn.Wn(e,r).next(o=>(this.Xn.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.Yn.Hn(e,r).next(({documents:o,Jn:a})=>(a.forEach((u,h)=>{this.Xn.set(u,{size:h,readTime:o.get(u).readTime})}),o))}}function Hj(t){return Vr(t,"remoteDocumentGlobal")}function au(t){return Vr(t,"remoteDocumentsV14")}function Yp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qj(t,e){const r=e.documentKey.path.toArray();return[t,Ey(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Wj(t,e){const r=t.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<r.length-2&&u<o.length-2;++u)if(a=yt(r[u],o[u]),a)return a;return a=yt(r.length,o.length),a||(a=yt(r[r.length-2],o[o.length-2]),a||yt(r[r.length-1],o[o.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gxe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,r,o,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(o!==null&&Mm(o.mutation,a,Qi.empty(),On.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,At()).next(()=>o))}getLocalViewOfDocuments(e,r,o=At()){const a=$s();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,o).next(u=>{let h=hm();return u.forEach((p,m)=>{h=h.insert(p,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,r){const o=$s();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,At()))}populateOverlays(e,r,o){const a=[];return o.forEach(u=>{r.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,p)=>{r.set(h,p)})})}computeViews(e,r,o,a){let u=Zi();const h=Nm(),p=Nm();return r.forEach((m,b)=>{const k=o.get(b.key);a.has(b.key)&&(k===void 0||k.mutation instanceof Ja)?u=u.insert(b.key,b):k!==void 0?(h.set(b.key,k.mutation.getFieldMask()),Mm(k.mutation,b,k.mutation.getFieldMask(),On.now())):h.set(b.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((b,k)=>h.set(b,k)),r.forEach((b,k)=>{var v;return p.set(b,new Gxe(k,(v=h.get(b))!==null&&v!==void 0?v:null))}),p))}recalculateAndSaveOverlays(e,r){const o=Nm();let a=new nr((h,p)=>h-p),u=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(h=>{for(const p of h)p.keys().forEach(m=>{const b=r.get(m);if(b===null)return;let k=o.get(m)||Qi.empty();k=p.applyToLocalView(b,k),o.set(m,k);const v=(a.get(p.batchId)||At()).add(m);a=a.insert(p.batchId,v)})}).next(()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),b=m.key,k=m.value,v=Mq();k.forEach(_=>{if(!u.has(_)){const A=xq(r.get(_),o.get(_));A!==null&&v.set(_,A),u=u.add(_)}}),h.push(this.documentOverlayCache.saveOverlays(e,b,v))}return X.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o){return function(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):vM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o):this.getDocumentsMatchingCollectionQuery(e,r,o)}getNextDocuments(e,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,a-u.size):X.resolve($s());let p=-1,m=u;return h.next(b=>X.forEach(b,(k,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),u.get(k)?X.resolve():this.remoteDocumentCache.getEntry(e,k).next(_=>{m=m.insert(k,_)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,m,b,At())).next(k=>({batchId:p,changes:Pq(k)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ne(r)).next(o=>{let a=hm();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,o){const a=r.collectionGroup;let u=hm();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,p=>{const m=function(b,k){return new Za(k,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(r,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,o).next(b=>{b.forEach((k,v)=>{u=u.insert(k,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,r,o){let a;return this.remoteDocumentCache.getAllFromCollection(e,r.path,o).next(u=>(a=u,this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId))).next(u=>{u.forEach((p,m)=>{const b=m.getKey();a.get(b)===null&&(a=a.insert(b,Cn.newInvalidDocument(b)))});let h=hm();return a.forEach((p,m)=>{const b=u.get(p);b!==void 0&&Mm(b.mutation,m,Qi.empty(),On.now()),yM(r,m)&&(h=h.insert(p,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kxe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return X.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var o;return this.Zn.set(r.id,{id:(o=r).id,version:o.version,createTime:cr(o.createTime)}),X.resolve()}getNamedQuery(e,r){return X.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,function(o){return{name:o.name,query:SM(o.bundledQuery),readTime:cr(o.readTime)}}(r)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yxe{constructor(){this.overlays=new nr(Ne.comparator),this.es=new Map}getOverlay(e,r){return X.resolve(this.overlays.get(r))}getOverlays(e,r){const o=$s();return X.forEach(r,a=>this.getOverlay(e,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((a,u)=>{this.oe(e,r,u)}),X.resolve()}removeOverlaysForBatchId(e,r,o){const a=this.es.get(o);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(o)),X.resolve()}getOverlaysForCollection(e,r,o){const a=$s(),u=r.length+1,h=new Ne(r.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,b=m.getKey();if(!r.isPrefixOf(b.path))break;b.path.length===u&&m.largestBatchId>o&&a.set(m.getKey(),m)}return X.resolve(a)}getOverlaysForCollectionGroup(e,r,o,a){let u=new nr((b,k)=>b-k);const h=this.overlays.getIterator();for(;h.hasNext();){const b=h.getNext().value;if(b.getKey().getCollectionGroup()===r&&b.largestBatchId>o){let k=u.get(b.largestBatchId);k===null&&(k=$s(),u=u.insert(b.largestBatchId,k)),k.set(b.getKey(),b)}}const p=$s(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((b,k)=>p.set(b,k)),!(p.size()>=a)););return X.resolve(p)}oe(e,r,o){const a=this.overlays.get(o.key);if(a!==null){const h=this.es.get(a.largestBatchId).delete(o.key);this.es.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new xM(r,o));let u=this.es.get(r);u===void 0&&(u=At(),this.es.set(r,u)),this.es.set(r,u.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.ns=new ln(Mr.ss),this.rs=new ln(Mr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const o=new Mr(e,r);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.cs(new Mr(e,r))}hs(e,r){e.forEach(o=>this.removeReference(o,r))}ls(e){const r=new Ne(new Bt([])),o=new Mr(r,e),a=new Mr(r,e+1),u=[];return this.rs.forEachInRange([o,a],h=>{this.cs(h),u.push(h.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new Ne(new Bt([])),o=new Mr(r,e),a=new Mr(r,e+1);let u=At();return this.rs.forEachInRange([o,a],h=>{u=u.add(h.key)}),u}containsKey(e){const r=new Mr(e,0),o=this.ns.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class Mr{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return Ne.comparator(e.key,r.key)||yt(e._s,r._s)}static os(e,r){return yt(e._s,r._s)||Ne.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new ln(Mr.ss)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,a){const u=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CM(u,r,o,a);this.mutationQueue.push(h);for(const p of a)this.gs=this.gs.add(new Mr(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,r){return X.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=this.ps(o),u=a<0?0:a;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Mr(r,0),a=new Mr(r,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([o,a],h=>{const p=this.ys(h._s);u.push(p)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ln(yt);return r.forEach(a=>{const u=new Mr(a,0),h=new Mr(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,h],p=>{o=o.add(p._s)})}),X.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1;let u=o;Ne.isDocumentKey(u)||(u=u.child(""));const h=new Mr(new Ne(u),0);let p=new ln(yt);return this.gs.forEachWhile(m=>{const b=m.key.path;return!!o.isPrefixOf(b)&&(b.length===a&&(p=p.add(m._s)),!0)},h),X.resolve(this.Is(p))}Is(e){const r=[];return e.forEach(o=>{const a=this.ys(o);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){rt(this.Ts(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.gs;return X.forEach(r.mutations,a=>{const u=new Mr(a.key,r.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,r){const o=new Mr(r,0),a=this.gs.firstAfterOrEqual(o);return X.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Ts(e,r){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zxe{constructor(e){this.Es=e,this.docs=new nr(Ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,a=this.docs.get(o),u=a?a.size:0,h=this.Es(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return X.resolve(o?o.document.mutableCopy():Cn.newInvalidDocument(r))}getEntries(e,r){let o=Zi();return r.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Cn.newInvalidDocument(a))}),X.resolve(o)}getAllFromCollection(e,r,o){let a=Zi();const u=new Ne(r.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!r.isPrefixOf(p.path))break;p.path.length>r.length+1||mM(eq(m),o)<=0||(a=a.insert(m.key,m.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,r,o,a){qe()}As(e,r){return X.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Jxe(this)}getSize(e){return X.resolve(this.size)}}class Jxe extends rW{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(o)}),X.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xxe{constructor(e){this.persistence=e,this.Rs=new El(r=>td(r),wb),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.bs=0,this.Ps=new DM,this.targetCount=0,this.vs=sd.Pn()}forEachTarget(e,r){return this.Rs.forEach((o,a)=>r(a)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.bs&&(this.bs=r),X.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new sd(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,X.resolve()}updateTargetData(e,r){return this.Dn(r),X.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,r,o){let a=0;const u=[];return this.Rs.forEach((h,p)=>{p.sequenceNumber<=r&&o.get(p.targetId)===null&&(this.Rs.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),X.waitFor(u).next(()=>a)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,r){const o=this.Rs.get(r)||null;return X.resolve(o)}addMatchingKeys(e,r,o){return this.Ps.us(r,o),X.resolve()}removeMatchingKeys(e,r,o){this.Ps.hs(r,o);const a=this.persistence.referenceDelegate,u=[];return a&&r.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),X.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Ps.ds(r);return X.resolve(o)}containsKey(e,r){return X.resolve(this.Ps.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new Yi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Xxe(this),this.indexManager=new zxe,this.remoteDocumentCache=function(o){return new Zxe(o)}(o=>this.referenceDelegate.xs(o)),this.yt=new Qq(r),this.Ns=new Kxe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yxe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Vs[e.toKey()];return o||(o=new Qxe(r,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,o){ye("MemoryPersistence","Starting transaction:",e);const a=new eSe(this.Ss.next());return this.referenceDelegate.ks(),o(a).next(u=>this.referenceDelegate.Os(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ms(e,r){return X.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,r)))}}class eSe extends nq{constructor(e){super(),this.currentSequenceNumber=e}}class T0{constructor(e){this.persistence=e,this.Fs=new DM,this.$s=null}static Bs(e){return new T0(e)}get Ls(){if(this.$s)return this.$s;throw qe()}addReference(e,r,o){return this.Fs.addReference(o,r),this.Ls.delete(o.toString()),X.resolve()}removeReference(e,r,o){return this.Fs.removeReference(o,r),this.Ls.add(o.toString()),X.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),X.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(a=>this.Ls.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(u=>this.Ls.add(u.toString()))}).next(()=>o.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Ls,o=>{const a=Ne.fromPath(o);return this.qs(e,a).next(u=>{u||r.removeEntry(a,ot.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.qs(e,r).next(o=>{o?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}qs(e,r){return X.or([()=>X.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(e){this.yt=e}$(e,r,o,a){const u=new y0("createOrUpgrade",r);o<1&&a>=1&&(function(p){p.createObjectStore("owner")}(e),function(p){p.createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dj,{unique:!0}),p.createObjectStore("documentMutations")}(e),Gj(e),function(p){p.createObjectStore("remoteDocuments")}(e));let h=X.resolve();return o<3&&a>=3&&(o!==0&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Gj(e)),h=h.next(()=>function(p){const m=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ot.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",b)}(u))),o<4&&a>=4&&(o!==0&&(h=h.next(()=>function(p,m){return m.store("mutations").W().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dj,{unique:!0});const k=m.store("mutations"),v=b.map(_=>k.put(_));return X.waitFor(v)})}(e,u))),h=h.next(()=>{(function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),o<5&&a>=5&&(h=h.next(()=>this.Us(u))),o<6&&a>=6&&(h=h.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),o<7&&a>=7&&(h=h.next(()=>this.Gs(u))),o<8&&a>=8&&(h=h.next(()=>this.Qs(e,u))),o<9&&a>=9&&(h=h.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)})),o<10&&a>=10&&(h=h.next(()=>this.js(u))),o<11&&a>=11&&(h=h.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(h=h.next(()=>{(function(p){const m=p.createObjectStore("documentOverlays",{keyPath:Exe});m.createIndex("collectionPathOverlayIndex",xxe,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",Sxe,{unique:!1})})(e)})),o<13&&a>=13&&(h=h.next(()=>function(p){const m=p.createObjectStore("remoteDocumentsV14",{keyPath:pxe});m.createIndex("documentKeyIndex",mxe),m.createIndex("collectionGroupIndex",gxe)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(h=h.next(()=>this.zs(e,u))),o<15&&a>=15&&(h=h.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:yxe}).createIndex("sequenceNumberIndex",_xe,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Axe}).createIndex("documentKeyIndex",Cxe,{unique:!1})}(e))),h}Ks(e){let r=0;return e.store("remoteDocuments").Z((o,a)=>{r+=Sy(a)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.W().next(a=>X.forEach(a,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",h).next(p=>X.forEach(p,m=>{rt(m.userId===u.userId);const b=gu(this.yt,m);return eW(e,u.userId,b).next(()=>{})}))}))}Gs(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.Z((h,p)=>{const m=new Bt(h),b=function(k){return[0,Mi(k)]}(m);u.push(r.get(b).next(k=>k?X.resolve():(v=>r.put({targetId:0,path:Mi(v),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>X.waitFor(u))})}Qs(e,r){e.createObjectStore("collectionParents",{keyPath:vxe});const o=r.store("collectionParents"),a=new IM,u=h=>{if(a.add(h)){const p=h.lastSegment(),m=h.popLast();return o.put({collectionId:p,parent:Mi(m)})}};return r.store("remoteDocuments").Z({X:!0},(h,p)=>{const m=new Bt(h);return u(m.popLast())}).next(()=>r.store("documentMutations").Z({X:!0},([h,p,m],b)=>{const k=Hs(p);return u(k.popLast())}))}js(e){const r=e.store("targets");return r.Z((o,a)=>{const u=fm(a),h=Zq(this.yt,u);return r.put(h)})}Ws(e,r){const o=r.store("remoteDocuments"),a=[];return o.Z((u,h)=>{const p=r.store("remoteDocumentsV14"),m=(b=h,b.document?new Ne(Bt.fromString(b.document.name).popFirst(5)):b.noDocument?Ne.fromSegments(b.noDocument.path):b.unknownDocument?Ne.fromSegments(b.unknownDocument.path):qe()).path.toArray();var b;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};a.push(p.put(k))}).next(()=>X.waitFor(a))}zs(e,r){const o=r.store("mutations"),a=iW(this.yt),u=new sW(T0.Bs,this.yt.ie);return o.W().next(h=>{const p=new Map;return h.forEach(m=>{var b;let k=(b=p.get(m.userId))!==null&&b!==void 0?b:At();gu(this.yt,m).keys().forEach(v=>k=k.add(v)),p.set(m.userId,k)}),X.forEach(p,(m,b)=>{const k=new Rr(b),v=x0.re(this.yt,k),_=u.getIndexManager(k),A=S0.re(k,this.yt,_,u.referenceDelegate);return new oW(a,A,v,_).recalculateAndSaveOverlaysForDocumentKeys(new kI(r,Yi.at),m).next()})})}}function Gj(t){t.createObjectStore("targetDocuments",{keyPath:wxe}).createIndex("documentTargetsIndex",kxe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bxe,{unique:!0}),t.createObjectStore("targetGlobal")}const Xx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PM{constructor(e,r,o,a,u,h,p,m,b,k,v=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Hs=u,this.window=h,this.document=p,this.Js=b,this.Ys=k,this.Xs=v,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=_=>Promise.resolve(),!PM.C())throw new ke(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hxe(this,a),this.ii=r+"main",this.yt=new Qq(m),this.ri=new ls(this.ii,this.Xs,new tSe(this.yt)),this.Cs=new jxe(this.referenceDelegate,this.yt),this.remoteDocumentCache=iW(this.yt),this.Ns=new Pxe,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,k===!1&&sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ie.FAILED_PRECONDITION,Xx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Yi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rk(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(r=>this.isPrimary&&!r?this._i(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Cl(e))return ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Qp(e).get("owner").next(r=>X.resolve(this.mi(r)))}gi(e){return Rk(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vr(r,"clientMetadata");return o.W().next(a=>{const u=this.Ii(a,18e5),h=a.filter(p=>u.indexOf(p)===-1);return X.forEach(h,p=>o.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(this.oi)for(const r of e)this.oi.removeItem(this.Ti(r.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?X.resolve(!0):Qp(e).get("owner").next(r=>{if(r!==null&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)){if(this.mi(r)&&this.networkEnabled)return!0;if(!this.mi(r)){if(!r.allowTabSynchronization)throw new ke(ie.FAILED_PRECONDITION,Xx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rk(e).W().next(o=>this.Ii(o,5e3).find(a=>{if(this.clientId!==a.clientId){const u=!this.networkEnabled&&a.networkEnabled,h=!this.inForeground&&a.inForeground,p=this.networkEnabled===a.networkEnabled;if(u||h&&p)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ye("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new kI(e,Yi.at);return this._i(r).next(()=>this.gi(r))}),this.ri.close(),this.Pi()}Ii(e,r){return e.filter(o=>this.pi(o.updateTimeMs,r)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Rk(e).W().next(r=>this.Ii(r,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,r){return S0.re(e,this.yt,r,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fxe(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return x0.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,r,o){ye("IndexedDbPersistence","Starting transaction:",e);const a=r==="readonly"?"readonly":"readwrite",u=(h=this.Xs)===15?Ixe:h===14?Yq:h===13?Kq:h===12?Txe:h===11?Gq:void qe();var h;let p;return this.ri.runTransaction(e,a,u,m=>(p=new kI(m,this.Ss?this.Ss.next():Yi.at),r==="readwrite-primary"?this.fi(p).next(b=>!!b||this.di(p)).next(b=>{if(!b)throw sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(ie.FAILED_PRECONDITION,tq);return o(p)}).next(b=>this.wi(p).next(()=>b)):this.Vi(p).next(()=>o(p)))).then(m=>(p.raiseOnCommittedEvent(),m))}Vi(e){return Qp(e).get("owner").next(r=>{if(r!==null&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)&&!this.mi(r)&&!(this.Ys||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ke(ie.FAILED_PRECONDITION,Xx)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qp(e).put("owner",r)}static C(){return ls.C()}_i(e){const r=Qp(e);return r.get("owner").next(o=>this.mi(o)?(ye("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):X.resolve())}pi(e,r){const o=Date.now();return!(e<o-r)&&(!(e>o)||(sr(`Detected an update time that is in the future: ${e} > ${o}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),qve()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var r;try{const o=((r=this.oi)===null||r===void 0?void 0:r.getItem(this.Ti(e)))!==null;return ye("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return sr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){sr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qp(t){return Vr(t,"owner")}function Rk(t){return Vr(t,"clientMetadata")}function MM(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,r,o,a){this.targetId=e,this.fromCache=r,this.Si=o,this.Di=a}static Ci(e,r){let o=At(),a=At();for(const u of r.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new NM(e,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,o,a){return this.ki(e,r).next(u=>u||this.Oi(e,r,a,o)).next(u=>u||this.Mi(e,r))}ki(e,r){if(vj(r))return X.resolve(null);let o=to(r);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Cy(r,null,"F"),o=to(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=At(...u);return this.Ni.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,o).next(m=>{const b=this.Fi(r,p);return this.$i(r,b,h,m.readTime)?this.ki(e,Cy(r,null,"F")):this.Bi(e,b,r,m)}))})))}Oi(e,r,o,a){return vj(r)||a.isEqual(ot.min())?this.Mi(e,r):this.Ni.getDocuments(e,o).next(u=>{const h=this.Fi(r,u);return this.$i(r,h,o,a)?this.Mi(e,r):(cI()<=jt.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gI(r)),this.Bi(e,h,r,X9(a,-1)))})}Fi(e,r){let o=new ln(wq(e));return r.forEach((a,u)=>{yM(e,u)&&(o=o.add(u))}),o}$i(e,r,o,a){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Mi(e,r){return cI()<=jt.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",gI(r)),this.Ni.getDocumentsMatchingQuery(e,r,go.min())}Bi(e,r,o,a){return this.Ni.getDocumentsMatchingQuery(e,o,a).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nSe{constructor(e,r,o,a){this.persistence=e,this.Li=r,this.yt=a,this.qi=new nr(yt),this.Ui=new El(u=>td(u),wb),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oW(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qi))}}function cW(t,e,r,o){return new nSe(t,e,r,o)}async function lW(t,e){const r=Le(t);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,r.Qi(e),r.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],p=[];let m=At();for(const b of a){h.push(b.batchId);for(const k of b.mutations)m=m.add(k.key)}for(const b of u){p.push(b.batchId);for(const k of b.mutations)m=m.add(k.key)}return r.localDocuments.getDocuments(o,m).next(b=>({ji:b,removedBatchIds:h,addedBatchIds:p}))})})}function rSe(t,e){const r=Le(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=r.Gi.newChangeBuffer({trackRemovals:!0});return function(h,p,m,b){const k=m.batch,v=k.keys();let _=X.resolve();return v.forEach(A=>{_=_.next(()=>b.getEntry(p,A)).next(E=>{const I=m.docVersions.get(A);rt(I!==null),E.version.compareTo(I)<0&&(k.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),b.addEntry(E)))})}),_.next(()=>h.mutationQueue.removeMutationBatch(p,k))}(r,o,e,u).next(()=>u.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let p=At();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>r.localDocuments.getDocuments(o,a))})}function uW(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function iSe(t,e){const r=Le(t),o=e.snapshotVersion;let a=r.qi;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.Gi.newChangeBuffer({trackRemovals:!0});a=r.qi;const p=[];e.targetChanges.forEach((k,v)=>{const _=a.get(v);if(!_)return;p.push(r.Cs.removeMatchingKeys(u,k.removedDocuments,v).next(()=>r.Cs.addMatchingKeys(u,k.addedDocuments,v)));let A=_.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.has(v)?A=A.withResumeToken(vr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):k.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(k.resumeToken,o)),a=a.insert(v,A),function(E,I,L){return E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(_,A,k)&&p.push(r.Cs.updateTargetData(u,A))});let m=Zi(),b=At();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(u,k))}),p.push(dW(u,h,e.documentUpdates).next(k=>{m=k.Wi,b=k.zi})),!o.isEqual(ot.min())){const k=r.Cs.getLastRemoteSnapshotVersion(u).next(v=>r.Cs.setTargetsMetadata(u,u.currentSequenceNumber,o));p.push(k)}return X.waitFor(p).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,m,b)).next(()=>m)}).then(u=>(r.qi=a,u))}function dW(t,e,r){let o=At(),a=At();return r.forEach(u=>o=o.add(u)),e.getEntries(t,o).next(u=>{let h=Zi();return r.forEach((p,m)=>{const b=u.get(p);m.isFoundDocument()!==b.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(ot.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||m.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):ye("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",m.version)}),{Wi:h,zi:a}})}function oSe(t,e){const r=Le(t);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ff(t,e){const r=Le(t);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Cs.getTargetData(o,e).next(u=>u?(a=u,X.resolve(a)):r.Cs.allocateTargetId(o).next(h=>(a=new Gc(e,h,0,o.currentSequenceNumber),r.Cs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.qi.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.qi=r.qi.insert(o.targetId,o),r.Ui.set(e,o.targetId)),o})}async function pf(t,e,r){const o=Le(t),a=o.qi.get(e),u=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Cl(h))throw h;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.qi=o.qi.remove(e),o.Ui.delete(a.target)}function Ty(t,e,r){const o=Le(t);let a=ot.min(),u=At();return o.persistence.runTransaction("Execute query","readonly",h=>function(p,m,b){const k=Le(p),v=k.Ui.get(b);return v!==void 0?X.resolve(k.qi.get(v)):k.Cs.getTargetData(m,b)}(o,h,to(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(h,p.targetId).next(m=>{u=m})}).next(()=>o.Li.getDocumentsMatchingQuery(h,e,r?a:ot.min(),r?u:At())).next(p=>(pW(o,bq(e),p),{documents:p,Hi:u})))}function hW(t,e){const r=Le(t),o=Le(r.Cs),a=r.qi.get(e);return a?Promise.resolve(a.target):r.persistence.runTransaction("Get target data","readonly",u=>o.ne(u,e).next(h=>h?h.target:null))}function fW(t,e){const r=Le(t),o=r.Ki.get(e)||ot.min();return r.persistence.runTransaction("Get new document changes","readonly",a=>r.Gi.getAllFromCollectionGroup(a,e,X9(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(pW(r,e,a),a))}function pW(t,e,r){let o=t.Ki.get(e)||ot.min();r.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),t.Ki.set(e,o)}async function sSe(t,e,r,o){const a=Le(t);let u=At(),h=Zi();for(const b of r){const k=e.Ji(b.metadata.name);b.document&&(u=u.add(k));const v=e.Yi(b);v.setReadTime(e.Xi(b.metadata.readTime)),h=h.insert(k,v)}const p=a.Gi.newChangeBuffer({trackRemovals:!0}),m=await ff(a,function(b){return to(Rf(Bt.fromString(`__bundle__/docs/${b}`)))}(o));return a.persistence.runTransaction("Apply bundle documents","readwrite",b=>dW(b,p,h).next(k=>(p.apply(b),k)).next(k=>a.Cs.removeMatchingKeysForTargetId(b,m.targetId).next(()=>a.Cs.addMatchingKeys(b,u,m.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(b,k.Wi,k.zi)).next(()=>k.Wi)))}async function aSe(t,e,r=At()){const o=await ff(t,to(SM(e.bundledQuery))),a=Le(t);return a.persistence.runTransaction("Save named query","readwrite",u=>{const h=cr(e.readTime);if(o.snapshotVersion.compareTo(h)>=0)return a.Ns.saveNamedQuery(u,e);const p=o.withResumeToken(vr.EMPTY_BYTE_STRING,h);return a.qi=a.qi.insert(p.targetId,p),a.Cs.updateTargetData(u,p).next(()=>a.Cs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Cs.addMatchingKeys(u,r,o.targetId)).next(()=>a.Ns.saveNamedQuery(u,e))})}function Kj(t,e){return`firestore_clients_${t}_${e}`}function Yj(t,e,r){let o=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function eS(t,e){return`firestore_targets_${t}_${e}`}class Iy{constructor(e,r,o,a){this.user=e,this.batchId=r,this.state=o,this.error=a}static Zi(e,r,o){const a=JSON.parse(o);let u,h=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return h&&a.error&&(h=typeof a.error.message=="string"&&typeof a.error.code=="string",h&&(u=new ke(a.error.code,a.error.message))),h?new Iy(e,r,a.state,u):(sr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rm{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Zi(e,r){const o=JSON.parse(r);let a,u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string",u&&(a=new ke(o.error.code,o.error.message))),u?new Rm(e,o.state,a):(sr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dy{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Zi(e,r){const o=JSON.parse(r);let a=typeof o=="object"&&o.activeTargetIds instanceof Array,u=E0();for(let h=0;a&&h<o.activeTargetIds.length;++h)a=iq(o.activeTargetIds[h]),u=u.add(o.activeTargetIds[h]);return a?new Dy(e,u):(sr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class RM{constructor(e,r){this.clientId=e,this.onlineState=r}static Zi(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new RM(r.clientId,r.onlineState):(sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class AI{constructor(){this.activeTargetIds=E0()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tS{constructor(e,r,o,a,u){this.window=e,this.Hs=r,this.persistenceKey=o,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new nr(yt),this.started=!1,this.cr=[];const h=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Kj(this.persistenceKey,this.sr),this.hr=function(p){return`firestore_sequence_number_${p}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new AI),this.lr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.wr=function(p){return`firestore_online_state_${p}`}(this.persistenceKey),this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const o of e){if(o===this.sr)continue;const a=this.getItem(Kj(this.persistenceKey,o));if(a){const u=Dy.Zi(o,a);u&&(this.ur=this.ur.insert(u.clientId,u))}}this.gr();const r=this.storage.getItem(this.wr);if(r){const o=this.yr(r);o&&this.pr(o)}for(const o of this.cr)this.rr(o);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let r=!1;return this.ur.forEach((o,a)=>{a.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,r,o){this.Tr(e,r,o),this.Er(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(eS(this.persistenceKey,e));if(o){const a=Rm.Zi(e,o);a&&(r=a.state)}}return this.Ar.er(e),this.gr(),r}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eS(this.persistenceKey,e))}updateQueryState(e,r,o){this.Rr(e,r,o)}handleUserChange(e,r,o){r.forEach(a=>{this.Er(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ye("SharedClientState","READ",e,r),r}setItem(e,r){ye("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const r=e;if(r.storageArea===this.storage){if(ye("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(r.key!==null){if(this.lr.test(r.key)){if(r.newValue==null){const o=this.vr(r.key);return this.Vr(o,null)}{const o=this.Sr(r.key,r.newValue);if(o)return this.Vr(o.clientId,o)}}else if(this.dr.test(r.key)){if(r.newValue!==null){const o=this.Dr(r.key,r.newValue);if(o)return this.Cr(o)}}else if(this._r.test(r.key)){if(r.newValue!==null){const o=this.Nr(r.key,r.newValue);if(o)return this.kr(o)}}else if(r.key===this.wr){if(r.newValue!==null){const o=this.yr(r.newValue);if(o)return this.pr(o)}}else if(r.key===this.hr){const o=function(a){let u=Yi.at;if(a!=null)try{const h=JSON.parse(a);rt(typeof h=="number"),u=h}catch(h){sr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);o!==Yi.at&&this.sequenceNumberHandler(o)}else if(r.key===this.mr){const o=this.Or(r.newValue);await Promise.all(o.map(a=>this.syncEngine.Mr(a)))}}}else this.cr.push(r)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,r,o){const a=new Iy(this.currentUser,e,r,o),u=Yj(this.persistenceKey,this.currentUser,e);this.setItem(u,a.tr())}Er(e){const r=Yj(this.persistenceKey,this.currentUser,e);this.removeItem(r)}br(e){const r={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(r))}Rr(e,r,o){const a=eS(this.persistenceKey,e),u=new Rm(e,r,o);this.setItem(a,u.tr())}Pr(e){const r=JSON.stringify(Array.from(e));this.setItem(this.mr,r)}vr(e){const r=this.lr.exec(e);return r?r[1]:null}Sr(e,r){const o=this.vr(e);return Dy.Zi(o,r)}Dr(e,r){const o=this.dr.exec(e),a=Number(o[1]),u=o[2]!==void 0?o[2]:null;return Iy.Zi(new Rr(u),a,r)}Nr(e,r){const o=this._r.exec(e),a=Number(o[1]);return Rm.Zi(a,r)}yr(e){return RM.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,r){const o=r?this.ur.insert(e,r):this.ur.remove(e),a=this.Ir(this.ur),u=this.Ir(o),h=[],p=[];return u.forEach(m=>{a.has(m)||h.push(m)}),a.forEach(m=>{u.has(m)||p.push(m)}),this.syncEngine.Br(h,p).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let r=E0();return e.forEach((o,a)=>{r=r.unionWith(a.activeTargetIds)}),r}}class mW{constructor(){this.Lr=new AI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,r,o){this.qr[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new AI,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cSe{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uSe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dSe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.oo=r+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,o,a,u){const h=this.ho(e,r);ye("RestConnection","Sending: ",h,o);const p={};return this.lo(p,a,u),this.fo(e,h,p,o).then(m=>(ye("RestConnection","Received: ",m),m),m=>{throw sf("RestConnection",`${e} failed with error: `,m,"url: ",h,"request:",o),m})}_o(e,r,o,a,u,h){return this.ao(e,r,o,a,u)}lo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}ho(e,r){const o=lSe[e];return`${this.oo}/v1/${r}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,o,a){return new Promise((u,h)=>{const p=new uEe;p.setWithCredentials(!0),p.listenOnce(aEe.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zx.NO_ERROR:const b=p.getResponseJson();ye("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Zx.TIMEOUT:ye("Connection",'RPC "'+e+'" timed out'),h(new ke(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Zx.HTTP_ERROR:const k=p.getStatus();if(ye("Connection",'RPC "'+e+'" failed with status:',k,"response text:",p.getResponseText()),k>0){let v=p.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const A=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(I)>=0?I:ie.UNKNOWN}(_.status);h(new ke(A,_.message))}else h(new ke(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ke(ie.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{ye("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(a);p.send(r,"POST",m,o,15)})}wo(e,r,o){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oEe(),h=sEe(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new lEe({})),this.lo(p.initMessageHeaders,r,o),p.encodeInitMessageHeaders=!0;const m=a.join("");ye("Connection","Creating WebChannel: "+m,p);const b=u.createWebChannel(m,p);let k=!1,v=!1;const _=new uSe({Hr:E=>{v?ye("Connection","Not sending because WebChannel is closed:",E):(k||(ye("Connection","Opening WebChannel transport."),b.open(),k=!0),ye("Connection","WebChannel sending:",E),b.send(E))},Jr:()=>b.close()}),A=(E,I,L)=>{E.listen(I,N=>{try{L(N)}catch(T){setTimeout(()=>{throw T},0)}})};return A(b,Ik.EventType.OPEN,()=>{v||ye("Connection","WebChannel transport opened.")}),A(b,Ik.EventType.CLOSE,()=>{v||(v=!0,ye("Connection","WebChannel transport closed"),_.io())}),A(b,Ik.EventType.ERROR,E=>{v||(v=!0,sf("Connection","WebChannel transport errored:",E),_.io(new ke(ie.UNAVAILABLE,"The operation could not be completed")))}),A(b,Ik.EventType.MESSAGE,E=>{var I;if(!v){const L=E.data[0];rt(!!L);const N=L,T=N.error||((I=N[0])===null||I===void 0?void 0:I.error);if(T){ye("Connection","WebChannel received error:",T);const D=T.status;let O=function(U){const q=ur[U];if(q!==void 0)return Iq(q)}(D),V=T.message;O===void 0&&(O=ie.INTERNAL,V="Unknown error status: "+D+" with message "+T.message),v=!0,_.io(new ke(O,V)),b.close()}else ye("Connection","WebChannel received:",L),_.ro(L)}}),A(h,cEe.STAT_EVENT,E=>{E.stat===sj.PROXY?ye("Connection","Detected buffering proxy"):E.stat===sj.NOPROXY&&ye("Connection","Detected no buffering proxy")}),setTimeout(()=>{_.so()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(){return typeof window<"u"?window:null}function Av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return new nxe(t,!0)}class OM{constructor(e,r,o=1e3,a=1.5,u=6e4){this.Hs=e,this.timerId=r,this.mo=o,this.yo=a,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),a=Math.max(0,r-o);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,r,o,a,u,h,p,m){this.Hs=e,this.vo=o,this.Vo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new OM(e,r)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,r){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():r&&r.code===ie.RESOURCE_EXHAUSTED?(sr(r.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):r&&r.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(r)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.So===r&&this.Go(o,a)},o=>{e(()=>{const a=new ke(ie.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(a)})})}Go(e,r){const o=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{o(()=>this.Qo(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hSe extends bW{constructor(e,r,o,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,h),this.yt=u}jo(e,r){return this.connection.wo("Listen",e,r)}onMessage(e){this.xo.reset();const r=oxe(this.yt,e),o=function(a){if(!("targetChange"in a))return ot.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ot.min():u.readTime?cr(u.readTime):ot.min()}(e);return this.listener.Wo(r,o)}zo(e){const r={};r.database=Pg(this.yt),r.addTarget=function(a,u){let h;const p=u.target;return h=_y(p)?{documents:jq(a,p)}:{query:Vq(a,p)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=Oq(a,u.resumeToken):u.snapshotVersion.compareTo(ot.min())>0&&(h.readTime=hf(a,u.snapshotVersion.toTimestamp())),h}(this.yt,e);const o=axe(this.yt,e);o&&(r.labels=o),this.Bo(r)}Ho(e){const r={};r.database=Pg(this.yt),r.removeTarget=e,this.Bo(r)}}class fSe extends bW{constructor(e,r,o,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,h),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,r){return this.connection.wo("Write",e,r)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=sxe(e.writeResults,e.commitTime),o=cr(e.commitTime);return this.listener.Zo(o,r)}return rt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pg(this.yt),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Mg(this.yt,o))};this.Bo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pSe extends class{}{constructor(e,r,o,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.yt=a,this.nu=!1}su(){if(this.nu)throw new ke(ie.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.ao(e,r,o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ie.UNKNOWN,a.toString())})}_o(e,r,o,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection._o(e,r,o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ke(ie.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class mSe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(sr(r),this.ou=!1):ye("OnlineStateTracker",r)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gSe{constructor(e,r,o,a,u){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(h=>{o.enqueueAndForget(async()=>{xl(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=Le(p);m._u.add(4),await Bf(m),m.gu.set("Unknown"),m._u.delete(4),await Cb(m)}(this))})}),this.gu=new mSe(o,a)}}async function Cb(t){if(xl(t))for(const e of t.wu)await e(!0)}async function Bf(t){for(const e of t.wu)await e(!1)}function I0(t,e){const r=Le(t);r.du.has(e.targetId)||(r.du.set(e.targetId,e),zM(r)?BM(r):Ff(r).ko()&&LM(r,e))}function Ng(t,e){const r=Le(t),o=Ff(r);r.du.delete(e),o.ko()&&wW(r,e),r.du.size===0&&(o.ko()?o.Fo():xl(r)&&r.gu.set("Unknown"))}function LM(t,e){t.yu.Ot(e.targetId),Ff(t).zo(e)}function wW(t,e){t.yu.Ot(e),Ff(t).Ho(e)}function BM(t){t.yu=new JEe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Ff(t).start(),t.gu.uu()}function zM(t){return xl(t)&&!Ff(t).No()&&t.du.size>0}function xl(t){return Le(t)._u.size===0}function kW(t){t.yu=void 0}async function bSe(t){t.du.forEach((e,r)=>{LM(t,e)})}async function wSe(t,e){kW(t),zM(t)?(t.gu.hu(e),BM(t)):t.gu.set("Unknown")}async function kSe(t,e,r){if(t.gu.set("Online"),e instanceof Rq&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.du.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.du.delete(h),o.yu.removeTarget(h))}(t,e)}catch(o){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Py(t,o)}else if(e instanceof yv?t.yu.Kt(e):e instanceof Nq?t.yu.Jt(e):t.yu.jt(e),!r.isEqual(ot.min()))try{const o=await uW(t.localStore);r.compareTo(o)>=0&&await function(a,u){const h=a.yu.Zt(u);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=a.du.get(m);b&&a.du.set(m,b.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach(p=>{const m=a.du.get(p);if(!m)return;a.du.set(p,m.withResumeToken(vr.EMPTY_BYTE_STRING,m.snapshotVersion)),wW(a,p);const b=new Gc(m.target,p,1,m.sequenceNumber);LM(a,b)}),a.remoteSyncer.applyRemoteEvent(h)}(t,r)}catch(o){ye("RemoteStore","Failed to raise snapshot:",o),await Py(t,o)}}async function Py(t,e,r){if(!Cl(e))throw e;t._u.add(1),await Bf(t),t.gu.set("Offline"),r||(r=()=>uW(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await r(),t._u.delete(1),await Cb(t)})}function vW(t,e){return e().catch(r=>Py(t,r,e))}async function zf(t){const e=Le(t),r=al(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;vSe(e);)try{const a=await oSe(e.localStore,o);if(a===null){e.fu.length===0&&r.Fo();break}o=a.batchId,ySe(e,a)}catch(a){await Py(e,a)}yW(e)&&_W(e)}function vSe(t){return xl(t)&&t.fu.length<10}function ySe(t,e){t.fu.push(e);const r=al(t);r.ko()&&r.Yo&&r.Xo(e.mutations)}function yW(t){return xl(t)&&!al(t).No()&&t.fu.length>0}function _W(t){al(t).start()}async function _Se(t){al(t).eu()}async function ASe(t){const e=al(t);for(const r of t.fu)e.Xo(r.mutations)}async function CSe(t,e,r){const o=t.fu.shift(),a=EM.from(o,e,r);await vW(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await zf(t)}async function ESe(t,e){e&&al(t).Yo&&await async function(r,o){if(a=o.code,Tq(a)&&a!==ie.ABORTED){const u=r.fu.shift();al(r).Mo(),await vW(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await zf(r)}var a}(t,e),yW(t)&&_W(t)}async function Zj(t,e){const r=Le(t);r.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const o=xl(r);r._u.add(3),await Bf(r),o&&r.gu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),await Cb(r)}async function CI(t,e){const r=Le(t);e?(r._u.delete(2),await Cb(r)):e||(r._u.add(2),await Bf(r),r.gu.set("Unknown"))}function Ff(t){return t.pu||(t.pu=function(e,r,o){const a=Le(e);return a.su(),new hSe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,o)}(t.datastore,t.asyncQueue,{Yr:bSe.bind(null,t),Zr:wSe.bind(null,t),Wo:kSe.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),zM(t)?BM(t):t.gu.set("Unknown")):(await t.pu.stop(),kW(t))})),t.pu}function al(t){return t.Iu||(t.Iu=function(e,r,o){const a=Le(e);return a.su(),new fSe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,o)}(t.datastore,t.asyncQueue,{Yr:_Se.bind(null,t),Zr:ESe.bind(null,t),tu:ASe.bind(null,t),Zo:CSe.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await zf(t)):(await t.Iu.stop(),t.fu.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,r,o,a,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,r,o,a,u){const h=Date.now()+o,p=new FM(e,r,h,a,u);return p.start(o),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jf(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Cl(t))return new ke(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ne.comparator(r.key,o.key):(r,o)=>Ne.comparator(r.key,o.key),this.keyedMap=hm(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new Vh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Vh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.Tu=new nr(Ne.comparator)}track(e){const r=e.doc.key,o=this.Tu.get(r);o?e.type!==0&&o.type===3?this.Tu=this.Tu.insert(r,e):e.type===3&&o.type!==1?this.Tu=this.Tu.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Tu=this.Tu.remove(r):e.type===1&&o.type===2?this.Tu=this.Tu.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):qe():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,o)=>{e.push(o)}),e}}class mf{constructor(e,r,o,a,u,h,p,m,b){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=b}static fromInitialDocuments(e,r,o,a,u){const h=[];return r.forEach(p=>{h.push({type:0,doc:p})}),new mf(e,r,Vh.emptySet(r),h,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xSe{constructor(){this.Au=void 0,this.listeners=[]}}class SSe{constructor(){this.queries=new El(e=>gq(e),kb),this.onlineState="Unknown",this.Ru=new Set}}async function jM(t,e){const r=Le(t),o=e.query;let a=!1,u=r.queries.get(o);if(u||(a=!0,u=new xSe),a)try{u.Au=await r.onListen(o)}catch(h){const p=jf(h,`Initialization of query '${gI(e.query)}' failed`);return void e.onError(p)}r.queries.set(o,u),u.listeners.push(e),e.bu(r.onlineState),u.Au&&e.Pu(u.Au)&&UM(r)}async function VM(t,e){const r=Le(t),o=e.query;let a=!1;const u=r.queries.get(o);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),a=u.listeners.length===0)}if(a)return r.queries.delete(o),r.onUnlisten(o)}function TSe(t,e){const r=Le(t);let o=!1;for(const a of e){const u=a.query,h=r.queries.get(u);if(h){for(const p of h.listeners)p.Pu(a)&&(o=!0);h.Au=a}}o&&UM(r)}function ISe(t,e,r){const o=Le(t),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(r);o.queries.delete(e)}function UM(t){t.Ru.forEach(e=>{e.next()})}class $M{constructor(e,r,o){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new mf(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){if(!e.fromCache)return!0;const o=r!=="Offline";return(!this.options.Nu||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const r=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}xu(e){e=mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DSe{constructor(e,r){this.ku=e,this.byteLength=r}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.yt=e}Ji(e){return Qs(this.yt,e)}Yi(e){return e.metadata.exists?Fq(this.yt,e.document,!1):Cn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return cr(e)}}class PSe{constructor(e,r,o){this.Mu=e,this.localStore=r,this.yt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AW(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++r;const o=Bt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}$u(e){const r=new Map,o=new Xj(this.yt);for(const a of e)if(a.metadata.queries){const u=o.Ji(a.metadata.name);for(const h of a.metadata.queries){const p=(r.get(h)||At()).add(u);r.set(h,p)}}return r}async complete(){const e=await sSe(this.localStore,new Xj(this.yt),this.documents,this.Mu.id),r=this.$u(this.documents);for(const o of this.queries)await aSe(this.localStore,o,r.get(o.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function AW(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.key=e}}class EW{constructor(e){this.key=e}}class xW{constructor(e,r){this.query=e,this.qu=r,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=At(),this.mutatedKeys=At(),this.Gu=wq(e),this.Qu=new Vh(this.Gu)}get ju(){return this.qu}Wu(e,r){const o=r?r.zu:new Jj,a=r?r.Qu:this.Qu;let u=r?r.mutatedKeys:this.mutatedKeys,h=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,b=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((k,v)=>{const _=a.get(k),A=yM(this.query,v)?v:null,E=!!_&&this.mutatedKeys.has(_.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;_&&A?_.data.isEqual(A.data)?E!==I&&(o.track({type:3,doc:A}),L=!0):this.Hu(_,A)||(o.track({type:2,doc:A}),L=!0,(m&&this.Gu(A,m)>0||b&&this.Gu(A,b)<0)&&(p=!0)):!_&&A?(o.track({type:0,doc:A}),L=!0):_&&!A&&(o.track({type:1,doc:_}),L=!0,(m||b)&&(p=!0)),L&&(A?(h=h.add(A),u=I?u.add(k):u.delete(k)):(h=h.delete(k),u=u.delete(k)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const k=this.query.limitType==="F"?h.last():h.first();h=h.delete(k.key),u=u.delete(k.key),o.track({type:1,doc:k})}return{Qu:h,zu:o,$i:p,mutatedKeys:u}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((b,k)=>function(v,_){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return A(v)-A(_)}(b.type,k.type)||this.Gu(b.doc,k.doc)),this.Ju(o);const h=r?this.Yu():[],p=this.Ku.size===0&&this.current?1:0,m=p!==this.Uu;return this.Uu=p,u.length!==0||m?{snapshot:new mf(this.query,e.Qu,a,u,e.mutatedKeys,p===0,m,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:h}:{Xu:h}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Jj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.qu=this.qu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qu=this.qu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=At(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const r=[];return e.forEach(o=>{this.Ku.has(o)||r.push(new EW(o))}),this.Ku.forEach(o=>{e.has(o)||r.push(new CW(o))}),r}tc(e){this.qu=e.Hi,this.Ku=At();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return mf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class MSe{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class NSe{constructor(e){this.key=e,this.nc=!1}}class RSe{constructor(e,r,o,a,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.sc={},this.ic=new El(p=>gq(p),kb),this.rc=new Map,this.oc=new Set,this.uc=new nr(Ne.comparator),this.cc=new Map,this.ac=new DM,this.hc={},this.lc=new Map,this.fc=sd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function OSe(t,e){const r=KM(t);let o,a;const u=r.ic.get(e);if(u)o=u.targetId,r.sharedClientState.addLocalQueryTarget(o),a=u.view.ec();else{const h=await ff(r.localStore,to(e));r.isPrimaryClient&&I0(r.remoteStore,h);const p=r.sharedClientState.addLocalQueryTarget(h.targetId);o=h.targetId,a=await HM(r,e,o,p==="current",h.resumeToken)}return a}async function HM(t,e,r,o,a){t._c=(v,_,A)=>async function(E,I,L,N){let T=I.view.Wu(L);T.$i&&(T=await Ty(E.localStore,I.query,!1).then(({documents:V})=>I.view.Wu(V,T)));const D=N&&N.targetChanges.get(I.targetId),O=I.view.applyChanges(T,E.isPrimaryClient,D);return EI(E,I.targetId,O.Xu),O.snapshot}(t,v,_,A);const u=await Ty(t.localStore,e,!0),h=new xW(e,u.Hi),p=h.Wu(u.documents),m=_b.createSynthesizedTargetChangeForCurrentChange(r,o&&t.onlineState!=="Offline",a),b=h.applyChanges(p,t.isPrimaryClient,m);EI(t,r,b.Xu);const k=new MSe(e,r,h);return t.ic.set(e,k),t.rc.has(r)?t.rc.get(r).push(e):t.rc.set(r,[e]),b.snapshot}async function LSe(t,e){const r=Le(t),o=r.ic.get(e),a=r.rc.get(o.targetId);if(a.length>1)return r.rc.set(o.targetId,a.filter(u=>!kb(u,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await pf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Ng(r.remoteStore,o.targetId),gf(r,o.targetId)}).catch(Al)):(gf(r,o.targetId),await pf(r.localStore,o.targetId,!0))}async function BSe(t,e,r){const o=YM(t);try{const a=await function(u,h){const p=Le(u),m=On.now(),b=h.reduce((_,A)=>_.add(A.key),At());let k,v;return p.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=Zi(),E=At();return p.Gi.getEntries(_,b).next(I=>{A=I,A.forEach((L,N)=>{N.isValidDocument()||(E=E.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(_,A)).next(I=>{k=I;const L=[];for(const N of h){const T=WEe(N,k.get(N.key).overlayedDocument);T!=null&&L.push(new Ja(N.key,T,pq(T.value.mapValue),Rn.exists(!0)))}return p.mutationQueue.addMutationBatch(_,m,L,h)}).next(I=>{v=I;const L=I.applyToLocalDocumentSet(k,E);return p.documentOverlayCache.saveOverlays(_,I.batchId,L)})}).then(()=>({batchId:v.batchId,changes:Pq(k)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,h,p){let m=u.hc[u.currentUser.toKey()];m||(m=new nr(yt)),m=m.insert(h,p),u.hc[u.currentUser.toKey()]=m}(o,a.batchId,r),await Xa(o,a.changes),await zf(o.remoteStore)}catch(a){const u=jf(a,"Failed to persist write");r.reject(u)}}async function SW(t,e){const r=Le(t);try{const o=await iSe(r.localStore,e);e.targetChanges.forEach((a,u)=>{const h=r.cc.get(u);h&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.nc=!0:a.modifiedDocuments.size>0?rt(h.nc):a.removedDocuments.size>0&&(rt(h.nc),h.nc=!1))}),await Xa(r,o,e)}catch(o){await Al(o)}}function eV(t,e,r){const o=Le(t);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.ic.forEach((u,h)=>{const p=h.view.bu(e);p.snapshot&&a.push(p.snapshot)}),function(u,h){const p=Le(u);p.onlineState=h;let m=!1;p.queries.forEach((b,k)=>{for(const v of k.listeners)v.bu(h)&&(m=!0)}),m&&UM(p)}(o.eventManager,e),a.length&&o.sc.Wo(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function zSe(t,e,r){const o=Le(t);o.sharedClientState.updateQueryState(e,"rejected",r);const a=o.cc.get(e),u=a&&a.key;if(u){let h=new nr(Ne.comparator);h=h.insert(u,Cn.newNoDocument(u,ot.min()));const p=At().add(u),m=new yb(ot.min(),new Map,new ln(yt),h,p);await SW(o,m),o.uc=o.uc.remove(u),o.cc.delete(e),GM(o)}else await pf(o.localStore,e,!1).then(()=>gf(o,e,r)).catch(Al)}async function FSe(t,e){const r=Le(t),o=e.batch.batchId;try{const a=await rSe(r.localStore,e);WM(r,o,null),qM(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await Xa(r,a)}catch(a){await Al(a)}}async function jSe(t,e,r){const o=Le(t);try{const a=await function(u,h){const p=Le(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return p.mutationQueue.lookupMutationBatch(m,h).next(k=>(rt(k!==null),b=k.keys(),p.mutationQueue.removeMutationBatch(m,k))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,b,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b)).next(()=>p.localDocuments.getDocuments(m,b))})}(o.localStore,e);WM(o,e,r),qM(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await Xa(o,a)}catch(a){await Al(a)}}async function VSe(t,e){const r=Le(t);xl(r.remoteStore)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=await function(u){const h=Le(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.mutationQueue.getHighestUnacknowledgedBatchId(p))}(r.localStore);if(o===-1)return void e.resolve();const a=r.lc.get(o)||[];a.push(e),r.lc.set(o,a)}catch(o){const a=jf(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function qM(t,e){(t.lc.get(e)||[]).forEach(r=>{r.resolve()}),t.lc.delete(e)}function WM(t,e,r){const o=Le(t);let a=o.hc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(r?u.reject(r):u.resolve(),a=a.remove(e)),o.hc[o.currentUser.toKey()]=a}}function gf(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const o of t.rc.get(e))t.ic.delete(o),r&&t.sc.wc(o,r);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(o=>{t.ac.containsKey(o)||TW(t,o)})}function TW(t,e){t.oc.delete(e.path.canonicalString());const r=t.uc.get(e);r!==null&&(Ng(t.remoteStore,r),t.uc=t.uc.remove(e),t.cc.delete(r),GM(t))}function EI(t,e,r){for(const o of r)o instanceof CW?(t.ac.addReference(o.key,e),USe(t,o)):o instanceof EW?(ye("SyncEngine","Document no longer in limbo: "+o.key),t.ac.removeReference(o.key,e),t.ac.containsKey(o.key)||TW(t,o.key)):qe()}function USe(t,e){const r=e.key,o=r.path.canonicalString();t.uc.get(r)||t.oc.has(o)||(ye("SyncEngine","New document in limbo: "+r),t.oc.add(o),GM(t))}function GM(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const r=new Ne(Bt.fromString(e)),o=t.fc.next();t.cc.set(o,new NSe(r)),t.uc=t.uc.insert(r,o),I0(t.remoteStore,new Gc(to(Rf(r.path)),o,2,Yi.at))}}async function Xa(t,e,r){const o=Le(t),a=[],u=[],h=[];o.ic.isEmpty()||(o.ic.forEach((p,m)=>{h.push(o._c(m,e,r).then(b=>{if((b||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(m.targetId,b!=null&&b.fromCache?"not-current":"current"),b){a.push(b);const k=NM.Ci(m.targetId,b);u.push(k)}}))}),await Promise.all(h),o.sc.Wo(a),await async function(p,m){const b=Le(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>X.forEach(m,v=>X.forEach(v.Si,_=>b.persistence.referenceDelegate.addReference(k,v.targetId,_)).next(()=>X.forEach(v.Di,_=>b.persistence.referenceDelegate.removeReference(k,v.targetId,_)))))}catch(k){if(!Cl(k))throw k;ye("LocalStore","Failed to update sequence numbers: "+k)}for(const k of m){const v=k.targetId;if(!k.fromCache){const _=b.qi.get(v),A=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(A);b.qi=b.qi.insert(v,E)}}}(o.localStore,u))}async function $Se(t,e){const r=Le(t);if(!r.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const o=await lW(r.localStore,e);r.currentUser=e,function(a,u){a.lc.forEach(h=>{h.forEach(p=>{p.reject(new ke(ie.CANCELLED,u))})}),a.lc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Xa(r,o.ji)}}function HSe(t,e){const r=Le(t),o=r.cc.get(e);if(o&&o.nc)return At().add(o.key);{let a=At();const u=r.rc.get(e);if(!u)return a;for(const h of u){const p=r.ic.get(h);a=a.unionWith(p.view.ju)}return a}}async function qSe(t,e){const r=Le(t),o=await Ty(r.localStore,e.query,!0),a=e.view.tc(o);return r.isPrimaryClient&&EI(r,e.targetId,a.Xu),a}async function WSe(t,e){const r=Le(t);return fW(r.localStore,e).then(o=>Xa(r,o))}async function GSe(t,e,r,o){const a=Le(t),u=await function(h,p){const m=Le(h),b=Le(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",k=>b.Tn(k,p).next(v=>v?m.localDocuments.getDocuments(k,v):X.resolve(null)))}(a.localStore,e);u!==null?(r==="pending"?await zf(a.remoteStore):r==="acknowledged"||r==="rejected"?(WM(a,e,o||null),qM(a,e),function(h,p){Le(Le(h).mutationQueue).An(p)}(a.localStore,e)):qe(),await Xa(a,u)):ye("SyncEngine","Cannot apply mutation batch with id: "+e)}async function KSe(t,e){const r=Le(t);if(KM(r),YM(r),e===!0&&r.dc!==!0){const o=r.sharedClientState.getAllActiveQueryTargets(),a=await tV(r,o.toArray());r.dc=!0,await CI(r.remoteStore,!0);for(const u of a)I0(r.remoteStore,u)}else if(e===!1&&r.dc!==!1){const o=[];let a=Promise.resolve();r.rc.forEach((u,h)=>{r.sharedClientState.isLocalQueryTarget(h)?o.push(h):a=a.then(()=>(gf(r,h),pf(r.localStore,h,!0))),Ng(r.remoteStore,h)}),await a,await tV(r,o),function(u){const h=Le(u);h.cc.forEach((p,m)=>{Ng(h.remoteStore,m)}),h.ac.fs(),h.cc=new Map,h.uc=new nr(Ne.comparator)}(r),r.dc=!1,await CI(r.remoteStore,!1)}}async function tV(t,e,r){const o=Le(t),a=[],u=[];for(const h of e){let p;const m=o.rc.get(h);if(m&&m.length!==0){p=await ff(o.localStore,to(m[0]));for(const b of m){const k=o.ic.get(b),v=await qSe(o,k);v.snapshot&&u.push(v.snapshot)}}else{const b=await hW(o.localStore,h);p=await ff(o.localStore,b),await HM(o,IW(b),h,!1,p.resumeToken)}a.push(p)}return o.sc.Wo(u),a}function IW(t){return mq(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function YSe(t){const e=Le(t);return Le(Le(e.localStore).persistence).vi()}async function QSe(t,e,r,o){const a=Le(t);if(a.dc)return void ye("SyncEngine","Ignoring unexpected query state notification.");const u=a.rc.get(e);if(u&&u.length>0)switch(r){case"current":case"not-current":{const h=await fW(a.localStore,bq(u[0])),p=yb.createSynthesizedRemoteEventForCurrentChange(e,r==="current",vr.EMPTY_BYTE_STRING);await Xa(a,h,p);break}case"rejected":await pf(a.localStore,e,!0),gf(a,e,o);break;default:qe()}}async function ZSe(t,e,r){const o=KM(t);if(o.dc){for(const a of e){if(o.rc.has(a)){ye("SyncEngine","Adding an already active target "+a);continue}const u=await hW(o.localStore,a),h=await ff(o.localStore,u);await HM(o,IW(u),h.targetId,!1,h.resumeToken),I0(o.remoteStore,h)}for(const a of r)o.rc.has(a)&&await pf(o.localStore,a,!1).then(()=>{Ng(o.remoteStore,a),gf(o,a)}).catch(Al)}}function KM(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zSe.bind(null,e),e.sc.Wo=TSe.bind(null,e.eventManager),e.sc.wc=ISe.bind(null,e.eventManager),e}function YM(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jSe.bind(null,e),e}function JSe(t,e,r){const o=Le(t);(async function(a,u,h){try{const p=await u.getMetadata();if(await function(v,_){const A=Le(v),E=cr(_.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",I=>A.Ns.getBundleMetadata(I,_.id)).then(I=>!!I&&I.createTime.compareTo(E)>=0)}(a.localStore,p))return await u.close(),h._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(p)),Promise.resolve(new Set);h._updateProgress(AW(p));const m=new PSe(p,a.localStore,u.yt);let b=await u.mc();for(;b;){const v=await m.Fu(b);v&&h._updateProgress(v),b=await u.mc()}const k=await m.complete();return await Xa(a,k.Lu,void 0),await function(v,_){const A=Le(v);return A.persistence.runTransaction("Save bundle","readwrite",E=>A.Ns.saveBundleMetadata(E,_))}(a.localStore,p),h._completeWith(k.progress),Promise.resolve(k.Bu)}catch(p){return sf("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}})(o,e,r).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}class DW{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Ab(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return cW(this.persistence,new aW,e.initialUser,this.yt)}yc(e){return new sW(T0.Bs,this.yt)}gc(e){return new mW}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PW extends DW{constructor(e,r,o){super(),this.Ac=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await YM(this.Ac.syncEngine),await zf(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return cW(this.persistence,new aW,e.initialUser,this.yt)}Tc(e,r){const o=this.persistence.referenceDelegate.garbageCollector;return new Uxe(o,e.asyncQueue,r)}Ec(e,r){const o=new xEe(r,this.persistence);return new EEe(e.asyncQueue,o)}yc(e){const r=MM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new PM(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,gW(),Av(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new mW}}class XSe extends PW{constructor(e,r){super(e,r,!1),this.Ac=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ac.syncEngine;this.sharedClientState instanceof tS&&(this.sharedClientState.syncEngine={Fr:GSe.bind(null,r),$r:QSe.bind(null,r),Br:ZSe.bind(null,r),vi:YSe.bind(null,r),Mr:WSe.bind(null,r)},await this.sharedClientState.start()),await this.persistence.li(async o=>{await KSe(this.Ac.syncEngine,o),this.gcScheduler&&(o&&!this.gcScheduler.started?this.gcScheduler.start():o||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(o&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():o||this.indexBackfillerScheduler.stop())})}gc(e){const r=gW();if(!tS.C(r))throw new ke(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=MM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tS(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class QM{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>eV(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=$Se.bind(null,this.syncEngine),await CI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new SSe}createDatastore(e){const r=Ab(e.databaseInfo.databaseId),o=(a=e.databaseInfo,new dSe(a));var a;return function(u,h,p,m){return new pSe(u,h,p,m)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,a=e.asyncQueue,u=p=>eV(this.syncEngine,p,0),h=Qj.C()?new Qj:new cSe,new gSe(r,o,a,u,h);var r,o,a,u,h}createSyncEngine(e,r){return function(o,a,u,h,p,m,b){const k=new RSe(o,a,u,h,p,m);return b&&(k.dc=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=Le(e);ye("RemoteStore","RemoteStore shutting down."),r._u.add(5),await Bf(r),r.mu.shutdown(),r.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e,r){if(!r)throw new ke(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MW(t,e,r,o){if(e===!0&&o===!0)throw new ke(ie.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function nV(t){if(!Ne.isDocumentKey(t))throw new ke(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rV(t){if(Ne.isDocumentKey(t))throw new ke(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function D0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function $t(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=D0(t);throw new ke(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function NW(t,e){if(e<=0)throw new ke(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new Map;class oV{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,MW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,r,o,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ke(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oV(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fEe;switch(r.type){case"gapi":const o=r.client;return new bEe(o,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=iV.get(e);r&&(ye("ComponentProvider","Removing Datastore"),iV.delete(e),r.terminate())}(this),Promise.resolve()}}function eTe(t,e,r,o={}){var a;const u=(t=$t(t,Eb))._getSettings();if(u.host!=="firestore.googleapis.com"&&u.host!==e&&sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let h,p;if(typeof o.mockUserToken=="string")h=o.mockUserToken,p=Rr.MOCK_USER;else{h=RH(o.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const m=o.mockUserToken.sub||o.mockUserToken.user_id;if(!m)throw new ke(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rr(m)}t._authCredentials=new pEe(new Y9(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class oi{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class Zs extends oi{constructor(e,r,o){super(e,r,Rf(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Ne(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function JM(t,e,...r){if(t=Ze(t),ZM("collection","path",e),t instanceof Eb){const o=Bt.fromString(e,...r);return rV(o),new Zs(t,null,o)}{if(!(t instanceof Sn||t instanceof Zs))throw new ke(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(Bt.fromString(e,...r));return rV(o),new Zs(t.firestore,null,o)}}function tTe(t,e){if(t=$t(t,Eb),ZM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oi(t,null,function(r){return new Za(Bt.emptyPath(),r)}(e))}function My(t,e,...r){if(t=Ze(t),arguments.length===1&&(e=Q9.R()),ZM("doc","path",e),t instanceof Eb){const o=Bt.fromString(e,...r);return nV(o),new Sn(t,null,new Ne(o))}{if(!(t instanceof Sn||t instanceof Zs))throw new ke(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(Bt.fromString(e,...r));return nV(o),new Sn(t.firestore,t instanceof Zs?t.converter:null,new Ne(o))}}function RW(t,e){return t=Ze(t),e=Ze(e),(t instanceof Sn||t instanceof Zs)&&(e instanceof Sn||e instanceof Zs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function OW(t,e){return t=Ze(t),e=Ze(e),t instanceof oi&&e instanceof oi&&t.firestore===e.firestore&&kb(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const o={value:t.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nTe{constructor(e,r){this.Pc=e,this.yt=r,this.metadata=new Lr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(o==null?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const r=this.vc.decode(e),o=Number(r);isNaN(o)&&this.Dc(`length string (${r}) is not valid number`);const a=await this.Cc(o);return new DSe(JSON.parse(a),e.length+o)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const r=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rTe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ke(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=await async function(o,a){const u=Le(o),h=Pg(u.yt)+"/documents",p={documents:a.map(v=>Dg(u.yt,v))},m=await u._o("BatchGetDocuments",h,p,a.length),b=new Map;m.forEach(v=>{const _=ixe(u.yt,v);b.set(_.key.toString(),_)});const k=[];return a.forEach(v=>{const _=b.get(v.toString());rt(!!_),k.push(_)}),k}(this.datastore,e);return r.forEach(o=>this.recordVersion(o)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const a=Ne.fromPath(o);this.mutations.push(new _M(a,this.precondition(a)))}),await async function(r,o){const a=Le(r),u=Pg(a.yt)+"/documents",h={writes:o.map(p=>Mg(a.yt,p))};await a.ao("Commit",u,h)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw qe();r=ot.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new ke(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ot.min())?Rn.exists(!1):Rn.updateTime(r):Rn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ot.min()))throw new ke(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(r)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iTe{constructor(e,r,o,a,u){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=a,this.deferred=u,this.kc=o.maxAttempts,this.xo=new OM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new rTe(this.datastore),r=this.Mc(e);r&&r.then(o=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(o)}).catch(a=>{this.Fc(a)}))}).catch(o=>{this.Fc(o)})})}Mc(e){try{const r=this.updateFunction(e);return!bb(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!Tq(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oTe{constructor(e,r,o,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Rr.UNAUTHENTICATED,this.clientId=Q9.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async u=>{ye("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(o,u=>(ye("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=jf(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function LW(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let o=r.initialUser;t.setCredentialChangeListener(async a=>{o.isEqual(a)||(await lW(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function BW(t,e){t.asyncQueue.verifyOperationInProgress();const r=await XM(t);ye("FirestoreClient","Initializing OnlineComponentProvider");const o=await t.getConfiguration();await e.initialize(r,o),t.setCredentialChangeListener(a=>Zj(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,u)=>Zj(e.remoteStore,u)),t.onlineComponents=e}async function XM(t){return t.offlineComponents||(ye("FirestoreClient","Using default OfflineComponentProvider"),await LW(t,new DW)),t.offlineComponents}async function M0(t){return t.onlineComponents||(ye("FirestoreClient","Using default OnlineComponentProvider"),await BW(t,new QM)),t.onlineComponents}function zW(t){return XM(t).then(e=>e.persistence)}function eN(t){return XM(t).then(e=>e.localStore)}function FW(t){return M0(t).then(e=>e.remoteStore)}function tN(t){return M0(t).then(e=>e.syncEngine)}function sTe(t){return M0(t).then(e=>e.datastore)}async function bf(t){const e=await M0(t),r=e.eventManager;return r.onListen=OSe.bind(null,e.syncEngine),r.onUnlisten=LSe.bind(null,e.syncEngine),r}function aTe(t){return t.asyncQueue.enqueue(async()=>{const e=await zW(t),r=await FW(t);return e.setNetworkEnabled(!0),function(o){const a=Le(o);return a._u.delete(0),Cb(a)}(r)})}function cTe(t){return t.asyncQueue.enqueue(async()=>{const e=await zW(t),r=await FW(t);return e.setNetworkEnabled(!1),async function(o){const a=Le(o);a._u.add(0),await Bf(a),a.gu.set("Offline")}(r)})}function lTe(t,e){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>async function(o,a,u){try{const h=await function(p,m){const b=Le(p);return b.persistence.runTransaction("read document","readonly",k=>b.localDocuments.getDocument(k,m))}(o,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=jf(h,`Failed to get document '${a} from cache`);u.reject(p)}}(await eN(t),e,r)),r.promise}function jW(t,e,r={}){const o=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,p,m){const b=new P0({next:v=>{u.enqueueAndForget(()=>VM(a,k));const _=v.docs.has(h);!_&&v.fromCache?m.reject(new ke(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&p&&p.source==="server"?m.reject(new ke(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),k=new $M(Rf(h.path),b,{includeMetadataChanges:!0,Nu:!0});return jM(a,k)}(await bf(t),t.asyncQueue,e,r,o)),o.promise}function uTe(t,e){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>async function(o,a,u){try{const h=await Ty(o,a,!0),p=new xW(a,h.Hi),m=p.Wu(h.documents),b=p.applyChanges(m,!1);u.resolve(b.snapshot)}catch(h){const p=jf(h,`Failed to execute query '${a} against cache`);u.reject(p)}}(await eN(t),e,r)),r.promise}function VW(t,e,r={}){const o=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,p,m){const b=new P0({next:v=>{u.enqueueAndForget(()=>VM(a,k)),v.fromCache&&p.source==="server"?m.reject(new ke(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),k=new $M(h,b,{includeMetadataChanges:!0,Nu:!0});return jM(a,k)}(await bf(t),t.asyncQueue,e,r,o)),o.promise}function dTe(t,e){const r=new P0(e);return t.asyncQueue.enqueueAndForget(async()=>function(o,a){Le(o).Ru.add(a),a.next()}(await bf(t),r)),()=>{r.bc(),t.asyncQueue.enqueueAndForget(async()=>function(o,a){Le(o).Ru.delete(a)}(await bf(t),r))}}function hTe(t,e,r,o){const a=function(u,h){let p;return p=typeof u=="string"?new TextEncoder().encode(u):u,function(m,b){return new nTe(m,b)}(function(m,b){if(m instanceof Uint8Array)return sV(m,b);if(m instanceof ArrayBuffer)return sV(new Uint8Array(m),b);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),h)}(r,Ab(e));t.asyncQueue.enqueueAndForget(async()=>{JSe(await tN(t),a,o)})}function fTe(t,e){return t.asyncQueue.enqueue(async()=>function(r,o){const a=Le(r);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ns.getNamedQuery(u,o))}(await eN(t),e))}class pTe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new OM(this,"async_queue_retry"),this.Wc=()=>{const r=Av();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.Po()};const e=Av();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const r=Av();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const r=new Lr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Cl(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{this.Kc=o,this.Gc=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(o);throw sr("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Gc=!1,o))));return this.Bc=r,r}enqueueAfterDelay(e,r,o){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const a=FM.createAndSchedule(this,e,r,o,u=>this.Yc(u));return this.Uc.push(a),a}zc(){this.Kc&&qe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}function xI(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(t,["next","error","complete"])}class mTe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gTe=-1;class rr extends Eb{constructor(e,r,o,a){super(e,r,o,a),this.type="firestore",this._queue=new pTe,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||UW(this),this._firestoreClient.terminate()}}function Ur(t){return t._firestoreClient||UW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function UW(t){var e;const r=t._freezeSettings(),o=function(a,u,h,p){return new SEe(a,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new oTe(t._authCredentials,t._appCheckCredentials,t._queue,o)}function bTe(t,e){HW(t=$t(t,rr));const r=Ur(t),o=t._freezeSettings(),a=new QM;return $W(r,a,new PW(a,o.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function wTe(t){HW(t=$t(t,rr));const e=Ur(t),r=t._freezeSettings(),o=new QM;return $W(e,o,new XSe(o,r.cacheSizeBytes))}function $W(t,e,r){const o=new Lr;return t.asyncQueue.enqueue(async()=>{try{await LW(t,r),await BW(t,e),o.resolve()}catch(a){const u=a;if(!function(h){return h.name==="FirebaseError"?h.code===ie.FAILED_PRECONDITION||h.code===ie.UNIMPLEMENTED:typeof DOMException<"u"&&h instanceof DOMException?h.code===22||h.code===20||h.code===11:!0}(u))throw u;sf("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}}).then(()=>o.promise)}function kTe(t){if(t._initialized&&!t._terminated)throw new ke(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ls.C())return Promise.resolve();const o=r+"main";await ls.delete(o)}(MM(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}}),e.promise}function vTe(t){return function(e){const r=new Lr;return e.asyncQueue.enqueueAndForget(async()=>VSe(await tN(e),r)),r.promise}(Ur(t=$t(t,rr)))}function yTe(t){return aTe(Ur(t=$t(t,rr)))}function _Te(t){return cTe(Ur(t=$t(t,rr)))}function ATe(t,e){const r=Ur(t=$t(t,rr)),o=new mTe;return hTe(r,t._databaseId,e,o),o}function CTe(t,e){return fTe(Ur(t=$t(t,rr)),e).then(r=>r?new oi(t,null,r.query):null)}function HW(t){if(t._initialized||t._terminated)throw new ke(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(vr.fromBase64String(e))}catch(r){throw new ke(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new na(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ke(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ke(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ke(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ETe=/^__.*__$/;class xTe{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,r,this.fieldTransforms):new Of(e,this.data,r,this.fieldTransforms)}}let qW=class{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Ja(e,this.data,this.fieldMask,r,this.fieldTransforms)}};function WW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class R0{constructor(e,r,o,a,u,h){this.settings=e,this.databaseId=r,this.yt=o,this.ignoreUndefinedProperties=a,u===void 0&&this.na(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new R0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.ia({path:o,oa:!1});return a.ua(e),a}ca(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.ia({path:o,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ny(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(WW(this.sa)&&ETe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class STe{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.yt=o||Ab(e)}da(e,r,o,a=!1){return new R0({sa:e,methodName:r,fa:o,path:ar.emptyPath(),oa:!1,la:a},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function wd(t){const e=t._freezeSettings(),r=Ab(t._databaseId);return new STe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function O0(t,e,r,o,a,u={}){const h=t.da(u.merge||u.mergeFields?2:0,e,r,a);oN("Data must be an object, but it was:",h,o);const p=YW(o,h);let m,b;if(u.merge)m=new Qi(h.fieldMask),b=h.fieldTransforms;else if(u.mergeFields){const k=[];for(const v of u.mergeFields){const _=SI(e,v,r);if(!h.contains(_))throw new ke(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ZW(k,_)||k.push(_)}m=new Qi(k),b=h.fieldTransforms.filter(v=>m.covers(v.field))}else m=null,b=h.fieldTransforms;return new xTe(new Xr(p),m,b)}class xb extends bd{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xb}}function GW(t,e,r){return new R0({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:r},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class nN extends bd{_toFieldTransform(e){return new vb(e.path,new uf)}isEqual(e){return e instanceof nN}}class TTe extends bd{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=GW(this,e,!0),o=this._a.map(u=>kd(u,r)),a=new nd(o);return new vb(e.path,a)}isEqual(e){return this===e}}class ITe extends bd{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=GW(this,e,!0),o=this._a.map(u=>kd(u,r)),a=new rd(o);return new vb(e.path,a)}isEqual(e){return this===e}}class DTe extends bd{constructor(e,r){super(e),this.wa=r}_toFieldTransform(e){const r=new df(e.yt,yq(e.yt,this.wa));return new vb(e.path,r)}isEqual(e){return this===e}}function rN(t,e,r,o){const a=t.da(1,e,r);oN("Data must be an object, but it was:",a,o);const u=[],h=Xr.empty();gd(o,(m,b)=>{const k=sN(e,m,r);b=Ze(b);const v=a.ca(k);if(b instanceof xb)u.push(k);else{const _=kd(b,v);_!=null&&(u.push(k),h.set(k,_))}});const p=new Qi(u);return new qW(h,p,a.fieldTransforms)}function iN(t,e,r,o,a,u){const h=t.da(1,e,r),p=[SI(e,o,r)],m=[a];if(u.length%2!=0)throw new ke(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)p.push(SI(e,u[_])),m.push(u[_+1]);const b=[],k=Xr.empty();for(let _=p.length-1;_>=0;--_)if(!ZW(b,p[_])){const A=p[_];let E=m[_];E=Ze(E);const I=h.ca(A);if(E instanceof xb)b.push(A);else{const L=kd(E,I);L!=null&&(b.push(A),k.set(A,L))}}const v=new Qi(b);return new qW(k,v,h.fieldTransforms)}function KW(t,e,r,o=!1){return kd(r,t.da(o?4:3,e))}function kd(t,e){if(QW(t=Ze(t)))return oN("Unsupported field value:",e,t),YW(t,e);if(t instanceof bd)return function(r,o){if(!WW(o.sa))throw o.ha(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let p=kd(h,o.aa(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,o){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yq(o.yt,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=On.fromDate(r);return{timestampValue:hf(o.yt,a)}}if(r instanceof On){const a=new On(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(o.yt,a)}}if(r instanceof N0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof na)return{bytesValue:Oq(o.yt,r._byteString)};if(r instanceof Sn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:AM(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.ha(`Unsupported field value: ${D0(r)}`)}(t,e)}function YW(t,e){const r={};return rq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gd(t,(o,a)=>{const u=kd(a,e.ra(o));u!=null&&(r[o]=u)}),{mapValue:{fields:r}}}function QW(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof On||t instanceof N0||t instanceof na||t instanceof Sn||t instanceof bd)}function oN(t,e,r){if(!QW(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const o=D0(r);throw o==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+o)}}function SI(t,e,r){if((e=Ze(e))instanceof cl)return e._internalPath;if(typeof e=="string")return sN(t,e);throw Ny("Field path arguments must be of type string or ",t,!1,void 0,r)}const PTe=new RegExp("[~\\*/\\[\\]]");function sN(t,e,r){if(e.search(PTe)>=0)throw Ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new cl(...e.split("."))._internalPath}catch{throw Ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ny(t,e,r,o,a){const u=o&&!o.isEmpty(),h=a!==void 0;let p=`Function ${e}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${o}`),h&&(m+=` in document ${a}`),m+=")"),new ke(ie.INVALID_ARGUMENT,p+t+m)}function ZW(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,r,o,a,u){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MTe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(L0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class MTe extends Rg{data(){return super.data()}}function L0(t,e){return typeof e=="string"?sN(t,e):e instanceof cl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aN{}class Sb extends aN{}function ga(t,e,...r){let o=[];e instanceof aN&&o.push(e),o=o.concat(r),function(a){const u=a.filter(p=>p instanceof cN).length,h=a.filter(p=>p instanceof B0).length;if(u>1||u>0&&h>0)throw new ke(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)t=a._apply(t);return t}class B0 extends Sb{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new B0(e,r,o)}_apply(e){const r=this._parse(e);return eG(e._query,r),new oi(e.firestore,e.converter,mI(e._query,r))}_parse(e){const r=wd(e.firestore);return function(a,u,h,p,m,b,k){let v;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ke(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){cV(k,b);const _=[];for(const A of k)_.push(aV(p,a,A));v={arrayValue:{values:_}}}else v=aV(p,a,k)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||cV(k,b),v=KW(h,u,k,b==="in"||b==="not-in");return Pt.create(m,b,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function NTe(t,e,r){const o=e,a=L0("where",t);return B0._create(a,o,r)}class cN extends aN{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new cN(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return r.length===1?r[0]:Zt.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const p of h)eG(u,p),u=mI(u,p)}(e._query,r),new oi(e.firestore,e.converter,mI(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lN extends Sb{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new lN(e,r)}_apply(e){const r=function(o,a,u){if(o.startAt!==null)throw new ke(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ke(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new jh(a,u);return function(p,m){if(kM(p)===null){const b=_0(p);b!==null&&tG(p,b,m.field)}}(o,h),h}(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Za(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function RTe(t,e="asc"){const r=e,o=L0("orderBy",t);return lN._create(o,r)}class z0 extends Sb{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new z0(e,r,o)}_apply(e){return new oi(e.firestore,e.converter,Cy(e._query,this._limit,this._limitType))}}function OTe(t){return NW("limit",t),z0._create("limit",t,"F")}function LTe(t){return NW("limitToLast",t),z0._create("limitToLast",t,"L")}class F0 extends Sb{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new F0(e,r,o)}_apply(e){const r=XW(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,function(o,a){return new Za(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,r))}}function BTe(...t){return F0._create("startAt",t,!0)}function zTe(...t){return F0._create("startAfter",t,!1)}class j0 extends Sb{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new j0(e,r,o)}_apply(e){const r=XW(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,function(o,a){return new Za(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,r))}}function FTe(...t){return j0._create("endBefore",t,!1)}function jTe(...t){return j0._create("endAt",t,!0)}function XW(t,e,r,o){if(r[0]=Ze(r[0]),r[0]instanceof Rg)return function(a,u,h,p,m){if(!p)throw new ke(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const b=[];for(const k of ju(a))if(k.field.isKeyField())b.push(ed(u,p.key));else{const v=p.data.field(k.field);if(bM(v))throw new ke(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const _=k.field.canonicalString();throw new ke(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}b.push(v)}return new sl(b,m)}(t._query,t.firestore._databaseId,e,r[0]._document,o);{const a=wd(t.firestore);return function(u,h,p,m,b,k){const v=u.explicitOrderBy;if(b.length>v.length)throw new ke(ie.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let A=0;A<b.length;A++){const E=b[A];if(v[A].field.isKeyField()){if(typeof E!="string")throw new ke(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof E}`);if(!vM(u)&&E.indexOf("/")!==-1)throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${E}' contains a slash.`);const I=u.path.child(Bt.fromString(E));if(!Ne.isDocumentKey(I))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const L=new Ne(I);_.push(ed(h,L))}else{const I=KW(p,m,E);_.push(I)}}return new sl(_,k)}(t._query,t.firestore._databaseId,a,e,r,o)}}function aV(t,e,r){if(typeof(r=Ze(r))=="string"){if(r==="")throw new ke(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vM(e)&&r.indexOf("/")!==-1)throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Bt.fromString(r));if(!Ne.isDocumentKey(o))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ed(t,new Ne(o))}if(r instanceof Sn)return ed(t,r._key);throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D0(r)}.`)}function cV(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new ke(ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eG(t,e){if(e.isInequality()){const o=_0(t),a=e.field;if(o!==null&&!o.isEqual(a))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=kM(t);u!==null&&tG(t,a,u)}const r=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ke(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function tG(t,e,r){if(!r.isEqual(e))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class uN{convertValue(e,r="none"){switch(Xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw qe()}}convertObject(e,r){const o={};return gd(e.fields,(a,u)=>{o[a]=this.convertValue(u,r)}),o}convertGeoPoint(e){return new N0(Xn(e.latitude),Xn(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=oq(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Sg(e));default:return null}}convertTimestamp(e){const r=il(e);return new On(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Bt.fromString(e);rt(qq(o));const a=new rl(o.get(1),o.get(3)),u=new Ne(o.popFirst(5));return a.isEqual(r)||sr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e,r){let o;return o=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,o}class VTe extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends Rg{constructor(e,r,o,a,u,h){super(e,r,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(L0("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Om extends $a{data(e={}){return super.data(e)}}class ll{constructor(e,r,o,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new xu(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Om(this._firestore,this._userDataWriter,o.key,o,new xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ke(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const p=new Om(o._firestore,o._userDataWriter,h.doc.key,h.doc,new xu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new Om(o._firestore,o._userDataWriter,h.doc.key,h.doc,new xu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,b=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:UTe(h.type),doc:p,oldIndex:m,newIndex:b}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function UTe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}function nG(t,e){return t instanceof $a&&e instanceof $a?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ll&&e instanceof ll&&t._firestore===e._firestore&&OW(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Te(t){t=$t(t,Sn);const e=$t(t.firestore,rr);return jW(Ur(e),t._key).then(r=>hN(e,t,r))}class vd extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,r)}}function HTe(t){t=$t(t,Sn);const e=$t(t.firestore,rr),r=Ur(e),o=new vd(e);return lTe(r,t._key).then(a=>new $a(e,o,t._key,a,new xu(a!==null&&a.hasLocalMutations,!0),t.converter))}function qTe(t){t=$t(t,Sn);const e=$t(t.firestore,rr);return jW(Ur(e),t._key,{source:"server"}).then(r=>hN(e,t,r))}function WTe(t){t=$t(t,oi);const e=$t(t.firestore,rr),r=Ur(e),o=new vd(e);return JW(t._query),VW(r,t._query).then(a=>new ll(e,o,t,a))}function GTe(t){t=$t(t,oi);const e=$t(t.firestore,rr),r=Ur(e),o=new vd(e);return uTe(r,t._query).then(a=>new ll(e,o,t,a))}function KTe(t){t=$t(t,oi);const e=$t(t.firestore,rr),r=Ur(e),o=new vd(e);return VW(r,t._query,{source:"server"}).then(a=>new ll(e,o,t,a))}function lV(t,e,r){t=$t(t,Sn);const o=$t(t.firestore,rr),a=V0(t.converter,e,r);return Tb(o,[O0(wd(o),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Rn.none())])}function uV(t,e,r,...o){t=$t(t,Sn);const a=$t(t.firestore,rr),u=wd(a);let h;return h=typeof(e=Ze(e))=="string"||e instanceof cl?iN(u,"updateDoc",t._key,e,r,o):rN(u,"updateDoc",t._key,e),Tb(a,[h.toMutation(t._key,Rn.exists(!0))])}function YTe(t){return Tb($t(t.firestore,rr),[new Lf(t._key,Rn.none())])}function QTe(t,e){const r=$t(t.firestore,rr),o=My(t),a=V0(t.converter,e);return Tb(r,[O0(wd(t.firestore),"addDoc",o._key,a,t.converter!==null,{}).toMutation(o._key,Rn.exists(!1))]).then(()=>o)}function dN(t,...e){var r,o,a;t=Ze(t);let u={includeMetadataChanges:!1},h=0;typeof e[h]!="object"||xI(e[h])||(u=e[h],h++);const p={includeMetadataChanges:u.includeMetadataChanges};if(xI(e[h])){const v=e[h];e[h]=(r=v.next)===null||r===void 0?void 0:r.bind(v),e[h+1]=(o=v.error)===null||o===void 0?void 0:o.bind(v),e[h+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let m,b,k;if(t instanceof Sn)b=$t(t.firestore,rr),k=Rf(t._key.path),m={next:v=>{e[h]&&e[h](hN(b,t,v))},error:e[h+1],complete:e[h+2]};else{const v=$t(t,oi);b=$t(v.firestore,rr),k=v._query;const _=new vd(b);m={next:A=>{e[h]&&e[h](new ll(b,_,v,A))},error:e[h+1],complete:e[h+2]},JW(t._query)}return function(v,_,A,E){const I=new P0(E),L=new $M(_,I,A);return v.asyncQueue.enqueueAndForget(async()=>jM(await bf(v),L)),()=>{I.bc(),v.asyncQueue.enqueueAndForget(async()=>VM(await bf(v),L))}}(Ur(b),k,p,m)}function ZTe(t,e){return dTe(Ur(t=$t(t,rr)),xI(e)?e:{next:e})}function Tb(t,e){return function(r,o){const a=new Lr;return r.asyncQueue.enqueueAndForget(async()=>BSe(await tN(r),o,a)),a.promise}(Ur(t),e)}function hN(t,e,r){const o=r.docs.get(e._key),a=new vd(t);return new $a(t,a,e._key,o,new xu(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JTe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XTe{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=wd(e)}set(e,r,o){this._verifyNotCommitted();const a=Mc(e,this._firestore),u=V0(a.converter,r,o),h=O0(this._dataReader,"WriteBatch.set",a._key,u,a.converter!==null,o);return this._mutations.push(h.toMutation(a._key,Rn.none())),this}update(e,r,o,...a){this._verifyNotCommitted();const u=Mc(e,this._firestore);let h;return h=typeof(r=Ze(r))=="string"||r instanceof cl?iN(this._dataReader,"WriteBatch.update",u._key,r,o,a):rN(this._dataReader,"WriteBatch.update",u._key,r),this._mutations.push(h.toMutation(u._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Mc(e,this._firestore);return this._mutations=this._mutations.concat(new Lf(r._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mc(t,e){if((t=Ze(t)).firestore!==e)throw new ke(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eIe extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=wd(e)}get(e){const r=Mc(e,this._firestore),o=new VTe(this._firestore);return this._transaction.lookup([r._key]).then(a=>{if(!a||a.length!==1)return qe();const u=a[0];if(u.isFoundDocument())return new Rg(this._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Rg(this._firestore,o,r._key,null,r.converter);throw qe()})}set(e,r,o){const a=Mc(e,this._firestore),u=V0(a.converter,r,o),h=O0(this._dataReader,"Transaction.set",a._key,u,a.converter!==null,o);return this._transaction.set(a._key,h),this}update(e,r,o,...a){const u=Mc(e,this._firestore);let h;return h=typeof(r=Ze(r))=="string"||r instanceof cl?iN(this._dataReader,"Transaction.update",u._key,r,o,a):rN(this._dataReader,"Transaction.update",u._key,r),this._transaction.update(u._key,h),this}delete(e){const r=Mc(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Mc(e,this._firestore),o=new vd(this._firestore);return super.get(e).then(a=>new $a(this._firestore,o,r._key,a._document,new xu(!1,!1),r.converter))}}function tIe(t,e,r){t=$t(t,rr);const o=Object.assign(Object.assign({},JTe),r);return function(a){if(a.maxAttempts<1)throw new ke(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,h){const p=new Lr;return a.asyncQueue.enqueueAndForget(async()=>{const m=await sTe(a);new iTe(a.asyncQueue,m,h,u,p).run()}),p.promise}(Ur(t),a=>e(new eIe(t,a)),o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nIe(){return new xb("deleteField")}function rIe(){return new nN("serverTimestamp")}function iIe(...t){return new TTe("arrayUnion",t)}function oIe(...t){return new ITe("arrayRemove",t)}function sIe(t){return new DTe("increment",t)}(function(t,e=!0){(function(r){Nf=r})(kl),ja(new Uo("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new rr(new mEe(r.getProvider("auth-internal")),new kEe(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(p.options.projectId,m)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zo(aj,"3.8.1",t),zo(aj,"3.8.1","esm2017")})();const aIe="@firebase/firestore-compat",cIe="0.3.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ke("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function hV(){if(!TEe())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Ry=class{constructor(e){this._delegate=e}static fromBase64String(e){return hV(),new Ry(na.fromBase64String(e))}static fromUint8Array(e){return dV(),new Ry(na.fromUint8Array(e))}toBase64(){return hV(),this._delegate.toBase64()}toUint8Array(){return dV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){return lIe(t,["next","error","complete"])}function lIe(t,e){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of e)if(o in r&&typeof r[o]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uIe{enableIndexedDbPersistence(e,r){return bTe(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return wTe(e._delegate)}clearIndexedDbPersistence(e){return kTe(e._delegate)}}class rG{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof rl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&sf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},r),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,r,o={}){eTe(this._delegate,e,r,o)}enableNetwork(){return yTe(this._delegate)}disableNetwork(){return _Te(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,MW("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return vTe(this._delegate)}onSnapshotsInSync(e){return ZTe(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wf(this,JM(this._delegate,e))}catch(r){throw Si(r,"collection()","Firestore.collection()")}}doc(e){try{return new Oo(this,My(this._delegate,e))}catch(r){throw Si(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xi(this,tTe(this._delegate,e))}catch(r){throw Si(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return tIe(this._delegate,r=>e(new iG(this,r)))}batch(){return Ur(this._delegate),new oG(new XTe(this._delegate,e=>Tb(this._delegate,e)))}loadBundle(e){return ATe(this._delegate,e)}namedQuery(e){return CTe(this._delegate,e).then(r=>r?new xi(this,r):null)}}class U0 extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ry(new na(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Oo.forKey(r,this.firestore,null)}}function dIe(t){dEe(t)}class iG{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new U0(e)}get(e){const r=Su(e);return this._delegate.get(r).then(o=>new Og(this._firestore,new $a(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const a=Su(e);return o?(fN("Transaction.set",o),this._delegate.set(a,r,o)):this._delegate.set(a,r),this}update(e,r,o,...a){const u=Su(e);return arguments.length===2?this._delegate.update(u,r):this._delegate.update(u,r,o,...a),this}delete(e){const r=Su(e);return this._delegate.delete(r),this}}class oG{constructor(e){this._delegate=e}set(e,r,o){const a=Su(e);return o?(fN("WriteBatch.set",o),this._delegate.set(a,r,o)):this._delegate.set(a,r),this}update(e,r,o,...a){const u=Su(e);return arguments.length===2?this._delegate.update(u,r):this._delegate.update(u,r,o,...a),this}delete(e){const r=Su(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class ad{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Om(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lg(this._firestore,o),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=ad.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(r);return u||(u=new ad(e,new U0(e),r),a.set(r,u)),u}}ad.INSTANCES=new WeakMap;class Oo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new U0(e)}static forPath(e,r,o){if(e.length%2!==0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oo(r,new Sn(r._delegate,o,new Ne(e)))}static forKey(e,r,o){return new Oo(r,new Sn(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wf(this.firestore,JM(this._delegate,e))}catch(r){throw Si(r,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ze(e),e instanceof Sn?RW(this._delegate,e):!1}set(e,r){r=fN("DocumentReference.set",r);try{return r?lV(this._delegate,e,r):lV(this._delegate,e)}catch(o){throw Si(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return arguments.length===1?uV(this._delegate,e):uV(this._delegate,e,r,...o)}catch(a){throw Si(a,"updateDoc()","DocumentReference.update()")}}delete(){return YTe(this._delegate)}onSnapshot(...e){const r=sG(e),o=aG(e,a=>new Og(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return dN(this._delegate,r,o)}get(e){let r;return(e==null?void 0:e.source)==="cache"?r=HTe(this._delegate):(e==null?void 0:e.source)==="server"?r=qTe(this._delegate):r=$Te(this._delegate),r.then(o=>new Og(this.firestore,new $a(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Oo(this.firestore,e?this._delegate.withConverter(ad.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Si(t,e,r){return t.message=t.message.replace(e,r),t}function sG(t){for(const e of t)if(typeof e=="object"&&!TI(e))return e;return{}}function aG(t,e){var r,o;let a;return TI(t[0])?a=t[0]:TI(t[1])?a=t[1]:typeof t[0]=="function"?a={next:t[0],error:t[1],complete:t[2]}:a={next:t[1],error:t[2],complete:t[3]},{next:u=>{a.next&&a.next(e(u))},error:(r=a.error)===null||r===void 0?void 0:r.bind(a),complete:(o=a.complete)===null||o===void 0?void 0:o.bind(a)}}class Og{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Oo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return nG(this._delegate,e._delegate)}}class Lg extends Og{data(e){const r=this._delegate.data(e);return hEe(r!==void 0),r}}class xi{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new U0(e)}where(e,r,o){try{return new xi(this.firestore,ga(this._delegate,NTe(e,r,o)))}catch(a){throw Si(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new xi(this.firestore,ga(this._delegate,RTe(e,r)))}catch(o){throw Si(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xi(this.firestore,ga(this._delegate,OTe(e)))}catch(r){throw Si(r,"limit()","Query.limit()")}}limitToLast(e){try{return new xi(this.firestore,ga(this._delegate,LTe(e)))}catch(r){throw Si(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xi(this.firestore,ga(this._delegate,BTe(...e)))}catch(r){throw Si(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xi(this.firestore,ga(this._delegate,zTe(...e)))}catch(r){throw Si(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xi(this.firestore,ga(this._delegate,FTe(...e)))}catch(r){throw Si(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xi(this.firestore,ga(this._delegate,jTe(...e)))}catch(r){throw Si(r,"endAt()","Query.endAt()")}}isEqual(e){return OW(this._delegate,e._delegate)}get(e){let r;return(e==null?void 0:e.source)==="cache"?r=GTe(this._delegate):(e==null?void 0:e.source)==="server"?r=KTe(this._delegate):r=WTe(this._delegate),r.then(o=>new II(this.firestore,new ll(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=sG(e),o=aG(e,a=>new II(this.firestore,new ll(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return dN(this._delegate,r,o)}withConverter(e){return new xi(this.firestore,e?this._delegate.withConverter(ad.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class hIe{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class II{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new xi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new hIe(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Lg(this._firestore,o))})}isEqual(e){return nG(this._delegate,e._delegate)}}class wf extends xi{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oo(this.firestore,e):null}doc(e){try{return e===void 0?new Oo(this.firestore,My(this._delegate)):new Oo(this.firestore,My(this._delegate,e))}catch(r){throw Si(r,"doc()","CollectionReference.doc()")}}add(e){return QTe(this._delegate,e).then(r=>new Oo(this.firestore,r))}isEqual(e){return RW(this._delegate,e._delegate)}withConverter(e){return new wf(this.firestore,e?this._delegate.withConverter(ad.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Su(t){return $t(t,Sn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(...e){this._delegate=new cl(...e)}static documentId(){return new pN(ar.keyField().canonicalString())}isEqual(e){return e=Ze(e),e instanceof cl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._delegate=e}static serverTimestamp(){const e=rIe();return e._methodName="FieldValue.serverTimestamp",new ku(e)}static delete(){const e=nIe();return e._methodName="FieldValue.delete",new ku(e)}static arrayUnion(...e){const r=iIe(...e);return r._methodName="FieldValue.arrayUnion",new ku(r)}static arrayRemove(...e){const r=oIe(...e);return r._methodName="FieldValue.arrayRemove",new ku(r)}static increment(e){const r=sIe(e);return r._methodName="FieldValue.increment",new ku(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fIe={Firestore:rG,GeoPoint:N0,Timestamp:On,Blob:Ry,Transaction:iG,WriteBatch:oG,DocumentReference:Oo,DocumentSnapshot:Og,Query:xi,QueryDocumentSnapshot:Lg,QuerySnapshot:II,CollectionReference:wf,FieldPath:pN,FieldValue:ku,setLogLevel:dIe,CACHE_SIZE_UNLIMITED:gTe};function pIe(t,e){t.INTERNAL.registerComponent(new Uo("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),a=r.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},fIe)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mIe(t){pIe(t,(e,r)=>new rG(e,r,new uIe)),t.registerVersion(aIe,cIe)}mIe(gs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG="firebasestorage.googleapis.com",lG="storageBucket",gIe=2*60*1e3,bIe=10*60*1e3,wIe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends mi{constructor(e,r,o=0){super(nS(e),`Firebase Storage: ${r} (${nS(e)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function nS(t){return"storage/"+t}function mN(){const t="An unknown error occurred, please check the error payload for server response.";return new Wn("unknown",t)}function kIe(t){return new Wn("object-not-found","Object '"+t+"' does not exist.")}function vIe(t){return new Wn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yIe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wn("unauthenticated",t)}function _Ie(){return new Wn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function AIe(t){return new Wn("unauthorized","User does not have permission to access '"+t+"'.")}function uG(){return new Wn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function dG(){return new Wn("canceled","User canceled the upload/download.")}function CIe(t){return new Wn("invalid-url","Invalid URL '"+t+"'.")}function EIe(t){return new Wn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function xIe(){return new Wn("no-default-bucket","No default bucket found. Did you set the '"+lG+"' property when initializing the app?")}function hG(){return new Wn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function SIe(){return new Wn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function TIe(){return new Wn("no-download-url","The given file does not have any download URLs.")}function IIe(t){return new Wn("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uh(t){return new Wn("invalid-argument",t)}function fG(){return new Wn("app-deleted","The Firebase app was deleted.")}function pG(t){return new Wn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lm(t,e){return new Wn("invalid-format","String does not match format '"+t+"': "+e)}function Zp(t){throw new Wn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let o;try{o=pi.makeFromUrl(e,r)}catch{return new pi(e,"")}if(o.path==="")return o;throw EIe(e)}static makeFromUrl(e,r){let o=null;const a="([A-Za-z0-9.\\-_]+)";function u(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+a+h,"i"),m={bucket:1,path:3};function b(O){O.path_=decodeURIComponent(O.path)}const k="v[A-Za-z0-9_]+",v=r.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${k}/b/${a}/o${_}`,"i"),E={bucket:1,path:3},I=r===cG?"(?:storage.googleapis.com|storage.cloud.google.com)":r,L="([^?#]*)",N=new RegExp(`^https?://${I}/${a}/${L}`,"i"),D=[{regex:p,indices:m,postModify:u},{regex:A,indices:E,postModify:b},{regex:N,indices:{bucket:1,path:2},postModify:b}];for(let O=0;O<D.length;O++){const V=D[O],U=V.regex.exec(e);if(U){const q=U[V.indices.bucket];let te=U[V.indices.path];te||(te=""),o=new pi(q,te),V.postModify(o);break}}if(o==null)throw CIe(e);return o}}class DIe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PIe(t,e,r){let o=1,a=null,u=null,h=!1,p=0;function m(){return p===2}let b=!1;function k(...L){b||(b=!0,e.apply(null,L))}function v(L){a=setTimeout(()=>{a=null,t(A,m())},L)}function _(){u&&clearTimeout(u)}function A(L,...N){if(b){_();return}if(L){_(),k.call(null,L,...N);return}if(m()||h){_(),k.call(null,L,...N);return}o<64&&(o*=2);let D;p===1?(p=2,D=0):D=(o+Math.random())*1e3,v(D)}let E=!1;function I(L){E||(E=!0,_(),!b&&(a!==null?(L||(p=2),clearTimeout(a),v(0)):L||(p=1)))}return v(0),u=setTimeout(()=>{h=!0,I(!0)},r),I}function MIe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NIe(t){return t!==void 0}function RIe(t){return typeof t=="function"}function OIe(t){return typeof t=="object"&&!Array.isArray(t)}function $0(t){return typeof t=="string"||t instanceof String}function fV(t){return gN()&&t instanceof Blob}function gN(){return typeof Blob<"u"&&!G_()}function DI(t,e,r,o){if(o<e)throw Uh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(o>r)throw Uh(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,r){let o=e;return r==null&&(o=`https://${e}`),`${r}://${o}/v0${t}`}function mG(t){const e=encodeURIComponent;let r="?";for(const o in t)if(t.hasOwnProperty(o)){const a=e(o)+"="+e(t[o]);r=r+a+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vu||(Vu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return r||a||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LIe{constructor(e,r,o,a,u,h,p,m,b,k,v,_=!0){this.url_=e,this.method_=r,this.headers_=o,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=m,this.timeout_=b,this.progressCallback_=k,this.connectionFactory_=v,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,E)=>{this.resolve_=A,this.reject_=E,this.start_()})}start_(){const e=(o,a)=>{if(a){o(!1,new Ok(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const m=p.loaded,b=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,b)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===Vu.NO_ERROR,m=u.getStatus();if(!p||gG(m,this.additionalRetryCodes_)&&this.retry){const k=u.getErrorCode()===Vu.ABORT;o(!1,new Ok(!1,null,k));return}const b=this.successCodes_.indexOf(m)!==-1;o(!0,new Ok(b,u))})},r=(o,a)=>{const u=this.resolve_,h=this.reject_,p=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());NIe(m)?u(m):u()}catch(m){h(m)}else if(p!==null){const m=mN();m.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,m)):h(m)}else if(a.canceled){const m=this.appDelete_?fG():dG();h(m)}else{const m=uG();h(m)}};this.canceled_?r(!1,new Ok(!1,null,!0)):this.backoffId_=PIe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MIe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ok{constructor(e,r,o){this.wasSuccessCode=e,this.connection=r,this.canceled=!!o}}function BIe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zIe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FIe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jIe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VIe(t,e,r,o,a,u,h=!0){const p=mG(t.urlParams),m=t.url+p,b=Object.assign({},t.headers);return FIe(b,e),BIe(b,r),zIe(b,u),jIe(b,o),new LIe(m,t.method,b,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UIe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $Ie(...t){const e=UIe();if(e!==void 0){const r=new e;for(let o=0;o<t.length;o++)r.append(t[o]);return r.getBlob()}else{if(gN())return new Blob(t);throw new Wn("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function HIe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qIe(t){if(typeof atob>"u")throw IIe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rS{constructor(e,r){this.data=e,this.contentType=r||null}}function bG(t,e){switch(t){case Lo.RAW:return new rS(wG(e));case Lo.BASE64:case Lo.BASE64URL:return new rS(kG(t,e));case Lo.DATA_URL:return new rS(GIe(e),KIe(e))}throw mN()}function wG(t){const e=[];for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o<=127)e.push(o);else if(o<=2047)e.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const u=o,h=t.charCodeAt(++r);o=65536|(u&1023)<<10|h&1023,e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(e)}function WIe(t){let e;try{e=decodeURIComponent(t)}catch{throw Lm(Lo.DATA_URL,"Malformed data URL.")}return wG(e)}function kG(t,e){switch(t){case Lo.BASE64:{const a=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(a||u)throw Lm(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Lo.BASE64URL:{const a=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(a||u)throw Lm(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=qIe(e)}catch(a){throw a.message.includes("polyfill")?a:Lm(t,"Invalid character found")}const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}class vG{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Lm(Lo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=r[1]||null;o!=null&&(this.base64=YIe(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=e.substring(e.indexOf(",")+1)}}function GIe(t){const e=new vG(t);return e.base64?kG(Lo.BASE64,e.rest):WIe(e.rest)}function KIe(t){return new vG(t).contentType}function YIe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,r){let o=0,a="";fV(e)?(this.data_=e,o=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(fV(this.data_)){const o=this.data_,a=HIe(o,e,r);return a===null?null:new va(a)}else{const o=new Uint8Array(this.data_.buffer,e,r-e);return new va(o,!0)}}static getBlob(...e){if(gN()){const r=e.map(o=>o instanceof va?o.data_:o);return new va($Ie.apply(null,r))}else{const r=e.map(h=>$0(h)?bG(Lo.RAW,h).data:h.data_);let o=0;r.forEach(h=>{o+=h.byteLength});const a=new Uint8Array(o);let u=0;return r.forEach(h=>{for(let p=0;p<h.length;p++)a[u++]=h[p]}),new va(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){let e;try{e=JSON.parse(t)}catch{return null}return OIe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QIe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ZIe(t,e){const r=e.split("/").filter(o=>o.length>0).join("/");return t.length===0?r:t+"/"+r}function yG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JIe(t,e){return e}class Ai{constructor(e,r,o,a){this.server=e,this.local=r||e,this.writable=!!o,this.xform=a||JIe}}let Lk=null;function XIe(t){return!$0(t)||t.length<2?t:yG(t)}function H0(){if(Lk)return Lk;const t=[];t.push(new Ai("bucket")),t.push(new Ai("generation")),t.push(new Ai("metageneration")),t.push(new Ai("name","fullPath",!0));function e(u,h){return XIe(h)}const r=new Ai("name");r.xform=e,t.push(r);function o(u,h){return h!==void 0?Number(h):h}const a=new Ai("size");return a.xform=o,t.push(a),t.push(new Ai("timeCreated")),t.push(new Ai("updated")),t.push(new Ai("md5Hash",null,!0)),t.push(new Ai("cacheControl",null,!0)),t.push(new Ai("contentDisposition",null,!0)),t.push(new Ai("contentEncoding",null,!0)),t.push(new Ai("contentLanguage",null,!0)),t.push(new Ai("contentType",null,!0)),t.push(new Ai("metadata","customMetadata",!0)),Lk=t,Lk}function eDe(t,e){function r(){const o=t.bucket,a=t.fullPath,u=new pi(o,a);return e._makeStorageReference(u)}Object.defineProperty(t,"ref",{get:r})}function tDe(t,e,r){const o={};o.type="file";const a=r.length;for(let u=0;u<a;u++){const h=r[u];o[h.local]=h.xform(o,e[h.server])}return eDe(o,t),o}function _G(t,e,r){const o=bN(e);return o===null?null:tDe(t,o,r)}function nDe(t,e,r,o){const a=bN(e);if(a===null||!$0(a.downloadTokens))return null;const u=a.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(b=>{const k=t.bucket,v=t.fullPath,_="/b/"+h(k)+"/o/"+h(v),A=Sl(_,r,o),E=mG({alt:"media",token:b});return A+E})[0]}function wN(t,e){const r={},o=e.length;for(let a=0;a<o;a++){const u=e[a];u.writable&&(r[u.server]=t[u.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="prefixes",mV="items";function rDe(t,e,r){const o={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[pV])for(const a of r[pV]){const u=a.replace(/\/$/,""),h=t._makeStorageReference(new pi(e,u));o.prefixes.push(h)}if(r[mV])for(const a of r[mV]){const u=t._makeStorageReference(new pi(e,a.name));o.items.push(u)}return o}function iDe(t,e,r){const o=bN(r);return o===null?null:rDe(t,e,o)}class ec{constructor(e,r,o,a){this.url=e,this.method=r,this.handler=o,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){if(!t)throw mN()}function q0(t,e){function r(o,a){const u=_G(t,a,e);return Js(u!==null),u}return r}function oDe(t,e){function r(o,a){const u=iDe(t,e,a);return Js(u!==null),u}return r}function sDe(t,e){function r(o,a){const u=_G(t,a,e);return Js(u!==null),nDe(u,a,t.host,t._protocol)}return r}function Vf(t){function e(r,o){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=_Ie():a=yIe():r.getStatus()===402?a=vIe(t.bucket):r.getStatus()===403?a=AIe(t.path):a=o,a.status=r.getStatus(),a.serverResponse=o.serverResponse,a}return e}function W0(t){const e=Vf(t);function r(o,a){let u=e(o,a);return o.getStatus()===404&&(u=kIe(t.path)),u.serverResponse=a.serverResponse,u}return r}function AG(t,e,r){const o=e.fullServerUrl(),a=Sl(o,t.host,t._protocol),u="GET",h=t.maxOperationRetryTime,p=new ec(a,u,q0(t,r),h);return p.errorHandler=W0(e),p}function aDe(t,e,r,o,a){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",r&&r.length>0&&(u.delimiter=r),o&&(u.pageToken=o),a&&(u.maxResults=a);const h=e.bucketOnlyServerUrl(),p=Sl(h,t.host,t._protocol),m="GET",b=t.maxOperationRetryTime,k=new ec(p,m,oDe(t,e.bucket),b);return k.urlParams=u,k.errorHandler=Vf(e),k}function cDe(t,e,r){const o=e.fullServerUrl(),a=Sl(o,t.host,t._protocol),u="GET",h=t.maxOperationRetryTime,p=new ec(a,u,sDe(t,r),h);return p.errorHandler=W0(e),p}function lDe(t,e,r,o){const a=e.fullServerUrl(),u=Sl(a,t.host,t._protocol),h="PATCH",p=wN(r,o),m={"Content-Type":"application/json; charset=utf-8"},b=t.maxOperationRetryTime,k=new ec(u,h,q0(t,o),b);return k.headers=m,k.body=p,k.errorHandler=W0(e),k}function uDe(t,e){const r=e.fullServerUrl(),o=Sl(r,t.host,t._protocol),a="DELETE",u=t.maxOperationRetryTime;function h(m,b){}const p=new ec(o,a,h,u);return p.successCodes=[200,204],p.errorHandler=W0(e),p}function dDe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CG(t,e,r){const o=Object.assign({},r);return o.fullPath=t.path,o.size=e.size(),o.contentType||(o.contentType=dDe(null,e)),o}function hDe(t,e,r,o,a){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let D="";for(let O=0;O<2;O++)D=D+Math.random().toString().slice(2);return D}const m=p();h["Content-Type"]="multipart/related; boundary="+m;const b=CG(e,o,a),k=wN(b,r),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+k+`\r
--`+m+`\r
Content-Type: `+b.contentType+`\r
\r
`,_=`\r
--`+m+"--",A=va.getBlob(v,o,_);if(A===null)throw hG();const E={name:b.fullPath},I=Sl(u,t.host,t._protocol),L="POST",N=t.maxUploadRetryTime,T=new ec(I,L,q0(t,r),N);return T.urlParams=E,T.headers=h,T.body=A.uploadData(),T.errorHandler=Vf(e),T}class Oy{constructor(e,r,o,a){this.current=e,this.total=r,this.finalized=!!o,this.metadata=a||null}}function kN(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{Js(!1)}return Js(!!r&&(e||["active"]).indexOf(r)!==-1),r}function fDe(t,e,r,o,a){const u=e.bucketOnlyServerUrl(),h=CG(e,o,a),p={name:h.fullPath},m=Sl(u,t.host,t._protocol),b="POST",k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},v=wN(h,r),_=t.maxUploadRetryTime;function A(I){kN(I);let L;try{L=I.getResponseHeader("X-Goog-Upload-URL")}catch{Js(!1)}return Js($0(L)),L}const E=new ec(m,b,A,_);return E.urlParams=p,E.headers=k,E.body=v,E.errorHandler=Vf(e),E}function pDe(t,e,r,o){const a={"X-Goog-Upload-Command":"query"};function u(b){const k=kN(b,["active","final"]);let v=null;try{v=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Js(!1)}v||Js(!1);const _=Number(v);return Js(!isNaN(_)),new Oy(_,o.size(),k==="final")}const h="POST",p=t.maxUploadRetryTime,m=new ec(r,h,u,p);return m.headers=a,m.errorHandler=Vf(e),m}const gV=256*1024;function mDe(t,e,r,o,a,u,h,p){const m=new Oy(0,0);if(h?(m.current=h.current,m.total=h.total):(m.current=0,m.total=o.size()),o.size()!==m.total)throw SIe();const b=m.total-m.current;let k=b;a>0&&(k=Math.min(k,a));const v=m.current,_=v+k;let A="";k===0?A="finalize":b===k?A="upload, finalize":A="upload";const E={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${m.current}`},I=o.slice(v,_);if(I===null)throw hG();function L(O,V){const U=kN(O,["active","final"]),q=m.current+k,te=o.size();let ce;return U==="final"?ce=q0(e,u)(O,V):ce=null,new Oy(q,te,U==="final",ce)}const N="POST",T=e.maxUploadRetryTime,D=new ec(r,N,L,T);return D.headers=E,D.body=I.uploadData(),D.progressCallback=p||null,D.errorHandler=Vf(t),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gDe={STATE_CHANGED:"state_changed"},Ti={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iS(t){switch(t){case"running":case"pausing":case"canceling":return Ti.RUNNING;case"paused":return Ti.PAUSED;case"success":return Ti.SUCCESS;case"canceled":return Ti.CANCELED;case"error":return Ti.ERROR;default:return Ti.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bDe{constructor(e,r,o){if(RIe(e)||r!=null||o!=null)this.next=e,this.error=r??void 0,this.complete=o??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class wDe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,o,a){if(this.sent_)throw Zp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kDe extends wDe{initXhr(){this.xhr_.responseType="text"}}function js(){return new kDe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,r,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=o,this._mappings=H0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(gG(a.status,[]))if(u)a=uG();else{this.sleepTime=Math.max(this.sleepTime*2,wIe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,u)=>{this._resolve=a,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,o])=>{switch(this._state){case"running":e(r,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const o=fDe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(o,js,e,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,o)=>{const a=pDe(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(a,js,r,o);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=gV*this._chunkMultiplier,r=new Oy(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((a,u)=>{let h;try{h=mDe(this._ref._location,this._ref.storage,o,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const p=this._ref.storage._makeRequest(h,js,a,u,!1);this._request=p,p.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){gV*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const o=AG(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(o,js,e,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const o=hDe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(o,js,e,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=dG(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=iS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,o,a){const u=new bDe(r||void 0,o||void 0,a||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(iS(this._state)){case Ti.SUCCESS:nh(this._resolve.bind(null,this.snapshot))();break;case Ti.CANCELED:case Ti.ERROR:const r=this._reject;nh(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(iS(this._state)){case Ti.RUNNING:case Ti.PAUSED:e.next&&nh(e.next.bind(e,this.snapshot))();break;case Ti.SUCCESS:e.complete&&nh(e.complete.bind(e))();break;case Ti.CANCELED:case Ti.ERROR:e.error&&nh(e.error.bind(e,this._error))();break;default:e.error&&nh(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,r){this._service=e,r instanceof pi?this._location=r:this._location=pi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new cd(e,r)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yG(this._location.path)}get storage(){return this._service}get parent(){const e=QIe(this._location.path);if(e===null)return null;const r=new pi(this._location.bucket,e);return new cd(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw pG(e)}}function vDe(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new EG(t,new va(e),r)}function yDe(t){const e={prefixes:[],items:[]};return xG(t,e).then(()=>e)}async function xG(t,e,r){const a=await SG(t,{pageToken:r});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await xG(t,e,a.nextPageToken)}function SG(t,e){e!=null&&typeof e.maxResults=="number"&&DI("options.maxResults",1,1e3,e.maxResults);const r=e||{},o=aDe(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(o,js)}function _De(t){t._throwIfRoot("getMetadata");const e=AG(t.storage,t._location,H0());return t.storage.makeRequestWithTokens(e,js)}function ADe(t,e){t._throwIfRoot("updateMetadata");const r=lDe(t.storage,t._location,e,H0());return t.storage.makeRequestWithTokens(r,js)}function CDe(t){t._throwIfRoot("getDownloadURL");const e=cDe(t.storage,t._location,H0());return t.storage.makeRequestWithTokens(e,js).then(r=>{if(r===null)throw TIe();return r})}function EDe(t){t._throwIfRoot("deleteObject");const e=uDe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,js)}function TG(t,e){const r=ZIe(t._location.path,e),o=new pi(t._location.bucket,r);return new cd(t.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xDe(t){return/^[A-Za-z]+:\/\//.test(t)}function SDe(t,e){return new cd(t,e)}function IG(t,e){if(t instanceof vN){const r=t;if(r._bucket==null)throw xIe();const o=new cd(r,r._bucket);return e!=null?IG(o,e):o}else return e!==void 0?TG(t,e):t}function TDe(t,e){if(e&&xDe(e)){if(t instanceof vN)return SDe(t,e);throw Uh("To use ref(service, url), the first argument must be a Storage instance.")}else return IG(t,e)}function bV(t,e){const r=e==null?void 0:e[lG];return r==null?null:pi.makeFromBucketSpec(r,t)}function IDe(t,e,r,o={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:a}=o;a&&(t._overrideAuthToken=typeof a=="string"?a:RH(a,t.app.options.projectId))}class vN{constructor(e,r,o,a,u){this.app=e,this._authProvider=r,this._appCheckProvider=o,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=cG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gIe,this._maxUploadRetryTime=bIe,this._requests=new Set,a!=null?this._bucket=pi.makeFromBucketSpec(a,this._host):this._bucket=bV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=bV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cd(this,e)}_makeRequest(e,r,o,a,u=!0){if(this._deleted)return new DIe(fG());{const h=VIe(e,this._appId,o,a,r,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,r){const[o,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,o,a).getPromise()}}const wV="@firebase/storage",kV="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DDe="storage";function PDe(t,e,r){return t=Ze(t),vDe(t,e,r)}function MDe(t){return t=Ze(t),_De(t)}function NDe(t,e){return t=Ze(t),ADe(t,e)}function RDe(t,e){return t=Ze(t),SG(t,e)}function ODe(t){return t=Ze(t),yDe(t)}function LDe(t){return t=Ze(t),CDe(t)}function BDe(t){return t=Ze(t),EDe(t)}function vV(t,e){return t=Ze(t),TDe(t,e)}function zDe(t,e){return TG(t,e)}function FDe(t,e,r,o={}){IDe(t,e,r,o)}function jDe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new vN(r,o,a,e,kl)}function VDe(){ja(new Uo(DDe,jDe,"PUBLIC").setMultipleInstances(!0)),zo(wV,kV,""),zo(wV,kV,"esm2017")}VDe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,r,o){this._delegate=e,this.task=r,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Bk(this._delegate.snapshot,this,this._ref)}then(e,r){return this._delegate.then(o=>{if(e)return e(new Bk(o,this,this._ref))},r)}on(e,r,o,a){let u;return r&&(typeof r=="function"?u=h=>r(new Bk(h,this,this._ref)):u={next:r.next?h=>r.next(new Bk(h,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,u,o||void 0,a||void 0)}}class _V{constructor(e,r){this._delegate=e,this._service=r}get prefixes(){return this._delegate.prefixes.map(e=>new Pa(e,this._service))}get items(){return this._delegate.items.map(e=>new Pa(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,r){this._delegate=e,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const r=zDe(this._delegate,e);return new Pa(r,this.storage)}get root(){return new Pa(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Pa(e,this.storage)}put(e,r){return this._throwIfRoot("put"),new yV(PDe(this._delegate,e,r),this)}putString(e,r=Lo.RAW,o){this._throwIfRoot("putString");const a=bG(r,e),u=Object.assign({},o);return u.contentType==null&&a.contentType!=null&&(u.contentType=a.contentType),new yV(new EG(this._delegate,new va(a.data,!0),u),this)}listAll(){return ODe(this._delegate).then(e=>new _V(e,this.storage))}list(e){return RDe(this._delegate,e||void 0).then(r=>new _V(r,this.storage))}getMetadata(){return MDe(this._delegate)}updateMetadata(e){return NDe(this._delegate,e)}getDownloadURL(){return LDe(this._delegate)}delete(){return this._throwIfRoot("delete"),BDe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw pG(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,r){this.app=e,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(AV(e))throw Uh("ref() expected a child path but got a URL, use refFromURL instead.");return new Pa(vV(this._delegate,e),this)}refFromURL(e){if(!AV(e))throw Uh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pi.makeFromUrl(e,this._delegate.host)}catch{throw Uh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pa(vV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,r,o={}){FDe(this._delegate,e,r,o)}}function AV(t){return/^[A-Za-z]+:\/\//.test(t)}const UDe="@firebase/storage-compat",$De="0.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HDe="storage-compat";function qDe(t,{instanceIdentifier:e}){const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("storage").getImmediate({identifier:e});return new DG(r,o)}function WDe(t){const e={TaskState:Ti,TaskEvent:gDe,StringFormat:Lo,Storage:DG,Reference:Pa};t.INTERNAL.registerComponent(new Uo(HDe,qDe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(UDe,$De)}WDe(gs);const GDe={apiKey:"AIzaSyBsUK8JTkDttU8Qg5OngvOhQtmc97kK-5I",authDomain:"blog-v2-ef333.firebaseapp.com",projectId:"blog-v2-ef333",storageBucket:"blog-v2-ef333.appspot.com",messagingSenderId:"240898426488",appId:"1:240898426488:web:f34e1baf034f9b79310f8d",measurementId:"G-2JL2Z0C860"};gs.initializeApp(GDe);const KDe=gs,Ly=gs.auth(),Uu=gs.firestore(),YDe=gs.storage(),PG="auth/GET_FIREBASE_USER",MG="auth/GET_FIREBASE_USER_SUCCESS",NG="auth/GET_FIREBASE_USER_NULL",QDe=sH(PG,MG,NG)(),RG="auth/ACTION_FIREBASE_LOGIN_SUCCESS",OG="auth/ACTION_FIREBASE_LOGIN_ERROR",LG="auth/ACTION_FIREBASE_LOGOUT",ZDe=Fa(RG)(),JDe=Fa(OG)(),XDe=Fa(LG)();function ePe(){return t=>{const{request:e,success:r,failure:o}=QDe;t(e()),Ly.onAuthStateChanged(async a=>{t(a?r(a):o())})}}function CV(t){return async e=>{const r=new KDe.auth.GithubAuthProvider;t?await Ly.signInWithPopup(r).then(o=>e(ZDe(o.user))).catch(o=>e(JDe(o))):(await Ly.signOut(),e(XDe()))}}const tPe={auth:No.initial()},nPe=tb(tPe,{[PG]:t=>({...t,auth:No.loading()}),[MG]:(t,e)=>({...t,auth:No.success(e.payload)}),[NG]:t=>({...t,auth:No.null()}),[RG]:(t,e)=>({...t,auth:No.success(e.payload)}),[OG]:(t,e)=>({...t,auth:No.error(e.payload)}),[LG]:t=>({...t,auth:No.null()})});function BG(t,e,r){return async o=>{try{dN(ga(JM(Uu,t)),a=>{const u=a.docs.map(h=>({id:h.id,...h.data()}));o(e(u))})}catch(a){o(r(a))}}}const zG="blog/GET_BLOG_SUCCESS",FG="blog/GET_BLOG_ERROR",rPe=Fa(zG)(),iPe=Fa(FG)();function oPe(){return BG("blog",rPe,iPe)}const sPe={loading:!0,error:null,blog:[]},aPe=tb(sPe,{[zG]:(t,e)=>({...t,loading:!1,blog:e.payload}),[FG]:(t,e)=>({...t,loading:!1,error:e.payload})}),jG="category/GET_CATEGORY_SUCCESS",VG="category/GET_CATEGORY_ERROR",cPe=Fa(jG)(),lPe=Fa(VG)();function uPe(){return BG("categories",cPe,lPe)}const dPe={loading:!0,error:null,categories:[]},hPe=tb(dPe,{[jG]:(t,e)=>({...t,loading:!1,categories:e.payload}),[VG]:(t,e)=>({...t,loading:!1,error:e.payload})}),fPe=ske({githubReducer:Mve,authReducer:nPe,blogReducer:aPe,categoryReducer:hPe}),pPe=t=>ike(fPe,t,cke(lke,dke)),mPe=pPe(),ul=Rwe,UG=()=>Xwe();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wt(){return Wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wt.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const EV="popstate";function gPe(t){t===void 0&&(t={});function e(o,a){let{pathname:u,search:h,hash:p}=o.location;return Bg("",{pathname:u,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:ra(a)}return wPe(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bPe(){return Math.random().toString(36).substr(2,8)}function xV(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,r,o){return r===void 0&&(r=null),Wt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tc(e):e,{state:r,key:e&&e.key||o||bPe()})}function ra(t){let{pathname:e="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function tc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function wPe(t,e,r,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:u=!1}=o,h=a.history,p=hr.Pop,m=null,b=k();b==null&&(b=0,h.replaceState(Wt({},h.state,{idx:b}),""));function k(){return(h.state||{idx:null}).idx}function v(){p=hr.Pop;let L=k(),N=L==null?null:L-b;b=L,m&&m({action:p,location:I.location,delta:N})}function _(L,N){p=hr.Push;let T=Bg(I.location,L,N);r&&r(T,L),b=k()+1;let D=xV(T,b),O=I.createHref(T);try{h.pushState(D,"",O)}catch{a.location.assign(O)}u&&m&&m({action:p,location:I.location,delta:1})}function A(L,N){p=hr.Replace;let T=Bg(I.location,L,N);r&&r(T,L),b=k();let D=xV(T,b),O=I.createHref(T);h.replaceState(D,"",O),u&&m&&m({action:p,location:I.location,delta:0})}function E(L){let N=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof L=="string"?L:ra(L);return _t(N,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,N)}let I={get action(){return p},get location(){return t(a,h)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(EV,v),m=L,()=>{a.removeEventListener(EV,v),m=null}},createHref(L){return e(a,L)},createURL:E,encodeLocation(L){let N=E(L);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:A,go(L){return h.go(L)}};return I}var Jr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jr||(Jr={}));function kPe(t){return t.index===!0}function $G(t,e,r){return e===void 0&&(e=[]),r===void 0&&(r=new Set),t.map((o,a)=>{let u=[...e,a],h=typeof o.id=="string"?o.id:u.join("-");return _t(o.index!==!0||!o.children,"Cannot specify children on an index route"),_t(!r.has(h),'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),r.add(h),kPe(o)?Wt({},o,{id:h}):Wt({},o,{id:h,children:o.children?$G(o.children,u,r):void 0})})}function pm(t,e,r){r===void 0&&(r="/");let o=typeof e=="string"?tc(e):e,a=GG(o.pathname||"/",r);if(a==null)return null;let u=HG(t);vPe(u);let h=null;for(let p=0;h==null&&p<u.length;++p)h=IPe(u[p],PPe(a));return h}function HG(t,e,r,o){e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o="");let a=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(_t(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let b=Ma([o,m.relativePath]),k=r.concat(m);u.children&&u.children.length>0&&(_t(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),HG(u.children,e,k,b)),!(u.path==null&&!u.index)&&e.push({path:b,score:SPe(b,u.index),routesMeta:k})};return t.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,h);else for(let m of qG(u.path))a(u,h,m)}),e}function qG(t){let e=t.split("/");if(e.length===0)return[];let[r,...o]=e,a=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let h=qG(o.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),a&&p.push(...h),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function vPe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:TPe(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const yPe=/^:\w+$/,_Pe=3,APe=2,CPe=1,EPe=10,xPe=-2,SV=t=>t==="*";function SPe(t,e){let r=t.split("/"),o=r.length;return r.some(SV)&&(o+=xPe),e&&(o+=APe),r.filter(a=>!SV(a)).reduce((a,u)=>a+(yPe.test(u)?_Pe:u===""?CPe:EPe),o)}function TPe(t,e){return t.length===e.length&&t.slice(0,-1).every((o,a)=>o===e[a])?t[t.length-1]-e[e.length-1]:0}function IPe(t,e){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,b=a==="/"?e:e.slice(a.length)||"/",k=WG({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b);if(!k)return null;Object.assign(o,k.params);let v=p.route;u.push({params:o,pathname:Ma([a,k.pathname]),pathnameBase:OPe(Ma([a,k.pathnameBase])),route:v}),k.pathnameBase!=="/"&&(a=Ma([a,k.pathnameBase]))}return u}function WG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=DPe(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((b,k,v)=>{if(k==="*"){let _=p[v]||"";h=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}return b[k]=MPe(p[v]||"",k),b},{}),pathname:u,pathnameBase:h,pattern:t}}function DPe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,p)=>(o.push(p),"/([^\\/]+)"));return t.endsWith("*")?(o.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function PPe(t){try{return decodeURI(t)}catch(e){return zg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function MPe(t,e){try{return decodeURIComponent(t)}catch(r){return zg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function GG(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function zg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NPe(t,e){e===void 0&&(e="/");let{pathname:r,search:o="",hash:a=""}=typeof t=="string"?tc(t):t;return{pathname:r?r.startsWith("/")?r:RPe(r,e):e,search:LPe(o),hash:BPe(a)}}function RPe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function oS(t,e,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yN(t,e,r,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=tc(t):(a=Wt({},t),_t(!a.pathname||!a.pathname.includes("?"),oS("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),oS("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),oS("#","search","hash",a)));let u=t===""||a.pathname==="",h=u?"/":a.pathname,p;if(o||h==null)p=r;else{let v=e.length-1;if(h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}p=v>=0?e[v]:"/"}let m=NPe(a,p),b=h&&h!=="/"&&h.endsWith("/"),k=(u||h===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(b||k)&&(m.pathname+="/"),m}const Ma=t=>t.join("/").replace(/\/\/+/g,"/"),OPe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LPe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BPe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class TV extends Error{}class zPe{constructor(e,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_t(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let o;this.abortPromise=new Promise((u,h)=>o=h),this.controller=new AbortController;let a=()=>o(new TV("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(e).reduce((u,h)=>{let[p,m]=h;return Object.assign(u,{[p]:this.trackPromise(p,m)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(e,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let o=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(o,e,null,a),a=>this.onSettle(o,e,a));return o.catch(()=>{}),Object.defineProperty(o,"_tracked",{get:()=>!0}),o}onSettle(e,r,o,a){return this.controller.signal.aborted&&o instanceof TV?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>o}),Promise.reject(o)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),o?(Object.defineProperty(e,"_error",{get:()=>o}),this.emit(!1,r),Promise.reject(o)):(Object.defineProperty(e,"_data",{get:()=>a}),this.emit(!1,r),a))}emit(e,r){this.subscribers.forEach(o=>o(e,r))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(e){let r=!1;if(!this.done){let o=()=>this.cancel();e.addEventListener("abort",o),r=await new Promise(a=>{this.subscribe(u=>{e.removeEventListener("abort",o),(u||this.done)&&a(u)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _t(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,r)=>{let[o,a]=r;return Object.assign(e,{[o]:jPe(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function FPe(t){return t instanceof Promise&&t._tracked===!0}function jPe(t){if(!FPe(t))return t;if(t._error)throw t._error;return t._data}const VPe=function(e,r){r===void 0&&(r=302);let o=r;typeof o=="number"?o={status:o}:typeof o.status>"u"&&(o.status=302);let a=new Headers(o.headers);return a.set("Location",e),new Response(null,Wt({},o,{headers:a}))};class _N{constructor(e,r,o,a){a===void 0&&(a=!1),this.status=e,this.statusText=r||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function KG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YG=["post","put","patch","delete"],UPe=new Set(YG),$Pe=["get",...YG],HPe=new Set($Pe),qPe=new Set([301,302,303,307,308]),WPe=new Set([307,308]),sS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},GPe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IV={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},QG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KPe=!QG;function YPe(t){_t(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=$G(t.routes),r=null,o=new Set,a=null,u=null,h=null,p=t.hydrationData!=null,m=pm(e,t.history.location,t.basename),b=null;if(m==null){let ne=Ac(404,{pathname:t.history.location.pathname}),{matches:oe,route:me}=OV(e);m=oe,b={[me.id]:ne}}let k=!m.some(ne=>ne.route.loader)||t.hydrationData!=null,v,_={historyAction:t.history.action,location:t.history.location,matches:m,initialized:k,navigation:sS,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},A=hr.Pop,E=!1,I,L=!1,N=!1,T=[],D=[],O=new Map,V=0,U=-1,q=new Map,te=new Set,ce=new Map,fe=new Map,Be=null,re=new Map,ae=!1;function Ce(){return r=t.history.listen(ne=>{let{action:oe,location:me,delta:_e}=ne;if(ae){ae=!1;return}zg(Be!=null&&_e===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=ue({currentLocation:_.location,nextLocation:me,historyAction:oe});if(De&&_e!=null){ae=!0,t.history.go(_e*-1),Te(De,{state:"blocked",location:me,proceed(){Te(De,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),t.history.go(_e)},reset(){ve(De),ze({blockers:new Map(v.state.blockers)})}});return}return z(oe,me)}),_.initialized||z(hr.Pop,_.location),v}function xe(){r&&r(),o.clear(),I&&I.abort(),_.fetchers.forEach((ne,oe)=>pt(oe)),_.blockers.forEach((ne,oe)=>ve(oe))}function Ke(ne){return o.add(ne),()=>o.delete(ne)}function ze(ne){_=Wt({},_,ne),o.forEach(oe=>oe(_))}function pe(ne,oe){var me,_e;let De=_.actionData!=null&&_.navigation.formMethod!=null&&wa(_.navigation.formMethod)&&_.navigation.state==="loading"&&((me=ne.state)==null?void 0:me._isRedirect)!==!0,Xe;oe.actionData?Object.keys(oe.actionData).length>0?Xe=oe.actionData:Xe=null:De?Xe=_.actionData:Xe=null;let Je=oe.loaderData?RV(_.loaderData,oe.loaderData,oe.matches||[],oe.errors):_.loaderData;for(let[Ue]of re)ve(Ue);let ut=E===!0||_.navigation.formMethod!=null&&wa(_.navigation.formMethod)&&((_e=ne.state)==null?void 0:_e._isRedirect)!==!0;ze(Wt({},oe,{actionData:Xe,loaderData:Je,historyAction:A,location:ne,initialized:!0,navigation:sS,revalidation:"idle",restoreScrollPosition:hn(ne,oe.matches||_.matches),preventScrollReset:ut,blockers:new Map(_.blockers)})),L||A===hr.Pop||(A===hr.Push?t.history.push(ne,ne.state):A===hr.Replace&&t.history.replace(ne,ne.state)),A=hr.Pop,E=!1,L=!1,N=!1,T=[],D=[]}async function le(ne,oe){if(typeof ne=="number"){t.history.go(ne);return}let{path:me,submission:_e,error:De}=DV(ne,oe),Xe=_.location,Je=Bg(_.location,me,oe&&oe.state);Je=Wt({},Je,t.history.encodeLocation(Je));let ut=oe&&oe.replace!=null?oe.replace:void 0,Ue=hr.Push;ut===!0?Ue=hr.Replace:ut===!1||_e!=null&&wa(_e.formMethod)&&_e.formAction===_.location.pathname+_.location.search&&(Ue=hr.Replace);let zt=oe&&"preventScrollReset"in oe?oe.preventScrollReset===!0:void 0,Pe=ue({currentLocation:Xe,nextLocation:Je,historyAction:Ue});if(Pe){Te(Pe,{state:"blocked",location:Je,proceed(){Te(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),le(ne,oe)},reset(){ve(Pe),ze({blockers:new Map(_.blockers)})}});return}return await z(Ue,Je,{submission:_e,pendingError:De,preventScrollReset:zt,replace:oe&&oe.replace})}function Y(){if(Dt(),ze({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){z(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}z(A||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function z(ne,oe,me){I&&I.abort(),I=null,A=ne,L=(me&&me.startUninterruptedRevalidation)===!0,Et(_.location,_.matches),E=(me&&me.preventScrollReset)===!0;let _e=me&&me.overrideNavigation,De=pm(e,oe,t.basename);if(!De){let Nt=Ac(404,{pathname:oe.pathname}),{matches:$r,route:Ln}=OV(e);Ve(),pe(oe,{matches:$r,loaderData:{},errors:{[Ln.id]:Nt}});return}if(eMe(_.location,oe)&&!(me&&me.submission&&wa(me.submission.formMethod))){pe(oe,{matches:De});return}I=new AbortController;let Xe=Xp(t.history,oe,I.signal,me&&me.submission),Je,ut;if(me&&me.pendingError)ut={[Ah(De).route.id]:me.pendingError};else if(me&&me.submission&&wa(me.submission.formMethod)){let Nt=await $(Xe,oe,me.submission,De,{replace:me.replace});if(Nt.shortCircuited)return;Je=Nt.pendingActionData,ut=Nt.pendingActionError,_e=Wt({state:"loading",location:oe},me.submission),Xe=new Request(Xe.url,{signal:Xe.signal})}let{shortCircuited:Ue,loaderData:zt,errors:Pe}=await S(Xe,oe,De,_e,me&&me.submission,me&&me.replace,Je,ut);Ue||(I=null,pe(oe,Wt({matches:De},Je?{actionData:Je}:{},{loaderData:zt,errors:Pe})))}async function $(ne,oe,me,_e,De){Dt();let Xe=Wt({state:"submitting",location:oe},me);ze({navigation:Xe});let Je,ut=FV(_e,oe);if(!ut.route.action)Je={type:Jr.error,error:Ac(405,{method:ne.method,pathname:oe.pathname,routeId:ut.route.id})};else if(Je=await Jp("action",ne,ut,_e,v.basename),ne.signal.aborted)return{shortCircuited:!0};if($h(Je)){let Ue;return De&&De.replace!=null?Ue=De.replace:Ue=Je.location===_.location.pathname+_.location.search,await it(_,Je,{submission:me,replace:Ue}),{shortCircuited:!0}}if(Bm(Je)){let Ue=Ah(_e,ut.route.id);return(De&&De.replace)!==!0&&(A=hr.Push),{pendingActionData:{},pendingActionError:{[Ue.route.id]:Je.error}}}if(Tu(Je))throw Ac(400,{type:"defer-action"});return{pendingActionData:{[ut.route.id]:Je.data}}}async function S(ne,oe,me,_e,De,Xe,Je,ut){let Ue=_e;Ue||(Ue=Wt({state:"loading",location:oe,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},De));let zt=De||(Ue.formMethod&&Ue.formAction&&Ue.formData&&Ue.formEncType?{formMethod:Ue.formMethod,formAction:Ue.formAction,formData:Ue.formData,formEncType:Ue.formEncType}:void 0),[Pe,Nt]=PV(t.history,_,me,zt,oe,N,T,D,Je,ut,ce);if(Ve(kn=>!(me&&me.some(Cr=>Cr.route.id===kn))||Pe&&Pe.some(Cr=>Cr.route.id===kn)),Pe.length===0&&Nt.length===0)return pe(oe,Wt({matches:me,loaderData:{},errors:ut||null},Je?{actionData:Je}:{})),{shortCircuited:!0};if(!L){Nt.forEach(Cr=>{let Bi=_.fetchers.get(Cr.key),ai={state:"loading",data:Bi&&Bi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(Cr.key,ai)});let kn=Je||_.actionData;ze(Wt({navigation:Ue},kn?Object.keys(kn).length===0?{actionData:null}:{actionData:kn}:{},Nt.length>0?{fetchers:new Map(_.fetchers)}:{}))}U=++V,Nt.forEach(kn=>O.set(kn.key,I));let{results:$r,loaderResults:Ln,fetcherResults:Wo}=await Gt(_.matches,me,Pe,Nt,ne);if(ne.signal.aborted)return{shortCircuited:!0};Nt.forEach(kn=>O.delete(kn.key));let Go=LV($r);if(Go)return await it(_,Go,{replace:Xe}),{shortCircuited:!0};let{loaderData:un,errors:Hr}=NV(_,me,Pe,Ln,ut,Nt,Wo,fe);fe.forEach((kn,Cr)=>{kn.subscribe(Bi=>{(Bi||kn.done)&&fe.delete(Cr)})}),B();let Li=Q(U);return Wt({loaderData:un,errors:Hr},Li||Nt.length>0?{fetchers:new Map(_.fetchers)}:{})}function ee(ne){return _.fetchers.get(ne)||GPe}function we(ne,oe,me,_e){if(KPe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(ne)&&lt(ne);let De=pm(e,me,t.basename);if(!De){Ct(ne,oe,Ac(404,{pathname:me}));return}let{path:Xe,submission:Je}=DV(me,_e,!0),ut=FV(De,Xe);if(E=(_e&&_e.preventScrollReset)===!0,Je&&wa(Je.formMethod)){Re(ne,oe,Xe,ut,De,Je);return}ce.set(ne,{routeId:oe,path:Xe,match:ut,matches:De}),$e(ne,oe,Xe,ut,De,Je)}async function Re(ne,oe,me,_e,De,Xe){if(Dt(),ce.delete(ne),!_e.route.action){let ci=Ac(405,{method:Xe.formMethod,pathname:me,routeId:oe});Ct(ne,oe,ci);return}let Je=_.fetchers.get(ne),ut=Wt({state:"submitting"},Xe,{data:Je&&Je.data," _hasFetcherDoneAnything ":!0});_.fetchers.set(ne,ut),ze({fetchers:new Map(_.fetchers)});let Ue=new AbortController,zt=Xp(t.history,me,Ue.signal,Xe);O.set(ne,Ue);let Pe=await Jp("action",zt,_e,De,v.basename);if(zt.signal.aborted){O.get(ne)===Ue&&O.delete(ne);return}if($h(Pe)){O.delete(ne),te.add(ne);let ci=Wt({state:"loading"},Xe,{data:void 0," _hasFetcherDoneAnything ":!0});return _.fetchers.set(ne,ci),ze({fetchers:new Map(_.fetchers)}),it(_,Pe,{isFetchActionRedirect:!0})}if(Bm(Pe)){Ct(ne,oe,Pe.error);return}if(Tu(Pe))throw Ac(400,{type:"defer-action"});let Nt=_.navigation.location||_.location,$r=Xp(t.history,Nt,Ue.signal),Ln=_.navigation.state!=="idle"?pm(e,_.navigation.location,t.basename):_.matches;_t(Ln,"Didn't find any matches after fetcher action");let Wo=++V;q.set(ne,Wo);let Go=Wt({state:"loading",data:Pe.data},Xe,{" _hasFetcherDoneAnything ":!0});_.fetchers.set(ne,Go);let[un,Hr]=PV(t.history,_,Ln,Xe,Nt,N,T,D,{[_e.route.id]:Pe.data},void 0,ce);Hr.filter(ci=>ci.key!==ne).forEach(ci=>{let lr=ci.key,bs=_.fetchers.get(lr),Er={state:"loading",data:bs&&bs.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(lr,Er),O.set(lr,Ue)}),ze({fetchers:new Map(_.fetchers)});let{results:Li,loaderResults:kn,fetcherResults:Cr}=await Gt(_.matches,Ln,un,Hr,$r);if(Ue.signal.aborted)return;q.delete(ne),O.delete(ne),Hr.forEach(ci=>O.delete(ci.key));let Bi=LV(Li);if(Bi)return it(_,Bi);let{loaderData:ai,errors:Tn}=NV(_,_.matches,un,kn,void 0,Hr,Cr,fe),Gn={state:"idle",data:Pe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(ne,Gn);let ia=Q(Wo);_.navigation.state==="loading"&&Wo>U?(_t(A,"Expected pending action"),I&&I.abort(),pe(_.navigation.location,{matches:Ln,loaderData:ai,errors:Tn,fetchers:new Map(_.fetchers)})):(ze(Wt({errors:Tn,loaderData:RV(_.loaderData,ai,Ln,Tn)},ia?{fetchers:new Map(_.fetchers)}:{})),N=!1)}async function $e(ne,oe,me,_e,De,Xe){let Je=_.fetchers.get(ne),ut=Wt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Xe,{data:Je&&Je.data," _hasFetcherDoneAnything ":!0});_.fetchers.set(ne,ut),ze({fetchers:new Map(_.fetchers)});let Ue=new AbortController,zt=Xp(t.history,me,Ue.signal);O.set(ne,Ue);let Pe=await Jp("loader",zt,_e,De,v.basename);if(Tu(Pe)&&(Pe=await eK(Pe,zt.signal,!0)||Pe),O.get(ne)===Ue&&O.delete(ne),zt.signal.aborted)return;if($h(Pe)){await it(_,Pe);return}if(Bm(Pe)){let $r=Ah(_.matches,oe);_.fetchers.delete(ne),ze({fetchers:new Map(_.fetchers),errors:{[$r.route.id]:Pe.error}});return}_t(!Tu(Pe),"Unhandled fetcher deferred data");let Nt={state:"idle",data:Pe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(ne,Nt),ze({fetchers:new Map(_.fetchers)})}async function it(ne,oe,me){var _e;let{submission:De,replace:Xe,isFetchActionRedirect:Je}=me===void 0?{}:me;oe.revalidate&&(N=!0);let ut=Bg(ne.location,oe.location,Wt({_isRedirect:!0},Je?{_isFetchActionRedirect:!0}:{}));if(_t(ut,"Expected a location on the redirect navigation"),QG&&typeof((_e=window)==null?void 0:_e.location)<"u"){let Ln=t.history.createURL(oe.location).origin;if(window.location.origin!==Ln){Xe?window.location.replace(oe.location):window.location.assign(oe.location);return}}I=null;let Ue=Xe===!0?hr.Replace:hr.Push,{formMethod:zt,formAction:Pe,formEncType:Nt,formData:$r}=ne.navigation;!De&&zt&&Pe&&$r&&Nt&&(De={formMethod:zt,formAction:Pe,formEncType:Nt,formData:$r}),WPe.has(oe.status)&&De&&wa(De.formMethod)?await z(Ue,ut,{submission:Wt({},De,{formAction:oe.location}),preventScrollReset:E}):await z(Ue,ut,{overrideNavigation:{state:"loading",location:ut,formMethod:De?De.formMethod:void 0,formAction:De?De.formAction:void 0,formEncType:De?De.formEncType:void 0,formData:De?De.formData:void 0},preventScrollReset:E})}async function Gt(ne,oe,me,_e,De){let Xe=await Promise.all([...me.map(Ue=>Jp("loader",De,Ue,oe,v.basename)),..._e.map(Ue=>Jp("loader",Xp(t.history,Ue.path,De.signal),Ue.match,Ue.matches,v.basename))]),Je=Xe.slice(0,me.length),ut=Xe.slice(me.length);return await Promise.all([BV(ne,me,Je,De.signal,!1,_.loaderData),BV(ne,_e.map(Ue=>Ue.match),ut,De.signal,!0)]),{results:Xe,loaderResults:Je,fetcherResults:ut}}function Dt(){N=!0,T.push(...Ve()),ce.forEach((ne,oe)=>{O.has(oe)&&(D.push(oe),lt(oe))})}function Ct(ne,oe,me){let _e=Ah(_.matches,oe);pt(ne),ze({errors:{[_e.route.id]:me},fetchers:new Map(_.fetchers)})}function pt(ne){O.has(ne)&&lt(ne),ce.delete(ne),q.delete(ne),te.delete(ne),_.fetchers.delete(ne)}function lt(ne){let oe=O.get(ne);_t(oe,"Expected fetch controller: "+ne),oe.abort(),O.delete(ne)}function nt(ne){for(let oe of ne){let _e={state:"idle",data:ee(oe).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};_.fetchers.set(oe,_e)}}function B(){let ne=[];for(let oe of te){let me=_.fetchers.get(oe);_t(me,"Expected fetcher: "+oe),me.state==="loading"&&(te.delete(oe),ne.push(oe))}nt(ne)}function Q(ne){let oe=[];for(let[me,_e]of q)if(_e<ne){let De=_.fetchers.get(me);_t(De,"Expected fetcher: "+me),De.state==="loading"&&(lt(me),q.delete(me),oe.push(me))}return nt(oe),oe.length>0}function K(ne,oe){let me=_.blockers.get(ne)||IV;return re.get(ne)!==oe&&(re.set(ne,oe),Be==null?Be=ne:ne!==Be&&zg(!1,"A router only supports one blocker at a time")),me}function ve(ne){_.blockers.delete(ne),re.delete(ne),Be===ne&&(Be=null)}function Te(ne,oe){let me=_.blockers.get(ne)||IV;_t(me.state==="unblocked"&&oe.state==="blocked"||me.state==="blocked"&&oe.state==="blocked"||me.state==="blocked"&&oe.state==="proceeding"||me.state==="blocked"&&oe.state==="unblocked"||me.state==="proceeding"&&oe.state==="unblocked","Invalid blocker state transition: "+me.state+" -> "+oe.state),_.blockers.set(ne,oe),ze({blockers:new Map(_.blockers)})}function ue(ne){let{currentLocation:oe,nextLocation:me,historyAction:_e}=ne;if(Be==null)return;let De=re.get(Be);_t(De,"Could not find a function for the active blocker");let Xe=_.blockers.get(Be);if(!(Xe&&Xe.state==="proceeding")&&De({currentLocation:oe,nextLocation:me,historyAction:_e}))return Be}function Ve(ne){let oe=[];return fe.forEach((me,_e)=>{(!ne||ne(_e))&&(me.cancel(),oe.push(_e),fe.delete(_e))}),oe}function mt(ne,oe,me){if(a=ne,h=oe,u=me||(_e=>_e.key),!p&&_.navigation===sS){p=!0;let _e=hn(_.location,_.matches);_e!=null&&ze({restoreScrollPosition:_e})}return()=>{a=null,h=null,u=null}}function Et(ne,oe){if(a&&u&&h){let me=oe.map(De=>zV(De,_.loaderData)),_e=u(ne,me)||ne.key;a[_e]=h()}}function hn(ne,oe){if(a&&u&&h){let me=oe.map(Xe=>zV(Xe,_.loaderData)),_e=u(ne,me)||ne.key,De=a[_e];if(typeof De=="number")return De}return null}return v={get basename(){return t.basename},get state(){return _},get routes(){return e},initialize:Ce,subscribe:Ke,enableScrollRestoration:mt,navigate:le,fetch:we,revalidate:Y,createHref:ne=>t.history.createHref(ne),encodeLocation:ne=>t.history.encodeLocation(ne),getFetcher:ee,deleteFetcher:pt,dispose:xe,getBlocker:K,deleteBlocker:ve,_internalFetchControllers:O,_internalActiveDeferreds:fe},v}function QPe(t){return t!=null&&"formData"in t}function DV(t,e,r){r===void 0&&(r=!1);let o=typeof t=="string"?t:ra(t);if(!e||!QPe(e))return{path:o};if(e.formMethod&&!nMe(e.formMethod))return{path:o,error:Ac(405,{method:e.formMethod})};let a;if(e.formData&&(a={formMethod:e.formMethod||"get",formAction:XG(o),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},wa(a.formMethod)))return{path:o,submission:a};let u=tc(o),h=JG(e.formData);return r&&u.search&&tK(u.search)&&h.append("index",""),u.search="?"+h,{path:ra(u),submission:a}}function ZPe(t,e){let r=t;if(e){let o=t.findIndex(a=>a.route.id===e);o>=0&&(r=t.slice(0,o))}return r}function PV(t,e,r,o,a,u,h,p,m,b,k){let v=b?Object.values(b)[0]:m?Object.values(m)[0]:void 0,_=t.createURL(e.location),A=t.createURL(a),E=u||_.toString()===A.toString()||_.search!==A.search,I=b?Object.keys(b)[0]:void 0,N=ZPe(r,I).filter((D,O)=>{if(D.route.loader==null)return!1;if(JPe(e.loaderData,e.matches[O],D)||h.some(q=>q===D.route.id))return!0;let V=e.matches[O],U=D;return MV(D,Wt({currentUrl:_,currentParams:V.params,nextUrl:A,nextParams:U.params},o,{actionResult:v,defaultShouldRevalidate:E||ZG(V,U)}))}),T=[];return k&&k.forEach((D,O)=>{if(r.some(V=>V.route.id===D.routeId))p.includes(O)?T.push(Wt({key:O},D)):MV(D.match,Wt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:r[r.length-1].params},o,{actionResult:v,defaultShouldRevalidate:E}))&&T.push(Wt({key:O},D));else return}),[N,T]}function JPe(t,e,r){let o=!e||r.route.id!==e.route.id,a=t[r.route.id]===void 0;return o||a}function ZG(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function MV(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function Jp(t,e,r,o,a,u,h,p){a===void 0&&(a="/"),u===void 0&&(u=!1),h===void 0&&(h=!1);let m,b,k,v=new Promise((A,E)=>k=E),_=()=>k();e.signal.addEventListener("abort",_);try{let A=r.route[t];_t(A,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),b=await Promise.race([A({request:e,params:r.params,context:p}),v]),_t(b!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(A){m=Jr.error,b=A}finally{e.signal.removeEventListener("abort",_)}if(tMe(b)){let A=b.status;if(qPe.has(A)){let L=b.headers.get("Location");if(_t(L,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(L)){if(!u){let T=new URL(e.url),D=L.startsWith("//")?new URL(T.protocol+L):new URL(L);D.origin===T.origin&&(L=D.pathname+D.search+D.hash)}}else{let T=o.slice(0,o.indexOf(r)+1),D=G0(T).map(V=>V.pathnameBase),O=yN(L,D,new URL(e.url).pathname);if(_t(ra(O),"Unable to resolve redirect location: "+L),a){let V=O.pathname;O.pathname=V==="/"?a:Ma([a,V])}L=ra(O)}if(u)throw b.headers.set("Location",L),b;return{type:Jr.redirect,status:A,location:L,revalidate:b.headers.get("X-Remix-Revalidate")!==null}}if(h)throw{type:m||Jr.data,response:b};let E,I=b.headers.get("Content-Type");return I&&/\bapplication\/json\b/.test(I)?E=await b.json():E=await b.text(),m===Jr.error?{type:m,error:new _N(A,b.statusText,E),headers:b.headers}:{type:Jr.data,data:E,statusCode:b.status,headers:b.headers}}return m===Jr.error?{type:m,error:b}:b instanceof zPe?{type:Jr.deferred,deferredData:b}:{type:Jr.data,data:b}}function Xp(t,e,r,o){let a=t.createURL(XG(e)).toString(),u={signal:r};if(o&&wa(o.formMethod)){let{formMethod:h,formEncType:p,formData:m}=o;u.method=h.toUpperCase(),u.body=p==="application/x-www-form-urlencoded"?JG(m):m}return new Request(a,u)}function JG(t){let e=new URLSearchParams;for(let[r,o]of t.entries())e.append(r,o instanceof File?o.name:o);return e}function XPe(t,e,r,o,a){let u={},h=null,p,m=!1,b={};return r.forEach((k,v)=>{let _=e[v].route.id;if(_t(!$h(k),"Cannot handle redirect results in processLoaderData"),Bm(k)){let A=Ah(t,_),E=k.error;o&&(E=Object.values(o)[0],o=void 0),h=h||{},h[A.route.id]==null&&(h[A.route.id]=E),u[_]=void 0,m||(m=!0,p=KG(k.error)?k.error.status:500),k.headers&&(b[_]=k.headers)}else Tu(k)?(a.set(_,k.deferredData),u[_]=k.deferredData.data):u[_]=k.data,k.statusCode!=null&&k.statusCode!==200&&!m&&(p=k.statusCode),k.headers&&(b[_]=k.headers)}),o&&(h=o,u[Object.keys(o)[0]]=void 0),{loaderData:u,errors:h,statusCode:p||200,loaderHeaders:b}}function NV(t,e,r,o,a,u,h,p){let{loaderData:m,errors:b}=XPe(e,r,o,a,p);for(let k=0;k<u.length;k++){let{key:v,match:_}=u[k];_t(h!==void 0&&h[k]!==void 0,"Did not find corresponding fetcher result");let A=h[k];if(Bm(A)){let E=Ah(t.matches,_.route.id);b&&b[E.route.id]||(b=Wt({},b,{[E.route.id]:A.error})),t.fetchers.delete(v)}else if($h(A))_t(!1,"Unhandled fetcher revalidation redirect");else if(Tu(A))_t(!1,"Unhandled fetcher deferred data");else{let E={state:"idle",data:A.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(v,E)}}return{loaderData:m,errors:b}}function RV(t,e,r,o){let a=Wt({},e);for(let u of r){let h=u.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(a[h]=e[h]):t[h]!==void 0&&(a[h]=t[h]),o&&o.hasOwnProperty(h))break}return a}function Ah(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function OV(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ac(t,e){let{pathname:r,routeId:o,method:a,type:u}=e===void 0?{}:e,h="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(h="Bad Request",a&&r&&o?p="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":u==="defer-action"&&(p="defer() is not supported in actions")):t===403?(h="Forbidden",p='Route "'+o+'" does not match URL "'+r+'"'):t===404?(h="Not Found",p='No route matches URL "'+r+'"'):t===405&&(h="Method Not Allowed",a&&r&&o?p="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":a&&(p='Invalid request method "'+a.toUpperCase()+'"')),new _N(t||500,h,new Error(p),!0)}function LV(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if($h(r))return r}}function XG(t){let e=typeof t=="string"?tc(t):t;return ra(Wt({},e,{hash:""}))}function eMe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Tu(t){return t.type===Jr.deferred}function Bm(t){return t.type===Jr.error}function $h(t){return(t&&t.type)===Jr.redirect}function tMe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nMe(t){return HPe.has(t)}function wa(t){return UPe.has(t)}async function BV(t,e,r,o,a,u){for(let h=0;h<r.length;h++){let p=r[h],m=e[h],b=t.find(v=>v.route.id===m.route.id),k=b!=null&&!ZG(b,m)&&(u&&u[m.route.id])!==void 0;Tu(p)&&(a||k)&&await eK(p,o,a).then(v=>{v&&(r[h]=v||r[h])})}}async function eK(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Jr.data,data:t.deferredData.unwrappedData}}catch(a){return{type:Jr.error,error:a}}return{type:Jr.data,data:t.deferredData.data}}}function tK(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function zV(t,e){let{route:r,pathname:o,params:a}=t;return{id:r.id,pathname:o,params:a,data:e[r.id],handle:r.handle}}function FV(t,e){let r=typeof e=="string"?tc(e).search:e.search;if(t[t.length-1].route.index&&tK(r||""))return t[t.length-1];let o=G0(t);return o[o.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},By.apply(this,arguments)}function rMe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const iMe=typeof Object.is=="function"?Object.is:rMe,{useState:oMe,useEffect:sMe,useLayoutEffect:aMe,useDebugValue:cMe}=zS;function lMe(t,e,r){const o=e(),[{inst:a},u]=oMe({inst:{value:o,getSnapshot:e}});return aMe(()=>{a.value=o,a.getSnapshot=e,aS(a)&&u({inst:a})},[t,o,e]),sMe(()=>(aS(a)&&u({inst:a}),t(()=>{aS(a)&&u({inst:a})})),[t]),cMe(o),o}function aS(t){const e=t.getSnapshot,r=t.value;try{const o=e();return!iMe(r,o)}catch{return!0}}function uMe(t,e,r){return e()}const dMe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hMe=!dMe,fMe=hMe?uMe:lMe,pMe="useSyncExternalStore"in zS?(t=>t.useSyncExternalStore)(zS):fMe,AN=G.createContext(null),CN=G.createContext(null),K0=G.createContext(null),Y0=G.createContext(null),Tl=G.createContext({outlet:null,matches:[]}),nK=G.createContext(null);function mMe(t,e){let{relative:r}=e===void 0?{}:e;Uf()||_t(!1);let{basename:o,navigator:a}=G.useContext(K0),{hash:u,pathname:h,search:p}=rK(t,{relative:r}),m=h;return o!=="/"&&(m=h==="/"?o:Ma([o,h])),a.createHref({pathname:m,search:p,hash:u})}function Uf(){return G.useContext(Y0)!=null}function Ib(){return Uf()||_t(!1),G.useContext(Y0).location}function zk(t){Uf()||_t(!1);let{pathname:e}=Ib();return G.useMemo(()=>WG(t,e),[e,t])}function yd(){Uf()||_t(!1);let{basename:t,navigator:e}=G.useContext(K0),{matches:r}=G.useContext(Tl),{pathname:o}=Ib(),a=JSON.stringify(G0(r).map(p=>p.pathnameBase)),u=G.useRef(!1);return G.useEffect(()=>{u.current=!0}),G.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){e.go(p);return}let b=yN(p,JSON.parse(a),o,m.relative==="path");t!=="/"&&(b.pathname=b.pathname==="/"?t:Ma([t,b.pathname])),(m.replace?e.replace:e.push)(b,m.state,m)},[t,e,a,o])}const gMe=G.createContext(null);function bMe(t){let e=G.useContext(Tl).outlet;return e&&G.createElement(gMe.Provider,{value:t},e)}function EN(){let{matches:t}=G.useContext(Tl),e=t[t.length-1];return e?e.params:{}}function rK(t,e){let{relative:r}=e===void 0?{}:e,{matches:o}=G.useContext(Tl),{pathname:a}=Ib(),u=JSON.stringify(G0(o).map(h=>h.pathnameBase));return G.useMemo(()=>yN(t,JSON.parse(u),a,r==="path"),[t,u,a,r])}function wMe(t,e){Uf()||_t(!1);let{navigator:r}=G.useContext(K0),o=G.useContext(CN),{matches:a}=G.useContext(Tl),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Ib(),b;if(e){var k;let I=typeof e=="string"?tc(e):e;p==="/"||(k=I.pathname)!=null&&k.startsWith(p)||_t(!1),b=I}else b=m;let v=b.pathname||"/",_=p==="/"?v:v.slice(p.length)||"/",A=pm(t,{pathname:_}),E=_Me(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:Ma([p,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Ma([p,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,o||void 0);return e&&E?G.createElement(Y0.Provider,{value:{location:By({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:hr.Pop}},E):E}function kMe(){let t=xMe(),e=KG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),r?G.createElement("pre",{style:a},r):null,u)}class vMe extends G.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?G.createElement(Tl.Provider,{value:this.props.routeContext},G.createElement(nK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yMe(t){let{routeContext:e,match:r,children:o}=t,a=G.useContext(AN);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(Tl.Provider,{value:e},o)}function _Me(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let o=t,a=r==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||_t(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,p)=>{let m=h.route.id?a==null?void 0:a[h.route.id]:null,b=r?h.route.errorElement||G.createElement(kMe,null):null,k=e.concat(o.slice(0,p+1)),v=()=>G.createElement(yMe,{match:h,routeContext:{outlet:u,matches:k}},m?b:h.route.element!==void 0?h.route.element:u);return r&&(h.route.errorElement||p===0)?G.createElement(vMe,{location:r.location,component:b,error:m,children:v(),routeContext:{outlet:null,matches:k}}):v()},null)}var jV;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(jV||(jV={}));var zy;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(zy||(zy={}));function AMe(t){let e=G.useContext(CN);return e||_t(!1),e}function CMe(t){let e=G.useContext(Tl);return e||_t(!1),e}function EMe(t){let e=CMe(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function xMe(){var t;let e=G.useContext(nK),r=AMe(zy.UseRouteError),o=EMe(zy.UseRouteError);return e||((t=r.errors)==null?void 0:t[o])}function SMe(t){let{fallbackElement:e,router:r}=t,o=pMe(r.subscribe,()=>r.state,()=>r.state),a=G.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:h=>r.navigate(h),push:(h,p,m)=>r.navigate(h,{state:p,preventScrollReset:m==null?void 0:m.preventScrollReset}),replace:(h,p,m)=>r.navigate(h,{replace:!0,state:p,preventScrollReset:m==null?void 0:m.preventScrollReset})}),[r]),u=r.basename||"/";return G.createElement(G.Fragment,null,G.createElement(AN.Provider,{value:{router:r,navigator:a,static:!1,basename:u}},G.createElement(CN.Provider,{value:o},G.createElement(DMe,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?G.createElement(PMe,null):e))),null)}function TMe(t){return bMe(t.context)}function IMe(t){_t(!1)}function DMe(t){let{basename:e="/",children:r=null,location:o,navigationType:a=hr.Pop,navigator:u,static:h=!1}=t;Uf()&&_t(!1);let p=e.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:p,navigator:u,static:h}),[p,u,h]);typeof o=="string"&&(o=tc(o));let{pathname:b="/",search:k="",hash:v="",state:_=null,key:A="default"}=o,E=G.useMemo(()=>{let I=GG(b,p);return I==null?null:{pathname:I,search:k,hash:v,state:_,key:A}},[p,b,k,v,_,A]);return E==null?null:G.createElement(K0.Provider,{value:m},G.createElement(Y0.Provider,{children:r,value:{location:E,navigationType:a}}))}function PMe(t){let{children:e,location:r}=t,o=G.useContext(AN),a=o&&!e?o.router.routes:PI(e);return wMe(a,r)}var VV;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(VV||(VV={}));new Promise(()=>{});function PI(t,e){e===void 0&&(e=[]);let r=[];return G.Children.forEach(t,(o,a)=>{if(!G.isValidElement(o))return;if(o.type===G.Fragment){r.push.apply(r,PI(o.props.children,e));return}o.type!==IMe&&_t(!1),!o.props.index||!o.props.children||_t(!1);let u=[...e,a],h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,hasErrorBoundary:o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle};o.props.children&&(h.children=PI(o.props.children,u)),r.push(h)}),r}function iK(t){return t.map(e=>{let r=By({},e);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=iK(r.children)),r})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Fy.apply(this,arguments)}function MMe(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,u;for(u=0;u<o.length;u++)a=o[u],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function NMe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RMe(t,e){return t.button===0&&(!e||e==="_self")&&!NMe(t)}const OMe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function LMe(t,e){return YPe({basename:e==null?void 0:e.basename,history:gPe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||BMe(),routes:iK(t)}).initialize()}function BMe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fy({},e,{errors:zMe(e.errors)})),e}function zMe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[o,a]of e)if(a&&a.__type==="RouteErrorResponse")r[o]=new _N(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let u=new Error(a.message);u.stack="",r[o]=u}else r[o]=a;return r}const FMe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cS=G.forwardRef(function(e,r){let{onClick:o,relative:a,reloadDocument:u,replace:h,state:p,target:m,to:b,preventScrollReset:k}=e,v=MMe(e,OMe),_=typeof b=="string"?b:ra(b),A=/^[a-z+]+:\/\//i.test(_)||_.startsWith("//"),E=_,I=!1;if(FMe&&A){let D=new URL(window.location.href),O=_.startsWith("//")?new URL(D.protocol+_):new URL(_);O.origin===D.origin?E=O.pathname+O.search+O.hash:I=!0}let L=mMe(E,{relative:a}),N=jMe(E,{replace:h,state:p,target:m,preventScrollReset:k,relative:a});function T(D){o&&o(D),D.defaultPrevented||N(D)}return G.createElement("a",Fy({},v,{href:A?_:L,onClick:I||u?o:T,ref:r,target:m}))});var UV;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(UV||(UV={}));var $V;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($V||($V={}));function jMe(t,e){let{target:r,replace:o,state:a,preventScrollReset:u,relative:h}=e===void 0?{}:e,p=yd(),m=Ib(),b=rK(t,{relative:h});return G.useCallback(k=>{if(RMe(k,r)){k.preventDefault();let v=o!==void 0?o:ra(m)===ra(b);p(t,{replace:v,state:a,preventScrollReset:u,relative:h})}},[m,p,b,o,a,r,t,u,h])}function HV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(r),!0).forEach(function(o){yr(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HV(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function jy(t){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function VMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qV(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function UMe(t,e,r){return e&&qV(t.prototype,e),r&&qV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xN(t,e){return HMe(t)||WMe(t,e)||oK(t,e)||KMe()}function Db(t){return $Me(t)||qMe(t)||oK(t)||GMe()}function $Me(t){if(Array.isArray(t))return MI(t)}function HMe(t){if(Array.isArray(t))return t}function qMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o=[],a=!0,u=!1,h,p;try{for(r=r.call(t);!(a=(h=r.next()).done)&&(o.push(h.value),!(e&&o.length===e));a=!0);}catch(m){u=!0,p=m}finally{try{!a&&r.return!=null&&r.return()}finally{if(u)throw p}}return o}}function oK(t,e){if(t){if(typeof t=="string")return MI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function GMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var WV=function(){},SN={},sK={},aK=null,cK={mark:WV,measure:WV};try{typeof window<"u"&&(SN=window),typeof document<"u"&&(sK=document),typeof MutationObserver<"u"&&(aK=MutationObserver),typeof performance<"u"&&(cK=performance)}catch{}var YMe=SN.navigator||{},GV=YMe.userAgent,KV=GV===void 0?"":GV,dl=SN,xn=sK,YV=aK,Fk=cK;dl.document;var nc=!!xn.documentElement&&!!xn.head&&typeof xn.addEventListener=="function"&&typeof xn.createElement=="function",lK=~KV.indexOf("MSIE")||~KV.indexOf("Trident/"),jk,Vk,Uk,$k,Hk,Ha="___FONT_AWESOME___",NI=16,uK="fa",dK="svg-inline--fa",ld="data-fa-i2svg",RI="data-fa-pseudo-element",QMe="data-fa-pseudo-element-pending",TN="data-prefix",IN="data-icon",QV="fontawesome-i2svg",ZMe="async",JMe=["HTML","HEAD","STYLE","SCRIPT"],hK=function(){try{return!0}catch{return!1}}(),An="classic",er="sharp",DN=[An,er];function Pb(t){return new Proxy(t,{get:function(r,o){return o in r?r[o]:r[An]}})}var Fg=Pb((jk={},yr(jk,An,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),yr(jk,er,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),jk)),jg=Pb((Vk={},yr(Vk,An,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),yr(Vk,er,{solid:"fass",regular:"fasr"}),Vk)),Vg=Pb((Uk={},yr(Uk,An,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),yr(Uk,er,{fass:"fa-solid",fasr:"fa-regular"}),Uk)),XMe=Pb(($k={},yr($k,An,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),yr($k,er,{"fa-solid":"fass","fa-regular":"fasr"}),$k)),eNe=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,fK="fa-layers-text",tNe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,nNe=Pb((Hk={},yr(Hk,An,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),yr(Hk,er,{900:"fass",400:"fasr"}),Hk)),pK=[1,2,3,4,5,6,7,8,9,10],rNe=pK.concat([11,12,13,14,15,16,17,18,19,20]),iNe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Iu={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ug=new Set;Object.keys(jg[An]).map(Ug.add.bind(Ug));Object.keys(jg[er]).map(Ug.add.bind(Ug));var oNe=[].concat(DN,Db(Ug),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Iu.GROUP,Iu.SWAP_OPACITY,Iu.PRIMARY,Iu.SECONDARY]).concat(pK.map(function(t){return"".concat(t,"x")})).concat(rNe.map(function(t){return"w-".concat(t)})),zm=dl.FontAwesomeConfig||{};function sNe(t){var e=xn.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function aNe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(xn&&typeof xn.querySelector=="function"){var cNe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];cNe.forEach(function(t){var e=xN(t,2),r=e[0],o=e[1],a=aNe(sNe(r));a!=null&&(zm[o]=a)})}var mK={styleDefault:"solid",familyDefault:"classic",cssPrefix:uK,replacementClass:dK,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zm.familyPrefix&&(zm.cssPrefix=zm.familyPrefix);var kf=We(We({},mK),zm);kf.autoReplaceSvg||(kf.observeMutations=!1);var et={};Object.keys(mK).forEach(function(t){Object.defineProperty(et,t,{enumerable:!0,set:function(r){kf[t]=r,Fm.forEach(function(o){return o(et)})},get:function(){return kf[t]}})});Object.defineProperty(et,"familyPrefix",{enumerable:!0,set:function(e){kf.cssPrefix=e,Fm.forEach(function(r){return r(et)})},get:function(){return kf.cssPrefix}});dl.FontAwesomeConfig=et;var Fm=[];function lNe(t){return Fm.push(t),function(){Fm.splice(Fm.indexOf(t),1)}}var _c=NI,qs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function uNe(t){if(!(!t||!nc)){var e=xn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var r=xn.head.childNodes,o=null,a=r.length-1;a>-1;a--){var u=r[a],h=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(o=u)}return xn.head.insertBefore(e,o),t}}var dNe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function $g(){for(var t=12,e="";t-- >0;)e+=dNe[Math.random()*62|0];return e}function $f(t){for(var e=[],r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function PN(t){return t.classList?$f(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function gK(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hNe(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,'="').concat(gK(t[r]),'" ')},"").trim()}function Q0(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,": ").concat(t[r].trim(),";")},"")}function MN(t){return t.size!==qs.size||t.x!==qs.x||t.y!==qs.y||t.rotate!==qs.rotate||t.flipX||t.flipY}function fNe(t){var e=t.transform,r=t.containerWidth,o=t.iconWidth,a={transform:"translate(".concat(r/2," 256)")},u="translate(".concat(e.x*32,", ").concat(e.y*32,") "),h="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)"),m={transform:"".concat(u," ").concat(h," ").concat(p)},b={transform:"translate(".concat(o/2*-1," -256)")};return{outer:a,inner:m,path:b}}function pNe(t){var e=t.transform,r=t.width,o=r===void 0?NI:r,a=t.height,u=a===void 0?NI:a,h=t.startCentered,p=h===void 0?!1:h,m="";return p&&lK?m+="translate(".concat(e.x/_c-o/2,"em, ").concat(e.y/_c-u/2,"em) "):p?m+="translate(calc(-50% + ".concat(e.x/_c,"em), calc(-50% + ").concat(e.y/_c,"em)) "):m+="translate(".concat(e.x/_c,"em, ").concat(e.y/_c,"em) "),m+="scale(".concat(e.size/_c*(e.flipX?-1:1),", ").concat(e.size/_c*(e.flipY?-1:1),") "),m+="rotate(".concat(e.rotate,"deg) "),m}var mNe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function bK(){var t=uK,e=dK,r=et.cssPrefix,o=et.replacementClass,a=mNe;if(r!==t||o!==e){var u=new RegExp("\\.".concat(t,"\\-"),"g"),h=new RegExp("\\--".concat(t,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");a=a.replace(u,".".concat(r,"-")).replace(h,"--".concat(r,"-")).replace(p,".".concat(o))}return a}var ZV=!1;function lS(){et.autoAddCss&&!ZV&&(uNe(bK()),ZV=!0)}var gNe={mixout:function(){return{dom:{css:bK,insertCss:lS}}},hooks:function(){return{beforeDOMElementCreation:function(){lS()},beforeI2svg:function(){lS()}}}},qa=dl||{};qa[Ha]||(qa[Ha]={});qa[Ha].styles||(qa[Ha].styles={});qa[Ha].hooks||(qa[Ha].hooks={});qa[Ha].shims||(qa[Ha].shims=[]);var us=qa[Ha],wK=[],bNe=function t(){xn.removeEventListener("DOMContentLoaded",t),Vy=1,wK.map(function(e){return e()})},Vy=!1;nc&&(Vy=(xn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xn.readyState),Vy||xn.addEventListener("DOMContentLoaded",bNe));function wNe(t){nc&&(Vy?setTimeout(t,0):wK.push(t))}function Mb(t){var e=t.tag,r=t.attributes,o=r===void 0?{}:r,a=t.children,u=a===void 0?[]:a;return typeof t=="string"?gK(t):"<".concat(e," ").concat(hNe(o),">").concat(u.map(Mb).join(""),"</").concat(e,">")}function JV(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var kNe=function(e,r){return function(o,a,u,h){return e.call(r,o,a,u,h)}},uS=function(e,r,o,a){var u=Object.keys(e),h=u.length,p=a!==void 0?kNe(r,a):r,m,b,k;for(o===void 0?(m=1,k=e[u[0]]):(m=0,k=o);m<h;m++)b=u[m],k=p(k,e[b],b,e);return k};function vNe(t){for(var e=[],r=0,o=t.length;r<o;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<o){var u=t.charCodeAt(r++);(u&64512)==56320?e.push(((a&1023)<<10)+(u&1023)+65536):(e.push(a),r--)}else e.push(a)}return e}function OI(t){var e=vNe(t);return e.length===1?e[0].toString(16):null}function yNe(t,e){var r=t.length,o=t.charCodeAt(e),a;return o>=55296&&o<=56319&&r>e+1&&(a=t.charCodeAt(e+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}function XV(t){return Object.keys(t).reduce(function(e,r){var o=t[r],a=!!o.icon;return a?e[o.iconName]=o.icon:e[r]=o,e},{})}function LI(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.skipHooks,a=o===void 0?!1:o,u=XV(e);typeof us.hooks.addPack=="function"&&!a?us.hooks.addPack(t,XV(e)):us.styles[t]=We(We({},us.styles[t]||{}),u),t==="fas"&&LI("fa",e)}var qk,Wk,Gk,Ch=us.styles,_Ne=us.shims,ANe=(qk={},yr(qk,An,Object.values(Vg[An])),yr(qk,er,Object.values(Vg[er])),qk),NN=null,kK={},vK={},yK={},_K={},AK={},CNe=(Wk={},yr(Wk,An,Object.keys(Fg[An])),yr(Wk,er,Object.keys(Fg[er])),Wk);function ENe(t){return~oNe.indexOf(t)}function xNe(t,e){var r=e.split("-"),o=r[0],a=r.slice(1).join("-");return o===t&&a!==""&&!ENe(a)?a:null}var CK=function(){var e=function(u){return uS(Ch,function(h,p,m){return h[m]=uS(p,u,{}),h},{})};kK=e(function(a,u,h){if(u[3]&&(a[u[3]]=h),u[2]){var p=u[2].filter(function(m){return typeof m=="number"});p.forEach(function(m){a[m.toString(16)]=h})}return a}),vK=e(function(a,u,h){if(a[h]=h,u[2]){var p=u[2].filter(function(m){return typeof m=="string"});p.forEach(function(m){a[m]=h})}return a}),AK=e(function(a,u,h){var p=u[2];return a[h]=h,p.forEach(function(m){a[m]=h}),a});var r="far"in Ch||et.autoFetchSvg,o=uS(_Ne,function(a,u){var h=u[0],p=u[1],m=u[2];return p==="far"&&!r&&(p="fas"),typeof h=="string"&&(a.names[h]={prefix:p,iconName:m}),typeof h=="number"&&(a.unicodes[h.toString(16)]={prefix:p,iconName:m}),a},{names:{},unicodes:{}});yK=o.names,_K=o.unicodes,NN=Z0(et.styleDefault,{family:et.familyDefault})};lNe(function(t){NN=Z0(t.styleDefault,{family:et.familyDefault})});CK();function RN(t,e){return(kK[t]||{})[e]}function SNe(t,e){return(vK[t]||{})[e]}function Du(t,e){return(AK[t]||{})[e]}function EK(t){return yK[t]||{prefix:null,iconName:null}}function TNe(t){var e=_K[t],r=RN("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function hl(){return NN}var ON=function(){return{prefix:null,iconName:null,rest:[]}};function Z0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.family,o=r===void 0?An:r,a=Fg[o][t],u=jg[o][t]||jg[o][a],h=t in us.styles?t:null;return u||h||null}var eU=(Gk={},yr(Gk,An,Object.keys(Vg[An])),yr(Gk,er,Object.keys(Vg[er])),Gk);function J0(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.skipLookups,a=o===void 0?!1:o,u=(e={},yr(e,An,"".concat(et.cssPrefix,"-").concat(An)),yr(e,er,"".concat(et.cssPrefix,"-").concat(er)),e),h=null,p=An;(t.includes(u[An])||t.some(function(b){return eU[An].includes(b)}))&&(p=An),(t.includes(u[er])||t.some(function(b){return eU[er].includes(b)}))&&(p=er);var m=t.reduce(function(b,k){var v=xNe(et.cssPrefix,k);if(Ch[k]?(k=ANe[p].includes(k)?XMe[p][k]:k,h=k,b.prefix=k):CNe[p].indexOf(k)>-1?(h=k,b.prefix=Z0(k,{family:p})):v?b.iconName=v:k!==et.replacementClass&&k!==u[An]&&k!==u[er]&&b.rest.push(k),!a&&b.prefix&&b.iconName){var _=h==="fa"?EK(b.iconName):{},A=Du(b.prefix,b.iconName);_.prefix&&(h=null),b.iconName=_.iconName||A||b.iconName,b.prefix=_.prefix||b.prefix,b.prefix==="far"&&!Ch.far&&Ch.fas&&!et.autoFetchSvg&&(b.prefix="fas")}return b},ON());return(t.includes("fa-brands")||t.includes("fab"))&&(m.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(m.prefix="fad"),!m.prefix&&p===er&&(Ch.fass||et.autoFetchSvg)&&(m.prefix="fass",m.iconName=Du(m.prefix,m.iconName)||m.iconName),(m.prefix==="fa"||h==="fa")&&(m.prefix=hl()||"fas"),m}var INe=function(){function t(){VMe(this,t),this.definitions={}}return UMe(t,[{key:"add",value:function(){for(var r=this,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];var h=a.reduce(this._pullDefinitions,{});Object.keys(h).forEach(function(p){r.definitions[p]=We(We({},r.definitions[p]||{}),h[p]),LI(p,h[p]);var m=Vg[An][p];m&&LI(m,h[p]),CK()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,o){var a=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(a).map(function(u){var h=a[u],p=h.prefix,m=h.iconName,b=h.icon,k=b[2];r[p]||(r[p]={}),k.length>0&&k.forEach(function(v){typeof v=="string"&&(r[p][v]=b)}),r[p][m]=b}),r}}]),t}(),tU=[],Eh={},Hh={},DNe=Object.keys(Hh);function PNe(t,e){var r=e.mixoutsTo;return tU=t,Eh={},Object.keys(Hh).forEach(function(o){DNe.indexOf(o)===-1&&delete Hh[o]}),tU.forEach(function(o){var a=o.mixout?o.mixout():{};if(Object.keys(a).forEach(function(h){typeof a[h]=="function"&&(r[h]=a[h]),jy(a[h])==="object"&&Object.keys(a[h]).forEach(function(p){r[h]||(r[h]={}),r[h][p]=a[h][p]})}),o.hooks){var u=o.hooks();Object.keys(u).forEach(function(h){Eh[h]||(Eh[h]=[]),Eh[h].push(u[h])})}o.provides&&o.provides(Hh)}),r}function BI(t,e){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var u=Eh[t]||[];return u.forEach(function(h){e=h.apply(null,[e].concat(o))}),e}function ud(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var a=Eh[t]||[];a.forEach(function(u){u.apply(null,r)})}function Wa(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Hh[t]?Hh[t].apply(null,e):void 0}function zI(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,r=t.prefix||hl();if(e)return e=Du(r,e)||e,JV(xK.definitions,r,e)||JV(us.styles,r,e)}var xK=new INe,MNe=function(){et.autoReplaceSvg=!1,et.observeMutations=!1,ud("noAuto")},NNe={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nc?(ud("beforeI2svg",e),Wa("pseudoElements2svg",e),Wa("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot;et.autoReplaceSvg===!1&&(et.autoReplaceSvg=!0),et.observeMutations=!0,wNe(function(){ONe({autoReplaceSvgRoot:r}),ud("watch",e)})}},RNe={icon:function(e){if(e===null)return null;if(jy(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Du(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var r=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],o=Z0(e[0]);return{prefix:o,iconName:Du(o,r)||r}}if(typeof e=="string"&&(e.indexOf("".concat(et.cssPrefix,"-"))>-1||e.match(eNe))){var a=J0(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||hl(),iconName:Du(a.prefix,a.iconName)||a.iconName}}if(typeof e=="string"){var u=hl();return{prefix:u,iconName:Du(u,e)||e}}}},yo={noAuto:MNe,config:et,dom:NNe,parse:RNe,library:xK,findIconDefinition:zI,toHtml:Mb},ONe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot,o=r===void 0?xn:r;(Object.keys(us.styles).length>0||et.autoFetchSvg)&&nc&&et.autoReplaceSvg&&yo.dom.i2svg({node:o})};function X0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(o){return Mb(o)})}}),Object.defineProperty(t,"node",{get:function(){if(nc){var o=xn.createElement("div");return o.innerHTML=t.html,o.children}}}),t}function LNe(t){var e=t.children,r=t.main,o=t.mask,a=t.attributes,u=t.styles,h=t.transform;if(MN(h)&&r.found&&!o.found){var p=r.width,m=r.height,b={x:p/m/2,y:.5};a.style=Q0(We(We({},u),{},{"transform-origin":"".concat(b.x+h.x/16,"em ").concat(b.y+h.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}function BNe(t){var e=t.prefix,r=t.iconName,o=t.children,a=t.attributes,u=t.symbol,h=u===!0?"".concat(e,"-").concat(et.cssPrefix,"-").concat(r):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:We(We({},a),{},{id:h}),children:o}]}]}function LN(t){var e=t.icons,r=e.main,o=e.mask,a=t.prefix,u=t.iconName,h=t.transform,p=t.symbol,m=t.title,b=t.maskId,k=t.titleId,v=t.extra,_=t.watchable,A=_===void 0?!1:_,E=o.found?o:r,I=E.width,L=E.height,N=a==="fak",T=[et.replacementClass,u?"".concat(et.cssPrefix,"-").concat(u):""].filter(function(ce){return v.classes.indexOf(ce)===-1}).filter(function(ce){return ce!==""||!!ce}).concat(v.classes).join(" "),D={children:[],attributes:We(We({},v.attributes),{},{"data-prefix":a,"data-icon":u,class:T,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(I," ").concat(L)})},O=N&&!~v.classes.indexOf("fa-fw")?{width:"".concat(I/L*16*.0625,"em")}:{};A&&(D.attributes[ld]=""),m&&(D.children.push({tag:"title",attributes:{id:D.attributes["aria-labelledby"]||"title-".concat(k||$g())},children:[m]}),delete D.attributes.title);var V=We(We({},D),{},{prefix:a,iconName:u,main:r,mask:o,maskId:b,transform:h,symbol:p,styles:We(We({},O),v.styles)}),U=o.found&&r.found?Wa("generateAbstractMask",V)||{children:[],attributes:{}}:Wa("generateAbstractIcon",V)||{children:[],attributes:{}},q=U.children,te=U.attributes;return V.children=q,V.attributes=te,p?BNe(V):LNe(V)}function nU(t){var e=t.content,r=t.width,o=t.height,a=t.transform,u=t.title,h=t.extra,p=t.watchable,m=p===void 0?!1:p,b=We(We(We({},h.attributes),u?{title:u}:{}),{},{class:h.classes.join(" ")});m&&(b[ld]="");var k=We({},h.styles);MN(a)&&(k.transform=pNe({transform:a,startCentered:!0,width:r,height:o}),k["-webkit-transform"]=k.transform);var v=Q0(k);v.length>0&&(b.style=v);var _=[];return _.push({tag:"span",attributes:b,children:[e]}),u&&_.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),_}function zNe(t){var e=t.content,r=t.title,o=t.extra,a=We(We(We({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")}),u=Q0(o.styles);u.length>0&&(a.style=u);var h=[];return h.push({tag:"span",attributes:a,children:[e]}),r&&h.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),h}var dS=us.styles;function FI(t){var e=t[0],r=t[1],o=t.slice(4),a=xN(o,1),u=a[0],h=null;return Array.isArray(u)?h={tag:"g",attributes:{class:"".concat(et.cssPrefix,"-").concat(Iu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(et.cssPrefix,"-").concat(Iu.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(et.cssPrefix,"-").concat(Iu.PRIMARY),fill:"currentColor",d:u[1]}}]}:h={tag:"path",attributes:{fill:"currentColor",d:u}},{found:!0,width:e,height:r,icon:h}}var FNe={found:!1,width:512,height:512};function jNe(t,e){!hK&&!et.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function jI(t,e){var r=e;return e==="fa"&&et.styleDefault!==null&&(e=hl()),new Promise(function(o,a){if(Wa("missingIconAbstract"),r==="fa"){var u=EK(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&dS[e]&&dS[e][t]){var h=dS[e][t];return o(FI(h))}jNe(t,e),o(We(We({},FNe),{},{icon:et.showMissingIcons&&t?Wa("missingIconAbstract")||{}:{}}))})}var rU=function(){},VI=et.measurePerformance&&Fk&&Fk.mark&&Fk.measure?Fk:{mark:rU,measure:rU},mm='FA "6.3.0"',VNe=function(e){return VI.mark("".concat(mm," ").concat(e," begins")),function(){return SK(e)}},SK=function(e){VI.mark("".concat(mm," ").concat(e," ends")),VI.measure("".concat(mm," ").concat(e),"".concat(mm," ").concat(e," begins"),"".concat(mm," ").concat(e," ends"))},BN={begin:VNe,end:SK},Cv=function(){};function iU(t){var e=t.getAttribute?t.getAttribute(ld):null;return typeof e=="string"}function UNe(t){var e=t.getAttribute?t.getAttribute(TN):null,r=t.getAttribute?t.getAttribute(IN):null;return e&&r}function $Ne(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(et.replacementClass)}function HNe(){if(et.autoReplaceSvg===!0)return Ev.replace;var t=Ev[et.autoReplaceSvg];return t||Ev.replace}function qNe(t){return xn.createElementNS("http://www.w3.org/2000/svg",t)}function WNe(t){return xn.createElement(t)}function TK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.ceFn,o=r===void 0?t.tag==="svg"?qNe:WNe:r;if(typeof t=="string")return xn.createTextNode(t);var a=o(t.tag);Object.keys(t.attributes||[]).forEach(function(h){a.setAttribute(h,t.attributes[h])});var u=t.children||[];return u.forEach(function(h){a.appendChild(TK(h,{ceFn:o}))}),a}function GNe(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Ev={replace:function(e){var r=e[0];if(r.parentNode)if(e[1].forEach(function(a){r.parentNode.insertBefore(TK(a),r)}),r.getAttribute(ld)===null&&et.keepOriginalSource){var o=xn.createComment(GNe(r));r.parentNode.replaceChild(o,r)}else r.remove()},nest:function(e){var r=e[0],o=e[1];if(~PN(r).indexOf(et.replacementClass))return Ev.replace(e);var a=new RegExp("".concat(et.cssPrefix,"-.*"));if(delete o[0].attributes.id,o[0].attributes.class){var u=o[0].attributes.class.split(" ").reduce(function(p,m){return m===et.replacementClass||m.match(a)?p.toSvg.push(m):p.toNode.push(m),p},{toNode:[],toSvg:[]});o[0].attributes.class=u.toSvg.join(" "),u.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",u.toNode.join(" "))}var h=o.map(function(p){return Mb(p)}).join(`
`);r.setAttribute(ld,""),r.innerHTML=h}};function oU(t){t()}function IK(t,e){var r=typeof e=="function"?e:Cv;if(t.length===0)r();else{var o=oU;et.mutateApproach===ZMe&&(o=dl.requestAnimationFrame||oU),o(function(){var a=HNe(),u=BN.begin("mutate");t.map(a),u(),r()})}}var zN=!1;function DK(){zN=!0}function UI(){zN=!1}var Uy=null;function sU(t){if(YV&&et.observeMutations){var e=t.treeCallback,r=e===void 0?Cv:e,o=t.nodeCallback,a=o===void 0?Cv:o,u=t.pseudoElementsCallback,h=u===void 0?Cv:u,p=t.observeMutationsRoot,m=p===void 0?xn:p;Uy=new YV(function(b){if(!zN){var k=hl();$f(b).forEach(function(v){if(v.type==="childList"&&v.addedNodes.length>0&&!iU(v.addedNodes[0])&&(et.searchPseudoElements&&h(v.target),r(v.target)),v.type==="attributes"&&v.target.parentNode&&et.searchPseudoElements&&h(v.target.parentNode),v.type==="attributes"&&iU(v.target)&&~iNe.indexOf(v.attributeName))if(v.attributeName==="class"&&UNe(v.target)){var _=J0(PN(v.target)),A=_.prefix,E=_.iconName;v.target.setAttribute(TN,A||k),E&&v.target.setAttribute(IN,E)}else $Ne(v.target)&&a(v.target)})}}),nc&&Uy.observe(m,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function KNe(){Uy&&Uy.disconnect()}function YNe(t){var e=t.getAttribute("style"),r=[];return e&&(r=e.split(";").reduce(function(o,a){var u=a.split(":"),h=u[0],p=u.slice(1);return h&&p.length>0&&(o[h]=p.join(":").trim()),o},{})),r}function QNe(t){var e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),o=t.innerText!==void 0?t.innerText.trim():"",a=J0(PN(t));return a.prefix||(a.prefix=hl()),e&&r&&(a.prefix=e,a.iconName=r),a.iconName&&a.prefix||(a.prefix&&o.length>0&&(a.iconName=SNe(a.prefix,t.innerText)||RN(a.prefix,OI(t.innerText))),!a.iconName&&et.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}function ZNe(t){var e=$f(t.attributes).reduce(function(a,u){return a.name!=="class"&&a.name!=="style"&&(a[u.name]=u.value),a},{}),r=t.getAttribute("title"),o=t.getAttribute("data-fa-title-id");return et.autoA11y&&(r?e["aria-labelledby"]="".concat(et.replacementClass,"-title-").concat(o||$g()):(e["aria-hidden"]="true",e.focusable="false")),e}function JNe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:qs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function aU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=QNe(t),o=r.iconName,a=r.prefix,u=r.rest,h=ZNe(t),p=BI("parseNodeAttributes",{},t),m=e.styleParser?YNe(t):[];return We({iconName:o,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:a,transform:qs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:m,attributes:h}},p)}var XNe=us.styles;function PK(t){var e=et.autoReplaceSvg==="nest"?aU(t,{styleParser:!1}):aU(t);return~e.extra.classes.indexOf(fK)?Wa("generateLayersText",t,e):Wa("generateSvgReplacementMutation",t,e)}var fl=new Set;DN.map(function(t){fl.add("fa-".concat(t))});Object.keys(Fg[An]).map(fl.add.bind(fl));Object.keys(Fg[er]).map(fl.add.bind(fl));fl=Db(fl);function cU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!nc)return Promise.resolve();var r=xn.documentElement.classList,o=function(v){return r.add("".concat(QV,"-").concat(v))},a=function(v){return r.remove("".concat(QV,"-").concat(v))},u=et.autoFetchSvg?fl:DN.map(function(k){return"fa-".concat(k)}).concat(Object.keys(XNe));u.includes("fa")||u.push("fa");var h=[".".concat(fK,":not([").concat(ld,"])")].concat(u.map(function(k){return".".concat(k,":not([").concat(ld,"])")})).join(", ");if(h.length===0)return Promise.resolve();var p=[];try{p=$f(t.querySelectorAll(h))}catch{}if(p.length>0)o("pending"),a("complete");else return Promise.resolve();var m=BN.begin("onTree"),b=p.reduce(function(k,v){try{var _=PK(v);_&&k.push(_)}catch(A){hK||A.name==="MissingIcon"&&console.error(A)}return k},[]);return new Promise(function(k,v){Promise.all(b).then(function(_){IK(_,function(){o("active"),o("complete"),a("pending"),typeof e=="function"&&e(),m(),k()})}).catch(function(_){m(),v(_)})})}function e2e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;PK(t).then(function(r){r&&IK([r],e)})}function t2e(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=(e||{}).icon?e:zI(e||{}),a=r.mask;return a&&(a=(a||{}).icon?a:zI(a||{})),t(o,We(We({},r),{},{mask:a}))}}var n2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.transform,a=o===void 0?qs:o,u=r.symbol,h=u===void 0?!1:u,p=r.mask,m=p===void 0?null:p,b=r.maskId,k=b===void 0?null:b,v=r.title,_=v===void 0?null:v,A=r.titleId,E=A===void 0?null:A,I=r.classes,L=I===void 0?[]:I,N=r.attributes,T=N===void 0?{}:N,D=r.styles,O=D===void 0?{}:D;if(e){var V=e.prefix,U=e.iconName,q=e.icon;return X0(We({type:"icon"},e),function(){return ud("beforeDOMElementCreation",{iconDefinition:e,params:r}),et.autoA11y&&(_?T["aria-labelledby"]="".concat(et.replacementClass,"-title-").concat(E||$g()):(T["aria-hidden"]="true",T.focusable="false")),LN({icons:{main:FI(q),mask:m?FI(m.icon):{found:!1,width:null,height:null,icon:{}}},prefix:V,iconName:U,transform:We(We({},qs),a),symbol:h,title:_,maskId:k,titleId:E,extra:{attributes:T,styles:O,classes:L}})})}},r2e={mixout:function(){return{icon:t2e(n2e)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=cU,r.nodeCallback=e2e,r}}},provides:function(e){e.i2svg=function(r){var o=r.node,a=o===void 0?xn:o,u=r.callback,h=u===void 0?function(){}:u;return cU(a,h)},e.generateSvgReplacementMutation=function(r,o){var a=o.iconName,u=o.title,h=o.titleId,p=o.prefix,m=o.transform,b=o.symbol,k=o.mask,v=o.maskId,_=o.extra;return new Promise(function(A,E){Promise.all([jI(a,p),k.iconName?jI(k.iconName,k.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(I){var L=xN(I,2),N=L[0],T=L[1];A([r,LN({icons:{main:N,mask:T},prefix:p,iconName:a,transform:m,symbol:b,maskId:v,title:u,titleId:h,extra:_,watchable:!0})])}).catch(E)})},e.generateAbstractIcon=function(r){var o=r.children,a=r.attributes,u=r.main,h=r.transform,p=r.styles,m=Q0(p);m.length>0&&(a.style=m);var b;return MN(h)&&(b=Wa("generateAbstractTransformGrouping",{main:u,transform:h,containerWidth:u.width,iconWidth:u.width})),o.push(b||u.icon),{children:o,attributes:a}}}},i2e={mixout:function(){return{layer:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.classes,u=a===void 0?[]:a;return X0({type:"layer"},function(){ud("beforeDOMElementCreation",{assembler:r,params:o});var h=[];return r(function(p){Array.isArray(p)?p.map(function(m){h=h.concat(m.abstract)}):h=h.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(et.cssPrefix,"-layers")].concat(Db(u)).join(" ")},children:h}]})}}}},o2e={mixout:function(){return{counter:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.title,u=a===void 0?null:a,h=o.classes,p=h===void 0?[]:h,m=o.attributes,b=m===void 0?{}:m,k=o.styles,v=k===void 0?{}:k;return X0({type:"counter",content:r},function(){return ud("beforeDOMElementCreation",{content:r,params:o}),zNe({content:r.toString(),title:u,extra:{attributes:b,styles:v,classes:["".concat(et.cssPrefix,"-layers-counter")].concat(Db(p))}})})}}}},s2e={mixout:function(){return{text:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.transform,u=a===void 0?qs:a,h=o.title,p=h===void 0?null:h,m=o.classes,b=m===void 0?[]:m,k=o.attributes,v=k===void 0?{}:k,_=o.styles,A=_===void 0?{}:_;return X0({type:"text",content:r},function(){return ud("beforeDOMElementCreation",{content:r,params:o}),nU({content:r,transform:We(We({},qs),u),title:p,extra:{attributes:v,styles:A,classes:["".concat(et.cssPrefix,"-layers-text")].concat(Db(b))}})})}}},provides:function(e){e.generateLayersText=function(r,o){var a=o.title,u=o.transform,h=o.extra,p=null,m=null;if(lK){var b=parseInt(getComputedStyle(r).fontSize,10),k=r.getBoundingClientRect();p=k.width/b,m=k.height/b}return et.autoA11y&&!a&&(h.attributes["aria-hidden"]="true"),Promise.resolve([r,nU({content:r.innerHTML,width:p,height:m,transform:u,title:a,extra:h,watchable:!0})])}}},a2e=new RegExp('"',"ug"),lU=[1105920,1112319];function c2e(t){var e=t.replace(a2e,""),r=yNe(e,0),o=r>=lU[0]&&r<=lU[1],a=e.length===2?e[0]===e[1]:!1;return{value:OI(a?e[0]:e),isSecondary:o||a}}function uU(t,e){var r="".concat(QMe).concat(e.replace(":","-"));return new Promise(function(o,a){if(t.getAttribute(r)!==null)return o();var u=$f(t.children),h=u.filter(function(q){return q.getAttribute(RI)===e})[0],p=dl.getComputedStyle(t,e),m=p.getPropertyValue("font-family").match(tNe),b=p.getPropertyValue("font-weight"),k=p.getPropertyValue("content");if(h&&!m)return t.removeChild(h),o();if(m&&k!=="none"&&k!==""){var v=p.getPropertyValue("content"),_=~["Sharp"].indexOf(m[2])?er:An,A=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(m[2])?jg[_][m[2].toLowerCase()]:nNe[_][b],E=c2e(v),I=E.value,L=E.isSecondary,N=m[0].startsWith("FontAwesome"),T=RN(A,I),D=T;if(N){var O=TNe(I);O.iconName&&O.prefix&&(T=O.iconName,A=O.prefix)}if(T&&!L&&(!h||h.getAttribute(TN)!==A||h.getAttribute(IN)!==D)){t.setAttribute(r,D),h&&t.removeChild(h);var V=JNe(),U=V.extra;U.attributes[RI]=e,jI(T,A).then(function(q){var te=LN(We(We({},V),{},{icons:{main:q,mask:ON()},prefix:A,iconName:D,extra:U,watchable:!0})),ce=xn.createElement("svg");e==="::before"?t.insertBefore(ce,t.firstChild):t.appendChild(ce),ce.outerHTML=te.map(function(fe){return Mb(fe)}).join(`
`),t.removeAttribute(r),o()}).catch(a)}else o()}else o()})}function l2e(t){return Promise.all([uU(t,"::before"),uU(t,"::after")])}function u2e(t){return t.parentNode!==document.head&&!~JMe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(RI)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function dU(t){if(nc)return new Promise(function(e,r){var o=$f(t.querySelectorAll("*")).filter(u2e).map(l2e),a=BN.begin("searchPseudoElements");DK(),Promise.all(o).then(function(){a(),UI(),e()}).catch(function(){a(),UI(),r()})})}var d2e={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=dU,r}}},provides:function(e){e.pseudoElements2svg=function(r){var o=r.node,a=o===void 0?xn:o;et.searchPseudoElements&&dU(a)}}},hU=!1,h2e={mixout:function(){return{dom:{unwatch:function(){DK(),hU=!0}}}},hooks:function(){return{bootstrap:function(){sU(BI("mutationObserverCallbacks",{}))},noAuto:function(){KNe()},watch:function(r){var o=r.observeMutationsRoot;hU?UI():sU(BI("mutationObserverCallbacks",{observeMutationsRoot:o}))}}}},fU=function(e){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(o,a){var u=a.toLowerCase().split("-"),h=u[0],p=u.slice(1).join("-");if(h&&p==="h")return o.flipX=!0,o;if(h&&p==="v")return o.flipY=!0,o;if(p=parseFloat(p),isNaN(p))return o;switch(h){case"grow":o.size=o.size+p;break;case"shrink":o.size=o.size-p;break;case"left":o.x=o.x-p;break;case"right":o.x=o.x+p;break;case"up":o.y=o.y-p;break;case"down":o.y=o.y+p;break;case"rotate":o.rotate=o.rotate+p;break}return o},r)},f2e={mixout:function(){return{parse:{transform:function(r){return fU(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,o){var a=o.getAttribute("data-fa-transform");return a&&(r.transform=fU(a)),r}}},provides:function(e){e.generateAbstractTransformGrouping=function(r){var o=r.main,a=r.transform,u=r.containerWidth,h=r.iconWidth,p={transform:"translate(".concat(u/2," 256)")},m="translate(".concat(a.x*32,", ").concat(a.y*32,") "),b="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),k="rotate(".concat(a.rotate," 0 0)"),v={transform:"".concat(m," ").concat(b," ").concat(k)},_={transform:"translate(".concat(h/2*-1," -256)")},A={outer:p,inner:v,path:_};return{tag:"g",attributes:We({},A.outer),children:[{tag:"g",attributes:We({},A.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:We(We({},o.icon.attributes),A.path)}]}]}}}},hS={x:0,y:0,width:"100%",height:"100%"};function pU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function p2e(t){return t.tag==="g"?t.children:[t]}var m2e={hooks:function(){return{parseNodeAttributes:function(r,o){var a=o.getAttribute("data-fa-mask"),u=a?J0(a.split(" ").map(function(h){return h.trim()})):ON();return u.prefix||(u.prefix=hl()),r.mask=u,r.maskId=o.getAttribute("data-fa-mask-id"),r}}},provides:function(e){e.generateAbstractMask=function(r){var o=r.children,a=r.attributes,u=r.main,h=r.mask,p=r.maskId,m=r.transform,b=u.width,k=u.icon,v=h.width,_=h.icon,A=fNe({transform:m,containerWidth:v,iconWidth:b}),E={tag:"rect",attributes:We(We({},hS),{},{fill:"white"})},I=k.children?{children:k.children.map(pU)}:{},L={tag:"g",attributes:We({},A.inner),children:[pU(We({tag:k.tag,attributes:We(We({},k.attributes),A.path)},I))]},N={tag:"g",attributes:We({},A.outer),children:[L]},T="mask-".concat(p||$g()),D="clip-".concat(p||$g()),O={tag:"mask",attributes:We(We({},hS),{},{id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[E,N]},V={tag:"defs",children:[{tag:"clipPath",attributes:{id:D},children:p2e(_)},O]};return o.push(V,{tag:"rect",attributes:We({fill:"currentColor","clip-path":"url(#".concat(D,")"),mask:"url(#".concat(T,")")},hS)}),{children:o,attributes:a}}}},g2e={provides:function(e){var r=!1;dl.matchMedia&&(r=dl.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var o=[],a={fill:"currentColor"},u={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};o.push({tag:"path",attributes:We(We({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var h=We(We({},u),{},{attributeName:"opacity"}),p={tag:"circle",attributes:We(We({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||p.children.push({tag:"animate",attributes:We(We({},u),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:We(We({},h),{},{values:"1;0;1;1;0;1;"})}),o.push(p),o.push({tag:"path",attributes:We(We({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:We(We({},h),{},{values:"1;0;0;0;0;1;"})}]}),r||o.push({tag:"path",attributes:We(We({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:We(We({},h),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:o}}}},b2e={hooks:function(){return{parseNodeAttributes:function(r,o){var a=o.getAttribute("data-fa-symbol"),u=a===null?!1:a===""?!0:a;return r.symbol=u,r}}}},w2e=[gNe,r2e,i2e,o2e,s2e,d2e,h2e,f2e,m2e,g2e,b2e];PNe(w2e,{mixoutsTo:yo});yo.noAuto;yo.config;yo.library;yo.dom;var $I=yo.parse;yo.findIconDefinition;yo.toHtml;var k2e=yo.icon;yo.layer;yo.text;yo.counter;var It={},v2e={get exports(){return It},set exports(t){It=t}},y2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_2e=y2e,A2e=_2e;function MK(){}function NK(){}NK.resetWarningCache=MK;var C2e=function(){function t(o,a,u,h,p,m){if(m!==A2e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NK,resetWarningCache:MK};return r.PropTypes=r,r};v2e.exports=C2e();function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(o){xh(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function $y(t){return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function xh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E2e(t,e){if(t==null)return{};var r={},o=Object.keys(t),a,u;for(u=0;u<o.length;u++)a=o[u],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function x2e(t,e){if(t==null)return{};var r=E2e(t,e),o,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(a=0;a<u.length;a++)o=u[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function HI(t){return S2e(t)||T2e(t)||I2e(t)||D2e()}function S2e(t){if(Array.isArray(t))return qI(t)}function T2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I2e(t,e){if(t){if(typeof t=="string")return qI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function D2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P2e(t){var e,r=t.beat,o=t.fade,a=t.beatFade,u=t.bounce,h=t.shake,p=t.flash,m=t.spin,b=t.spinPulse,k=t.spinReverse,v=t.pulse,_=t.fixedWidth,A=t.inverse,E=t.border,I=t.listItem,L=t.flip,N=t.size,T=t.rotation,D=t.pull,O=(e={"fa-beat":r,"fa-fade":o,"fa-beat-fade":a,"fa-bounce":u,"fa-shake":h,"fa-flash":p,"fa-spin":m,"fa-spin-reverse":k,"fa-spin-pulse":b,"fa-pulse":v,"fa-fw":_,"fa-inverse":A,"fa-border":E,"fa-li":I,"fa-flip":L===!0,"fa-flip-horizontal":L==="horizontal"||L==="both","fa-flip-vertical":L==="vertical"||L==="both"},xh(e,"fa-".concat(N),typeof N<"u"&&N!==null),xh(e,"fa-rotate-".concat(T),typeof T<"u"&&T!==null&&T!==0),xh(e,"fa-pull-".concat(D),typeof D<"u"&&D!==null),xh(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(O).map(function(V){return O[V]?V:null}).filter(function(V){return V})}function M2e(t){return t=t-0,t===t}function RK(t){return M2e(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var N2e=["style"];function R2e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function O2e(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var o=r.indexOf(":"),a=RK(r.slice(0,o)),u=r.slice(o+1).trim();return a.startsWith("webkit")?e[R2e(a)]=u:e[a]=u,e},{})}function OK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var o=(e.children||[]).map(function(m){return OK(t,m)}),a=Object.keys(e.attributes||{}).reduce(function(m,b){var k=e.attributes[b];switch(b){case"class":m.attrs.className=k,delete e.attributes.class;break;case"style":m.attrs.style=O2e(k);break;default:b.indexOf("aria-")===0||b.indexOf("data-")===0?m.attrs[b.toLowerCase()]=k:m.attrs[RK(b)]=k}return m},{attrs:{}}),u=r.style,h=u===void 0?{}:u,p=x2e(r,N2e);return a.attrs.style=Bc(Bc({},a.attrs.style),h),t.apply(void 0,[e.tag,Bc(Bc({},a.attrs),p)].concat(HI(o)))}var LK=!1;try{LK=!0}catch{}function L2e(){if(!LK&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function gU(t){if(t&&$y(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if($I.icon)return $I.icon(t);if(t===null)return null;if(t&&$y(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function fS(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?xh({},t,e):{}}var Hf=cn.forwardRef(function(t,e){var r=t.icon,o=t.mask,a=t.symbol,u=t.className,h=t.title,p=t.titleId,m=t.maskId,b=gU(r),k=fS("classes",[].concat(HI(P2e(t)),HI(u.split(" ")))),v=fS("transform",typeof t.transform=="string"?$I.transform(t.transform):t.transform),_=fS("mask",gU(o)),A=k2e(b,Bc(Bc(Bc(Bc({},k),v),_),{},{symbol:a,title:h,titleId:p,maskId:m}));if(!A)return L2e("Could not find icon",b),null;var E=A.abstract,I={ref:e};return Object.keys(t).forEach(function(L){Hf.defaultProps.hasOwnProperty(L)||(I[L]=t[L])}),B2e(E[0],I)});Hf.displayName="FontAwesomeIcon";Hf.propTypes={beat:It.bool,border:It.bool,beatFade:It.bool,bounce:It.bool,className:It.string,fade:It.bool,flash:It.bool,mask:It.oneOfType([It.object,It.array,It.string]),maskId:It.string,fixedWidth:It.bool,inverse:It.bool,flip:It.oneOf([!0,!1,"horizontal","vertical","both"]),icon:It.oneOfType([It.object,It.array,It.string]),listItem:It.bool,pull:It.oneOf(["right","left"]),pulse:It.bool,rotation:It.oneOf([0,90,180,270]),shake:It.bool,size:It.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:It.bool,spinPulse:It.bool,spinReverse:It.bool,symbol:It.oneOfType([It.bool,It.string]),title:It.string,titleId:It.string,transform:It.oneOfType([It.string,It.object]),swapOpacity:It.bool};Hf.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var B2e=OK.bind(null,cn.createElement),z2e={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};const BK=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),eA=G.createContext({});function F2e(){return G.useContext(eA).visualElement}const tA=G.createContext(null),nA=typeof document<"u",Hy=nA?G.useLayoutEffect:G.useEffect,zK=G.createContext({strict:!1});function j2e(t,e,r,o){const a=F2e(),u=G.useContext(zK),h=G.useContext(tA),p=G.useContext(BK).reducedMotion,m=G.useRef();o=o||u.renderer,!m.current&&o&&(m.current=o(t,{visualState:e,parent:a,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const b=m.current;return G.useInsertionEffect(()=>{b&&b.update(r,h)}),Hy(()=>{b&&b.render()}),G.useEffect(()=>{b&&b.updateFeatures()}),(window.HandoffAppearAnimations?Hy:G.useEffect)(()=>{b&&b.animationState&&b.animationState.animateChanges()}),b}function Sh(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function V2e(t,e,r){return G.useCallback(o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):Sh(r)&&(r.current=o))},[e])}function Hg(t){return typeof t=="string"||Array.isArray(t)}function rA(t){return typeof t=="object"&&typeof t.start=="function"}const FN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jN=["initial",...FN];function iA(t){return rA(t.animate)||jN.some(e=>Hg(t[e]))}function FK(t){return Boolean(iA(t)||t.variants)}function U2e(t,e){if(iA(t)){const{initial:r,animate:o}=t;return{initial:r===!1||Hg(r)?r:void 0,animate:Hg(o)?o:void 0}}return t.inherit!==!1?e:{}}function $2e(t){const{initial:e,animate:r}=U2e(t,G.useContext(eA));return G.useMemo(()=>({initial:e,animate:r}),[bU(e),bU(r)])}function bU(t){return Array.isArray(t)?t.join(" "):t}const wU={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qg={};for(const t in wU)qg[t]={isEnabled:e=>wU[t].some(r=>!!e[r])};function H2e(t){for(const e in t)qg[e]={...qg[e],...t[e]}}function VN(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let q2e=1;function W2e(){return VN(()=>{if(jm.hasEverUpdated)return q2e++})}const UN=G.createContext({}),jK=G.createContext({}),G2e=Symbol.for("motionComponentSymbol");function K2e({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:o,Component:a}){t&&H2e(t);function u(p,m){let b;const k={...G.useContext(BK),...p,layoutId:Y2e(p)},{isStatic:v}=k,_=$2e(p),A=v?void 0:W2e(),E=o(p,v);if(!v&&nA){_.visualElement=j2e(a,E,k,e);const I=G.useContext(jK),L=G.useContext(zK).strict;_.visualElement&&(b=_.visualElement.loadFeatures(k,L,t,A,I))}return G.createElement(eA.Provider,{value:_},b&&_.visualElement?G.createElement(b,{visualElement:_.visualElement,...k}):null,r(a,p,A,V2e(E,_.visualElement,m),E,v,_.visualElement))}const h=G.forwardRef(u);return h[G2e]=a,h}function Y2e({layoutId:t}){const e=G.useContext(UN).id;return e&&t!==void 0?e+"-"+t:t}function Q2e(t){function e(o,a={}){return K2e(t(o,a))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(o,a)=>(r.has(a)||r.set(a,e(a)),r.get(a))})}const Z2e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $N(t){return typeof t!="string"||t.includes("-")?!1:!!(Z2e.indexOf(t)>-1||/[A-Z]/.test(t))}const qy={};function J2e(t){Object.assign(qy,t)}const oA=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_d=new Set(oA);function VK(t,{layout:e,layoutId:r}){return _d.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!qy[t]||t==="opacity")}const no=t=>Boolean(t&&t.getVelocity),X2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eRe=oA.length;function tRe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},o,a){let u="";for(let h=0;h<eRe;h++){const p=oA[h];if(t[p]!==void 0){const m=X2e[p]||p;u+=`${m}(${t[p]}) `}}return e&&!t.z&&(u+="translateZ(0)"),u=u.trim(),a?u=a(t,o?"":u):r&&o&&(u="none"),u}const UK=t=>e=>typeof e=="string"&&e.startsWith(t),$K=UK("--"),WI=UK("var(--"),nRe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vf=(t,e,r)=>Math.min(Math.max(r,t),e),Ad={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vm={...Ad,transform:t=>vf(0,1,t)},Kk={...Ad,default:1},Um=t=>Math.round(t*1e5)/1e5,Wg=/(-)?([\d]*\.?[\d])+/g,GI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,rRe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nb(t){return typeof t=="string"}const Rb=t=>({test:e=>Nb(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cc=Rb("deg"),Xs=Rb("%"),ft=Rb("px"),iRe=Rb("vh"),oRe=Rb("vw"),kU={...Xs,parse:t=>Xs.parse(t)/100,transform:t=>Xs.transform(t*100)},vU={...Ad,transform:Math.round},HK={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,size:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:Kk,scaleX:Kk,scaleY:Kk,scaleZ:Kk,skew:Cc,skewX:Cc,skewY:Cc,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:Vm,originX:kU,originY:kU,originZ:ft,zIndex:vU,fillOpacity:Vm,strokeOpacity:Vm,numOctaves:vU};function HN(t,e,r,o){const{style:a,vars:u,transform:h,transformOrigin:p}=t;let m=!1,b=!1,k=!0;for(const v in e){const _=e[v];if($K(v)){u[v]=_;continue}const A=HK[v],E=nRe(_,A);if(_d.has(v)){if(m=!0,h[v]=E,!k)continue;_!==(A.default||0)&&(k=!1)}else v.startsWith("origin")?(b=!0,p[v]=E):a[v]=E}if(e.transform||(m||o?a.transform=tRe(t.transform,r,k,o):a.transform&&(a.transform="none")),b){const{originX:v="50%",originY:_="50%",originZ:A=0}=p;a.transformOrigin=`${v} ${_} ${A}`}}const qN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qK(t,e,r){for(const o in e)!no(e[o])&&!VK(o,r)&&(t[o]=e[o])}function sRe({transformTemplate:t},e,r){return G.useMemo(()=>{const o=qN();return HN(o,e,{enableHardwareAcceleration:!r},t),Object.assign({},o.vars,o.style)},[e])}function aRe(t,e,r){const o=t.style||{},a={};return qK(a,o,t),Object.assign(a,sRe(t,e,r)),t.transformValues?t.transformValues(a):a}function cRe(t,e,r){const o={},a=aRe(t,e,r);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=a,o}const lRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Wy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||lRe.has(t)}let WK=t=>!Wy(t);function uRe(t){t&&(WK=e=>e.startsWith("on")?!Wy(e):t(e))}try{uRe(require("@emotion/is-prop-valid").default)}catch{}function dRe(t,e,r){const o={};for(const a in t)a==="values"&&typeof t.values=="object"||(WK(a)||r===!0&&Wy(a)||!e&&!Wy(a)||t.draggable&&a.startsWith("onDrag"))&&(o[a]=t[a]);return o}function yU(t,e,r){return typeof t=="string"?t:ft.transform(e+r*t)}function hRe(t,e,r){const o=yU(e,t.x,t.width),a=yU(r,t.y,t.height);return`${o} ${a}`}const fRe={offset:"stroke-dashoffset",array:"stroke-dasharray"},pRe={offset:"strokeDashoffset",array:"strokeDasharray"};function mRe(t,e,r=1,o=0,a=!0){t.pathLength=1;const u=a?fRe:pRe;t[u.offset]=ft.transform(-o);const h=ft.transform(e),p=ft.transform(r);t[u.array]=`${h} ${p}`}function WN(t,{attrX:e,attrY:r,originX:o,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:p=0,...m},b,k,v){if(HN(t,m,b,v),k){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:A,dimensions:E}=t;_.transform&&(E&&(A.transform=_.transform),delete _.transform),E&&(o!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=hRe(E,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(_.x=e),r!==void 0&&(_.y=r),u!==void 0&&mRe(_,u,h,p,!1)}const GK=()=>({...qN(),attrs:{}}),GN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gRe(t,e,r,o){const a=G.useMemo(()=>{const u=GK();return WN(u,e,{enableHardwareAcceleration:!1},GN(o),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};qK(u,t.style,t),a.style={...u,...a.style}}return a}function bRe(t=!1){return(r,o,a,u,{latestValues:h},p)=>{const b=($N(r)?gRe:cRe)(o,h,p,r),v={...dRe(o,typeof r=="string",t),...b,ref:u},{children:_}=o,A=G.useMemo(()=>no(_)?_.get():_,[_]);return a&&(v["data-projection-id"]=a),G.createElement(r,{...v,children:A})}}const KN=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function KK(t,{style:e,vars:r},o,a){Object.assign(t.style,e,a&&a.getProjectionStyles(o));for(const u in r)t.style.setProperty(u,r[u])}const YK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QK(t,e,r,o){KK(t,e,void 0,o);for(const a in e.attrs)t.setAttribute(YK.has(a)?a:KN(a),e.attrs[a])}function YN(t,e){const{style:r}=t,o={};for(const a in r)(no(r[a])||e.style&&no(e.style[a])||VK(a,t))&&(o[a]=r[a]);return o}function ZK(t,e){const r=YN(t,e);for(const o in t)if(no(t[o])||no(e[o])){const a=o==="x"||o==="y"?"attr"+o.toUpperCase():o;r[a]=t[o]}return r}function QN(t,e,r,o={},a={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,o,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,o,a)),e}const Gy=t=>Array.isArray(t),wRe=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),kRe=t=>Gy(t)?t[t.length-1]||0:t;function xv(t){const e=no(t)?t.get():t;return wRe(e)?e.toValue():e}function vRe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},o,a,u){const h={latestValues:yRe(o,a,u,t),renderState:e()};return r&&(h.mount=p=>r(o,p,h)),h}const JK=t=>(e,r)=>{const o=G.useContext(eA),a=G.useContext(tA),u=()=>vRe(t,e,o,a);return r?u():VN(u)};function yRe(t,e,r,o){const a={},u=o(t,{});for(const _ in u)a[_]=xv(u[_]);let{initial:h,animate:p}=t;const m=iA(t),b=FK(t);e&&b&&!m&&t.inherit!==!1&&(h===void 0&&(h=e.initial),p===void 0&&(p=e.animate));let k=r?r.initial===!1:!1;k=k||h===!1;const v=k?p:h;return v&&typeof v!="boolean"&&!rA(v)&&(Array.isArray(v)?v:[v]).forEach(A=>{const E=QN(t,A);if(!E)return;const{transitionEnd:I,transition:L,...N}=E;for(const T in N){let D=N[T];if(Array.isArray(D)){const O=k?D.length-1:0;D=D[O]}D!==null&&(a[T]=D)}for(const T in I)a[T]=I[T]}),a}const _Re={useVisualState:JK({scrapeMotionValuesFromProps:ZK,createRenderState:GK,onMount:(t,e,{renderState:r,latestValues:o})=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}WN(r,o,{enableHardwareAcceleration:!1},GN(e.tagName),t.transformTemplate),QK(e,r)}})},ARe={useVisualState:JK({scrapeMotionValuesFromProps:YN,createRenderState:qN})};function CRe(t,{forwardMotionProps:e=!1},r,o){return{...$N(t)?_Re:ARe,preloadedFeatures:r,useRender:bRe(e),createVisualElement:o,Component:t}}function xa(t,e,r,o={passive:!0}){return t.addEventListener(e,r,o),()=>t.removeEventListener(e,r)}const XK=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function sA(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const ERe=t=>e=>XK(e)&&t(e,sA(e));function Na(t,e,r,o){return xa(t,e,ERe(r),o)}const xRe=(t,e)=>r=>e(t(r)),Kc=(...t)=>t.reduce(xRe);function eY(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const _U=eY("dragHorizontal"),AU=eY("dragVertical");function tY(t){let e=!1;if(t==="y")e=AU();else if(t==="x")e=_U();else{const r=_U(),o=AU();r&&o?e=()=>{r(),o()}:(r&&r(),o&&o())}return e}function nY(){const t=tY(!0);return t?(t(),!1):!0}class Il{constructor(e){this.isMounted=!1,this.node=e}update(){}}function CU(t,e){const r="pointer"+(e?"enter":"leave"),o="onHover"+(e?"Start":"End"),a=(u,h)=>{if(u.type==="touch"||nY())return;const p=t.getProps();t.animationState&&p.whileHover&&t.animationState.setActive("whileHover",e),p[o]&&p[o](u,h)};return Na(t.current,r,a,{passive:!t.getProps()[o]})}class SRe extends Il{mount(){this.unmount=Kc(CU(this.node,!0),CU(this.node,!1))}unmount(){}}class TRe extends Il{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(xa(this.node.current,"focus",()=>this.onFocus()),xa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const rY=(t,e)=>e?t===e?!0:rY(t,e.parentElement):!1,Fo=t=>t;function pS(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,sA(r))}class IRe extends Il{constructor(){super(...arguments),this.removeStartListeners=Fo,this.removeEndListeners=Fo,this.removeAccessibleListeners=Fo,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const o=this.node.getProps(),u=Na(window,"pointerup",(p,m)=>{if(!this.checkPressEnd())return;const{onTap:b,onTapCancel:k}=this.node.getProps();rY(this.node.current,p.target)?b&&b(p,m):k&&k(p,m)},{passive:!(o.onTap||o.onPointerUp)}),h=Na(window,"pointercancel",(p,m)=>this.cancelPress(p,m),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=Kc(u,h),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const h=p=>{p.key!=="Enter"||!this.checkPressEnd()||pS("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=xa(this.node.current,"keyup",h),pS("down",(p,m)=>{this.startPress(p,m)})},r=xa(this.node.current,"keydown",e),o=()=>{this.isPressing&&pS("cancel",(u,h)=>this.cancelPress(u,h))},a=xa(this.node.current,"blur",o);this.removeAccessibleListeners=Kc(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:o,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&o(e,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nY()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&o(e,r)}mount(){const e=this.node.getProps(),r=Na(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),o=xa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kc(r,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const KI=new WeakMap,mS=new WeakMap,DRe=t=>{const e=KI.get(t.target);e&&e(t)},PRe=t=>{t.forEach(DRe)};function MRe({root:t,...e}){const r=t||document;mS.has(r)||mS.set(r,{});const o=mS.get(r),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(PRe,{root:t,...e})),o[a]}function NRe(t,e,r){const o=MRe(e);return KI.set(t,r),o.observe(t),()=>{KI.delete(t),o.unobserve(t)}}const RRe={some:0,all:1};class ORe extends Il{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:a="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:RRe[a]},p=m=>{const{isIntersecting:b}=m;if(this.isInView===b||(this.isInView=b,u&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:k,onViewportLeave:v}=this.node.getProps(),_=b?k:v;_&&_(m)};return NRe(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(LRe(e,r))&&this.startObserver()}unmount(){}}function LRe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const BRe={inView:{Feature:ORe},tap:{Feature:IRe},focus:{Feature:TRe},hover:{Feature:SRe}};function iY(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}const zRe=t=>/^\-?\d*\.?\d+$/.test(t),FRe=t=>/^0[^.\s]+$/.test(t),Ra={delta:0,timestamp:0},oY=1/60*1e3,jRe=typeof performance<"u"?()=>performance.now():()=>Date.now(),sY=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(jRe()),oY);function VRe(t){let e=[],r=[],o=0,a=!1,u=!1;const h=new WeakSet,p={schedule:(m,b=!1,k=!1)=>{const v=k&&a,_=v?e:r;return b&&h.add(m),_.indexOf(m)===-1&&(_.push(m),v&&a&&(o=e.length)),m},cancel:m=>{const b=r.indexOf(m);b!==-1&&r.splice(b,1),h.delete(m)},process:m=>{if(a){u=!0;return}if(a=!0,[e,r]=[r,e],r.length=0,o=e.length,o)for(let b=0;b<o;b++){const k=e[b];k(m),h.has(k)&&(p.schedule(k),t())}a=!1,u&&(u=!1,p.process(m))}};return p}const URe=40;let YI=!0,Gg=!1,QI=!1;const Ob=["read","update","preRender","render","postRender"],aA=Ob.reduce((t,e)=>(t[e]=VRe(()=>Gg=!0),t),{}),wi=Ob.reduce((t,e)=>{const r=aA[e];return t[e]=(o,a=!1,u=!1)=>(Gg||HRe(),r.schedule(o,a,u)),t},{}),pl=Ob.reduce((t,e)=>(t[e]=aA[e].cancel,t),{}),gS=Ob.reduce((t,e)=>(t[e]=()=>aA[e].process(Ra),t),{}),$Re=t=>aA[t].process(Ra),aY=t=>{Gg=!1,Ra.delta=YI?oY:Math.max(Math.min(t-Ra.timestamp,URe),1),Ra.timestamp=t,QI=!0,Ob.forEach($Re),QI=!1,Gg&&(YI=!1,sY(aY))},HRe=()=>{Gg=!0,YI=!0,QI||sY(aY)};function ZN(t,e){t.indexOf(e)===-1&&t.push(e)}function JN(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class XN{constructor(){this.subscriptions=[]}add(e){return ZN(this.subscriptions,e),()=>JN(this.subscriptions,e)}notify(e,r,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,o);else for(let u=0;u<a;u++){const h=this.subscriptions[u];h&&h(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function e2(t,e){return e?t*(1e3/e):0}const qRe=t=>!isNaN(parseFloat(t));class WRe{constructor(e,r={}){this.version="10.0.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,a=!0)=>{this.prev=this.current,this.current=o;const{delta:u,timestamp:h}=Ra;this.lastUpdated!==h&&(this.timeDelta=u,this.lastUpdated=h,wi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>wi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=qRe(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new XN);const o=this.events[e].add(r);return e==="change"?()=>{o(),wi.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,o){this.set(r),this.prev=e,this.timeDelta=o}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?e2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yf(t,e){return new WRe(t,e)}const t2=(t,e)=>r=>Boolean(Nb(r)&&rRe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),cY=(t,e,r)=>o=>{if(!Nb(o))return o;const[a,u,h,p]=o.match(Wg);return{[t]:parseFloat(a),[e]:parseFloat(u),[r]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},GRe=t=>vf(0,255,t),bS={...Ad,transform:t=>Math.round(GRe(t))},Pu={test:t2("rgb","red"),parse:cY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:o=1})=>"rgba("+bS.transform(t)+", "+bS.transform(e)+", "+bS.transform(r)+", "+Um(Vm.transform(o))+")"};function KRe(t){let e="",r="",o="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),o=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),o=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const ZI={test:t2("#"),parse:KRe,transform:Pu.transform},Th={test:t2("hsl","hue"),parse:cY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(t)+", "+Xs.transform(Um(e))+", "+Xs.transform(Um(r))+", "+Um(Vm.transform(o))+")"},Ci={test:t=>Pu.test(t)||ZI.test(t)||Th.test(t),parse:t=>Pu.test(t)?Pu.parse(t):Th.test(t)?Th.parse(t):ZI.parse(t),transform:t=>Nb(t)?t:t.hasOwnProperty("red")?Pu.transform(t):Th.transform(t)},lY="${c}",uY="${n}";function YRe(t){var e,r;return isNaN(t)&&Nb(t)&&(((e=t.match(Wg))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(GI))===null||r===void 0?void 0:r.length)||0)>0}function Ky(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0,o=0;const a=t.match(GI);a&&(r=a.length,t=t.replace(GI,lY),e.push(...a.map(Ci.parse)));const u=t.match(Wg);return u&&(o=u.length,t=t.replace(Wg,uY),e.push(...u.map(Ad.parse))),{values:e,numColors:r,numNumbers:o,tokenised:t}}function dY(t){return Ky(t).values}function hY(t){const{values:e,numColors:r,tokenised:o}=Ky(t),a=e.length;return u=>{let h=o;for(let p=0;p<a;p++)h=h.replace(p<r?lY:uY,p<r?Ci.transform(u[p]):Um(u[p]));return h}}const QRe=t=>typeof t=="number"?0:t;function ZRe(t){const e=dY(t);return hY(t)(e.map(QRe))}const ml={test:YRe,parse:dY,createTransformer:hY,getAnimatableNone:ZRe},JRe=new Set(["brightness","contrast","saturate","opacity"]);function XRe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=r.match(Wg)||[];if(!o)return t;const a=r.replace(o,"");let u=JRe.has(e)?1:0;return o!==r&&(u*=100),e+"("+u+a+")"}const eOe=/([a-z-]*)\(.*?\)/g,JI={...ml,getAnimatableNone:t=>{const e=t.match(eOe);return e?e.map(XRe).join(" "):t}},tOe={...HK,color:Ci,backgroundColor:Ci,outlineColor:Ci,fill:Ci,stroke:Ci,borderColor:Ci,borderTopColor:Ci,borderRightColor:Ci,borderBottomColor:Ci,borderLeftColor:Ci,filter:JI,WebkitFilter:JI},n2=t=>tOe[t];function r2(t,e){let r=n2(t);return r!==JI&&(r=ml),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const fY=t=>e=>e.test(t),nOe={test:t=>t==="auto",parse:t=>t},pY=[Ad,ft,Xs,Cc,oRe,iRe,nOe],em=t=>pY.find(fY(t)),rOe=[...pY,Ci,ml],iOe=t=>rOe.find(fY(t));function oOe(t){const e={};return t.values.forEach((r,o)=>e[o]=r.get()),e}function sOe(t){const e={};return t.values.forEach((r,o)=>e[o]=r.getVelocity()),e}function cA(t,e,r){const o=t.getProps();return QN(o,e,r!==void 0?r:o.custom,oOe(t),sOe(t))}function aOe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,yf(r))}function cOe(t,e){const r=cA(t,e);let{transitionEnd:o={},transition:a={},...u}=r?t.makeTargetAnimatable(r,!1):{};u={...u,...o};for(const h in u){const p=kRe(u[h]);aOe(t,h,p)}}function lOe(t,e,r){var o,a;const u=Object.keys(e).filter(p=>!t.hasValue(p)),h=u.length;if(h)for(let p=0;p<h;p++){const m=u[p],b=e[m];let k=null;Array.isArray(b)&&(k=b[0]),k===null&&(k=(a=(o=r[m])!==null&&o!==void 0?o:t.readValue(m))!==null&&a!==void 0?a:e[m]),k!=null&&(typeof k=="string"&&(zRe(k)||FRe(k))?k=parseFloat(k):!iOe(k)&&ml.test(b)&&(k=r2(m,b)),t.addValue(m,yf(k,{owner:t})),r[m]===void 0&&(r[m]=k),k!==null&&t.setBaseTarget(m,k))}}function uOe(t,e){return e?(e[t]||e.default||e).from:void 0}function dOe(t,e,r){const o={};for(const a in t){const u=uOe(a,e);if(u!==void 0)o[a]=u;else{const h=r.getValue(a);h&&(o[a]=h.get())}}return o}function Yy(t){return Boolean(no(t)&&t.add)}const hOe="framerAppearId",fOe="data-"+KN(hOe);let i2=Fo,Kg=Fo;const Sv=t=>t*1e3,pOe={current:!1},o2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s2=t=>e=>1-t(1-e),a2=t=>t*t,mOe=s2(a2),c2=o2(a2),Un=(t,e,r)=>-r*t+r*e+t;function wS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function gOe({hue:t,saturation:e,lightness:r,alpha:o}){t/=360,e/=100,r/=100;let a=0,u=0,h=0;if(!e)a=u=h=r;else{const p=r<.5?r*(1+e):r+e-r*e,m=2*r-p;a=wS(m,p,t+1/3),u=wS(m,p,t),h=wS(m,p,t-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:o}}const kS=(t,e,r)=>{const o=t*t;return Math.sqrt(Math.max(0,r*(e*e-o)+o))},bOe=[ZI,Pu,Th],wOe=t=>bOe.find(e=>e.test(t));function EU(t){const e=wOe(t);let r=e.parse(t);return e===Th&&(r=gOe(r)),r}const mY=(t,e)=>{const r=EU(t),o=EU(e),a={...r};return u=>(a.red=kS(r.red,o.red,u),a.green=kS(r.green,o.green,u),a.blue=kS(r.blue,o.blue,u),a.alpha=Un(r.alpha,o.alpha,u),Pu.transform(a))};function gY(t,e){return typeof t=="number"?r=>Un(t,e,r):Ci.test(t)?mY(t,e):wY(t,e)}const bY=(t,e)=>{const r=[...t],o=r.length,a=t.map((u,h)=>gY(u,e[h]));return u=>{for(let h=0;h<o;h++)r[h]=a[h](u);return r}},kOe=(t,e)=>{const r={...t,...e},o={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(o[a]=gY(t[a],e[a]));return a=>{for(const u in o)r[u]=o[u](a);return r}},wY=(t,e)=>{const r=ml.createTransformer(e),o=Ky(t),a=Ky(e);return o.numColors===a.numColors&&o.numNumbers>=a.numNumbers?Kc(bY(o.values,a.values),r):(i2(!0),h=>`${h>0?e:t}`)},Yg=(t,e,r)=>{const o=e-t;return o===0?1:(r-t)/o},xU=(t,e)=>r=>Un(t,e,r);function vOe(t){return typeof t=="number"?xU:typeof t=="string"?Ci.test(t)?mY:wY:Array.isArray(t)?bY:typeof t=="object"?kOe:xU}function yOe(t,e,r){const o=[],a=r||vOe(t[0]),u=t.length-1;for(let h=0;h<u;h++){let p=a(t[h],t[h+1]);if(e){const m=Array.isArray(e)?e[h]:e;p=Kc(m,p)}o.push(p)}return o}function kY(t,e,{clamp:r=!0,ease:o,mixer:a}={}){const u=t.length;Kg(u===e.length),Kg(!o||!Array.isArray(o)||o.length===u-1),t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=yOe(e,o,a),p=h.length,m=b=>{let k=0;if(p>1)for(;k<t.length-2&&!(b<t[k+1]);k++);const v=Yg(t[k],t[k+1],b);return h[k](v)};return r?b=>m(vf(t[0],t[u-1],b)):m}function _Oe(t,e){const r=t[t.length-1];for(let o=1;o<=e;o++){const a=Yg(0,e,o);t.push(Un(r,1,a))}}function AOe(t){const e=[0];return _Oe(e,t.length-1),e}function COe(t,e){return t.map(r=>r*e)}const vY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,EOe=1e-7,xOe=12;function SOe(t,e,r,o,a){let u,h,p=0;do h=e+(r-e)/2,u=vY(h,o,a)-t,u>0?r=h:e=h;while(Math.abs(u)>EOe&&++p<xOe);return h}function yY(t,e,r,o){if(t===e&&r===o)return Fo;const a=u=>SOe(u,0,1,t,r);return u=>u===0||u===1?u:vY(a(u),e,o)}const _Y=t=>1-Math.sin(Math.acos(t)),l2=s2(_Y),TOe=o2(l2),AY=yY(.33,1.53,.69,.99),u2=s2(AY),IOe=o2(u2),DOe=t=>(t*=2)<1?.5*u2(t):.5*(2-Math.pow(2,-10*(t-1))),POe={linear:Fo,easeIn:a2,easeInOut:c2,easeOut:mOe,circIn:_Y,circInOut:TOe,circOut:l2,backIn:u2,backInOut:IOe,backOut:AY,anticipate:DOe},SU=t=>{if(Array.isArray(t)){Kg(t.length===4);const[e,r,o,a]=t;return yY(e,r,o,a)}else if(typeof t=="string")return POe[t];return t},MOe=t=>Array.isArray(t)&&typeof t[0]!="number";function NOe(t,e){return t.map(()=>e||c2).splice(0,t.length-1)}function XI({keyframes:t,ease:e=c2,times:r,duration:o=300}){t=[...t];const a=MOe(e)?e.map(SU):SU(e),u={done:!1,value:t[0]},h=COe(r&&r.length===t.length?r:AOe(t),o);function p(){return kY(h,t,{ease:Array.isArray(a)?a:NOe(t,a)})}let m=p();return{next:b=>(u.value=m(b),u.done=b>=o,u),flipTarget:()=>{t.reverse(),m=p()}}}const vS=.001,ROe=.01,TU=10,OOe=.05,LOe=1;function BOe({duration:t=800,bounce:e=.25,velocity:r=0,mass:o=1}){let a,u;i2(t<=TU*1e3);let h=1-e;h=vf(OOe,LOe,h),t=vf(ROe,TU,t/1e3),h<1?(a=b=>{const k=b*h,v=k*t,_=k-r,A=eD(b,h),E=Math.exp(-v);return vS-_/A*E},u=b=>{const v=b*h*t,_=v*r+r,A=Math.pow(h,2)*Math.pow(b,2)*t,E=Math.exp(-v),I=eD(Math.pow(b,2),h);return(-a(b)+vS>0?-1:1)*((_-A)*E)/I}):(a=b=>{const k=Math.exp(-b*t),v=(b-r)*t+1;return-vS+k*v},u=b=>{const k=Math.exp(-b*t),v=(r-b)*(t*t);return k*v});const p=5/t,m=FOe(a,u,p);if(t=t*1e3,isNaN(m))return{stiffness:100,damping:10,duration:t};{const b=Math.pow(m,2)*o;return{stiffness:b,damping:h*2*Math.sqrt(o*b),duration:t}}}const zOe=12;function FOe(t,e,r){let o=r;for(let a=1;a<zOe;a++)o=o-t(o)/e(o);return o}function eD(t,e){return t*Math.sqrt(1-e*e)}const jOe=["duration","bounce"],VOe=["stiffness","damping","mass"];function IU(t,e){return e.some(r=>t[r]!==void 0)}function UOe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!IU(t,VOe)&&IU(t,jOe)){const r=BOe(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const $Oe=5;function CY({keyframes:t,restDelta:e,restSpeed:r,...o}){let a=t[0],u=t[t.length-1];const h={done:!1,value:a},{stiffness:p,damping:m,mass:b,velocity:k,duration:v,isResolvedFromDuration:_}=UOe(o);let A=HOe,E=k?-(k/1e3):0;const I=m/(2*Math.sqrt(p*b));function L(){const N=u-a,T=Math.sqrt(p/b)/1e3,D=Math.abs(N)<5;if(r||(r=D?.01:2),e||(e=D?.005:.5),I<1){const O=eD(T,I);A=V=>{const U=Math.exp(-I*T*V);return u-U*((E+I*T*N)/O*Math.sin(O*V)+N*Math.cos(O*V))}}else if(I===1)A=O=>u-Math.exp(-T*O)*(N+(E+T*N)*O);else{const O=T*Math.sqrt(I*I-1);A=V=>{const U=Math.exp(-I*T*V),q=Math.min(O*V,300);return u-U*((E+I*T*N)*Math.sinh(q)+O*N*Math.cosh(q))/O}}}return L(),{next:N=>{const T=A(N);if(_)h.done=N>=v;else{let D=E;if(N!==0)if(I<1){const U=Math.max(0,N-$Oe);D=e2(T-A(U),N-U)}else D=0;const O=Math.abs(D)<=r,V=Math.abs(u-T)<=e;h.done=O&&V}return h.value=h.done?u:T,h},flipTarget:()=>{E=-E,[a,u]=[u,a],L()}}}CY.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const HOe=t=>0;function qOe({keyframes:t=[0],velocity:e=0,power:r=.8,timeConstant:o=350,restDelta:a=.5,modifyTarget:u}){const h=t[0],p={done:!1,value:h};let m=r*e;const b=h+m,k=u===void 0?b:u(b);return k!==b&&(m=k-h),{next:v=>{const _=-m*Math.exp(-v/o);return p.done=!(_>a||_<-a),p.value=p.done?k:k+_,p},flipTarget:()=>{}}}const WOe={decay:qOe,keyframes:XI,tween:XI,spring:CY};function EY(t,e,r=0){return t-e-r}function GOe(t,e=0,r=0,o=!0){return o?EY(e+-t,e,r):e-(t-e)+r}function KOe(t,e,r,o){return o?t>=e+r:t<=-r}const YOe=t=>{const e=({delta:r})=>t(r);return{start:()=>wi.update(e,!0),stop:()=>pl.update(e)}};function Qy({duration:t,driver:e=YOe,elapsed:r=0,repeat:o=0,repeatType:a="loop",repeatDelay:u=0,keyframes:h,autoplay:p=!0,onPlay:m,onStop:b,onComplete:k,onRepeat:v,onUpdate:_,type:A="keyframes",...E}){const I=r;let L,N=0,T=t,D=!1,O=!0,V;const U=WOe[h.length>2?"keyframes":A]||XI,q=h[0],te=h[h.length-1];let ce={done:!1,value:q};const{needsInterpolation:fe}=U;fe&&fe(q,te)&&(V=kY([0,100],[q,te],{clamp:!1}),h=[0,100]);const Be=U({...E,duration:t,keyframes:h});function re(){N++,a==="reverse"?(O=N%2===0,r=GOe(r,T,u,O)):(r=EY(r,T,u),a==="mirror"&&Be.flipTarget()),D=!1,v&&v()}function ae(){L&&L.stop(),k&&k()}function Ce(Ke){O||(Ke=-Ke),r+=Ke,D||(ce=Be.next(Math.max(0,r)),V&&(ce.value=V(ce.value)),D=O?ce.done:r<=0),_&&_(ce.value),D&&(N===0&&(T=T!==void 0?T:r),N<o?KOe(r,T,u,O)&&re():ae())}function xe(){m&&m(),L=e(Ce),L.start()}return p&&xe(),{stop:()=>{b&&b(),L&&L.stop()},set currentTime(Ke){r=I,Ce(Ke)},sample:(Ke,ze=!1)=>{if(r=I,ze)return Ce(Ke),ce;const pe=t&&typeof t=="number"?Math.max(t*.5,50):50;let le=0;for(Ce(0);le<=Ke;){const Y=Ke-le;Ce(Math.min(Y,pe)),le+=pe}return ce}}}function QOe(t){return!t||Array.isArray(t)||typeof t=="string"&&xY[t]}const gm=([t,e,r,o])=>`cubic-bezier(${t}, ${e}, ${r}, ${o})`,xY={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gm([0,.65,.55,1]),circOut:gm([.55,0,1,.45]),backIn:gm([.31,.01,.66,-.59]),backOut:gm([.33,1.53,.69,.99])};function ZOe(t){if(t)return Array.isArray(t)?gm(t):xY[t]}function JOe(t,e,r,{delay:o=0,duration:a,repeat:u=0,repeatType:h="loop",ease:p,times:m}={}){return t.animate({[e]:r,offset:m},{delay:o,duration:a,easing:ZOe(p),fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}const DU={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},yS={},SY={};for(const t in DU)SY[t]=()=>(yS[t]===void 0&&(yS[t]=DU[t]()),yS[t]);function XOe(t,{repeat:e,repeatType:r="loop"}){const o=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[o]}const eLe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yk=10,tLe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!QOe(e.ease);function nLe(t,e,{onUpdate:r,onComplete:o,...a}){if(!(SY.waapi()&&eLe.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0))return!1;let{keyframes:h,duration:p=300,elapsed:m=0,ease:b}=a;if(tLe(e,a)){const v=Qy({...a,repeat:0,elapsed:0});let _={done:!1,value:h[0]};const A=[];let E=0;for(;!_.done&&E<2e4;)_=v.sample(E,!0),A.push(_.value),E+=Yk;h=A,p=E-Yk,b="linear"}const k=JOe(t.owner.current,e,h,{...a,delay:-m,duration:p,ease:b});return k.onfinish=()=>{t.set(XOe(h,a)),wi.update(()=>k.cancel()),o&&o()},{get currentTime(){return k.currentTime||0},set currentTime(v){k.currentTime=v},stop:()=>{const{currentTime:v}=k;if(v){const _=Qy({...a,autoplay:!1});t.setWithVelocity(_.sample(v-Yk).value,_.sample(v).value,Yk)}wi.update(()=>k.cancel())}}}function TY(t,e){const r=performance.now(),o=({timestamp:a})=>{const u=a-r;u>=e&&(pl.read(o),t(u-e))};return wi.read(o,!0),()=>pl.read(o)}function rLe({keyframes:t,elapsed:e,onUpdate:r,onComplete:o}){const a=()=>{r&&r(t[t.length-1]),o&&o()};return e?{stop:TY(a,-e)}:a()}function iLe({keyframes:t,velocity:e=0,min:r,max:o,power:a=.8,timeConstant:u=750,bounceStiffness:h=500,bounceDamping:p=10,restDelta:m=1,modifyTarget:b,driver:k,onUpdate:v,onComplete:_,onStop:A}){const E=t[0];let I;function L(O){return r!==void 0&&O<r||o!==void 0&&O>o}function N(O){return r===void 0?o:o===void 0||Math.abs(r-O)<Math.abs(o-O)?r:o}function T(O){I&&I.stop(),I=Qy({keyframes:[0,1],velocity:0,...O,driver:k,onUpdate:V=>{v&&v(V),O.onUpdate&&O.onUpdate(V)},onComplete:_,onStop:A})}function D(O){T({type:"spring",stiffness:h,damping:p,restDelta:m,...O})}if(L(E))D({velocity:e,keyframes:[E,N(E)]});else{let O=a*e+E;typeof b<"u"&&(O=b(O));const V=N(O),U=V===r?-1:1;let q,te;const ce=fe=>{q=te,te=fe,e=e2(fe-q,Ra.delta),(U===1&&fe>V||U===-1&&fe<V)&&D({keyframes:[fe,V],velocity:e})};T({type:"decay",keyframes:[E,0],velocity:e,timeConstant:u,power:a,restDelta:m,modifyTarget:b,onUpdate:L(O)?ce:void 0})}return{stop:()=>I&&I.stop()}}const oLe={type:"spring",stiffness:500,damping:25,restSpeed:10},sLe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aLe={type:"keyframes",duration:.8},cLe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lLe=(t,{keyframes:e})=>e.length>2?aLe:_d.has(t)?t.startsWith("scale")?sLe(e[1]):oLe:cLe,tD=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&ml.test(e)&&!e.startsWith("url("));function uLe({when:t,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:h,repeatDelay:p,from:m,elapsed:b,...k}){return!!Object.keys(k).length}function PU(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function MU(t){return typeof t=="number"?0:r2("",t)}function IY(t,e){return t[e]||t.default||t}function dLe(t,e,r,o){const a=tD(e,r);let u=o.from!==void 0?o.from:t.get();return u==="none"&&a&&typeof r=="string"?u=r2(e,r):PU(u)&&typeof r=="string"?u=MU(r):!Array.isArray(r)&&PU(r)&&typeof u=="string"&&(r=MU(u)),Array.isArray(r)?(r[0]===null&&(r[0]=u),r):[u,r]}const d2=(t,e,r,o={})=>a=>{const u=IY(o,t)||{},h=u.delay||o.delay||0;let{elapsed:p=0}=o;p=p-Sv(h);const m=dLe(e,t,r,u),b=m[0],k=m[m.length-1],v=tD(t,b),_=tD(t,k);i2(v===_);let A={keyframes:m,velocity:e.getVelocity(),...u,elapsed:p,onUpdate:E=>{e.set(E),u.onUpdate&&u.onUpdate(E)},onComplete:()=>{a(),u.onComplete&&u.onComplete()}};if(!v||!_||pOe.current||u.type===!1)return rLe(A);if(u.type==="inertia")return iLe(A);if(uLe(u)||(A={...A,...lLe(t,A)}),A.duration&&(A.duration=Sv(A.duration)),A.repeatDelay&&(A.repeatDelay=Sv(A.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=nLe(e,t,A);if(E)return E}return Qy(A)};function hLe(t,e,r={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(u=>nD(t,u,r));o=Promise.all(a)}else if(typeof e=="string")o=nD(t,e,r);else{const a=typeof e=="function"?cA(t,e,r.custom):e;o=DY(t,a,r)}return o.then(()=>t.notify("AnimationComplete",e))}function nD(t,e,r={}){const o=cA(t,e,r.custom);let{transition:a=t.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(a=r.transitionOverride);const u=o?()=>DY(t,o,r):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:b=0,staggerChildren:k,staggerDirection:v}=a;return fLe(t,e,b+m,k,v,r)}:()=>Promise.resolve(),{when:p}=a;if(p){const[m,b]=p==="beforeChildren"?[u,h]:[h,u];return m().then(b)}else return Promise.all([u(),h(r.delay)])}function DY(t,e,{delay:r=0,transitionOverride:o,type:a}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:h,...p}=t.makeTargetAnimatable(e);const m=t.getValue("willChange");o&&(u=o);const b=[],k=a&&t.animationState&&t.animationState.getState()[a];for(const v in p){const _=t.getValue(v),A=p[v];if(!_||A===void 0||k&&mLe(k,v))continue;const E={delay:r,elapsed:0,...u};if(window.HandoffAppearAnimations&&!_.hasAnimated){const L=t.getProps()[fOe];L&&(E.elapsed=window.HandoffAppearAnimations(L,v,_,wi))}let I=_.start(d2(v,_,A,t.shouldReduceMotion&&_d.has(v)?{type:!1}:E));Yy(m)&&(m.add(v),I=I.then(()=>m.remove(v))),b.push(I)}return Promise.all(b).then(()=>{h&&cOe(t,h)})}function fLe(t,e,r=0,o=0,a=1,u){const h=[],p=(t.variantChildren.size-1)*o,m=a===1?(b=0)=>b*o:(b=0)=>p-b*o;return Array.from(t.variantChildren).sort(pLe).forEach((b,k)=>{b.notify("AnimationStart",e),h.push(nD(b,e,{...u,delay:r+m(k)}).then(()=>b.notify("AnimationComplete",e)))}),Promise.all(h)}function pLe(t,e){return t.sortNodePosition(e)}function mLe({protectedKeys:t,needsAnimating:e},r){const o=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}const gLe=[...FN].reverse(),bLe=FN.length;function wLe(t){return e=>Promise.all(e.map(({animation:r,options:o})=>hLe(t,r,o)))}function kLe(t){let e=wLe(t);const r=yLe();let o=!0;const a=(m,b)=>{const k=cA(t,b);if(k){const{transition:v,transitionEnd:_,...A}=k;m={...m,...A,..._}}return m};function u(m){e=m(t)}function h(m,b){const k=t.getProps(),v=t.getVariantContext(!0)||{},_=[],A=new Set;let E={},I=1/0;for(let N=0;N<bLe;N++){const T=gLe[N],D=r[T],O=k[T]!==void 0?k[T]:v[T],V=Hg(O),U=T===b?D.isActive:null;U===!1&&(I=N);let q=O===v[T]&&O!==k[T]&&V;if(q&&o&&t.manuallyAnimateOnMount&&(q=!1),D.protectedKeys={...E},!D.isActive&&U===null||!O&&!D.prevProp||rA(O)||typeof O=="boolean")continue;const te=vLe(D.prevProp,O);let ce=te||T===b&&D.isActive&&!q&&V||N>I&&V;const fe=Array.isArray(O)?O:[O];let Be=fe.reduce(a,{});U===!1&&(Be={});const{prevResolvedValues:re={}}=D,ae={...re,...Be},Ce=xe=>{ce=!0,A.delete(xe),D.needsAnimating[xe]=!0};for(const xe in ae){const Ke=Be[xe],ze=re[xe];E.hasOwnProperty(xe)||(Ke!==ze?Gy(Ke)&&Gy(ze)?!iY(Ke,ze)||te?Ce(xe):D.protectedKeys[xe]=!0:Ke!==void 0?Ce(xe):A.add(xe):Ke!==void 0&&A.has(xe)?Ce(xe):D.protectedKeys[xe]=!0)}D.prevProp=O,D.prevResolvedValues=Be,D.isActive&&(E={...E,...Be}),o&&t.blockInitialAnimation&&(ce=!1),ce&&!q&&_.push(...fe.map(xe=>({animation:xe,options:{type:T,...m}})))}if(A.size){const N={};A.forEach(T=>{const D=t.getBaseTarget(T);D!==void 0&&(N[T]=D)}),_.push({animation:N})}let L=Boolean(_.length);return o&&k.initial===!1&&!t.manuallyAnimateOnMount&&(L=!1),o=!1,L?e(_):Promise.resolve()}function p(m,b,k){var v;if(r[m].isActive===b)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(A=>{var E;return(E=A.animationState)===null||E===void 0?void 0:E.setActive(m,b)}),r[m].isActive=b;const _=h(k,m);for(const A in r)r[A].protectedKeys={};return _}return{animateChanges:h,setActive:p,setAnimateFunction:u,getState:()=>r}}function vLe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iY(e,t):!1}function cu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yLe(){return{animate:cu(!0),whileInView:cu(),whileHover:cu(),whileTap:cu(),whileDrag:cu(),whileFocus:cu(),exit:cu()}}class _Le extends Il{constructor(e){super(e),e.animationState||(e.animationState=kLe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),rA(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let ALe=0;class CLe extends Il{constructor(){super(...arguments),this.id=ALe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:o}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const u=this.node.animationState.setActive("exit",!e,{custom:o??this.node.getProps().custom});r&&!e&&u.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ELe={animation:{Feature:_Le},exit:{Feature:CLe}},NU=(t,e)=>Math.abs(t-e);function xLe(t,e){const r=NU(t.x,e.x),o=NU(t.y,e.y);return Math.sqrt(r**2+o**2)}class PY{constructor(e,r,{transformPagePoint:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=AS(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,v=xLe(b.offset,{x:0,y:0})>=3;if(!k&&!v)return;const{point:_}=b,{timestamp:A}=Ra;this.history.push({..._,timestamp:A});const{onStart:E,onMove:I}=this.handlers;k||(E&&E(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,b)},this.handlePointerMove=(b,k)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=_S(k,this.transformPagePoint),wi.update(this.updatePoint,!0)},this.handlePointerUp=(b,k)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:v,onSessionEnd:_}=this.handlers,A=AS(b.type==="pointercancel"?this.lastMoveEventInfo:_S(k,this.transformPagePoint),this.history);this.startEvent&&v&&v(b,A),_&&_(b,A)},!XK(e))return;this.handlers=r,this.transformPagePoint=o;const a=sA(e),u=_S(a,this.transformPagePoint),{point:h}=u,{timestamp:p}=Ra;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=r;m&&m(e,AS(u,this.history)),this.removeListeners=Kc(Na(window,"pointermove",this.handlePointerMove),Na(window,"pointerup",this.handlePointerUp),Na(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pl.update(this.updatePoint)}}function _S(t,e){return e?{point:e(t.point)}:t}function RU(t,e){return{x:t.x-e.x,y:t.y-e.y}}function AS({point:t},e){return{point:t,delta:RU(t,MY(e)),offset:RU(t,SLe(e)),velocity:TLe(e,.1)}}function SLe(t){return t[0]}function MY(t){return t[t.length-1]}function TLe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,o=null;const a=MY(t);for(;r>=0&&(o=t[r],!(a.timestamp-o.timestamp>Sv(e)));)r--;if(!o)return{x:0,y:0};const u=(a.timestamp-o.timestamp)/1e3;if(u===0)return{x:0,y:0};const h={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function bo(t){return t.max-t.min}function rD(t,e=0,r=.01){return Math.abs(t-e)<=r}function OU(t,e,r,o=.5){t.origin=o,t.originPoint=Un(e.min,e.max,t.origin),t.scale=bo(r)/bo(e),(rD(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Un(r.min,r.max,t.origin)-t.originPoint,(rD(t.translate)||isNaN(t.translate))&&(t.translate=0)}function $m(t,e,r,o){OU(t.x,e.x,r.x,o?o.originX:void 0),OU(t.y,e.y,r.y,o?o.originY:void 0)}function LU(t,e,r){t.min=r.min+e.min,t.max=t.min+bo(e)}function ILe(t,e,r){LU(t.x,e.x,r.x),LU(t.y,e.y,r.y)}function BU(t,e,r){t.min=e.min-r.min,t.max=t.min+bo(e)}function Hm(t,e,r){BU(t.x,e.x,r.x),BU(t.y,e.y,r.y)}function DLe(t,{min:e,max:r},o){return e!==void 0&&t<e?t=o?Un(e,t,o.min):Math.max(t,e):r!==void 0&&t>r&&(t=o?Un(r,t,o.max):Math.min(t,r)),t}function zU(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function PLe(t,{top:e,left:r,bottom:o,right:a}){return{x:zU(t.x,r,a),y:zU(t.y,e,o)}}function FU(t,e){let r=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,o]=[o,r]),{min:r,max:o}}function MLe(t,e){return{x:FU(t.x,e.x),y:FU(t.y,e.y)}}function NLe(t,e){let r=.5;const o=bo(t),a=bo(e);return a>o?r=Yg(e.min,e.max-o,t.min):o>a&&(r=Yg(t.min,t.max-a,e.min)),vf(0,1,r)}function RLe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const iD=.35;function OLe(t=iD){return t===!1?t=0:t===!0&&(t=iD),{x:jU(t,"left","right"),y:jU(t,"top","bottom")}}function jU(t,e,r){return{min:VU(t,e),max:VU(t,r)}}function VU(t,e){return typeof t=="number"?t:t[e]||0}const UU=()=>({translate:0,scale:1,origin:0,originPoint:0}),qm=()=>({x:UU(),y:UU()}),$U=()=>({min:0,max:0}),dr=()=>({x:$U(),y:$U()});function Ns(t){return[t("x"),t("y")]}function NY({top:t,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:t,max:o}}}function LLe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BLe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function CS(t){return t===void 0||t===1}function oD({scale:t,scaleX:e,scaleY:r}){return!CS(t)||!CS(e)||!CS(r)}function fu(t){return oD(t)||RY(t)||t.z||t.rotate||t.rotateX||t.rotateY}function RY(t){return HU(t.x)||HU(t.y)}function HU(t){return t&&t!=="0%"}function Zy(t,e,r){const o=t-r,a=e*o;return r+a}function qU(t,e,r,o,a){return a!==void 0&&(t=Zy(t,a,o)),Zy(t,r,o)+e}function sD(t,e=0,r=1,o,a){t.min=qU(t.min,e,r,o,a),t.max=qU(t.max,e,r,o,a)}function OY(t,{x:e,y:r}){sD(t.x,e.translate,e.scale,e.originPoint),sD(t.y,r.translate,r.scale,r.originPoint)}function zLe(t,e,r,o=!1){const a=r.length;if(!a)return;e.x=e.y=1;let u,h;for(let p=0;p<a;p++){u=r[p],h=u.projectionDelta;const m=u.instance;m&&m.style&&m.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ih(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,OY(t,h)),o&&fu(u.latestValues)&&Ih(t,u.latestValues))}e.x=WU(e.x),e.y=WU(e.y)}function WU(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sc(t,e){t.min=t.min+e,t.max=t.max+e}function GU(t,e,[r,o,a]){const u=e[a]!==void 0?e[a]:.5,h=Un(t.min,t.max,u);sD(t,e[r],e[o],h,e.scale)}const FLe=["x","scaleX","originX"],jLe=["y","scaleY","originY"];function Ih(t,e){GU(t.x,e,FLe),GU(t.y,e,jLe)}function LY(t,e){return NY(BLe(t.getBoundingClientRect(),e))}function VLe(t,e,r){const o=LY(t,r),{scroll:a}=e;return a&&(Sc(o.x,a.offset.x),Sc(o.y,a.offset.y)),o}const ULe=new WeakMap;class $Le{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=m=>{this.stopAnimation(),r&&this.snapToCursor(sA(m,"page").point)},u=(m,b)=>{const{drag:k,dragPropagation:v,onDragStart:_}=this.getProps();if(k&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tY(k),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ns(E=>{let I=this.getAxisMotionValue(E).get()||0;if(Xs.test(I)){const{projection:L}=this.visualElement;if(L&&L.layout){const N=L.layout.layoutBox[E];N&&(I=bo(N)*(parseFloat(I)/100))}}this.originPoint[E]=I}),_&&_(m,b);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},h=(m,b)=>{const{dragPropagation:k,dragDirectionLock:v,onDirectionLock:_,onDrag:A}=this.getProps();if(!k&&!this.openGlobalLock)return;const{offset:E}=b;if(v&&this.currentDirection===null){this.currentDirection=HLe(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),A&&A(m,b)},p=(m,b)=>this.stop(m,b);this.panSession=new PY(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:p},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&u(e,r)}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:a}=this.getProps();if(!o||!Qk(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=DLe(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:o}=this.visualElement.projection||{},a=this.constraints;e&&Sh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=PLe(o.layoutBox,e):this.constraints=!1,this.elastic=OLe(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Ns(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=RLe(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Sh(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=VLe(o,a.root,this.visualElement.getTransformPagePoint());let h=MLe(a.layout.layoutBox,u);if(r){const p=r(LLe(h));this.hasMutatedConstraints=!!p,p&&(h=NY(p))}return h}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},b=Ns(k=>{if(!Qk(k,r,this.currentDirection))return;let v=m&&m[k]||{};h&&(v={min:0,max:0});const _=a?200:1e6,A=a?40:1e7,E={type:"inertia",velocity:o?e[k]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(k,E)});return Promise.all(b).then(p)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return o.start(d2(e,o,0,r))}stopAnimation(){Ns(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),o=this.visualElement.getProps(),a=o[r];return a||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Ns(r=>{const{drag:o}=this.getProps();if(!Qk(r,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(r);if(a&&a.layout){const{min:h,max:p}=a.layout.layoutBox[r];u.set(e[r]-Un(h,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Sh(r)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ns(h=>{const p=this.getAxisMotionValue(h);if(p){const m=p.get();a[h]=NLe({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Ns(h=>{if(!Qk(h,e,null))return;const p=this.getAxisMotionValue(h),{min:m,max:b}=this.constraints[h];p.set(Un(m,b,a[h]))})}addListeners(){if(!this.visualElement.current)return;ULe.set(this.visualElement,this);const e=this.visualElement.current,r=Na(e,"pointerdown",m=>{const{drag:b,dragListener:k=!0}=this.getProps();b&&k&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Sh(m)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),o();const h=xa(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:b})=>{this.isDragging&&b&&(Ns(k=>{const v=this.getAxisMotionValue(k);v&&(this.originPoint[k]+=m[k].translate,v.set(v.get()+m[k].translate))}),this.visualElement.render())});return()=>{h(),r(),u(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:h=iD,dragMomentum:p=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:p}}}function Qk(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function HLe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class qLe extends Il{constructor(e){super(e),this.removeGroupControls=Fo,this.removeListeners=Fo,this.controls=new $Le(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fo}unmount(){this.removeGroupControls(),this.removeListeners()}}class WLe extends Il{constructor(){super(...arguments),this.removePointerDownListener=Fo}onPointerDown(e){this.session=new PY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:e,onStart:r,onMove:o,onEnd:(u,h)=>{delete this.session,a&&a(u,h)}}}mount(){this.removePointerDownListener=Na(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GLe(){const t=G.useContext(tA);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,a=G.useId();return G.useEffect(()=>o(a),[]),!e&&r?[!1,()=>r&&r(a)]:[!0]}function KU(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ft.test(t))t=parseFloat(t);else return t;const r=KU(t,e.target.x),o=KU(t,e.target.y);return`${r}% ${o}%`}},BY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KLe(t){const e=BY.exec(t);if(!e)return[,];const[,r,o]=e;return[r,o]}function aD(t,e,r=1){const[o,a]=KLe(t);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);return u?u.trim():WI(a)?aD(a,e,r+1):a}function YLe(t,{...e},r){const o=t.current;if(!(o instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(a=>{const u=a.get();if(!WI(u))return;const h=aD(u,o);h&&a.set(h)});for(const a in e){const u=e[a];if(!WI(u))continue;const h=aD(u,o);h&&(e[a]=h,r&&r[a]===void 0&&(r[a]=u))}return{target:e,transitionEnd:r}}const YU="_$css",QLe={correct:(t,{treeScale:e,projectionDelta:r})=>{const o=t,a=t.includes("var("),u=[];a&&(t=t.replace(BY,A=>(u.push(A),YU)));const h=ml.parse(t);if(h.length>5)return o;const p=ml.createTransformer(t),m=typeof h[0]!="number"?1:0,b=r.x.scale*e.x,k=r.y.scale*e.y;h[0+m]/=b,h[1+m]/=k;const v=Un(b,k,.5);typeof h[2+m]=="number"&&(h[2+m]/=v),typeof h[3+m]=="number"&&(h[3+m]/=v);let _=p(h);if(a){let A=0;_=_.replace(YU,()=>{const E=u[A];return A++,E})}return _}};class ZLe extends cn.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=e;J2e(JLe),u&&(r.group&&r.group.add(u),o&&o.register&&a&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:a,isPresent:u}=this.props,h=o.projection;return h&&(h.isPresent=u,a||e.layoutDependency!==r||r===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||wi.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zY(t){const[e,r]=GLe(),o=G.useContext(UN);return cn.createElement(ZLe,{...t,layoutGroup:o,switchLayoutGroup:G.useContext(jK),isPresent:e,safeToRemove:r})}const JLe={borderRadius:{...tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tm,borderTopRightRadius:tm,borderBottomLeftRadius:tm,borderBottomRightRadius:tm,boxShadow:QLe};function XLe(t,e,r={}){const o=no(t)?t:yf(t);return o.start(d2("",o,e,r)),{stop:()=>o.stop(),isAnimating:()=>o.isAnimating()}}const FY=["TopLeft","TopRight","BottomLeft","BottomRight"],e5e=FY.length,QU=t=>typeof t=="string"?parseFloat(t):t,ZU=t=>typeof t=="number"||ft.test(t);function t5e(t,e,r,o,a,u){a?(t.opacity=Un(0,r.opacity!==void 0?r.opacity:1,n5e(o)),t.opacityExit=Un(e.opacity!==void 0?e.opacity:1,0,r5e(o))):u&&(t.opacity=Un(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let h=0;h<e5e;h++){const p=`border${FY[h]}Radius`;let m=JU(e,p),b=JU(r,p);if(m===void 0&&b===void 0)continue;m||(m=0),b||(b=0),m===0||b===0||ZU(m)===ZU(b)?(t[p]=Math.max(Un(QU(m),QU(b),o),0),(Xs.test(b)||Xs.test(m))&&(t[p]+="%")):t[p]=b}(e.rotate||r.rotate)&&(t.rotate=Un(e.rotate||0,r.rotate||0,o))}function JU(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const n5e=jY(0,.5,l2),r5e=jY(.5,.95,Fo);function jY(t,e,r){return o=>o<t?0:o>e?1:r(Yg(t,e,o))}function XU(t,e){t.min=e.min,t.max=e.max}function Io(t,e){XU(t.x,e.x),XU(t.y,e.y)}function e$(t,e,r,o,a){return t-=e,t=Zy(t,1/r,o),a!==void 0&&(t=Zy(t,1/a,o)),t}function i5e(t,e=0,r=1,o=.5,a,u=t,h=t){if(Xs.test(e)&&(e=parseFloat(e),e=Un(h.min,h.max,e/100)-h.min),typeof e!="number")return;let p=Un(u.min,u.max,o);t===u&&(p-=e),t.min=e$(t.min,e,r,p,a),t.max=e$(t.max,e,r,p,a)}function t$(t,e,[r,o,a],u,h){i5e(t,e[r],e[o],e[a],e.scale,u,h)}const o5e=["x","scaleX","originX"],s5e=["y","scaleY","originY"];function n$(t,e,r,o){t$(t.x,e,o5e,r?r.x:void 0,o?o.x:void 0),t$(t.y,e,s5e,r?r.y:void 0,o?o.y:void 0)}function r$(t){return t.translate===0&&t.scale===1}function VY(t){return r$(t.x)&&r$(t.y)}function cD(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function i$(t){return bo(t.x)/bo(t.y)}class a5e{constructor(){this.members=[]}add(e){ZN(this.members,e),e.scheduleRender()}remove(e){if(JN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let o;for(let a=r;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o$(t,e,r){let o="";const a=t.x.translate/e.x,u=t.y.translate/e.y;if((a||u)&&(o=`translate3d(${a}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:m,rotateX:b,rotateY:k}=r;m&&(o+=`rotate(${m}deg) `),b&&(o+=`rotateX(${b}deg) `),k&&(o+=`rotateY(${k}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(o+=`scale(${h}, ${p})`),o||"none"}const c5e=(t,e)=>t.depth-e.depth;class l5e{constructor(){this.children=[],this.isDirty=!1}add(e){ZN(this.children,e),this.isDirty=!0}remove(e){JN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c5e),this.isDirty=!1,this.children.forEach(e)}}function u5e(t){window.MotionDebug&&window.MotionDebug.record(t)}const s$=["","X","Y","Z"],a$=1e3;let d5e=0;const pu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function UY({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(h,p={},m=e==null?void 0:e()){this.id=d5e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{pu.totalNodes=pu.resolvedTargetDeltas=pu.recalculatedProjection=0,this.nodes.forEach(p5e),this.nodes.forEach(w5e),this.nodes.forEach(k5e),this.nodes.forEach(m5e),u5e(pu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=h,this.latestValues=p,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0,h&&this.root.registerPotentialNode(h,this);for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new l5e)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new XN),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const m=this.eventHandlers.get(h);m&&m.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}registerPotentialNode(h,p){this.potentialNodes.set(h,p)}mount(h,p=!1){if(this.instance)return;this.isSVG=h instanceof SVGElement&&h.tagName!=="svg",this.instance=h;const{layoutId:m,layout:b,visualElement:k}=this.options;if(k&&!k.current&&k.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),p&&(b||m)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=TY(_,250),jm.hasAnimatedSinceResize&&(jm.hasAnimatedSinceResize=!1,this.nodes.forEach(l$))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&k&&(m||b)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:A,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||k.getDefaultTransition()||C5e,{onLayoutAnimationStart:L,onLayoutAnimationComplete:N}=k.getProps(),T=!this.targetLayout||!cD(this.targetLayout,E)||A,D=!_&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||_&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,D);const O={...IY(I,"layout"),onPlay:L,onComplete:N};(k.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else!_&&this.animationProgress===0&&l$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v5e),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let k=0;k<this.path.length;k++){const v=this.path[k];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c$);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(E5e),this.potentialNodes.clear()),this.nodes.forEach(b5e),this.nodes.forEach(h5e),this.nodes.forEach(f5e),this.clearAllSnapshots(),gS.update(),gS.preRender(),gS.render())}clearAllSnapshots(){this.nodes.forEach(g5e),this.sharedNodes.forEach(y5e)}scheduleUpdateProjection(){wi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&(this.scroll={animationId:this.root.animationId,phase:h,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform,p=this.projectionDelta&&!VY(this.projectionDelta),m=this.getTransformTemplate(),b=m?m(this.latestValues,""):void 0,k=b!==this.prevTransformTemplateValue;h&&(p||fu(this.latestValues)||k)&&(a(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return h&&(m=this.removeTransform(m)),x5e(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return dr();const p=h.measureViewportBox(),{scroll:m}=this.root;return m&&(Sc(p.x,m.offset.x),Sc(p.y,m.offset.y)),p}removeElementScroll(h){const p=dr();Io(p,h);for(let m=0;m<this.path.length;m++){const b=this.path[m],{scroll:k,options:v}=b;if(b!==this.root&&k&&v.layoutScroll){if(k.isRoot){Io(p,h);const{scroll:_}=this.root;_&&(Sc(p.x,-_.offset.x),Sc(p.y,-_.offset.y))}Sc(p.x,k.offset.x),Sc(p.y,k.offset.y)}}return p}applyTransform(h,p=!1){const m=dr();Io(m,h);for(let b=0;b<this.path.length;b++){const k=this.path[b];!p&&k.options.layoutScroll&&k.scroll&&k!==k.root&&Ih(m,{x:-k.scroll.offset.x,y:-k.scroll.offset.y}),fu(k.latestValues)&&Ih(m,k.latestValues)}return fu(this.latestValues)&&Ih(m,this.latestValues),m}removeTransform(h){const p=dr();Io(p,h);for(let m=0;m<this.path.length;m++){const b=this.path[m];if(!b.instance||!fu(b.latestValues))continue;oD(b.latestValues)&&b.updateSnapshot();const k=dr(),v=b.measurePageBox();Io(k,v),n$(p,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,k)}return fu(this.latestValues)&&n$(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var h;const p=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==p)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:k,layoutId:v}=this.options;if(!(!this.layout||!(k||v))){if(!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout?(this.relativeParent=_,this.relativeTarget=dr(),this.relativeTargetOrigin=dr(),Hm(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dr(),this.targetWithTransforms=dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?ILe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Io(this.target,this.layout.layoutBox),OY(this.target,this.targetDelta)):Io(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&Boolean(_.resumingFrom)===Boolean(this.resumingFrom)&&!_.options.layoutScroll&&_.target?(this.relativeParent=_,this.relativeTarget=dr(),this.relativeTargetOrigin=dr(),Hm(this.relativeTargetOrigin,this.target,_.target),Io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oD(this.parent.latestValues)||RY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const p=this.getLead(),m=Boolean(this.resumingFrom)||this!==p;let b=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(b=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),b)return;const{layout:k,layoutId:v}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(k||v))return;Io(this.layoutCorrected,this.layout.layoutBox),zLe(this.layoutCorrected,this.treeScale,this.path,m);const{target:_}=p;if(!_)return;this.projectionDelta||(this.projectionDelta=qm(),this.projectionDeltaWithTransform=qm());const A=this.treeScale.x,E=this.treeScale.y,I=this.projectionTransform;$m(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=o$(this.projectionDelta,this.treeScale),(this.projectionTransform!==I||this.treeScale.x!==A||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),pu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(h,p=!1){const m=this.snapshot,b=m?m.latestValues:{},k={...this.latestValues},v=qm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=dr(),A=m?m.source:void 0,E=this.layout?this.layout.source:void 0,I=A!==E,L=this.getStack(),N=!L||L.members.length<=1,T=Boolean(I&&!N&&this.options.crossfade===!0&&!this.path.some(A5e));this.animationProgress=0;let D;this.mixTargetDelta=O=>{const V=O/1e3;u$(v.x,h.x,V),u$(v.y,h.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hm(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_5e(this.relativeTarget,this.relativeTargetOrigin,_,V),D&&cD(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=dr()),Io(D,this.relativeTarget)),I&&(this.animationValues=k,t5e(k,b,this.latestValues,V,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wi.update(()=>{jm.hasAnimatedSinceResize=!0,this.currentAnimation=XLe(0,a$,{...h,onUpdate:p=>{this.mixTargetDelta(p),h.onUpdate&&h.onUpdate(p)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:m,layout:b,latestValues:k}=h;if(!(!p||!m||!b)){if(this!==h&&this.layout&&b&&$Y(this.options.animationType,this.layout.layoutBox,b.layoutBox)){m=this.target||dr();const v=bo(this.layout.layoutBox.x);m.x.min=h.target.x.min,m.x.max=m.x.min+v;const _=bo(this.layout.layoutBox.y);m.y.min=h.target.y.min,m.y.max=m.y.min+_}Io(p,m),Ih(p,k),$m(this.projectionDeltaWithTransform,this.layoutCorrected,p,k)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new a5e),this.sharedNodes.get(h).add(p);const b=p.options.initialPromotionConfig;p.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:p}=this.options;return p?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:p}=this.options;return p?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:m}={}){const b=this.getStack();b&&b.promote(this,m),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:m}=h;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(p=!0),!p)return;const b={};for(let k=0;k<s$.length;k++){const v="rotate"+s$[k];m[v]&&(b[v]=m[v],h.setStaticValue(v,0))}h.render();for(const k in b)h.setStaticValue(k,b[k]);h.scheduleRender()}getProjectionStyles(h={}){var p,m;const b={};if(!this.instance||this.isSVG)return b;if(this.isVisible)b.visibility="";else return{visibility:"hidden"};const k=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=xv(h.pointerEvents)||"",b.transform=k?k(this.latestValues,""):"none",b;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=xv(h.pointerEvents)||""),this.hasProjected&&!fu(this.latestValues)&&(I.transform=k?k({},""):"none",this.hasProjected=!1),I}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),b.transform=o$(this.projectionDeltaWithTransform,this.treeScale,_),k&&(b.transform=k(_,b.transform));const{x:A,y:E}=this.projectionDelta;b.transformOrigin=`${A.origin*100}% ${E.origin*100}% 0`,v.animationValues?b.opacity=v===this?(m=(p=_.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:b.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const I in qy){if(_[I]===void 0)continue;const{correct:L,applyTo:N}=qy[I],T=b.transform==="none"?_[I]:L(_[I],v);if(N){const D=N.length;for(let O=0;O<D;O++)b[N[O]]=T}else b[I]=T}return this.options.layoutId&&(b.pointerEvents=v===this?xv(h.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var p;return(p=h.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(c$),this.root.sharedNodes.clear()}}}function h5e(t){t.updateLayout()}function f5e(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=t.layout,{animationType:u}=t.options,h=r.source!==t.layout.source;u==="size"?Ns(v=>{const _=h?r.measuredBox[v]:r.layoutBox[v],A=bo(_);_.min=o[v].min,_.max=_.min+A}):$Y(u,r.layoutBox,o)&&Ns(v=>{const _=h?r.measuredBox[v]:r.layoutBox[v],A=bo(o[v]);_.max=_.min+A});const p=qm();$m(p,o,r.layoutBox);const m=qm();h?$m(m,t.applyTransform(a,!0),r.measuredBox):$m(m,o,r.layoutBox);const b=!VY(p);let k=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:A}=v;if(_&&A){const E=dr();Hm(E,r.layoutBox,_.layoutBox);const I=dr();Hm(I,o,A.layoutBox),cD(E,I)||(k=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:p,hasLayoutChanged:b,hasRelativeTargetChanged:k})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function p5e(t){pu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function m5e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function g5e(t){t.clearSnapshot()}function c$(t){t.clearMeasurements()}function b5e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function l$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function w5e(t){t.resolveTargetDelta()}function k5e(t){t.calcProjection()}function v5e(t){t.resetRotation()}function y5e(t){t.removeLeadSnapshot()}function u$(t,e,r){t.translate=Un(e.translate,0,r),t.scale=Un(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function d$(t,e,r,o){t.min=Un(e.min,r.min,o),t.max=Un(e.max,r.max,o)}function _5e(t,e,r,o){d$(t.x,e.x,r.x,o),d$(t.y,e.y,r.y,o)}function A5e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C5e={duration:.45,ease:[.4,0,.1,1]};function E5e(t,e){let r=t.root;for(let u=t.path.length-1;u>=0;u--)if(Boolean(t.path[u].instance)){r=t.path[u];break}const a=(r&&r!==t.root?r.instance:document).querySelector(`[data-projection-id="${e}"]`);a&&t.mount(a,!0)}function h$(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function x5e(t){h$(t.x),h$(t.y)}function $Y(t,e,r){return t==="position"||t==="preserve-aspect"&&!rD(i$(e),i$(r),.2)}const S5e=UY({attachResizeListener:(t,e)=>xa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ES={current:void 0},HY=UY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ES.current){const t=new S5e(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),ES.current=t}return ES.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),T5e={pan:{Feature:WLe},drag:{Feature:qLe,ProjectionNode:HY,MeasureLayout:zY}},I5e=new Set(["width","height","top","left","right","bottom","x","y"]),qY=t=>I5e.has(t),D5e=t=>Object.keys(t).some(qY),f$=t=>t===Ad||t===ft,p$=(t,e)=>parseFloat(t.split(", ")[e]),m$=(t,e)=>(r,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/);if(a)return p$(a[1],e);{const u=o.match(/^matrix\((.+)\)$/);return u?p$(u[1],t):0}},P5e=new Set(["x","y","z"]),M5e=oA.filter(t=>!P5e.has(t));function N5e(t){const e=[];return M5e.forEach(r=>{const o=t.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const g$={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:m$(4,13),y:m$(5,14)},R5e=(t,e,r)=>{const o=e.measureViewportBox(),a=e.current,u=getComputedStyle(a),{display:h}=u,p={};h==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(b=>{p[b]=g$[b](o,u)}),e.render();const m=e.measureViewportBox();return r.forEach(b=>{const k=e.getValue(b);k&&k.jump(p[b]),t[b]=g$[b](m,u)}),t},O5e=(t,e,r={},o={})=>{e={...e},o={...o};const a=Object.keys(e).filter(qY);let u=[],h=!1;const p=[];if(a.forEach(m=>{const b=t.getValue(m);if(!t.hasValue(m))return;let k=r[m],v=em(k);const _=e[m];let A;if(Gy(_)){const E=_.length,I=_[0]===null?1:0;k=_[I],v=em(k);for(let L=I;L<E;L++)A?Kg(em(_[L])===A):A=em(_[L])}else A=em(_);if(v!==A)if(f$(v)&&f$(A)){const E=b.get();typeof E=="string"&&b.set(parseFloat(E)),typeof _=="string"?e[m]=parseFloat(_):Array.isArray(_)&&A===ft&&(e[m]=_.map(parseFloat))}else v!=null&&v.transform&&(A!=null&&A.transform)&&(k===0||_===0)?k===0?b.set(A.transform(k)):e[m]=v.transform(_):(h||(u=N5e(t),h=!0),p.push(m),o[m]=o[m]!==void 0?o[m]:e[m],b.jump(_))}),p.length){const m=p.indexOf("height")>=0?window.pageYOffset:null,b=R5e(e,t,p);return u.length&&u.forEach(([k,v])=>{t.getValue(k).set(v)}),t.render(),nA&&m!==null&&window.scrollTo({top:m}),{target:b,transitionEnd:o}}else return{target:e,transitionEnd:o}};function L5e(t,e,r,o){return D5e(e)?O5e(t,e,r,o):{target:e,transitionEnd:o}}const B5e=(t,e,r,o)=>{const a=YLe(t,e,o);return e=a.target,o=a.transitionEnd,L5e(t,e,r,o)},lD={current:null},WY={current:!1};function z5e(){if(WY.current=!0,!!nA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lD.current=t.matches;t.addListener(e),e()}else lD.current=!1}function F5e(t,e,r){const{willChange:o}=e;for(const a in e){const u=e[a],h=r[a];if(no(u))t.addValue(a,u),Yy(o)&&o.add(a);else if(no(h))t.addValue(a,yf(u,{owner:t})),Yy(o)&&o.remove(a);else if(h!==u)if(t.hasValue(a)){const p=t.getValue(a);!p.hasAnimated&&p.set(u)}else{const p=t.getStaticValue(a);t.addValue(a,yf(p!==void 0?p:u,{owner:t}))}}for(const a in r)e[a]===void 0&&t.removeValue(a);return e}const GY=Object.keys(qg),j5e=GY.length,b$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],V5e=jN.length;class U5e{constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wi.render(this.render,!1,!0);const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.isControllingVariants=iA(r),this.isVariantNode=FK(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:b,...k}=this.scrapeMotionValuesFromProps(r,{});for(const v in k){const _=k[v];p[v]!==void 0&&no(_)&&(_.set(p[v],!1),Yy(b)&&b.add(v))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),WY.current||z5e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lD.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pl.update(this.notifyUpdate),pl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const o=_d.has(e),a=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&wi.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),u()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},o,a,u,h){let p,m;for(let b=0;b<j5e;b++){const k=GY[b],{isEnabled:v,Feature:_,ProjectionNode:A,MeasureLayout:E}=qg[k];A&&(p=A),v(r)&&(!this.features[k]&&_&&(this.features[k]=new _(this)),E&&(m=E))}if(!this.projection&&p){this.projection=new p(u,this.latestValues,this.parent&&this.parent.projection);const{layoutId:b,layout:k,drag:v,dragConstraints:_,layoutScroll:A,layoutRoot:E}=r;this.projection.setOptions({layoutId:b,layout:k,alwaysMeasureLayout:Boolean(v)||_&&Sh(_),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof k=="string"?k:"both",initialPromotionConfig:h,layoutScroll:A,layoutRoot:E})}return m}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update(this.props,this.prevProps):(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<b$.length;o++){const a=b$[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u=e["on"+a];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=F5e(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const r={};for(let o=0;o<V5e;o++){const a=jN[o],u=this.props[a];(Hg(u)||u===!1)&&(r[a]=u)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=yf(r,{owner:this}),this.addValue(e,o)),o}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:o}=this.props,a=typeof o=="string"||typeof o=="object"?(r=QN(this.props,o))===null||r===void 0?void 0:r[e]:void 0;if(o&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!no(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new XN),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class KY extends U5e{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...o},{transformValues:a},u){let h=dOe(o,e||{},this);if(a&&(r&&(r=a(r)),o&&(o=a(o)),h&&(h=a(h))),u){lOe(this,o,h);const p=B5e(this,o,h,r);r=p.transitionEnd,o=p.target}return{transition:e,transitionEnd:r,...o}}}function $5e(t){return window.getComputedStyle(t)}class H5e extends KY{readValueFromInstance(e,r){if(_d.has(r)){const o=n2(r);return o&&o.default||0}else{const o=$5e(e),a=($K(r)?o.getPropertyValue(r):o[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return LY(e,r)}build(e,r,o,a){HN(e,r,o,a.transformTemplate)}scrapeMotionValuesFromProps(e,r){return YN(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;no(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,o,a){KK(e,r,o,a)}}class q5e extends KY{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(_d.has(r)){const o=n2(r);return o&&o.default||0}return r=YK.has(r)?r:KN(r),e.getAttribute(r)}measureInstanceViewportBox(){return dr()}scrapeMotionValuesFromProps(e,r){return ZK(e,r)}build(e,r,o,a){WN(e,r,o,this.isSVGTag,a.transformTemplate)}renderInstance(e,r,o,a){QK(e,r,o,a)}mount(e){this.isSVGTag=GN(e.tagName),super.mount(e)}}const W5e=(t,e)=>$N(t)?new q5e(e,{enableHardwareAcceleration:!1}):new H5e(e,{enableHardwareAcceleration:!0}),G5e={layout:{ProjectionNode:HY,MeasureLayout:zY}},K5e={...ELe,...BRe,...T5e,...G5e},Yc=Q2e((t,e)=>CRe(t,e,K5e,W5e));function YY(){const t=G.useRef(!1);return Hy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Y5e(){const t=YY(),[e,r]=G.useState(0),o=G.useCallback(()=>{t.current&&r(e+1)},[e]);return[G.useCallback(()=>wi.postRender(o),[o]),e]}class Q5e extends G.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Z5e({children:t,isPresent:e}){const r=G.useId(),o=G.useRef(null),a=G.useRef({width:0,height:0,top:0,left:0});return G.useInsertionEffect(()=>{const{width:u,height:h,top:p,left:m}=a.current;if(e||!o.current||!u||!h)return;o.current.dataset.motionPopId=r;const b=document.createElement("style");return document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),G.createElement(Q5e,{isPresent:e,childRef:o,sizeRef:a},G.cloneElement(t,{ref:o}))}const xS=({children:t,initial:e,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:u,mode:h})=>{const p=VN(J5e),m=G.useId(),b=G.useMemo(()=>({id:m,initial:e,isPresent:r,custom:a,onExitComplete:k=>{p.set(k,!0);for(const v of p.values())if(!v)return;o&&o()},register:k=>(p.set(k,!1),()=>p.delete(k))}),u?void 0:[r]);return G.useMemo(()=>{p.forEach((k,v)=>p.set(v,!1))},[r]),G.useEffect(()=>{!r&&!p.size&&o&&o()},[r]),h==="popLayout"&&(t=G.createElement(Z5e,{isPresent:r},t)),G.createElement(tA.Provider,{value:b},t)};function J5e(){return new Map}function X5e(t){return G.useEffect(()=>()=>t(),[])}const ch=t=>t.key||"";function eBe(t,e){t.forEach(r=>{const o=ch(r);e.set(o,r)})}function tBe(t){const e=[];return G.Children.forEach(t,r=>{G.isValidElement(r)&&e.push(r)}),e}const QY=({children:t,custom:e,initial:r=!0,onExitComplete:o,exitBeforeEnter:a,presenceAffectsLayout:u=!0,mode:h="sync"})=>{Kg(!a);let[p]=Y5e();const m=G.useContext(UN).forceRender;m&&(p=m);const b=YY(),k=tBe(t);let v=k;const _=new Set,A=G.useRef(v),E=G.useRef(new Map).current,I=G.useRef(!0);if(Hy(()=>{I.current=!1,eBe(k,E),A.current=v}),X5e(()=>{I.current=!0,E.clear(),_.clear()}),I.current)return G.createElement(G.Fragment,null,v.map(D=>G.createElement(xS,{key:ch(D),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:u,mode:h},D)));v=[...v];const L=A.current.map(ch),N=k.map(ch),T=L.length;for(let D=0;D<T;D++){const O=L[D];N.indexOf(O)===-1&&_.add(O)}return h==="wait"&&_.size&&(v=[]),_.forEach(D=>{if(N.indexOf(D)!==-1)return;const O=E.get(D);if(!O)return;const V=L.indexOf(D),U=()=>{E.delete(D),_.delete(D);const q=A.current.findIndex(te=>te.key===D);if(A.current.splice(q,1),!_.size){if(A.current=k,b.current===!1)return;p(),o&&o()}};v.splice(V,0,G.createElement(xS,{key:ch(O),isPresent:!1,onExitComplete:U,custom:e,presenceAffectsLayout:u,mode:h},O))}),v=v.map(D=>{const O=D.key;return _.has(O)?D:G.createElement(xS,{key:ch(D),isPresent:!0,presenceAffectsLayout:u,mode:h},D)}),G.createElement(G.Fragment,null,_.size?v:v.map(D=>G.cloneElement(D)))},ZY=()=>{const[t,e]=G.useState(!1);return G.useEffect(()=>{Ly.onAuthStateChanged(r=>{var o;e(r?((o=r.providerData[0])==null?void 0:o.uid)==="98078731":!1)})},[]),t};function nBe(){var k,v;const t=UG(),{auth:e}=ul(_=>_.authReducer),{github:r}=ul(_=>_.githubReducer),o=ZY(),a=zk("/"),u=zk("/page/*"),h=zk("/write/*"),p=zk("/tag"),m=()=>{e.data?t(CV(!1)):t(CV(!0))},b={hover:_=>_?{}:{backgroundColor:"rgba(238, 234, 234, 0.5)"}};return wn("div",{className:"menu-flex",children:[Oe("div",{className:"menu-login-flex",children:wn("div",{className:"menu-profile-flex",onClick:m,children:[Oe("div",{children:(k=r.data)!=null&&k.avatar_url?Oe("img",{className:"menu-img",src:r.data.avatar_url||"",alt:""}):Oe(Hf,{className:"menu-icon",icon:z2e})}),Oe("div",{className:"menu-name",children:Oe("span",{children:(v=r.data)==null?void 0:v.login})})]})}),wn("div",{className:"menu-btn-flex",children:[Oe(Yc.button,{className:a||u?"menu-btn-active":"",variants:b,whileHover:"hover",custom:a||u,children:Oe(cS,{to:"/",children:"Home"})}),o&&Oe(Yc.button,{className:h?"menu-btn-active":"",variants:b,whileHover:"hover",custom:h,children:Oe(cS,{to:"/write",children:"Write"})}),Oe(Yc.button,{className:p?"menu-btn-active":"",variants:b,whileHover:"hover",custom:p,children:Oe(cS,{to:"/tag",children:"tag"})})]})]})}var rBe={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},iBe={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]};const JY=(t,e)=>t==null?void 0:t.find(r=>r.id===e),w$=(t,e)=>t==null?void 0:t.filter(r=>r.tag===e);function oBe(){var N,T;const[t,e]=G.useState(""),[r,o]=G.useState(!1),[a,u]=G.useState(!0),{categoryReducer:h,blogReducer:p}=ul(D=>D),m=yd(),b=ZY(),k=async D=>{D.preventDefault(),await Uu.doc(`categories/${t}`).set({}),e("")},v=D=>{e(D.target.value)},_=D=>{m(`/blog/${D}`)},A=()=>o(D=>!D),E=async D=>{window.confirm("       .")&&(w$(p.blog,D).forEach(async V=>{await Uu.doc(`blog/${V.id}`).delete()}),await Uu.doc(`categories/${D}`).delete())},I=((N=document.querySelector(".side-flex"))==null?void 0:N.getBoundingClientRect().width)??0,L={initial:{x:-999},animate:D=>({x:D?0:-I,transition:{type:"tween",duration:.36}})};return G.useEffect(()=>{let O=window.innerWidth>=1300,V;o(O),u(!O);const U=()=>{clearTimeout(V),V=setTimeout(()=>{O=window.innerWidth>=1300,o(O),u(!O)},300)};return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),wn($u,{children:[Oe(Yc.div,{id:"dummy-fixed",transition:{type:"tween",duration:.36},animate:{marginRight:r?I:0},style:{position:a?"fixed":"relative"}}),Oe(Yc.div,{className:"side-openBtn",variants:L,initial:"initial",animate:"animate",custom:r,onClick:A,style:{visibility:a?"visible":"hidden"},children:Oe(Hf,{icon:r?rBe:iBe})}),wn(Yc.div,{className:"side-flex",variants:L,initial:"initial",animate:"animate",custom:r,style:{boxShadow:r?"1px 1px 8px 1px black":""},children:[b&&Oe("form",{onSubmit:k,className:"side-form-flex",children:Oe("input",{value:t,onChange:v,type:"text",placeholder:"Category...",maxLength:15,minLength:3})}),Oe("div",{className:"side-tag-flex",children:(T=h.categories)==null?void 0:T.map((D,O)=>{const V=w$(p.blog,D.id);return wn("details",{children:[wn("summary",{className:"side-summary",children:[Oe("span",{children:`${D.id} (${V.length})`}),Oe("button",{onClick:()=>E(D.id),children:"X"})]}),Oe("ul",{className:"side-list",children:V.map(U=>Oe("li",{onClick:()=>_(U.id),title:U.title,children:U.title},U.id))})]},O)})})]})]})}function sBe(){const t=UG(),{authReducer:{auth:e},githubReducer:{github:r}}=ul(o=>o);return G.useEffect(()=>{t(ePe()),t(oPe()),t(uPe())},[]),G.useEffect(()=>{var o,a;t(Dve((a=(o=e.data)==null?void 0:o.providerData[0])==null?void 0:a.uid))},[e.data]),Oe("div",{children:e.loading||r.loading?Oe("div",{className:"root-loading",children:"Initializing..."}):wn($u,{children:[Oe(nBe,{}),wn("div",{className:"root-flex",children:[Oe("div",{children:Oe(oBe,{})}),Oe("div",{className:"root-outlet-width",children:Oe(TMe,{})})]})]})})}var uD={},aBe={get exports(){return uD},set exports(t){uD=t}};(function(t,e){(function(r,o){t.exports=o(G)})(Gi,r=>(()=>{var o={703:(p,m,b)=>{var k=b(414);function v(){}function _(){}_.resetWarningCache=v,p.exports=function(){function A(L,N,T,D,O,V){if(V!==k){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function E(){return A}A.isRequired=A;var I={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:E,element:A,elementType:A,instanceOf:E,node:A,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E,checkPropTypes:_,resetWarningCache:v};return I.PropTypes=I,I}},697:(p,m,b)=>{p.exports=b(703)()},414:p=>{p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:p=>{p.exports=r}},a={};function u(p){var m=a[p];if(m!==void 0)return m.exports;var b=a[p]={exports:{}};return o[p](b,b.exports,u),b.exports}u.n=p=>{var m=p&&p.__esModule?()=>p.default:()=>p;return u.d(m,{a:m}),m},u.d=(p,m)=>{for(var b in m)u.o(m,b)&&!u.o(p,b)&&Object.defineProperty(p,b,{enumerable:!0,get:m[b]})},u.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m),u.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var h={};return(()=>{u.r(h),u.d(h,{default:()=>Be});var p=u(98),m=u.n(p),b=u(697),k=u.n(b);function v(){return v=Object.assign?Object.assign.bind():function(re){for(var ae=1;ae<arguments.length;ae++){var Ce=arguments[ae];for(var xe in Ce)Object.prototype.hasOwnProperty.call(Ce,xe)&&(re[xe]=Ce[xe])}return re},v.apply(this,arguments)}var _=function(re){var ae=re.pageClassName,Ce=re.pageLinkClassName,xe=re.page,Ke=re.selected,ze=re.activeClassName,pe=re.activeLinkClassName,le=re.getEventListener,Y=re.pageSelectedHandler,z=re.href,$=re.extraAriaContext,S=re.pageLabelBuilder,ee=re.rel,we=re.ariaLabel||"Page "+xe+($?" "+$:""),Re=null;return Ke&&(Re="page",we=re.ariaLabel||"Page "+xe+" is your current page",ae=ae!==void 0?ae+" "+ze:ze,Ce!==void 0?pe!==void 0&&(Ce=Ce+" "+pe):Ce=pe),m().createElement("li",{className:ae},m().createElement("a",v({rel:ee,role:z?void 0:"button",className:Ce,href:z,tabIndex:Ke?"-1":"0","aria-label":we,"aria-current":Re,onKeyPress:Y},le(Y)),S(xe)))};_.propTypes={pageSelectedHandler:k().func.isRequired,selected:k().bool.isRequired,pageClassName:k().string,pageLinkClassName:k().string,activeClassName:k().string,activeLinkClassName:k().string,extraAriaContext:k().string,href:k().string,ariaLabel:k().string,page:k().number.isRequired,getEventListener:k().func.isRequired,pageLabelBuilder:k().func.isRequired,rel:k().string};const A=_;function E(){return E=Object.assign?Object.assign.bind():function(re){for(var ae=1;ae<arguments.length;ae++){var Ce=arguments[ae];for(var xe in Ce)Object.prototype.hasOwnProperty.call(Ce,xe)&&(re[xe]=Ce[xe])}return re},E.apply(this,arguments)}var I=function(re){var ae=re.breakLabel,Ce=re.breakClassName,xe=re.breakLinkClassName,Ke=re.breakHandler,ze=re.getEventListener,pe=Ce||"break";return m().createElement("li",{className:pe},m().createElement("a",E({className:xe,role:"button",tabIndex:"0",onKeyPress:Ke},ze(Ke)),ae))};I.propTypes={breakLabel:k().oneOfType([k().string,k().node]),breakClassName:k().string,breakLinkClassName:k().string,breakHandler:k().func.isRequired,getEventListener:k().func.isRequired};const L=I;function N(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return re??ae}function T(re){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},T(re)}function D(){return D=Object.assign?Object.assign.bind():function(re){for(var ae=1;ae<arguments.length;ae++){var Ce=arguments[ae];for(var xe in Ce)Object.prototype.hasOwnProperty.call(Ce,xe)&&(re[xe]=Ce[xe])}return re},D.apply(this,arguments)}function O(re,ae){for(var Ce=0;Ce<ae.length;Ce++){var xe=ae[Ce];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(re,xe.key,xe)}}function V(re,ae){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ce,xe){return Ce.__proto__=xe,Ce},V(re,ae)}function U(re,ae){if(ae&&(T(ae)==="object"||typeof ae=="function"))return ae;if(ae!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(re)}function q(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function te(re){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},te(re)}function ce(re,ae,Ce){return ae in re?Object.defineProperty(re,ae,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):re[ae]=Ce,re}var fe=function(re){(function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),Y&&V(le,Y)})(pe,re);var ae,Ce,xe,Ke,ze=(xe=pe,Ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var le,Y=te(xe);if(Ke){var z=te(this).constructor;le=Reflect.construct(Y,arguments,z)}else le=Y.apply(this,arguments);return U(this,le)});function pe(le){var Y,z;return function($,S){if(!($ instanceof S))throw new TypeError("Cannot call a class as a function")}(this,pe),ce(q(Y=ze.call(this,le)),"handlePreviousPage",function($){var S=Y.state.selected;Y.handleClick($,null,S>0?S-1:void 0,{isPrevious:!0})}),ce(q(Y),"handleNextPage",function($){var S=Y.state.selected,ee=Y.props.pageCount;Y.handleClick($,null,S<ee-1?S+1:void 0,{isNext:!0})}),ce(q(Y),"handlePageSelected",function($,S){if(Y.state.selected===$)return Y.callActiveCallback($),void Y.handleClick(S,null,void 0,{isActive:!0});Y.handleClick(S,null,$)}),ce(q(Y),"handlePageChange",function($){Y.state.selected!==$&&(Y.setState({selected:$}),Y.callCallback($))}),ce(q(Y),"getEventListener",function($){return ce({},Y.props.eventListener,$)}),ce(q(Y),"handleClick",function($,S,ee){var we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Re=we.isPrevious,$e=Re!==void 0&&Re,it=we.isNext,Gt=it!==void 0&&it,Dt=we.isBreak,Ct=Dt!==void 0&&Dt,pt=we.isActive,lt=pt!==void 0&&pt;$.preventDefault?$.preventDefault():$.returnValue=!1;var nt=Y.state.selected,B=Y.props.onClick,Q=ee;if(B){var K=B({index:S,selected:nt,nextSelectedPage:ee,event:$,isPrevious:$e,isNext:Gt,isBreak:Ct,isActive:lt});if(K===!1)return;Number.isInteger(K)&&(Q=K)}Q!==void 0&&Y.handlePageChange(Q)}),ce(q(Y),"handleBreakClick",function($,S){var ee=Y.state.selected;Y.handleClick(S,$,ee<$?Y.getForwardJump():Y.getBackwardJump(),{isBreak:!0})}),ce(q(Y),"callCallback",function($){Y.props.onPageChange!==void 0&&typeof Y.props.onPageChange=="function"&&Y.props.onPageChange({selected:$})}),ce(q(Y),"callActiveCallback",function($){Y.props.onPageActive!==void 0&&typeof Y.props.onPageActive=="function"&&Y.props.onPageActive({selected:$})}),ce(q(Y),"getElementPageRel",function($){var S=Y.state.selected,ee=Y.props,we=ee.nextPageRel,Re=ee.prevPageRel,$e=ee.selectedPageRel;return S-1===$?Re:S===$?$e:S+1===$?we:void 0}),ce(q(Y),"pagination",function(){var $=[],S=Y.props,ee=S.pageRangeDisplayed,we=S.pageCount,Re=S.marginPagesDisplayed,$e=S.breakLabel,it=S.breakClassName,Gt=S.breakLinkClassName,Dt=Y.state.selected;if(we<=ee)for(var Ct=0;Ct<we;Ct++)$.push(Y.getPageElement(Ct));else{var pt=ee/2,lt=ee-pt;Dt>we-ee/2?pt=ee-(lt=we-Dt):Dt<ee/2&&(lt=ee-(pt=Dt));var nt,B,Q=function(Te){return Y.getPageElement(Te)},K=[];for(nt=0;nt<we;nt++){var ve=nt+1;ve<=Re||ve>we-Re||nt>=Dt-pt&&nt<=Dt+(Dt===0&&ee>1?lt-1:lt)?K.push({type:"page",index:nt,display:Q(nt)}):$e&&K.length>0&&K[K.length-1].display!==B&&(ee>0||Re>0)&&(B=m().createElement(L,{key:nt,breakLabel:$e,breakClassName:it,breakLinkClassName:Gt,breakHandler:Y.handleBreakClick.bind(null,nt),getEventListener:Y.getEventListener}),K.push({type:"break",index:nt,display:B}))}K.forEach(function(Te,ue){var Ve=Te;Te.type==="break"&&K[ue-1]&&K[ue-1].type==="page"&&K[ue+1]&&K[ue+1].type==="page"&&K[ue+1].index-K[ue-1].index<=2&&(Ve={type:"page",index:Te.index,display:Q(Te.index)}),$.push(Ve.display)})}return $}),le.initialPage!==void 0&&le.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(le.initialPage,") and forcePage (").concat(le.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),z=le.initialPage?le.initialPage:le.forcePage?le.forcePage:0,Y.state={selected:z},Y}return ae=pe,(Ce=[{key:"componentDidMount",value:function(){var le=this.props,Y=le.initialPage,z=le.disableInitialCallback,$=le.extraAriaContext,S=le.pageCount,ee=le.forcePage;Y===void 0||z||this.callCallback(Y),$&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(S)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(S,"). Did you forget a Math.ceil()?")),Y!==void 0&&Y>S-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(Y," > ").concat(S-1,").")),ee!==void 0&&ee>S-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(ee," > ").concat(S-1,")."))}},{key:"componentDidUpdate",value:function(le){this.props.forcePage!==void 0&&this.props.forcePage!==le.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(le.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var le=this.state.selected,Y=this.props,z=Y.pageCount,$=le+Y.pageRangeDisplayed;return $>=z?z-1:$}},{key:"getBackwardJump",value:function(){var le=this.state.selected-this.props.pageRangeDisplayed;return le<0?0:le}},{key:"getElementHref",value:function(le){var Y=this.props,z=Y.hrefBuilder,$=Y.pageCount,S=Y.hrefAllControls;if(z)return S||le>=0&&le<$?z(le+1,$,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(le){var Y=le===this.state.selected;if(this.props.ariaLabelBuilder&&le>=0&&le<this.props.pageCount){var z=this.props.ariaLabelBuilder(le+1,Y);return this.props.extraAriaContext&&!Y&&(z=z+" "+this.props.extraAriaContext),z}}},{key:"getPageElement",value:function(le){var Y=this.state.selected,z=this.props,$=z.pageClassName,S=z.pageLinkClassName,ee=z.activeClassName,we=z.activeLinkClassName,Re=z.extraAriaContext,$e=z.pageLabelBuilder;return m().createElement(A,{key:le,pageSelectedHandler:this.handlePageSelected.bind(null,le),selected:Y===le,rel:this.getElementPageRel(le),pageClassName:$,pageLinkClassName:S,activeClassName:ee,activeLinkClassName:we,extraAriaContext:Re,href:this.getElementHref(le),ariaLabel:this.ariaLabelBuilder(le),page:le+1,pageLabelBuilder:$e,getEventListener:this.getEventListener})}},{key:"render",value:function(){var le=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&le!==void 0)return le&&le(this.props);var Y=this.props,z=Y.disabledClassName,$=Y.disabledLinkClassName,S=Y.pageCount,ee=Y.className,we=Y.containerClassName,Re=Y.previousLabel,$e=Y.previousClassName,it=Y.previousLinkClassName,Gt=Y.previousAriaLabel,Dt=Y.prevRel,Ct=Y.nextLabel,pt=Y.nextClassName,lt=Y.nextLinkClassName,nt=Y.nextAriaLabel,B=Y.nextRel,Q=this.state.selected,K=Q===0,ve=Q===S-1,Te="".concat(N($e)).concat(K?" ".concat(N(z)):""),ue="".concat(N(pt)).concat(ve?" ".concat(N(z)):""),Ve="".concat(N(it)).concat(K?" ".concat(N($)):""),mt="".concat(N(lt)).concat(ve?" ".concat(N($)):""),Et=K?"true":"false",hn=ve?"true":"false";return m().createElement("ul",{className:ee||we,role:"navigation","aria-label":"Pagination"},m().createElement("li",{className:Te},m().createElement("a",D({className:Ve,href:this.getElementHref(Q-1),tabIndex:K?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Et,"aria-label":Gt,rel:Dt},this.getEventListener(this.handlePreviousPage)),Re)),this.pagination(),m().createElement("li",{className:ue},m().createElement("a",D({className:mt,href:this.getElementHref(Q+1),tabIndex:ve?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":hn,"aria-label":nt,rel:B},this.getEventListener(this.handleNextPage)),Ct)))}}])&&O(ae.prototype,Ce),Object.defineProperty(ae,"prototype",{writable:!1}),pe}(p.Component);ce(fe,"propTypes",{pageCount:k().number.isRequired,pageRangeDisplayed:k().number,marginPagesDisplayed:k().number,previousLabel:k().node,previousAriaLabel:k().string,prevPageRel:k().string,prevRel:k().string,nextLabel:k().node,nextAriaLabel:k().string,nextPageRel:k().string,nextRel:k().string,breakLabel:k().oneOfType([k().string,k().node]),hrefBuilder:k().func,hrefAllControls:k().bool,onPageChange:k().func,onPageActive:k().func,onClick:k().func,initialPage:k().number,forcePage:k().number,disableInitialCallback:k().bool,containerClassName:k().string,className:k().string,pageClassName:k().string,pageLinkClassName:k().string,pageLabelBuilder:k().func,activeClassName:k().string,activeLinkClassName:k().string,previousClassName:k().string,nextClassName:k().string,previousLinkClassName:k().string,nextLinkClassName:k().string,disabledClassName:k().string,disabledLinkClassName:k().string,breakClassName:k().string,breakLinkClassName:k().string,extraAriaContext:k().string,ariaLabelBuilder:k().func,eventListener:k().string,renderOnZeroPageCount:k().func,selectedPageRel:k().string}),ce(fe,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(re){return re},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const Be=fe})(),h})())})(aBe);const cBe=o_(uD);function lBe({itemsPerPage:t,items:e,page:r}){const[o,a]=G.useState((r-1)*t%e.length),[u,h]=G.useState(0),p=yd(),m=o+t,b=e.slice(o,m),k=Math.ceil(e.length/t),v=E=>{const I=E.selected,L=I*t%e.length;a(L),h(I)};G.useEffect(()=>{if(u>k)return p("/");p(`/page/${u+1}`)},[u]);const _={initial:{opacity:0,y:-30},animate:{opacity:1,y:0}},A=E=>{p(`/blog/${E}`)};return e.length>0?wn("div",{className:"paginate-flex",children:[Oe(QY,{children:Oe(Yc.ul,{variants:_,initial:"initial",animate:"animate",transition:{duration:.4},className:"paginate-inner",children:b.map(E=>{const I=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return wn("li",{onClick:()=>A(E.id),children:[wn("div",{className:"paginate-inner-title root-overflow",children:[Oe("span",{children:`[ ${E.tag} ]`}),Oe("span",{children:E.title})]}),wn("div",{className:"paginate-inner-time",children:[Oe("span",{children:I.format(E.time.updatedAt)}),E.time.updated&&Oe("span",{children:"(  )"})]})]},E.id)})},u)}),Oe(cBe,{breakLabel:"...",nextLabel:">",onPageChange:v,pageCount:k,previousLabel:"<",initialPage:r-1,activeClassName:"paginate-active",containerClassName:"paginate-container",pageClassName:"paginate-page",previousClassName:"paginate-move-btn",nextClassName:"paginate-move-btn"})]}):Oe("div",{children:" ."})}function k$(){const[t,e]=G.useState(""),[r,o]=G.useState(JSON.parse(localStorage.getItem("sort"))??!1),[a,u]=G.useTransition(),h=G.useRef(null),{blog:p,loading:m}=ul(E=>E.blogReducer),{page:b}=EN(),k=yd(),v=E=>{u(()=>e(E.target.value))},_=()=>{var E;e(""),(E=h.current)==null||E.focus()},A=G.useMemo(()=>p==null?void 0:p.sort((E,I)=>{const L=N=>N.time.updatedAt;return r?L(E)-L(I):L(I)-L(E)}).filter(E=>E.title.toLowerCase().includes(t.toLowerCase())),[t,r,p]);return G.useEffect(()=>{Number.isNaN(parseInt(b))&&k("/"),localStorage.setItem("page",b??"1")},[b]),G.useEffect(()=>{localStorage.setItem("sort",String(r))},[r]),Oe($u,{children:m?Oe("div",{style:{textAlign:"center"},children:"Loading..."}):wn($u,{children:[wn("div",{className:"home-flex",children:[Oe("input",{value:t,onChange:v,type:"text",ref:h,placeholder:"Search..."}),Oe("button",{type:"reset",onClick:_,children:"X"}),Oe("button",{type:"button",onClick:()=>{o(E=>!E)},children:r?"":""})]}),Oe(lBe,{itemsPerPage:5,items:A,page:parseInt(b??"1")})]})})}var Lb=t=>t.type==="checkbox",Dh=t=>t instanceof Date,Ii=t=>t==null;const XY=t=>typeof t=="object";var _r=t=>!Ii(t)&&!Array.isArray(t)&&XY(t)&&!Dh(t),eQ=t=>_r(t)&&t.target?Lb(t.target)?t.target.checked:t.target.value:t,uBe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tQ=(t,e)=>t.has(uBe(e)),Bb=t=>Array.isArray(t)?t.filter(Boolean):[],fr=t=>t===void 0,He=(t,e,r)=>{if(!e||!_r(t))return r;const o=Bb(e.split(/[,[\].]+?/)).reduce((a,u)=>Ii(a)?a:a[u],t);return fr(o)||o===t?fr(t[e])?r:t[e]:o};const Jy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dBe=cn.createContext(null),h2=()=>cn.useContext(dBe);var nQ=(t,e,r,o=!0)=>{const a={defaultValues:e._defaultValues};for(const u in t)Object.defineProperty(a,u,{get:()=>{const h=u;return e._proxyFormState[h]!==cs.all&&(e._proxyFormState[h]=!o||cs.all),r&&(r[h]=!0),t[h]}});return a},Do=t=>_r(t)&&!Object.keys(t).length,rQ=(t,e,r,o)=>{r(t);const{name:a,...u}=t;return Do(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(h=>e[h]===(!o||cs.all))},Tv=t=>Array.isArray(t)?t:[t],iQ=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Tv(t).some(o=>o&&(o.startsWith(e)||e.startsWith(o)));function f2(t){const e=cn.useRef(t);e.current=t,cn.useEffect(()=>{const r=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function hBe(t){const e=h2(),{control:r=e.control,disabled:o,name:a,exact:u}=t||{},[h,p]=cn.useState(r._formState),m=cn.useRef(!0),b=cn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),k=cn.useRef(a);return k.current=a,f2({disabled:o,next:v=>m.current&&iQ(k.current,v.name,u)&&rQ(v,b.current,r._updateFormState)&&p({...r._formState,...v}),subject:r._subjects.state}),cn.useEffect(()=>{m.current=!0;const v=r._proxyFormState.isDirty&&r._getDirty();return v!==r._formState.isDirty&&r._subjects.state.next({isDirty:v}),b.current.isValid&&r._updateValid(!0),()=>{m.current=!1}},[r]),nQ(h,r,b.current,!1)}var Ws=t=>typeof t=="string",oQ=(t,e,r,o,a)=>Ws(t)?(o&&e.watch.add(t),He(r,t,a)):Array.isArray(t)?t.map(u=>(o&&e.watch.add(u),He(r,u))):(o&&(e.watchAll=!0),r),fBe=t=>{const e=t.constructor&&t.constructor.prototype;return _r(e)&&e.hasOwnProperty("isPrototypeOf")},p2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tc(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(p2&&(t instanceof Blob||t instanceof FileList))&&(r||_r(t)))if(e=r?[]:{},!Array.isArray(t)&&!fBe(t))e=t;else for(const o in t)e[o]=Tc(t[o]);else return t;return e}function pBe(t){const e=h2(),{control:r=e.control,name:o,defaultValue:a,disabled:u,exact:h}=t||{},p=cn.useRef(o);p.current=o,f2({disabled:u,subject:r._subjects.watch,next:k=>{iQ(p.current,k.name,h)&&b(Tc(oQ(p.current,r._names,k.values||r._formValues,!1,a)))}});const[m,b]=cn.useState(r._getWatch(o,a));return cn.useEffect(()=>r._removeUnmounted()),m}function SS(t){const e=h2(),{name:r,control:o=e.control,shouldUnregister:a}=t,u=tQ(o._names.array,r),h=pBe({control:o,name:r,defaultValue:He(o._formValues,r,He(o._defaultValues,r,t.defaultValue)),exact:!0}),p=hBe({control:o,name:r}),m=cn.useRef(o.register(r,{...t.rules,value:h}));return cn.useEffect(()=>{const b=(k,v)=>{const _=He(o._fields,k);_&&(_._f.mount=v)};return b(r,!0),()=>{const k=o._options.shouldUnregister||a;(u?k&&!o._stateFlags.action:k)?o.unregister(r):b(r,!1)}},[r,o,u,a]),{field:{name:r,value:h,onChange:cn.useCallback(b=>m.current.onChange({target:{value:eQ(b),name:r},type:Jy.CHANGE}),[r]),onBlur:cn.useCallback(()=>m.current.onBlur({target:{value:He(o._formValues,r),name:r},type:Jy.BLUR}),[r,o]),ref:b=>{const k=He(o._fields,r);k&&b&&(k._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:v=>b.setCustomValidity(v),reportValidity:()=>b.reportValidity()})}},formState:p,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!He(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!He(p.touchedFields,r)},error:{enumerable:!0,get:()=>He(p.errors,r)}})}}var mBe=(t,e,r,o,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[o]:a||!0}}:{},m2=t=>/^\w*$/.test(t),sQ=t=>Bb(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Pn(t,e,r){let o=-1;const a=m2(e)?[e]:sQ(e),u=a.length,h=u-1;for(;++o<u;){const p=a[o];let m=r;if(o!==h){const b=t[p];m=_r(b)||Array.isArray(b)?b:isNaN(+a[o+1])?{}:[]}t[p]=m,t=t[p]}return t}const dD=(t,e,r)=>{for(const o of r||Object.keys(t)){const a=He(t,o);if(a){const{_f:u,...h}=a;if(u&&e(u.name)){if(u.ref.focus){u.ref.focus();break}else if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else _r(h)&&dD(h,e)}}};var v$=t=>({isOnSubmit:!t||t===cs.onSubmit,isOnBlur:t===cs.onBlur,isOnChange:t===cs.onChange,isOnAll:t===cs.all,isOnTouch:t===cs.onTouched}),y$=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(o=>t.startsWith(o)&&/^\.\w+/.test(t.slice(o.length)))),gBe=(t,e,r)=>{const o=Bb(He(t,r));return Pn(o,"root",e[r]),Pn(t,r,o),t},qh=t=>typeof t=="boolean",g2=t=>t.type==="file",Wh=t=>typeof t=="function",Xy=t=>{if(!p2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Iv=t=>Ws(t)||cn.isValidElement(t),b2=t=>t.type==="radio",e_=t=>t instanceof RegExp;const _$={value:!1,isValid:!1},A$={value:!0,isValid:!0};var aQ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!fr(t[0].attributes.value)?fr(t[0].value)||t[0].value===""?A$:{value:t[0].value,isValid:!0}:A$:_$}return _$};const C$={isValid:!1,value:null};var cQ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,C$):C$;function E$(t,e,r="validate"){if(Iv(t)||Array.isArray(t)&&t.every(Iv)||qh(t)&&!t)return{type:r,message:Iv(t)?t:"",ref:e}}var rh=t=>_r(t)&&!e_(t)?t:{value:t,message:""},x$=async(t,e,r,o,a)=>{const{ref:u,refs:h,required:p,maxLength:m,minLength:b,min:k,max:v,pattern:_,validate:A,name:E,valueAsNumber:I,mount:L,disabled:N}=t._f,T=He(e,E);if(!L||N)return{};const D=h?h[0]:u,O=re=>{o&&D.reportValidity&&(D.setCustomValidity(qh(re)?"":re||""),D.reportValidity())},V={},U=b2(u),q=Lb(u),te=U||q,ce=(I||g2(u))&&fr(u.value)&&fr(T)||Xy(u)&&u.value===""||T===""||Array.isArray(T)&&!T.length,fe=mBe.bind(null,E,r,V),Be=(re,ae,Ce,xe=ma.maxLength,Ke=ma.minLength)=>{const ze=re?ae:Ce;V[E]={type:re?xe:Ke,message:ze,ref:u,...fe(re?xe:Ke,ze)}};if(a?!Array.isArray(T)||!T.length:p&&(!te&&(ce||Ii(T))||qh(T)&&!T||q&&!aQ(h).isValid||U&&!cQ(h).isValid)){const{value:re,message:ae}=Iv(p)?{value:!!p,message:p}:rh(p);if(re&&(V[E]={type:ma.required,message:ae,ref:D,...fe(ma.required,ae)},!r))return O(ae),V}if(!ce&&(!Ii(k)||!Ii(v))){let re,ae;const Ce=rh(v),xe=rh(k);if(!Ii(T)&&!isNaN(T)){const Ke=u.valueAsNumber||T&&+T;Ii(Ce.value)||(re=Ke>Ce.value),Ii(xe.value)||(ae=Ke<xe.value)}else{const Ke=u.valueAsDate||new Date(T),ze=Y=>new Date(new Date().toDateString()+" "+Y),pe=u.type=="time",le=u.type=="week";Ws(Ce.value)&&T&&(re=pe?ze(T)>ze(Ce.value):le?T>Ce.value:Ke>new Date(Ce.value)),Ws(xe.value)&&T&&(ae=pe?ze(T)<ze(xe.value):le?T<xe.value:Ke<new Date(xe.value))}if((re||ae)&&(Be(!!re,Ce.message,xe.message,ma.max,ma.min),!r))return O(V[E].message),V}if((m||b)&&!ce&&(Ws(T)||a&&Array.isArray(T))){const re=rh(m),ae=rh(b),Ce=!Ii(re.value)&&T.length>re.value,xe=!Ii(ae.value)&&T.length<ae.value;if((Ce||xe)&&(Be(Ce,re.message,ae.message),!r))return O(V[E].message),V}if(_&&!ce&&Ws(T)){const{value:re,message:ae}=rh(_);if(e_(re)&&!T.match(re)&&(V[E]={type:ma.pattern,message:ae,ref:u,...fe(ma.pattern,ae)},!r))return O(ae),V}if(A){if(Wh(A)){const re=await A(T,e),ae=E$(re,D);if(ae&&(V[E]={...ae,...fe(ma.validate,ae.message)},!r))return O(ae.message),V}else if(_r(A)){let re={};for(const ae in A){if(!Do(re)&&!r)break;const Ce=E$(await A[ae](T,e),D,ae);Ce&&(re={...Ce,...fe(ae,Ce.message)},O(Ce.message),r&&(V[E]=re))}if(!Do(re)&&(V[E]={ref:D,...re},!r))return V}}return O(!0),V};function bBe(t,e){const r=e.slice(0,-1).length;let o=0;for(;o<r;)t=fr(t)?o++:t[e[o++]];return t}function wBe(t){for(const e in t)if(!fr(t[e]))return!1;return!0}function Yr(t,e){const r=Array.isArray(e)?e:m2(e)?[e]:sQ(e),o=r.length===1?t:bBe(t,r),a=r.length-1,u=r[a];return o&&delete o[u],a!==0&&(_r(o)&&Do(o)||Array.isArray(o)&&wBe(o))&&Yr(t,r.slice(0,-1)),t}function TS(){let t=[];return{get observers(){return t},next:a=>{for(const u of t)u.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(u=>u!==a)}}),unsubscribe:()=>{t=[]}}}var t_=t=>Ii(t)||!XY(t);function Mu(t,e){if(t_(t)||t_(e))return t===e;if(Dh(t)&&Dh(e))return t.getTime()===e.getTime();const r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(const a of r){const u=t[a];if(!o.includes(a))return!1;if(a!=="ref"){const h=e[a];if(Dh(u)&&Dh(h)||_r(u)&&_r(h)||Array.isArray(u)&&Array.isArray(h)?!Mu(u,h):u!==h)return!1}}return!0}var lQ=t=>t.type==="select-multiple",kBe=t=>b2(t)||Lb(t),IS=t=>Xy(t)&&t.isConnected,uQ=t=>{for(const e in t)if(Wh(t[e]))return!0;return!1};function n_(t,e={}){const r=Array.isArray(t);if(_r(t)||r)for(const o in t)Array.isArray(t[o])||_r(t[o])&&!uQ(t[o])?(e[o]=Array.isArray(t[o])?[]:{},n_(t[o],e[o])):Ii(t[o])||(e[o]=!0);return e}function dQ(t,e,r){const o=Array.isArray(t);if(_r(t)||o)for(const a in t)Array.isArray(t[a])||_r(t[a])&&!uQ(t[a])?fr(e)||t_(r[a])?r[a]=Array.isArray(t[a])?n_(t[a],[]):{...n_(t[a])}:dQ(t[a],Ii(e)?{}:e[a],r[a]):Mu(t[a],e[a])?delete r[a]:r[a]=!0;return r}var DS=(t,e)=>dQ(t,e,n_(e)),hQ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:o})=>fr(t)?t:e?t===""?NaN:t&&+t:r&&Ws(t)?new Date(t):o?o(t):t;function PS(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return g2(e)?e.files:b2(e)?cQ(t.refs).value:lQ(e)?[...e.selectedOptions].map(({value:r})=>r):Lb(e)?aQ(t.refs).value:hQ(fr(e.value)?t.ref.value:e.value,t)}var vBe=(t,e,r,o)=>{const a={};for(const u of t){const h=He(e,u);h&&Pn(a,u,h._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:o}},nm=t=>fr(t)?t:e_(t)?t.source:_r(t)?e_(t.value)?t.value.source:t.value:t,yBe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function S$(t,e,r){const o=He(t,r);if(o||m2(r))return{error:o,name:r};const a=r.split(".");for(;a.length;){const u=a.join("."),h=He(e,u),p=He(t,u);if(h&&!Array.isArray(h)&&r!==u)return{name:r};if(p&&p.type)return{name:u,error:p};a.pop()}return{name:r}}var _Be=(t,e,r,o,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?o.isOnBlur:a.isOnBlur)?!t:(r?o.isOnChange:a.isOnChange)?t:!0,ABe=(t,e)=>!Bb(He(t,e)).length&&Yr(t,e);const CBe={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function EBe(t={},e){let r={...CBe,...t};const o=t.resetOptions&&t.resetOptions.keepDirtyValues;let a={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},u={},h=_r(r.defaultValues)||_r(r.values)?Tc(r.defaultValues||r.values)||{}:{},p=r.shouldUnregister?{}:Tc(h),m={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k,v=0;const _={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={watch:TS(),array:TS(),state:TS()},E=v$(r.mode),I=v$(r.reValidateMode),L=r.criteriaMode===cs.all,N=B=>Q=>{clearTimeout(v),v=window.setTimeout(B,Q)},T=async B=>{if(_.isValid||B){const Q=r.resolver?Do((await ce()).errors):await Be(u,!0);Q!==a.isValid&&A.state.next({isValid:Q})}},D=B=>_.isValidating&&A.state.next({isValidating:B}),O=(B,Q=[],K,ve,Te=!0,ue=!0)=>{if(ve&&K){if(m.action=!0,ue&&Array.isArray(He(u,B))){const Ve=K(He(u,B),ve.argA,ve.argB);Te&&Pn(u,B,Ve)}if(ue&&Array.isArray(He(a.errors,B))){const Ve=K(He(a.errors,B),ve.argA,ve.argB);Te&&Pn(a.errors,B,Ve),ABe(a.errors,B)}if(_.touchedFields&&ue&&Array.isArray(He(a.touchedFields,B))){const Ve=K(He(a.touchedFields,B),ve.argA,ve.argB);Te&&Pn(a.touchedFields,B,Ve)}_.dirtyFields&&(a.dirtyFields=DS(h,p)),A.state.next({name:B,isDirty:ae(B,Q),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else Pn(p,B,Q)},V=(B,Q)=>{Pn(a.errors,B,Q),A.state.next({errors:a.errors})},U=(B,Q,K,ve)=>{const Te=He(u,B);if(Te){const ue=He(p,B,fr(K)?He(h,B):K);fr(ue)||ve&&ve.defaultChecked||Q?Pn(p,B,Q?ue:PS(Te._f)):Ke(B,ue),m.mount&&T()}},q=(B,Q,K,ve,Te)=>{let ue=!1,Ve=!1;const mt={name:B};if(!K||ve){_.isDirty&&(Ve=a.isDirty,a.isDirty=mt.isDirty=ae(),ue=Ve!==mt.isDirty);const Et=Mu(He(h,B),Q);Ve=He(a.dirtyFields,B),Et?Yr(a.dirtyFields,B):Pn(a.dirtyFields,B,!0),mt.dirtyFields=a.dirtyFields,ue=ue||_.dirtyFields&&Ve!==!Et}if(K){const Et=He(a.touchedFields,B);Et||(Pn(a.touchedFields,B,K),mt.touchedFields=a.touchedFields,ue=ue||_.touchedFields&&Et!==K)}return ue&&Te&&A.state.next(mt),ue?mt:{}},te=(B,Q,K,ve)=>{const Te=He(a.errors,B),ue=_.isValid&&qh(Q)&&a.isValid!==Q;if(t.delayError&&K?(k=N(()=>V(B,K)),k(t.delayError)):(clearTimeout(v),k=null,K?Pn(a.errors,B,K):Yr(a.errors,B)),(K?!Mu(Te,K):Te)||!Do(ve)||ue){const Ve={...ve,...ue&&qh(Q)?{isValid:Q}:{},errors:a.errors,name:B};a={...a,...Ve},A.state.next(Ve)}D(!1)},ce=async B=>await r.resolver(p,r.context,vBe(B||b.mount,u,r.criteriaMode,r.shouldUseNativeValidation)),fe=async B=>{const{errors:Q}=await ce();if(B)for(const K of B){const ve=He(Q,K);ve?Pn(a.errors,K,ve):Yr(a.errors,K)}else a.errors=Q;return Q},Be=async(B,Q,K={valid:!0})=>{for(const ve in B){const Te=B[ve];if(Te){const{_f:ue,...Ve}=Te;if(ue){const mt=b.array.has(ue.name),Et=await x$(Te,p,L,r.shouldUseNativeValidation,mt);if(Et[ue.name]&&(K.valid=!1,Q))break;!Q&&(He(Et,ue.name)?mt?gBe(a.errors,Et,ue.name):Pn(a.errors,ue.name,Et[ue.name]):Yr(a.errors,ue.name))}Ve&&await Be(Ve,Q,K)}}return K.valid},re=()=>{for(const B of b.unMount){const Q=He(u,B);Q&&(Q._f.refs?Q._f.refs.every(K=>!IS(K)):!IS(Q._f.ref))&&Re(B)}b.unMount=new Set},ae=(B,Q)=>(B&&Q&&Pn(p,B,Q),!Mu(z(),h)),Ce=(B,Q,K)=>oQ(B,b,{...m.mount?p:fr(Q)?h:Ws(B)?{[B]:Q}:Q},K,Q),xe=B=>Bb(He(m.mount?p:h,B,t.shouldUnregister?He(h,B,[]):[])),Ke=(B,Q,K={})=>{const ve=He(u,B);let Te=Q;if(ve){const ue=ve._f;ue&&(!ue.disabled&&Pn(p,B,hQ(Q,ue)),Te=Xy(ue.ref)&&Ii(Q)?"":Q,lQ(ue.ref)?[...ue.ref.options].forEach(Ve=>Ve.selected=Te.includes(Ve.value)):ue.refs?Lb(ue.ref)?ue.refs.length>1?ue.refs.forEach(Ve=>(!Ve.defaultChecked||!Ve.disabled)&&(Ve.checked=Array.isArray(Te)?!!Te.find(mt=>mt===Ve.value):Te===Ve.value)):ue.refs[0]&&(ue.refs[0].checked=!!Te):ue.refs.forEach(Ve=>Ve.checked=Ve.value===Te):g2(ue.ref)?ue.ref.value="":(ue.ref.value=Te,ue.ref.type||A.watch.next({name:B})))}(K.shouldDirty||K.shouldTouch)&&q(B,Te,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&Y(B)},ze=(B,Q,K)=>{for(const ve in Q){const Te=Q[ve],ue=`${B}.${ve}`,Ve=He(u,ue);(b.array.has(B)||!t_(Te)||Ve&&!Ve._f)&&!Dh(Te)?ze(ue,Te,K):Ke(ue,Te,K)}},pe=(B,Q,K={})=>{const ve=He(u,B),Te=b.array.has(B),ue=Tc(Q);Pn(p,B,ue),Te?(A.array.next({name:B,values:p}),(_.isDirty||_.dirtyFields)&&K.shouldDirty&&A.state.next({name:B,dirtyFields:DS(h,p),isDirty:ae(B,ue)})):ve&&!ve._f&&!Ii(ue)?ze(B,ue,K):Ke(B,ue,K),y$(B,b)&&A.state.next({}),A.watch.next({name:B}),!m.mount&&e()},le=async B=>{const Q=B.target;let K=Q.name;const ve=He(u,K),Te=()=>Q.type?PS(ve._f):eQ(B);if(ve){let ue,Ve;const mt=Te(),Et=B.type===Jy.BLUR||B.type===Jy.FOCUS_OUT,hn=!yBe(ve._f)&&!r.resolver&&!He(a.errors,K)&&!ve._f.deps||_Be(Et,He(a.touchedFields,K),a.isSubmitted,I,E),ne=y$(K,b,Et);Pn(p,K,mt),Et?(ve._f.onBlur&&ve._f.onBlur(B),k&&k(0)):ve._f.onChange&&ve._f.onChange(B);const oe=q(K,mt,Et,!1),me=!Do(oe)||ne;if(!Et&&A.watch.next({name:K,type:B.type}),hn)return _.isValid&&T(),me&&A.state.next({name:K,...ne?{}:oe});if(!Et&&ne&&A.state.next({}),D(!0),r.resolver){const{errors:_e}=await ce([K]),De=S$(a.errors,u,K),Xe=S$(_e,u,De.name||K);ue=Xe.error,K=Xe.name,Ve=Do(_e)}else ue=(await x$(ve,p,L,r.shouldUseNativeValidation))[K],ue?Ve=!1:_.isValid&&(Ve=await Be(u,!0));ve._f.deps&&Y(ve._f.deps),te(K,Ve,ue,oe)}},Y=async(B,Q={})=>{let K,ve;const Te=Tv(B);if(D(!0),r.resolver){const ue=await fe(fr(B)?B:Te);K=Do(ue),ve=B?!Te.some(Ve=>He(ue,Ve)):K}else B?(ve=(await Promise.all(Te.map(async ue=>{const Ve=He(u,ue);return await Be(Ve&&Ve._f?{[ue]:Ve}:Ve)}))).every(Boolean),!(!ve&&!a.isValid)&&T()):ve=K=await Be(u);return A.state.next({...!Ws(B)||_.isValid&&K!==a.isValid?{}:{name:B},...r.resolver||!B?{isValid:K}:{},errors:a.errors,isValidating:!1}),Q.shouldFocus&&!ve&&dD(u,ue=>ue&&He(a.errors,ue),B?Te:b.mount),ve},z=B=>{const Q={...h,...m.mount?p:{}};return fr(B)?Q:Ws(B)?He(Q,B):B.map(K=>He(Q,K))},$=(B,Q)=>({invalid:!!He((Q||a).errors,B),isDirty:!!He((Q||a).dirtyFields,B),isTouched:!!He((Q||a).touchedFields,B),error:He((Q||a).errors,B)}),S=B=>{B&&Tv(B).forEach(Q=>Yr(a.errors,Q)),A.state.next({errors:B?a.errors:{}})},ee=(B,Q,K)=>{const ve=(He(u,B,{_f:{}})._f||{}).ref;Pn(a.errors,B,{...Q,ref:ve}),A.state.next({name:B,errors:a.errors,isValid:!1}),K&&K.shouldFocus&&ve&&ve.focus&&ve.focus()},we=(B,Q)=>Wh(B)?A.watch.subscribe({next:K=>B(Ce(void 0,Q),K)}):Ce(B,Q,!0),Re=(B,Q={})=>{for(const K of B?Tv(B):b.mount)b.mount.delete(K),b.array.delete(K),He(u,K)&&(Q.keepValue||(Yr(u,K),Yr(p,K)),!Q.keepError&&Yr(a.errors,K),!Q.keepDirty&&Yr(a.dirtyFields,K),!Q.keepTouched&&Yr(a.touchedFields,K),!r.shouldUnregister&&!Q.keepDefaultValue&&Yr(h,K));A.watch.next({}),A.state.next({...a,...Q.keepDirty?{isDirty:ae()}:{}}),!Q.keepIsValid&&T()},$e=(B,Q={})=>{let K=He(u,B);const ve=qh(Q.disabled);return Pn(u,B,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:B}},name:B,mount:!0,...Q}}),b.mount.add(B),K?ve&&Pn(p,B,Q.disabled?void 0:He(p,B,PS(K._f))):U(B,!0,Q.value),{...ve?{disabled:Q.disabled}:{},...r.shouldUseNativeValidation?{required:!!Q.required,min:nm(Q.min),max:nm(Q.max),minLength:nm(Q.minLength),maxLength:nm(Q.maxLength),pattern:nm(Q.pattern)}:{},name:B,onChange:le,onBlur:le,ref:Te=>{if(Te){$e(B,Q),K=He(u,B);const ue=fr(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ve=kBe(ue),mt=K._f.refs||[];if(Ve?mt.find(Et=>Et===ue):ue===K._f.ref)return;Pn(u,B,{_f:{...K._f,...Ve?{refs:[...mt.filter(IS),ue,...Array.isArray(He(h,B))?[{}]:[]],ref:{type:ue.type,name:B}}:{ref:ue}}}),U(B,!1,void 0,ue)}else K=He(u,B,{}),K._f&&(K._f.mount=!1),(r.shouldUnregister||Q.shouldUnregister)&&!(tQ(b.array,B)&&m.action)&&b.unMount.add(B)}}},it=()=>r.shouldFocusError&&dD(u,B=>B&&He(a.errors,B),b.mount),Gt=(B,Q)=>async K=>{K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let ve=Tc(p);if(A.state.next({isSubmitting:!0}),r.resolver){const{errors:Te,values:ue}=await ce();a.errors=Te,ve=ue}else await Be(u);Yr(a.errors,"root"),Do(a.errors)?(A.state.next({errors:{}}),await B(ve,K)):(Q&&await Q({...a.errors},K),it()),A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Do(a.errors),submitCount:a.submitCount+1,errors:a.errors})},Dt=(B,Q={})=>{He(u,B)&&(fr(Q.defaultValue)?pe(B,He(h,B)):(pe(B,Q.defaultValue),Pn(h,B,Q.defaultValue)),Q.keepTouched||Yr(a.touchedFields,B),Q.keepDirty||(Yr(a.dirtyFields,B),a.isDirty=Q.defaultValue?ae(B,He(h,B)):ae()),Q.keepError||(Yr(a.errors,B),_.isValid&&T()),A.state.next({...a}))},Ct=(B,Q={})=>{const K=B||h,ve=Tc(K),Te=B&&!Do(B)?ve:h;if(Q.keepDefaultValues||(h=K),!Q.keepValues){if(Q.keepDirtyValues||o)for(const ue of b.mount)He(a.dirtyFields,ue)?Pn(Te,ue,He(p,ue)):pe(ue,He(Te,ue));else{if(p2&&fr(B))for(const ue of b.mount){const Ve=He(u,ue);if(Ve&&Ve._f){const mt=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Xy(mt)){const Et=mt.closest("form");if(Et){Et.reset();break}}}}u={}}p=t.shouldUnregister?Q.keepDefaultValues?Tc(h):{}:ve,A.array.next({values:Te}),A.watch.next({values:Te})}b={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!m.mount&&e(),m.mount=!_.isValid||!!Q.keepIsValid,m.watch=!!t.shouldUnregister,A.state.next({submitCount:Q.keepSubmitCount?a.submitCount:0,isDirty:Q.keepDirty||Q.keepDirtyValues?a.isDirty:!!(Q.keepDefaultValues&&!Mu(B,h)),isSubmitted:Q.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:Q.keepDirty||Q.keepDirtyValues?a.dirtyFields:Q.keepDefaultValues&&B?DS(h,B):{},touchedFields:Q.keepTouched?a.touchedFields:{},errors:Q.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},pt=(B,Q)=>Ct(Wh(B)?B(p):B,Q),lt=(B,Q={})=>{const K=He(u,B),ve=K&&K._f;if(ve){const Te=ve.refs?ve.refs[0]:ve.ref;Te.focus&&(Te.focus(),Q.shouldSelect&&Te.select())}},nt=B=>{a={...a,...B}};return Wh(r.defaultValues)&&r.defaultValues().then(B=>{pt(B,r.resetOptions),A.state.next({isLoading:!1})}),{control:{register:$e,unregister:Re,getFieldState:$,_executeSchema:ce,_focusError:it,_getWatch:Ce,_getDirty:ae,_updateValid:T,_removeUnmounted:re,_updateFieldArray:O,_getFieldArray:xe,_reset:Ct,_updateFormState:nt,_subjects:A,_proxyFormState:_,get _fields(){return u},get _formValues(){return p},get _stateFlags(){return m},set _stateFlags(B){m=B},get _defaultValues(){return h},get _names(){return b},set _names(B){b=B},get _formState(){return a},set _formState(B){a=B},get _options(){return r},set _options(B){r={...r,...B}}},trigger:Y,register:$e,handleSubmit:Gt,watch:we,setValue:pe,getValues:z,reset:pt,resetField:Dt,clearErrors:S,unregister:Re,setError:ee,setFocus:lt,getFieldState:$}}function xBe(t={}){const e=cn.useRef(),[r,o]=cn.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Wh(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...EBe(t,()=>o(u=>({...u}))),formState:r});const a=e.current.control;return a._options=t,f2({subject:a._subjects.state,next:u=>{rQ(u,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),cn.useEffect(()=>{a._stateFlags.mount||(a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()}),cn.useEffect(()=>{t.values&&!Mu(t.values,a._defaultValues)&&a._reset(t.values,a._options.resetOptions)},[t.values,a]),cn.useEffect(()=>{r.submitCount&&a._focusError()},[a,r.submitCount]),e.current.formState=nQ(r,a),e.current}let fQ=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var r_={},SBe={get exports(){return r_},set exports(t){r_=t}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(t,e){(function(r,o){t.exports=o(G)})(self,r=>(()=>{var o={703:(p,m,b)=>{var k=b(414);function v(){}function _(){}_.resetWarningCache=v,p.exports=function(){function A(L,N,T,D,O,V){if(V!==k){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function E(){return A}A.isRequired=A;var I={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:E,element:A,elementType:A,instanceOf:E,node:A,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E,checkPropTypes:_,resetWarningCache:v};return I.PropTypes=I,I}},697:(p,m,b)=>{p.exports=b(703)()},414:p=>{p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:p=>{p.exports=r}},a={};function u(p){var m=a[p];if(m!==void 0)return m.exports;var b=a[p]={exports:{}};return o[p](b,b.exports,u),b.exports}u.n=p=>{var m=p&&p.__esModule?()=>p.default:()=>p;return u.d(m,{a:m}),m},u.d=(p,m)=>{for(var b in m)u.o(m,b)&&!u.o(p,b)&&Object.defineProperty(p,b,{enumerable:!0,get:m[b]})},u.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m),u.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var h={};return(()=>{u.r(h),u.d(h,{CKEditor:()=>ua,CKEditorContext:()=>cc});var p=u(787),m=u.n(p),b=u(697),k=u.n(b);const v=function(P){var M=typeof P;return P!=null&&(M=="object"||M=="function")},_=typeof Gi=="object"&&Gi&&Gi.Object===Object&&Gi;var A=typeof self=="object"&&self&&self.Object===Object&&self;const E=_||A||Function("return this")(),I=function(){return E.Date.now()};var L=/\s/;const N=function(P){for(var M=P.length;M--&&L.test(P.charAt(M)););return M};var T=/^\s+/;const D=function(P){return P&&P.slice(0,N(P)+1).replace(T,"")},O=E.Symbol;var V=Object.prototype,U=V.hasOwnProperty,q=V.toString,te=O?O.toStringTag:void 0;const ce=function(P){var M=U.call(P,te),F=P[te];try{P[te]=void 0;var J=!0}catch{}var Ye=q.call(P);return J&&(M?P[te]=F:delete P[te]),Ye};var fe=Object.prototype.toString;const Be=function(P){return fe.call(P)};var re=O?O.toStringTag:void 0;const ae=function(P){return P==null?P===void 0?"[object Undefined]":"[object Null]":re&&re in Object(P)?ce(P):Be(P)},Ce=function(P){return P!=null&&typeof P=="object"},xe=function(P){return typeof P=="symbol"||Ce(P)&&ae(P)=="[object Symbol]"};var Ke=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,pe=/^0o[0-7]+$/i,le=parseInt;const Y=function(P){if(typeof P=="number")return P;if(xe(P))return NaN;if(v(P)){var M=typeof P.valueOf=="function"?P.valueOf():P;P=v(M)?M+"":M}if(typeof P!="string")return P===0?P:+P;P=D(P);var F=ze.test(P);return F||pe.test(P)?le(P.slice(2),F?2:8):Ke.test(P)?NaN:+P};var z=Math.max,$=Math.min;const S=function(P,M,F){var J,Ye,dt,wt,kt,Bn,Dn=0,Sd=!1,Qo=!1,_o=!0;if(typeof P!="function")throw new TypeError("Expected a function");function ro(mr){var Jo=J,Dd=Ye;return J=Ye=void 0,Dn=mr,wt=P.apply(Dd,Jo)}function Td(mr){return Dn=mr,kt=setTimeout(vi,M),Sd?ro(mr):wt}function zl(mr){var Jo=mr-Bn;return Bn===void 0||Jo>=M||Jo<0||Qo&&mr-Dn>=dt}function vi(){var mr=I();if(zl(mr))return Zo(mr);kt=setTimeout(vi,function(Jo){var Dd=M-(Jo-Bn);return Qo?$(Dd,dt-(Jo-Dn)):Dd}(mr))}function Zo(mr){return kt=void 0,_o&&J?ro(mr):(J=Ye=void 0,wt)}function Id(){var mr=I(),Jo=zl(mr);if(J=arguments,Ye=this,Bn=mr,Jo){if(kt===void 0)return Td(Bn);if(Qo)return clearTimeout(kt),kt=setTimeout(vi,M),ro(Bn)}return kt===void 0&&(kt=setTimeout(vi,M)),wt}return M=Y(M)||0,v(F)&&(Sd=!!F.leading,dt=(Qo="maxWait"in F)?z(Y(F.maxWait)||0,M):dt,_o="trailing"in F?!!F.trailing:_o),Id.cancel=function(){kt!==void 0&&clearTimeout(kt),Dn=0,J=Bn=Ye=kt=void 0},Id.flush=function(){return kt===void 0?wt:Zo(I())},Id},ee=function(P,M,F){var J=!0,Ye=!0;if(typeof P!="function")throw new TypeError("Expected a function");return v(F)&&(J="leading"in F?!!F.leading:J,Ye="trailing"in F?!!F.trailing:Ye),S(P,M,{leading:J,maxWait:M,trailing:Ye})},we=function(){this.__data__=[],this.size=0},Re=function(P,M){return P===M||P!=P&&M!=M},$e=function(P,M){for(var F=P.length;F--;)if(Re(P[F][0],M))return F;return-1};var it=Array.prototype.splice;const Gt=function(P){var M=this.__data__,F=$e(M,P);return!(F<0)&&(F==M.length-1?M.pop():it.call(M,F,1),--this.size,!0)},Dt=function(P){var M=this.__data__,F=$e(M,P);return F<0?void 0:M[F][1]},Ct=function(P){return $e(this.__data__,P)>-1},pt=function(P,M){var F=this.__data__,J=$e(F,P);return J<0?(++this.size,F.push([P,M])):F[J][1]=M,this};function lt(P){var M=-1,F=P==null?0:P.length;for(this.clear();++M<F;){var J=P[M];this.set(J[0],J[1])}}lt.prototype.clear=we,lt.prototype.delete=Gt,lt.prototype.get=Dt,lt.prototype.has=Ct,lt.prototype.set=pt;const nt=lt,B=function(){this.__data__=new nt,this.size=0},Q=function(P){var M=this.__data__,F=M.delete(P);return this.size=M.size,F},K=function(P){return this.__data__.get(P)},ve=function(P){return this.__data__.has(P)},Te=function(P){if(!v(P))return!1;var M=ae(P);return M=="[object Function]"||M=="[object GeneratorFunction]"||M=="[object AsyncFunction]"||M=="[object Proxy]"},ue=E["__core-js_shared__"];var Ve=function(){var P=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}();const mt=function(P){return!!Ve&&Ve in P};var Et=Function.prototype.toString;const hn=function(P){if(P!=null){try{return Et.call(P)}catch{}try{return P+""}catch{}}return""};var ne=/^\[object .+?Constructor\]$/,oe=Function.prototype,me=Object.prototype,_e=oe.toString,De=me.hasOwnProperty,Xe=RegExp("^"+_e.call(De).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Je=function(P){return!(!v(P)||mt(P))&&(Te(P)?Xe:ne).test(hn(P))},ut=function(P,M){return P==null?void 0:P[M]},Ue=function(P,M){var F=ut(P,M);return Je(F)?F:void 0},zt=Ue(E,"Map"),Pe=Ue(Object,"create"),Nt=function(){this.__data__=Pe?Pe(null):{},this.size=0},$r=function(P){var M=this.has(P)&&delete this.__data__[P];return this.size-=M?1:0,M};var Ln=Object.prototype.hasOwnProperty;const Wo=function(P){var M=this.__data__;if(Pe){var F=M[P];return F==="__lodash_hash_undefined__"?void 0:F}return Ln.call(M,P)?M[P]:void 0};var Go=Object.prototype.hasOwnProperty;const un=function(P){var M=this.__data__;return Pe?M[P]!==void 0:Go.call(M,P)},Hr=function(P,M){var F=this.__data__;return this.size+=this.has(P)?0:1,F[P]=Pe&&M===void 0?"__lodash_hash_undefined__":M,this};function Li(P){var M=-1,F=P==null?0:P.length;for(this.clear();++M<F;){var J=P[M];this.set(J[0],J[1])}}Li.prototype.clear=Nt,Li.prototype.delete=$r,Li.prototype.get=Wo,Li.prototype.has=un,Li.prototype.set=Hr;const kn=Li,Cr=function(){this.size=0,this.__data__={hash:new kn,map:new(zt||nt),string:new kn}},Bi=function(P){var M=typeof P;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?P!=="__proto__":P===null},ai=function(P,M){var F=P.__data__;return Bi(M)?F[typeof M=="string"?"string":"hash"]:F.map},Tn=function(P){var M=ai(this,P).delete(P);return this.size-=M?1:0,M},Gn=function(P){return ai(this,P).get(P)},ia=function(P){return ai(this,P).has(P)},ci=function(P,M){var F=ai(this,P),J=F.size;return F.set(P,M),this.size+=F.size==J?0:1,this};function lr(P){var M=-1,F=P==null?0:P.length;for(this.clear();++M<F;){var J=P[M];this.set(J[0],J[1])}}lr.prototype.clear=Cr,lr.prototype.delete=Tn,lr.prototype.get=Gn,lr.prototype.has=ia,lr.prototype.set=ci;const bs=lr,Er=function(P,M){var F=this.__data__;if(F instanceof nt){var J=F.__data__;if(!zt||J.length<199)return J.push([P,M]),this.size=++F.size,this;F=this.__data__=new bs(J)}return F.set(P,M),this.size=F.size,this};function Ko(P){var M=this.__data__=new nt(P);this.size=M.size}Ko.prototype.clear=B,Ko.prototype.delete=Q,Ko.prototype.get=K,Ko.prototype.has=ve,Ko.prototype.set=Er;const zi=Ko,oa=function(P,M){for(var F=-1,J=P==null?0:P.length;++F<J&&M(P[F],F,P)!==!1;);return P},Fi=function(){try{var P=Ue(Object,"defineProperty");return P({},"",{}),P}catch{}}(),Dl=function(P,M,F){M=="__proto__"&&Fi?Fi(P,M,{configurable:!0,enumerable:!0,value:F,writable:!0}):P[M]=F};var ws=Object.prototype.hasOwnProperty;const Pl=function(P,M,F){var J=P[M];ws.call(P,M)&&Re(J,F)&&(F!==void 0||M in P)||Dl(P,M,F)},sa=function(P,M,F,J){var Ye=!F;F||(F={});for(var dt=-1,wt=M.length;++dt<wt;){var kt=M[dt],Bn=J?J(F[kt],P[kt],kt,F,P):void 0;Bn===void 0&&(Bn=P[kt]),Ye?Dl(F,kt,Bn):Pl(F,kt,Bn)}return F},qf=function(P,M){for(var F=-1,J=Array(P);++F<P;)J[F]=M(F);return J},st=function(P){return Ce(P)&&ae(P)=="[object Arguments]"};var W=Object.prototype,Ae=W.hasOwnProperty,Fe=W.propertyIsEnumerable;const Ht=st(function(){return arguments}())?st:function(P){return Ce(P)&&Ae.call(P,"callee")&&!Fe.call(P,"callee")},In=Array.isArray,li=function(){return!1};var tn=e&&!e.nodeType&&e,xr=tn&&!0&&t&&!t.nodeType&&t,fn=xr&&xr.exports===tn?E.Buffer:void 0;const rc=(fn?fn.isBuffer:void 0)||li;var qr=/^(?:0|[1-9]\d*)$/;const zb=function(P,M){var F=typeof P;return!!(M=M??9007199254740991)&&(F=="number"||F!="symbol"&&qr.test(P))&&P>-1&&P%1==0&&P<M},Fb=function(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=9007199254740991};var nn={};nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Arguments]"]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object Boolean]"]=nn["[object DataView]"]=nn["[object Date]"]=nn["[object Error]"]=nn["[object Function]"]=nn["[object Map]"]=nn["[object Number]"]=nn["[object Object]"]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object WeakMap]"]=!1;const jb=function(P){return Ce(P)&&Fb(P.length)&&!!nn[ae(P)]},Wf=function(P){return function(M){return P(M)}};var Gf=e&&!e.nodeType&&e,Ml=Gf&&!0&&t&&!t.nodeType&&t,Nl=Ml&&Ml.exports===Gf&&_.process;const ic=function(){try{var P=Ml&&Ml.require&&Ml.require("util").types;return P||Nl&&Nl.binding&&Nl.binding("util")}catch{}}();var Vb=ic&&ic.isTypedArray;const lA=Vb?Wf(Vb):jb;var Ub=Object.prototype.hasOwnProperty;const $b=function(P,M){var F=In(P),J=!F&&Ht(P),Ye=!F&&!J&&rc(P),dt=!F&&!J&&!Ye&&lA(P),wt=F||J||Ye||dt,kt=wt?qf(P.length,String):[],Bn=kt.length;for(var Dn in P)!M&&!Ub.call(P,Dn)||wt&&(Dn=="length"||Ye&&(Dn=="offset"||Dn=="parent")||dt&&(Dn=="buffer"||Dn=="byteLength"||Dn=="byteOffset")||zb(Dn,Bn))||kt.push(Dn);return kt};var uA=Object.prototype;const Kf=function(P){var M=P&&P.constructor;return P===(typeof M=="function"&&M.prototype||uA)},Wr=function(P,M){return function(F){return P(M(F))}},dA=Wr(Object.keys,Object);var hA=Object.prototype.hasOwnProperty;const fA=function(P){if(!Kf(P))return dA(P);var M=[];for(var F in Object(P))hA.call(P,F)&&F!="constructor"&&M.push(F);return M},oc=function(P){return P!=null&&Fb(P.length)&&!Te(P)},Yf=function(P){return oc(P)?$b(P):fA(P)},Cd=function(P,M){return P&&sa(M,Yf(M),P)},pA=function(P){var M=[];if(P!=null)for(var F in Object(P))M.push(F);return M};var mA=Object.prototype.hasOwnProperty;const gA=function(P){if(!v(P))return pA(P);var M=Kf(P),F=[];for(var J in P)(J!="constructor"||!M&&mA.call(P,J))&&F.push(J);return F},Qf=function(P){return oc(P)?$b(P,!0):gA(P)},bA=function(P,M){return P&&sa(M,Qf(M),P)};var Hb=e&&!e.nodeType&&e,qb=Hb&&!0&&t&&!t.nodeType&&t,Wb=qb&&qb.exports===Hb?E.Buffer:void 0,Gb=Wb?Wb.allocUnsafe:void 0;const wA=function(P,M){if(M)return P.slice();var F=P.length,J=Gb?Gb(F):new P.constructor(F);return P.copy(J),J},sc=function(P,M){var F=-1,J=P.length;for(M||(M=Array(J));++F<J;)M[F]=P[F];return M},Ed=function(P,M){for(var F=-1,J=P==null?0:P.length,Ye=0,dt=[];++F<J;){var wt=P[F];M(wt,F,P)&&(dt[Ye++]=wt)}return dt},Kb=function(){return[]};var kA=Object.prototype.propertyIsEnumerable,Yb=Object.getOwnPropertySymbols;const Zf=Yb?function(P){return P==null?[]:(P=Object(P),Ed(Yb(P),function(M){return kA.call(P,M)}))}:Kb,vA=function(P,M){return sa(P,Zf(P),M)},Qb=function(P,M){for(var F=-1,J=M.length,Ye=P.length;++F<J;)P[Ye+F]=M[F];return P},Jf=Wr(Object.getPrototypeOf,Object),Zb=Object.getOwnPropertySymbols?function(P){for(var M=[];P;)Qb(M,Zf(P)),P=Jf(P);return M}:Kb,yA=function(P,M){return sa(P,Zb(P),M)},Jb=function(P,M,F){var J=M(P);return In(P)?J:Qb(J,F(P))},_A=function(P){return Jb(P,Yf,Zf)},AA=function(P){return Jb(P,Qf,Zb)},Xf=Ue(E,"DataView"),Yo=Ue(E,"Promise"),ep=Ue(E,"Set"),Rl=Ue(E,"WeakMap");var tp="[object Map]",Xb="[object Promise]",ew="[object Set]",tw="[object WeakMap]",nw="[object DataView]",CA=hn(Xf),aa=hn(zt),EA=hn(Yo),xA=hn(ep),SA=hn(Rl),ca=ae;(Xf&&ca(new Xf(new ArrayBuffer(1)))!=nw||zt&&ca(new zt)!=tp||Yo&&ca(Yo.resolve())!=Xb||ep&&ca(new ep)!=ew||Rl&&ca(new Rl)!=tw)&&(ca=function(P){var M=ae(P),F=M=="[object Object]"?P.constructor:void 0,J=F?hn(F):"";if(J)switch(J){case CA:return nw;case aa:return tp;case EA:return Xb;case xA:return ew;case SA:return tw}return M});const np=ca;var TA=Object.prototype.hasOwnProperty;const IA=function(P){var M=P.length,F=new P.constructor(M);return M&&typeof P[0]=="string"&&TA.call(P,"index")&&(F.index=P.index,F.input=P.input),F},rw=E.Uint8Array,rp=function(P){var M=new P.constructor(P.byteLength);return new rw(M).set(new rw(P)),M},DA=function(P,M){var F=M?rp(P.buffer):P.buffer;return new P.constructor(F,P.byteOffset,P.byteLength)};var PA=/\w*$/;const MA=function(P){var M=new P.constructor(P.source,PA.exec(P));return M.lastIndex=P.lastIndex,M};var ks=O?O.prototype:void 0,iw=ks?ks.valueOf:void 0;const Ol=function(P){return iw?Object(iw.call(P)):{}},NA=function(P,M){var F=M?rp(P.buffer):P.buffer;return new P.constructor(F,P.byteOffset,P.length)},Ll=function(P,M,F){var J=P.constructor;switch(M){case"[object ArrayBuffer]":return rp(P);case"[object Boolean]":case"[object Date]":return new J(+P);case"[object DataView]":return DA(P,F);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return NA(P,F);case"[object Map]":case"[object Set]":return new J;case"[object Number]":case"[object String]":return new J(P);case"[object RegExp]":return MA(P);case"[object Symbol]":return Ol(P)}};var ow=Object.create;const RA=function(){function P(){}return function(M){if(!v(M))return{};if(ow)return ow(M);P.prototype=M;var F=new P;return P.prototype=void 0,F}}(),OA=function(P){return typeof P.constructor!="function"||Kf(P)?{}:RA(Jf(P))},LA=function(P){return Ce(P)&&np(P)=="[object Map]"};var sw=ic&&ic.isMap;const BA=sw?Wf(sw):LA,zA=function(P){return Ce(P)&&np(P)=="[object Set]"};var aw=ic&&ic.isSet;const FA=aw?Wf(aw):zA;var cw="[object Arguments]",lw="[object Function]",uw="[object Object]",rn={};rn[cw]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object DataView]"]=rn["[object Boolean]"]=rn["[object Date]"]=rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Map]"]=rn["[object Number]"]=rn[uw]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object Symbol]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Error]"]=rn[lw]=rn["[object WeakMap]"]=!1;const jA=function P(M,F,J,Ye,dt,wt){var kt,Bn=1&F,Dn=2&F,Sd=4&F;if(J&&(kt=dt?J(M,Ye,dt,wt):J(M)),kt!==void 0)return kt;if(!v(M))return M;var Qo=In(M);if(Qo){if(kt=IA(M),!Bn)return sc(M,kt)}else{var _o=np(M),ro=_o==lw||_o=="[object GeneratorFunction]";if(rc(M))return wA(M,Bn);if(_o==uw||_o==cw||ro&&!dt){if(kt=Dn||ro?{}:OA(M),!Bn)return Dn?yA(M,bA(kt,M)):vA(M,Cd(kt,M))}else{if(!rn[_o])return dt?M:{};kt=Ll(M,_o,Bn)}}wt||(wt=new zi);var Td=wt.get(M);if(Td)return Td;wt.set(M,kt),FA(M)?M.forEach(function(vi){kt.add(P(vi,F,J,vi,M,wt))}):BA(M)&&M.forEach(function(vi,Zo){kt.set(Zo,P(vi,F,J,Zo,M,wt))});var zl=Qo?void 0:(Sd?Dn?AA:_A:Dn?Qf:Yf)(M);return oa(zl||M,function(vi,Zo){zl&&(vi=M[Zo=vi]),Pl(kt,Zo,P(vi,F,J,Zo,M,wt))}),kt},VA=function(P,M){return jA(P,5,M=typeof M=="function"?M:void 0)};var UA=Function.prototype,ac=Object.prototype,ip=UA.toString,$A=ac.hasOwnProperty,HA=ip.call(Object);const qA=function(P){if(!Ce(P)||ae(P)!="[object Object]")return!1;var M=Jf(P);if(M===null)return!0;var F=$A.call(M,"constructor")&&M.constructor;return typeof F=="function"&&F instanceof F&&ip.call(F)==HA},WA=function(P){return Ce(P)&&P.nodeType===1&&!qA(P)};function op(P,M=new Set){const F=[P],J=new Set;let Ye=0;for(;F.length>Ye;){const dt=F[Ye++];if(!(J.has(dt)||xd(dt)||M.has(dt)))if(J.add(dt),dt[Symbol.iterator])try{for(const wt of dt)F.push(wt)}catch{}else for(const wt in dt)wt!=="defaultValue"&&F.push(dt[wt])}return J}function xd(P){const M=Object.prototype.toString.call(P),F=typeof P;return F==="number"||F==="boolean"||F==="string"||F==="symbol"||F==="function"||M==="[object Date]"||M==="[object RegExp]"||M==="[object Module]"||P==null||P._watchdogExcluded===!0||P instanceof EventTarget||P instanceof Event}function dw(P,M,F=new Set){if(P===M&&typeof(J=P)=="object"&&J!==null)return!0;var J;const Ye=op(P,F),dt=op(M,F);for(const wt of Ye)if(dt.has(wt))return!0;return!1}class hw{constructor(M){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof M.crashNumberLimit=="number"?M.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof M.minimumNonErrorTimePeriod=="number"?M.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=F=>{const J=F.error||F.reason;J instanceof Error&&this._handleError(J,F)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(M){this._creator=M}setDestructor(M){this._destructor=M}destroy(){this._stopErrorHandling(),this._listeners={}}on(M,F){this._listeners[M]||(this._listeners[M]=[]),this._listeners[M].push(F)}off(M,F){this._listeners[M]=this._listeners[M].filter(J=>J!==F)}_fire(M,...F){const J=this._listeners[M]||[];for(const Ye of J)Ye.apply(this,[null,...F])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(M,F){if(this._shouldReactToError(M)){this.crashes.push({message:M.message,stack:M.stack,filename:F.filename,lineno:F.lineno,colno:F.colno,date:this._now()});const J=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:M,causesRestart:J}),J?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(M){return M.is&&M.is("CKEditorError")&&M.context!==void 0&&M.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(M)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class fw extends hw{constructor(M,F={}){super(F),this._editor=null,this._throttledSave=ee(this._save.bind(this),typeof F.saveInterval=="number"?F.saveInterval:5e3),this._creator=(J,Ye)=>M.create(J,Ye),this._destructor=J=>J.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(M=>{console.error("An error happened during the editor destroying.",M)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const M=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,M,M.context)}}).then(()=>{this._fire("restart")})}create(M=this._elementOrData,F=this._config,J){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=M,this._config=this._cloneEditorConfiguration(F)||{},this._config.context=J,this._creator(M,this._config))).then(Ye=>{this._editor=Ye,Ye.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Ye.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const M=this._editor;return this._editor=null,M.model.document.off("change:data",this._throttledSave),this._destructor(M)})}_save(){const M=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=M}catch(F){console.error(F,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(M){this._excludedProps=M}_getData(){const M={};for(const F of this._editor.model.document.getRootNames())M[F]=this._editor.data.get({rootName:F});return M}_isErrorComingFromThisItem(M){return dw(this._editor,M.context,this._excludedProps)}_cloneEditorConfiguration(M){return VA(M,(F,J)=>WA(F)||J==="context"?F:void 0)}}const Sr=new Array(256).fill("").map((P,M)=>("0"+M.toString(16)).slice(-2)),Bl=Symbol("MainQueueId");class pw extends hw{constructor(M,F={}){super(F),this._watchdogs=new Map,this._watchdogConfig=F,this._context=null,this._contextProps=new Set,this._actionQueues=new GA,this._creator=J=>M.create(J),this._destructor=J=>J.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(M={}){return this._actionQueues.enqueue(Bl,()=>(this._contextConfig=M,this._create()))}getItem(M){return this._getWatchdog(M)._item}getItemState(M){return this._getWatchdog(M).state}add(M){const F=mw(M);return Promise.all(F.map(J=>this._actionQueues.enqueue(J.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Ye;if(this._watchdogs.has(J.id))throw new Error(`Item with the given id is already added: '${J.id}'.`);if(J.type==="editor")return Ye=new fw(this._watchdogConfig),Ye.setCreator(J.creator),Ye._setExcludedProperties(this._contextProps),J.destructor&&Ye.setDestructor(J.destructor),this._watchdogs.set(J.id,Ye),Ye.on("error",(dt,{error:wt,causesRestart:kt})=>{this._fire("itemError",{itemId:J.id,error:wt}),kt&&this._actionQueues.enqueue(J.id,()=>new Promise(Bn=>{Ye.on("restart",function Dn(){Ye.off("restart",Dn),this._fire("itemRestart",{itemId:J.id}),Bn()}.bind(this))}))}),Ye.create(J.sourceElementOrData,J.config,this._context);throw new Error(`Not supported item type: '${J.type}'.`)})))}remove(M){const F=mw(M);return Promise.all(F.map(J=>this._actionQueues.enqueue(J,()=>{const Ye=this._getWatchdog(J);return this._watchdogs.delete(J),Ye.destroy()})))}destroy(){return this._actionQueues.enqueue(Bl,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Bl,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(M=>{console.error("An error happened during destroying the context or items.",M)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(M=>(this._context=M,this._contextProps=op(this._context),Promise.all(Array.from(this._watchdogs.values()).map(F=>(F._setExcludedProperties(this._contextProps),F.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const M=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(F=>F.destroy())).then(()=>this._destructor(M))})}_getWatchdog(M){const F=this._watchdogs.get(M);if(!F)throw new Error(`Item with the given id was not registered: ${M}.`);return F}_isErrorComingFromThisItem(M){for(const F of this._watchdogs.values())if(F._isErrorComingFromThisItem(M))return!1;return dw(this._context,M.context)}}class GA{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(M){this._onEmptyCallbacks.push(M)}enqueue(M,F){const J=M===Bl;this._activeActions++,this._queues.get(M)||this._queues.set(M,Promise.resolve());const Ye=(J?Promise.all(this._queues.values()):Promise.all([this._queues.get(Bl),this._queues.get(M)])).then(F),dt=Ye.catch(()=>{});return this._queues.set(M,dt),Ye.finally(()=>{this._activeActions--,this._queues.get(M)===dt&&this._activeActions===0&&this._onEmptyCallbacks.forEach(wt=>wt())})}}function mw(P){return Array.isArray(P)?P:[P]}const la=m().createContext("contextWatchdog");class cc extends m().Component{constructor(M,F){super(M,F),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(M){return M.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(M.config)),M.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(M.config),!0):this.props.children!==M.children}render(){return m().createElement(la.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(M){this.contextWatchdog=new pw(this.props.context),this.contextWatchdog.on("error",(F,J)=>{this.props.onError(J.error,{phase:"runtime",willContextRestart:J.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(M).catch(F=>{this.props.onError(F,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}cc.defaultProps={isLayoutReady:!0,onError:(P,M)=>console.error(P,M)},cc.propTypes={id:k().string,isLayoutReady:k().bool,context:k().func,config:k().object,onReady:k().func,onError:k().func};const sp="Lock from React integration (@ckeditor/ckeditor5-react)";class ua extends m().Component{constructor(M){super(M),this.editorDestructionInProgress=null,this.domContainer=m().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:F}=window;if(F){const[J]=F.split(".").map(Number);J<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(M){return!!this.editor&&(M.id!==this.props.id||(this._shouldUpdateEditor(M)&&this.editor.setData(M.data),"disabled"in M&&(M.disabled?this.editor.enableReadOnlyMode(sp):this.editor.disableReadOnlyMode(sp)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return m().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof pw?this.watchdog=new KA(this.context):this.watchdog=new ua._EditorWatchdog(this.props.editor),this.watchdog.setCreator((M,F)=>this._createEditor(M,F)),this.watchdog.on("error",(M,{error:F,causesRestart:J})=>{this.props.onError(F,{phase:"runtime",willEditorRestart:J})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(M=>this.props.onError(M,{phase:"initialization",willEditorRestart:!1})))}_createEditor(M,F){return this.props.editor.create(M,F).then(J=>{"disabled"in this.props&&this.props.disabled&&J.enableReadOnlyMode(sp);const Ye=J.model.document,dt=J.editing.view.document;return Ye.on("change:data",wt=>{this.props.onChange&&this.props.onChange(wt,J)}),dt.on("focus",wt=>{this.props.onFocus&&this.props.onFocus(wt,J)}),dt.on("blur",wt=>{this.props.onBlur&&this.props.onBlur(wt,J)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(J)}),J})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(M=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,M()}):M()})})}_shouldUpdateEditor(M){return this.props.data!==M.data&&this.editor.getData()!==M.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class KA{constructor(M){this._contextWatchdog=M,this._id=function(){const F=4294967296*Math.random()>>>0,J=4294967296*Math.random()>>>0,Ye=4294967296*Math.random()>>>0,dt=4294967296*Math.random()>>>0;return"e"+Sr[F>>0&255]+Sr[F>>8&255]+Sr[F>>16&255]+Sr[F>>24&255]+Sr[J>>0&255]+Sr[J>>8&255]+Sr[J>>16&255]+Sr[J>>24&255]+Sr[Ye>>0&255]+Sr[Ye>>8&255]+Sr[Ye>>16&255]+Sr[Ye>>24&255]+Sr[dt>>0&255]+Sr[dt>>8&255]+Sr[dt>>16&255]+Sr[dt>>24&255]}()}setCreator(M){this._creator=M}create(M,F){return this._contextWatchdog.add({sourceElementOrData:M,config:F,creator:this._creator,id:this._id,type:"editor"})}on(M,F){this._contextWatchdog.on("itemError",(J,{itemId:Ye,causesRestart:dt,error:wt})=>{Ye===this._id&&F(null,{error:wt,causesRestart:dt})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}ua.contextType=la,ua.propTypes={editor:k().func.isRequired,data:k().string,config:k().object,onChange:k().func,onReady:k().func,onFocus:k().func,onBlur:k().func,onError:k().func,disabled:k().bool,onInit:(P,M)=>{if(P[M])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},ua.defaultProps={config:{},onError:(P,M)=>console.error(P,M)},ua._EditorWatchdog=fw})(),h})())})(SBe,r_);var i_={},TBe={get exports(){return i_},set exports(t){i_=t}};(function(t,e){(function(r){const o=r.ko=r.ko||{};o.dictionary=Object.assign(o.dictionary||{},{"%0 of %1":"%0 / %1",Aquamarine:" ",Big:"",Black:"","Block quote":" ",Blue:"",Bold:"","Break text":" ","Bulleted List":" ",Cancel:"","Cannot determine a category for the uploaded file.":"     .","Cannot upload file:":"   : ","Caption for image: %0":" : %0","Caption for the image":" ","Centered image":" ","Change image text alternative":"  ","Choose heading":" ",Code:"",Column:"","Decrease indent":" ",Default:"","Delete column":" ","Delete row":" ","Dim grey":" ","Document colors":" ",Downloadable:" ","Dropdown toolbar":" ","Edit block":" ","Edit link":" ","Editor block content toolbar":"   ","Editor contextual toolbar":"  ","Editor editing area: %0":"  : %0","Editor toolbar":" ","Enter image caption":"  ","Font Color":" ","Font Size":" ","Full size image":"  ",Green:"",Grey:"","Header column":" ","Header row":" ",Heading:"","Heading 1":" 1","Heading 2":" 2","Heading 3":" 3","Heading 4":" 4","Heading 5":" 5","Heading 6":" 6",Huge:" ","Image resize list":"  ","Image toolbar":" ","image widget":" ","In line":" ","Increase indent":" ","Insert code block":"  ","Insert column left":"  ","Insert column right":"  ","Insert image":" ","Insert media":" ","Insert paragraph after block":"   ","Insert paragraph before block":"   ","Insert row above":"  ","Insert row below":"  ","Insert table":" ",Italic:"","Left aligned image":" ","Light blue":" ","Light green":" ","Light grey":" ",Link:"","Link URL":" ","Media URL":" URL","media widget":" ","Merge cell down":"  ","Merge cell left":"  ","Merge cell right":"  ","Merge cell up":"  ","Merge cells":" ",Next:"","Numbered List":" ","Open file manager":"  ","Open in a new tab":"  ","Open link in new tab":"   ","Open media in new tab":"   ",Orange:"",Original:"",Paragraph:"","Paste the media URL in the input.":" URL .","Plain text":"","Press Enter to type after or press Shift + Enter to type before the widget":"      +     ",Previous:"",Purple:"",Red:"",Redo:" ","Remove color":" ","Resize image":"  ","Resize image to %0":"  %0 ","Resize image to the original size":"   ","Rich Text Editor":"   ","Right aligned image":" ",Row:"",Save:"","Select all":" ","Select column":" ","Select row":" ","Show more items":"","Side image":"  ",Small:"","Split cell horizontally":"  ","Split cell vertically":"  ","Table toolbar":"  ","Text alternative":" ","The URL must not be empty.":"URL   .","This link has no URL":"  URL .","This media URL is not supported.":"  URL  .",Tiny:" ","Tip: Paste the URL into the content to embed faster.":": URL      .","Toggle caption off":" ","Toggle caption on":" ",Turquoise:"",Undo:" ",Unlink:" ","Upload failed":" ","Upload in progress":"  ",White:"","Widget toolbar":" ","Wrap text":"  ",Yellow:""}),o.getPluralForm=function(a){return 0}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(o,a){t.exports=a()})(self,()=>(()=>{var r={8180:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const E=A},636:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const E=A},390:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const E=A},9085:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css"],names:[],mappings:"AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content pre {
	padding: 1em;
	color: hsl(0, 0%, 20.8%);
	background: hsla(0, 0%, 78%, 0.3);
	border: 1px solid hsl(0, 0%, 77%);
	border-radius: 2px;

	/* Code block are language directionagnostic. */
	text-align: left;
	direction: ltr;

	tab-size: 4;
	white-space: pre-wrap;

	/* Don't inherit the style, e.g. when in a block quote. */
	font-style: normal;

	/* Don't let the code be squashed e.g. when in a table cell. */
	min-width: 200px;

	& code {
		background: unset;
		padding: 0;
		border-radius: 0;
	}
}

.ck.ck-editor__editable pre {
	position: relative;

	&[data-language]::after {
		content: attr(data-language);
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-code-block-label-background: hsl(0, 0%, 46%);
}

.ck.ck-editor__editable pre[data-language]::after {
	top: -1px;
	right: 10px;
	background: var(--ck-color-code-block-label-background);

	font-size: 10px;
	font-family: var(--ck-font-face);
	line-height: 16px;
	padding: var(--ck-spacing-tiny) var(--ck-spacing-medium);
	color: hsl(0, 0%, 100%);
	white-space: nowrap;
}

.ck.ck-code-block-dropdown .ck-dropdown__panel {
	/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */
	max-height: 250px;
	overflow-y: auto;
	overflow-x: hidden;
}
`],sourceRoot:""}]);const E=A},3638:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},8894:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const E=A},4401:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const E=A},2585:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css"],names:[],mappings:"AAKA,4CAEC,kBAAmB,CADnB,YAAa,CAEb,UACD,CAEA,8BACC,iBACD,CCNA,4CAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-button.ck-color-table__remove-color {
	display: flex;
	align-items: center;
	width: 100%;
}

label.ck.ck-color-grid__label {
	font-weight: unset;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck .ck-button.ck-color-table__remove-color {
	padding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;

	&:not(:focus) {
		border-bottom: 1px solid var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-standard);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-standard);
		}
	}
}

`],sourceRoot:""}]);const E=A},6203:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */

/* Styles should be prefixed with the \`.ck-content\` class.
See https://github.com/ckeditor/ckeditor5/issues/6636 */
.ck-content {
	& .text-tiny {
		font-size: .7em;
	}

	& .text-small {
		font-size: .85em;
	}

	& .text-big {
		font-size: 1.4em;
	}

	& .text-huge {
		font-size: 1.8em;
	}
}
`],sourceRoot:""}]);const E=A},3230:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const E=A},9048:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const E=A},8662:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const E=A},1043:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const E=A},4622:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},9899:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const E=A},9825:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const E=A},5870:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const E=A},6831:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},399:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const E=A},9465:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},4827:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},9989:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},5777:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const E=A},952:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},3525:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},8085:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const E=A},4104:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const E=A},4777:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const E=A},5593:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},4499:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=A},9681:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const E=A},4923:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const E=A},3488:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},6875:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},66:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},5075:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const E=A},4547:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},5523:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const E=A},1174:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},6985:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},2751:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const E=A},8111:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},1162:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},8245:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},1757:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const E=A},3553:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},3609:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},1590:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const E=A},6706:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const E=A},5571:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const E=A},9948:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const E=A},6150:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const E=A},6507:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const E=A},2263:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const E=A},5137:(h,p,m)=>{m.d(p,{Z:()=>E});var b=m(4015),k=m.n(b),v=m(3645),_=m.n(v),A=_()(k());A.push([h.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const E=A},3645:h=>{h.exports=function(p){var m=[];return m.toString=function(){return this.map(function(k){var v=p(k);return k[2]?"@media ".concat(k[2]," {").concat(v,"}"):v}).join("")},m.i=function(b,k,v){typeof b=="string"&&(b=[[null,b,""]]);var _={};if(v)for(var A=0;A<this.length;A++){var E=this[A][0];E!=null&&(_[E]=!0)}for(var I=0;I<b.length;I++){var L=[].concat(b[I]);v&&_[L[0]]||(k&&(L[2]?L[2]="".concat(k," and ").concat(L[2]):L[2]=k),m.push(L))}},m}},4015:h=>{function p(A,E){return _(A)||v(A,E)||b(A,E)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(A,E){if(A){if(typeof A=="string")return k(A,E);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return k(A,E)}}function k(A,E){(E==null||E>A.length)&&(E=A.length);for(var I=0,L=new Array(E);I<E;I++)L[I]=A[I];return L}function v(A,E){var I=A&&(typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"]);if(I!=null){var L=[],N=!0,T=!1,D,O;try{for(I=I.call(A);!(N=(D=I.next()).done)&&(L.push(D.value),!(E&&L.length===E));N=!0);}catch(V){T=!0,O=V}finally{try{!N&&I.return!=null&&I.return()}finally{if(T)throw O}}return L}}function _(A){if(Array.isArray(A))return A}h.exports=function(E){var I=p(E,4),L=I[1],N=I[3];if(!N)return L;if(typeof btoa=="function"){var T=btoa(unescape(encodeURIComponent(JSON.stringify(N)))),D="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(T),O="/*# ".concat(D," */"),V=N.sources.map(function(U){return"/*# sourceURL=".concat(N.sourceRoot||"").concat(U," */")});return[L].concat(V).concat([O]).join(`
`)}return[L].join(`
`)}},3379:(h,p,m)=>{var b=function(){var q;return function(){return typeof q>"u"&&(q=Boolean(window&&document&&document.all&&!window.atob)),q}}(),k=function(){var q={};return function(ce){if(typeof q[ce]>"u"){var fe=document.querySelector(ce);if(window.HTMLIFrameElement&&fe instanceof window.HTMLIFrameElement)try{fe=fe.contentDocument.head}catch{fe=null}q[ce]=fe}return q[ce]}}(),v=[];function _(U){for(var q=-1,te=0;te<v.length;te++)if(v[te].identifier===U){q=te;break}return q}function A(U,q){for(var te={},ce=[],fe=0;fe<U.length;fe++){var Be=U[fe],re=q.base?Be[0]+q.base:Be[0],ae=te[re]||0,Ce="".concat(re," ").concat(ae);te[re]=ae+1;var xe=_(Ce),Ke={css:Be[1],media:Be[2],sourceMap:Be[3]};xe!==-1?(v[xe].references++,v[xe].updater(Ke)):v.push({identifier:Ce,updater:V(Ke,q),references:1}),ce.push(Ce)}return ce}function E(U){var q=document.createElement("style"),te=U.attributes||{};if(typeof te.nonce>"u"){var ce=m.nc;ce&&(te.nonce=ce)}if(Object.keys(te).forEach(function(Be){q.setAttribute(Be,te[Be])}),typeof U.insert=="function")U.insert(q);else{var fe=k(U.insert||"head");if(!fe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");fe.appendChild(q)}return q}function I(U){if(U.parentNode===null)return!1;U.parentNode.removeChild(U)}var L=function(){var q=[];return function(ce,fe){return q[ce]=fe,q.filter(Boolean).join(`
`)}}();function N(U,q,te,ce){var fe=te?"":ce.media?"@media ".concat(ce.media," {").concat(ce.css,"}"):ce.css;if(U.styleSheet)U.styleSheet.cssText=L(q,fe);else{var Be=document.createTextNode(fe),re=U.childNodes;re[q]&&U.removeChild(re[q]),re.length?U.insertBefore(Be,re[q]):U.appendChild(Be)}}function T(U,q,te){var ce=te.css,fe=te.media,Be=te.sourceMap;if(fe?U.setAttribute("media",fe):U.removeAttribute("media"),Be&&typeof btoa<"u"&&(ce+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Be))))," */")),U.styleSheet)U.styleSheet.cssText=ce;else{for(;U.firstChild;)U.removeChild(U.firstChild);U.appendChild(document.createTextNode(ce))}}var D=null,O=0;function V(U,q){var te,ce,fe;if(q.singleton){var Be=O++;te=D||(D=E(q)),ce=N.bind(null,te,Be,!1),fe=N.bind(null,te,Be,!0)}else te=E(q),ce=T.bind(null,te,q),fe=function(){I(te)};return ce(U),function(ae){if(ae){if(ae.css===U.css&&ae.media===U.media&&ae.sourceMap===U.sourceMap)return;ce(U=ae)}else fe()}}h.exports=function(U,q){q=q||{},!q.singleton&&typeof q.singleton!="boolean"&&(q.singleton=b()),U=U||[];var te=A(U,q);return function(fe){if(fe=fe||[],Object.prototype.toString.call(fe)==="[object Array]"){for(var Be=0;Be<te.length;Be++){var re=te[Be],ae=_(re);v[ae].references--}for(var Ce=A(fe,q),xe=0;xe<te.length;xe++){var Ke=te[xe],ze=_(Ke);v[ze].references===0&&(v[ze].updater(),v.splice(ze,1))}te=Ce}}}}},o={};function a(h){var p=o[h];if(p!==void 0)return p.exports;var m=o[h]={id:h,exports:{}};return r[h](m,m.exports,a),m.exports}a.n=h=>{var p=h&&h.__esModule?()=>h.default:()=>h;return a.d(p,{a:p}),p},a.d=(h,p)=>{for(var m in p)a.o(p,m)&&!a.o(h,m)&&Object.defineProperty(h,m,{enumerable:!0,get:p[m]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(h,p)=>Object.prototype.hasOwnProperty.call(h,p),a.nc=void 0;var u={};return(()=>{a.d(u,{default:()=>Nme});function h({emitter:c,activator:n,callback:i,contextElements:s}){c.listenTo(document,"mousedown",(l,d)=>{if(!n())return;const f=typeof d.composedPath=="function"?d.composedPath():[],g=typeof s=="function"?s():s;for(const w of g)if(w.contains(d.target)||f.includes(w))return;i()})}function p(c){const n=c;n.set("_isCssTransitionsDisabled",!1),n.disableCssTransitions=()=>{n._isCssTransitionsDisabled=!0},n.enableCssTransitions=()=>{n._isCssTransitionsDisabled=!1},n.extendTemplate({attributes:{class:[n.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function m({view:c}){c.listenTo(c.element,"submit",(n,i)=>{i.preventDefault(),c.fire("submit")},{useCapture:!0})}function b({keystrokeHandler:c,focusTracker:n,gridItems:i,numberOfColumns:s,uiLanguageDirection:l}){const d=typeof s=="number"?()=>s:s;c.set("arrowright",f((y,C)=>l==="rtl"?w(y,C.length):g(y,C.length))),c.set("arrowleft",f((y,C)=>l==="rtl"?g(y,C.length):w(y,C.length))),c.set("arrowup",f((y,C)=>{let x=y-d();return x<0&&(x=y+d()*Math.floor(C.length/d()),x>C.length-1&&(x-=d())),x})),c.set("arrowdown",f((y,C)=>{let x=y+d();return x>C.length-1&&(x=y%d()),x}));function f(y){return C=>{const x=i.find(H=>H.element===n.focusedElement),R=i.getIndex(x),j=y(R,i);i.get(j).focus(),C.stopPropagation(),C.preventDefault()}}function g(y,C){return y===C-1?0:y+1}function w(y,C){return y===0?C-1:y-1}}function k(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const v=k(),A={isMac:E(v),isWindows:I(v),isGecko:L(v),isSafari:N(v),isiOS:T(v),isAndroid:D(v),isBlink:O(v),features:{isRegExpUnicodePropertySupported:V()}};function E(c){return c.indexOf("macintosh")>-1}function I(c){return c.indexOf("windows")>-1}function L(c){return!!c.match(/gecko\/\d+/)}function N(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}function T(c){return!!c.match(/iphone|ipad/i)||E(c)&&navigator.maxTouchPoints>0}function D(c){return c.indexOf("android")>-1}function O(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}function V(){let c=!1;try{c="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}function U(c,n,i,s){i=i||function(w,y){return w===y};const l=Array.isArray(c)?c:Array.prototype.slice.call(c),d=Array.isArray(n)?n:Array.prototype.slice.call(n),f=q(l,d,i);return s?Be(f,d.length):fe(d,f)}function q(c,n,i){const s=te(c,n,i);if(s===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const l=ce(c,s),d=ce(n,s),f=te(l,d,i),g=c.length-f,w=n.length-f;return{firstIndex:s,lastIndexOld:g,lastIndexNew:w}}function te(c,n,i){for(let s=0;s<Math.max(c.length,n.length);s++)if(c[s]===void 0||n[s]===void 0||!i(c[s],n[s]))return s;return-1}function ce(c,n){return c.slice(n).reverse()}function fe(c,n){const i=[],{firstIndex:s,lastIndexOld:l,lastIndexNew:d}=n;return d-s>0&&i.push({index:s,type:"insert",values:c.slice(s,d)}),l-s>0&&i.push({index:s+(d-s),type:"delete",howMany:l-s}),i}function Be(c,n){const{firstIndex:i,lastIndexOld:s,lastIndexNew:l}=c;if(i===-1)return Array(n).fill("equal");let d=[];return i>0&&(d=d.concat(Array(i).fill("equal"))),l-i>0&&(d=d.concat(Array(l-i).fill("insert"))),s-i>0&&(d=d.concat(Array(s-i).fill("delete"))),l<n&&(d=d.concat(Array(n-l).fill("equal"))),d}function re(c,n,i){i=i||function(Z,de){return Z===de};const s=c.length,l=n.length;if(s>200||l>200||s+l>300)return re.fastDiff(c,n,i,!0);let d,f;if(l<s){const Z=c;c=n,n=Z,d="delete",f="insert"}else d="insert",f="delete";const g=c.length,w=n.length,y=w-g,C={},x={};function R(Z){const de=(x[Z-1]!==void 0?x[Z-1]:-1)+1,Me=x[Z+1]!==void 0?x[Z+1]:-1,je=de>Me?-1:1;C[Z+je]&&(C[Z]=C[Z+je].slice(0)),C[Z]||(C[Z]=[]),C[Z].push(de>Me?d:f);let Ot=Math.max(de,Me),gn=Ot-Z;for(;gn<g&&Ot<w&&i(c[gn],n[Ot]);)gn++,Ot++,C[Z].push("equal");return Ot}let j=0,H;do{for(H=-j;H<y;H++)x[H]=R(H);for(H=y+j;H>y;H--)x[H]=R(H);x[y]=R(y),j++}while(x[y]!==w);return C[y].slice(1)}re.fastDiff=U;function ae(c,...n){n.forEach(i=>{const s=Object.getOwnPropertyNames(i),l=Object.getOwnPropertySymbols(i);s.concat(l).forEach(d=>{if(d in c.prototype||typeof i=="function"&&(d=="length"||d=="name"||d=="prototype"))return;const f=Object.getOwnPropertyDescriptor(i,d);f.enumerable=!1,Object.defineProperty(c.prototype,d,f)})})}function Ce(){return function c(){c.called=!0}}const xe=Ce;class Ke{constructor(n,i){this.source=n,this.name=i,this.path=[],this.stop=xe(),this.off=xe()}}const ze=new Array(256).fill("").map((c,n)=>("0"+n.toString(16)).slice(-2));function pe(){const c=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0,s=Math.random()*4294967296>>>0;return"e"+ze[c>>0&255]+ze[c>>8&255]+ze[c>>16&255]+ze[c>>24&255]+ze[n>>0&255]+ze[n>>8&255]+ze[n>>16&255]+ze[n>>24&255]+ze[i>>0&255]+ze[i>>8&255]+ze[i>>16&255]+ze[i>>24&255]+ze[s>>0&255]+ze[s>>8&255]+ze[s>>16&255]+ze[s>>24&255]}const Y={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function z(c,n){const i=Y.get(n.priority);for(let s=0;s<c.length;s++)if(Y.get(c[s].priority)<i){c.splice(s,0,n);return}c.push(n)}const $="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class S extends Error{constructor(n,i,s){super($e(n,s)),this.name="CKEditorError",this.context=i,this.data=s}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,i){if(n.is&&n.is("CKEditorError"))throw n;const s=new S(n.message,i);throw s.stack=n.stack,s}}function ee(c,n){console.warn(...it(c,n))}function we(c,n){console.error(...it(c,n))}function Re(c){return`
Read more: ${$}#error-${c}`}function $e(c,n){const i=new WeakSet,l=n?` ${JSON.stringify(n,(f,g)=>{if(typeof g=="object"&&g!==null){if(i.has(g))return`[object ${g.constructor.name}]`;i.add(g)}return g})}`:"",d=Re(c);return c+l+d}function it(c,n){const i=Re(c);return n?[c,n,i]:[c,i]}const Gt="36.0.1",Dt=typeof window=="object"?window:a.g;if(Dt.CKEDITOR_VERSION)throw new S("ckeditor-duplicated-modules",null);Dt.CKEDITOR_VERSION=Gt;const Ct=Symbol("listeningTo"),pt=Symbol("emitterId"),lt=Symbol("delegations"),nt=B(Object);function B(c){if(!c)return nt;class n extends c{on(s,l,d){this.listenTo(this,s,l,d)}once(s,l,d){let f=!1;const g=(w,...y)=>{f||(f=!0,w.off(),l.call(this,w,...y))};this.listenTo(this,s,g,d)}off(s,l){this.stopListening(this,s,l)}listenTo(s,l,d,f={}){let g,w;this[Ct]||(this[Ct]={});const y=this[Ct];ve(s)||K(s);const C=ve(s);(g=y[C])||(g=y[C]={emitter:s,callbacks:{}}),(w=g.callbacks[l])||(w=g.callbacks[l]=[]),w.push(d),ne(this,s,l,d,f)}stopListening(s,l,d){const f=this[Ct];let g=s&&ve(s);const w=f&&g?f[g]:void 0,y=w&&l?w.callbacks[l]:void 0;if(!(!f||s&&!w||l&&!y))if(d)oe(this,s,l,d),y.indexOf(d)!==-1&&(y.length===1?delete w.callbacks[l]:oe(this,s,l,d));else if(y){for(;d=y.pop();)oe(this,s,l,d);delete w.callbacks[l]}else if(w){for(l in w.callbacks)this.stopListening(s,l);delete f[g]}else{for(g in f)this.stopListening(f[g].emitter);delete this[Ct]}}fire(s,...l){try{const d=s instanceof Ke?s:new Ke(this,s),f=d.name;let g=Et(this,f);if(d.path.push(this),g){const y=[d,...l];g=Array.from(g);for(let C=0;C<g.length&&(g[C].callback.apply(this,y),d.off.called&&(delete d.off.called,this._removeEventListener(f,g[C].callback)),!d.stop.called);C++);}const w=this[lt];if(w){const y=w.get(f),C=w.get("*");y&&hn(y,d,l),C&&hn(C,d,l)}return d.return}catch(d){S.rethrowUnexpectedError(d,this)}}delegate(...s){return{to:(l,d)=>{this[lt]||(this[lt]=new Map),s.forEach(f=>{const g=this[lt].get(f);g?g.set(l,d):this[lt].set(f,new Map([[l,d]]))})}}}stopDelegating(s,l){if(this[lt])if(!s)this[lt].clear();else if(!l)this[lt].delete(s);else{const d=this[lt].get(s);d&&d.delete(l)}}_addEventListener(s,l,d){Ve(this,s);const f=mt(this,s),g=Y.get(d.priority),w={callback:l,priority:g};for(const y of f)z(y,w)}_removeEventListener(s,l){const d=mt(this,s);for(const f of d)for(let g=0;g<f.length;g++)f[g].callback==l&&(f.splice(g,1),g--)}}return n}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{B[c]=nt.prototype[c]});function Q(c,n){const i=c[Ct];return i&&i[n]?i[n].emitter:null}function K(c,n){c[pt]||(c[pt]=n||pe())}function ve(c){return c[pt]}function Te(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function ue(){return{callbacks:[],childEvents:[]}}function Ve(c,n){const i=Te(c);if(i[n])return;let s=n,l=null;const d=[];for(;s!==""&&!i[s];)i[s]=ue(),d.push(i[s]),l&&i[s].childEvents.push(l),l=s,s=s.substr(0,s.lastIndexOf(":"));if(s!==""){for(const f of d)f.callbacks=i[s].callbacks.slice();i[s].childEvents.push(l)}}function mt(c,n){const i=Te(c)[n];if(!i)return[];let s=[i.callbacks];for(let l=0;l<i.childEvents.length;l++){const d=mt(c,i.childEvents[l]);s=s.concat(d)}return s}function Et(c,n){let i;return!c._events||!(i=c._events[n])||!i.callbacks.length?n.indexOf(":")>-1?Et(c,n.substr(0,n.lastIndexOf(":"))):null:i.callbacks}function hn(c,n,i){for(let[s,l]of c){l?typeof l=="function"&&(l=l(n.name)):l=n.name;const d=new Ke(n.source,l);d.path=[...n.path],s.fire(d,...i)}}function ne(c,n,i,s,l){n._addEventListener?n._addEventListener(i,s,l):c._addEventListener.call(n,i,s,l)}function oe(c,n,i,s){n._removeEventListener?n._removeEventListener(i,s):c._removeEventListener.call(n,i,s)}function me(c){var n=typeof c;return c!=null&&(n=="object"||n=="function")}const _e=me,De=Symbol("observableProperties"),Xe=Symbol("boundObservables"),Je=Symbol("boundProperties"),ut=Symbol("decoratedMethods"),Ue=Symbol("decoratedOriginal"),zt=Pe(B());function Pe(c){if(!c)return zt;class n extends c{set(s,l){if(_e(s)){Object.keys(s).forEach(f=>{this.set(f,s[f])},this);return}Nt(this);const d=this[De];if(s in this&&!d.has(s))throw new S("observable-set-cannot-override",this);Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get(){return d.get(s)},set(f){const g=d.get(s);let w=this.fire(`set:${s}`,s,f,g);w===void 0&&(w=f),(g!==w||!d.has(s))&&(d.set(s,w),this.fire(`change:${s}`,s,w,g))}}),this[s]=l}bind(...s){if(!s.length||!Go(s))throw new S("observable-bind-wrong-properties",this);if(new Set(s).size!==s.length)throw new S("observable-bind-duplicate-properties",this);Nt(this);const l=this[Je];s.forEach(f=>{if(l.has(f))throw new S("observable-bind-rebind",this)});const d=new Map;return s.forEach(f=>{const g={property:f,to:[]};l.set(f,g),d.set(f,g)}),{to:$r,toMany:Ln,_observable:this,_bindProperties:s,_to:[],_bindings:d}}unbind(...s){if(!this[De])return;const l=this[Je],d=this[Xe];if(s.length){if(!Go(s))throw new S("observable-unbind-wrong-properties",this);s.forEach(f=>{const g=l.get(f);g&&(g.to.forEach(([w,y])=>{const C=d.get(w),x=C[y];x.delete(g),x.size||delete C[y],Object.keys(C).length||(d.delete(w),this.stopListening(w,"change"))}),l.delete(f))})}else d.forEach((f,g)=>{this.stopListening(g,"change")}),d.clear(),l.clear()}decorate(s){Nt(this);const l=this[s];if(!l)throw new S("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:s});this.on(s,(d,f)=>{d.return=l.apply(this,f)}),this[s]=function(...d){return this.fire(s,d)},this[s][Ue]=l,this[ut]||(this[ut]=[]),this[ut].push(s)}stopListening(s,l,d){if(!s&&this[ut]){for(const f of this[ut])this[f]=this[f][Ue];delete this[ut]}super.stopListening(s,l,d)}}return n}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Pe[c]=zt.prototype[c]});function Nt(c){c[De]||(Object.defineProperty(c,De,{value:new Map}),Object.defineProperty(c,Xe,{value:new Map}),Object.defineProperty(c,Je,{value:new Map}))}function $r(...c){const n=un(...c),i=Array.from(this._bindings.keys()),s=i.length;if(!n.callback&&n.to.length>1)throw new S("observable-bind-to-no-callback",this);if(s>1&&n.callback)throw new S("observable-bind-to-extra-callback",this);n.to.forEach(l=>{if(l.properties.length&&l.properties.length!==s)throw new S("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),Cr(this._observable,this._to),Li(this),this._bindProperties.forEach(l=>{kn(this._observable,l)})}function Ln(c,n,i){if(this._bindings.size>1)throw new S("observable-bind-to-many-not-one-binding",this);this.to(...Wo(c,n),i)}function Wo(c,n){const i=c.map(s=>[s,n]);return Array.prototype.concat.apply([],i)}function Go(c){return c.every(n=>typeof n=="string")}function un(...c){if(!c.length)throw new S("observable-bind-to-parse-error",null);const n={to:[]};let i;return typeof c[c.length-1]=="function"&&(n.callback=c.pop()),c.forEach(s=>{if(typeof s=="string")i.properties.push(s);else if(typeof s=="object")i={observable:s,properties:[]},n.to.push(i);else throw new S("observable-bind-to-parse-error",null)}),n}function Hr(c,n,i,s){const l=c[Xe],d=l.get(i),f=d||{};f[s]||(f[s]=new Set),f[s].add(n),d||l.set(i,f)}function Li(c){let n;c._bindings.forEach((i,s)=>{c._to.forEach(l=>{n=l.properties[i.callback?0:c._bindProperties.indexOf(s)],i.to.push([l.observable,n]),Hr(c._observable,i,l.observable,n)})})}function kn(c,n){const s=c[Je].get(n);let l;s.callback?l=s.callback.apply(c,s.to.map(d=>d[0][d[1]])):(l=s.to[0],l=l[0][l[1]]),Object.prototype.hasOwnProperty.call(c,n)?c[n]=l:c.set(n,l)}function Cr(c,n){n.forEach(i=>{const s=c[Xe];let l;s.get(i.observable)||c.listenTo(i.observable,"change",(d,f)=>{l=s.get(i.observable)[f],l&&l.forEach(g=>{kn(c,g.property)})})})}class Bi{constructor(){this._replacedElements=[]}replace(n,i){this._replacedElements.push({element:n,newElement:i}),n.style.display="none",i&&n.parentNode.insertBefore(i,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:i})=>{n.style.display="",i&&i.remove()}),this._replacedElements=[]}}function ai(c){let n=0;for(const i of c)n++;return n}function Tn(c,n){const i=Math.min(c.length,n.length);for(let s=0;s<i;s++)if(c[s]!=n[s])return s;return c.length==n.length?"same":c.length<n.length?"prefix":"extension"}function Gn(c){return!!(c&&c[Symbol.iterator])}var ia=typeof Gi=="object"&&Gi&&Gi.Object===Object&&Gi;const ci=ia;var lr=typeof self=="object"&&self&&self.Object===Object&&self,bs=ci||lr||Function("return this")();const Er=bs;var Ko=Er.Symbol;const zi=Ko;var oa=Object.prototype,Fi=oa.hasOwnProperty,Dl=oa.toString,ws=zi?zi.toStringTag:void 0;function Pl(c){var n=Fi.call(c,ws),i=c[ws];try{c[ws]=void 0;var s=!0}catch{}var l=Dl.call(c);return s&&(n?c[ws]=i:delete c[ws]),l}const sa=Pl;var qf=Object.prototype,st=qf.toString;function W(c){return st.call(c)}const Ae=W;var Fe="[object Null]",Ht="[object Undefined]",In=zi?zi.toStringTag:void 0;function li(c){return c==null?c===void 0?Ht:Fe:In&&In in Object(c)?sa(c):Ae(c)}const tn=li;var xr=Array.isArray;const fn=xr;function rc(c){return c!=null&&typeof c=="object"}const qr=rc;var zb="[object String]";function Fb(c){return typeof c=="string"||!fn(c)&&qr(c)&&tn(c)==zb}const nn=Fb;function jb(c,n,i={},s=[]){const l=i&&i.xmlns,d=l?c.createElementNS(l,n):c.createElement(n);for(const f in i)d.setAttribute(f,i[f]);(nn(s)||!Gn(s))&&(s=[s]);for(let f of s)nn(f)&&(f=c.createTextNode(f)),d.appendChild(f);return d}function Wf(c,n){return function(i){return c(n(i))}}const Gf=Wf;var Ml=Gf(Object.getPrototypeOf,Object);const Nl=Ml;var ic="[object Object]",Vb=Function.prototype,lA=Object.prototype,Ub=Vb.toString,$b=lA.hasOwnProperty,uA=Ub.call(Object);function Kf(c){if(!qr(c)||tn(c)!=ic)return!1;var n=Nl(c);if(n===null)return!0;var i=$b.call(n,"constructor")&&n.constructor;return typeof i=="function"&&i instanceof i&&Ub.call(i)==uA}const Wr=Kf;function dA(){this.__data__=[],this.size=0}const hA=dA;function fA(c,n){return c===n||c!==c&&n!==n}const oc=fA;function Yf(c,n){for(var i=c.length;i--;)if(oc(c[i][0],n))return i;return-1}const Cd=Yf;var pA=Array.prototype,mA=pA.splice;function gA(c){var n=this.__data__,i=Cd(n,c);if(i<0)return!1;var s=n.length-1;return i==s?n.pop():mA.call(n,i,1),--this.size,!0}const Qf=gA;function bA(c){var n=this.__data__,i=Cd(n,c);return i<0?void 0:n[i][1]}const Hb=bA;function qb(c){return Cd(this.__data__,c)>-1}const Wb=qb;function Gb(c,n){var i=this.__data__,s=Cd(i,c);return s<0?(++this.size,i.push([c,n])):i[s][1]=n,this}const wA=Gb;function sc(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}sc.prototype.clear=hA,sc.prototype.delete=Qf,sc.prototype.get=Hb,sc.prototype.has=Wb,sc.prototype.set=wA;const Ed=sc;function Kb(){this.__data__=new Ed,this.size=0}const kA=Kb;function Yb(c){var n=this.__data__,i=n.delete(c);return this.size=n.size,i}const Zf=Yb;function vA(c){return this.__data__.get(c)}const Qb=vA;function Jf(c){return this.__data__.has(c)}const Zb=Jf;var yA="[object AsyncFunction]",Jb="[object Function]",_A="[object GeneratorFunction]",AA="[object Proxy]";function Xf(c){if(!_e(c))return!1;var n=tn(c);return n==Jb||n==_A||n==yA||n==AA}const Yo=Xf;var ep=Er["__core-js_shared__"];const Rl=ep;var tp=function(){var c=/[^.]+$/.exec(Rl&&Rl.keys&&Rl.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function Xb(c){return!!tp&&tp in c}const ew=Xb;var tw=Function.prototype,nw=tw.toString;function CA(c){if(c!=null){try{return nw.call(c)}catch{}try{return c+""}catch{}}return""}const aa=CA;var EA=/[\\^$.*+?()[\]{}|]/g,xA=/^\[object .+?Constructor\]$/,SA=Function.prototype,ca=Object.prototype,np=SA.toString,TA=ca.hasOwnProperty,IA=RegExp("^"+np.call(TA).replace(EA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rw(c){if(!_e(c)||ew(c))return!1;var n=Yo(c)?IA:xA;return n.test(aa(c))}const rp=rw;function DA(c,n){return c==null?void 0:c[n]}const PA=DA;function MA(c,n){var i=PA(c,n);return rp(i)?i:void 0}const ks=MA;var iw=ks(Er,"Map");const Ol=iw;var NA=ks(Object,"create");const Ll=NA;function ow(){this.__data__=Ll?Ll(null):{},this.size=0}const RA=ow;function OA(c){var n=this.has(c)&&delete this.__data__[c];return this.size-=n?1:0,n}const LA=OA;var sw="__lodash_hash_undefined__",BA=Object.prototype,zA=BA.hasOwnProperty;function aw(c){var n=this.__data__;if(Ll){var i=n[c];return i===sw?void 0:i}return zA.call(n,c)?n[c]:void 0}const FA=aw;var cw=Object.prototype,lw=cw.hasOwnProperty;function uw(c){var n=this.__data__;return Ll?n[c]!==void 0:lw.call(n,c)}const rn=uw;var jA="__lodash_hash_undefined__";function VA(c,n){var i=this.__data__;return this.size+=this.has(c)?0:1,i[c]=Ll&&n===void 0?jA:n,this}const UA=VA;function ac(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}ac.prototype.clear=RA,ac.prototype.delete=LA,ac.prototype.get=FA,ac.prototype.has=rn,ac.prototype.set=UA;const ip=ac;function $A(){this.size=0,this.__data__={hash:new ip,map:new(Ol||Ed),string:new ip}}const HA=$A;function qA(c){var n=typeof c;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?c!=="__proto__":c===null}const WA=qA;function op(c,n){var i=c.__data__;return WA(n)?i[typeof n=="string"?"string":"hash"]:i.map}const xd=op;function dw(c){var n=xd(this,c).delete(c);return this.size-=n?1:0,n}const hw=dw;function fw(c){return xd(this,c).get(c)}const Sr=fw;function Bl(c){return xd(this,c).has(c)}const pw=Bl;function GA(c,n){var i=xd(this,c),s=i.size;return i.set(c,n),this.size+=i.size==s?0:1,this}const mw=GA;function la(c){var n=-1,i=c==null?0:c.length;for(this.clear();++n<i;){var s=c[n];this.set(s[0],s[1])}}la.prototype.clear=HA,la.prototype.delete=hw,la.prototype.get=Sr,la.prototype.has=pw,la.prototype.set=mw;const cc=la;var sp=200;function ua(c,n){var i=this.__data__;if(i instanceof Ed){var s=i.__data__;if(!Ol||s.length<sp-1)return s.push([c,n]),this.size=++i.size,this;i=this.__data__=new cc(s)}return i.set(c,n),this.size=i.size,this}const KA=ua;function P(c){var n=this.__data__=new Ed(c);this.size=n.size}P.prototype.clear=kA,P.prototype.delete=Zf,P.prototype.get=Qb,P.prototype.has=Zb,P.prototype.set=KA;const M=P;function F(c,n){for(var i=-1,s=c==null?0:c.length;++i<s&&n(c[i],i,c)!==!1;);return c}const J=F;var Ye=function(){try{var c=ks(Object,"defineProperty");return c({},"",{}),c}catch{}}();const dt=Ye;function wt(c,n,i){n=="__proto__"&&dt?dt(c,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):c[n]=i}const kt=wt;var Bn=Object.prototype,Dn=Bn.hasOwnProperty;function Sd(c,n,i){var s=c[n];(!(Dn.call(c,n)&&oc(s,i))||i===void 0&&!(n in c))&&kt(c,n,i)}const Qo=Sd;function _o(c,n,i,s){var l=!i;i||(i={});for(var d=-1,f=n.length;++d<f;){var g=n[d],w=s?s(i[g],c[g],g,i,c):void 0;w===void 0&&(w=c[g]),l?kt(i,g,w):Qo(i,g,w)}return i}const ro=_o;function Td(c,n){for(var i=-1,s=Array(c);++i<c;)s[i]=n(i);return s}const zl=Td;var vi="[object Arguments]";function Zo(c){return qr(c)&&tn(c)==vi}const Id=Zo;var mr=Object.prototype,Jo=mr.hasOwnProperty,Dd=mr.propertyIsEnumerable,bQ=Id(function(){return arguments}())?Id:function(c){return qr(c)&&Jo.call(c,"callee")&&!Dd.call(c,"callee")};const YA=bQ;function wQ(){return!1}const kQ=wQ;var k2=e&&!e.nodeType&&e,v2=k2&&!0&&t&&!t.nodeType&&t,vQ=v2&&v2.exports===k2,y2=vQ?Er.Buffer:void 0,yQ=y2?y2.isBuffer:void 0,_Q=yQ||kQ;const ap=_Q;var AQ=9007199254740991,CQ=/^(?:0|[1-9]\d*)$/;function EQ(c,n){var i=typeof c;return n=n??AQ,!!n&&(i=="number"||i!="symbol"&&CQ.test(c))&&c>-1&&c%1==0&&c<n}const QA=EQ;var xQ=9007199254740991;function SQ(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=xQ}const _2=SQ;var TQ="[object Arguments]",IQ="[object Array]",DQ="[object Boolean]",PQ="[object Date]",MQ="[object Error]",NQ="[object Function]",RQ="[object Map]",OQ="[object Number]",LQ="[object Object]",BQ="[object RegExp]",zQ="[object Set]",FQ="[object String]",jQ="[object WeakMap]",VQ="[object ArrayBuffer]",UQ="[object DataView]",$Q="[object Float32Array]",HQ="[object Float64Array]",qQ="[object Int8Array]",WQ="[object Int16Array]",GQ="[object Int32Array]",KQ="[object Uint8Array]",YQ="[object Uint8ClampedArray]",QQ="[object Uint16Array]",ZQ="[object Uint32Array]",vn={};vn[$Q]=vn[HQ]=vn[qQ]=vn[WQ]=vn[GQ]=vn[KQ]=vn[YQ]=vn[QQ]=vn[ZQ]=!0,vn[TQ]=vn[IQ]=vn[VQ]=vn[DQ]=vn[UQ]=vn[PQ]=vn[MQ]=vn[NQ]=vn[RQ]=vn[OQ]=vn[LQ]=vn[BQ]=vn[zQ]=vn[FQ]=vn[jQ]=!1;function JQ(c){return qr(c)&&_2(c.length)&&!!vn[tn(c)]}const XQ=JQ;function eZ(c){return function(n){return c(n)}}const ZA=eZ;var A2=e&&!e.nodeType&&e,cp=A2&&!0&&t&&!t.nodeType&&t,tZ=cp&&cp.exports===A2,JA=tZ&&ci.process,nZ=function(){try{var c=cp&&cp.require&&cp.require("util").types;return c||JA&&JA.binding&&JA.binding("util")}catch{}}();const Pd=nZ;var C2=Pd&&Pd.isTypedArray,rZ=C2?ZA(C2):XQ;const XA=rZ;var iZ=Object.prototype,oZ=iZ.hasOwnProperty;function sZ(c,n){var i=fn(c),s=!i&&YA(c),l=!i&&!s&&ap(c),d=!i&&!s&&!l&&XA(c),f=i||s||l||d,g=f?zl(c.length,String):[],w=g.length;for(var y in c)(n||oZ.call(c,y))&&!(f&&(y=="length"||l&&(y=="offset"||y=="parent")||d&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||QA(y,w)))&&g.push(y);return g}const E2=sZ;var aZ=Object.prototype;function cZ(c){var n=c&&c.constructor,i=typeof n=="function"&&n.prototype||aZ;return c===i}const eC=cZ;var lZ=Gf(Object.keys,Object);const uZ=lZ;var dZ=Object.prototype,hZ=dZ.hasOwnProperty;function fZ(c){if(!eC(c))return uZ(c);var n=[];for(var i in Object(c))hZ.call(c,i)&&i!="constructor"&&n.push(i);return n}const pZ=fZ;function mZ(c){return c!=null&&_2(c.length)&&!Yo(c)}const gw=mZ;function gZ(c){return gw(c)?E2(c):pZ(c)}const tC=gZ;function bZ(c,n){return c&&ro(n,tC(n),c)}const wZ=bZ;function kZ(c){var n=[];if(c!=null)for(var i in Object(c))n.push(i);return n}const vZ=kZ;var yZ=Object.prototype,_Z=yZ.hasOwnProperty;function AZ(c){if(!_e(c))return vZ(c);var n=eC(c),i=[];for(var s in c)s=="constructor"&&(n||!_Z.call(c,s))||i.push(s);return i}const CZ=AZ;function EZ(c){return gw(c)?E2(c,!0):CZ(c)}const Md=EZ;function xZ(c,n){return c&&ro(n,Md(n),c)}const SZ=xZ;var x2=e&&!e.nodeType&&e,S2=x2&&!0&&t&&!t.nodeType&&t,TZ=S2&&S2.exports===x2,T2=TZ?Er.Buffer:void 0,I2=T2?T2.allocUnsafe:void 0;function IZ(c,n){if(n)return c.slice();var i=c.length,s=I2?I2(i):new c.constructor(i);return c.copy(s),s}const D2=IZ;function DZ(c,n){var i=-1,s=c.length;for(n||(n=Array(s));++i<s;)n[i]=c[i];return n}const P2=DZ;function PZ(c,n){for(var i=-1,s=c==null?0:c.length,l=0,d=[];++i<s;){var f=c[i];n(f,i,c)&&(d[l++]=f)}return d}const MZ=PZ;function NZ(){return[]}const M2=NZ;var RZ=Object.prototype,OZ=RZ.propertyIsEnumerable,N2=Object.getOwnPropertySymbols,LZ=N2?function(c){return c==null?[]:(c=Object(c),MZ(N2(c),function(n){return OZ.call(c,n)}))}:M2;const nC=LZ;function BZ(c,n){return ro(c,nC(c),n)}const zZ=BZ;function FZ(c,n){for(var i=-1,s=n.length,l=c.length;++i<s;)c[l+i]=n[i];return c}const R2=FZ;var jZ=Object.getOwnPropertySymbols,VZ=jZ?function(c){for(var n=[];c;)R2(n,nC(c)),c=Nl(c);return n}:M2;const O2=VZ;function UZ(c,n){return ro(c,O2(c),n)}const $Z=UZ;function HZ(c,n,i){var s=n(c);return fn(c)?s:R2(s,i(c))}const L2=HZ;function qZ(c){return L2(c,tC,nC)}const rC=qZ;function WZ(c){return L2(c,Md,O2)}const GZ=WZ;var KZ=ks(Er,"DataView");const iC=KZ;var YZ=ks(Er,"Promise");const oC=YZ;var QZ=ks(Er,"Set");const sC=QZ;var ZZ=ks(Er,"WeakMap");const aC=ZZ;var B2="[object Map]",JZ="[object Object]",z2="[object Promise]",F2="[object Set]",j2="[object WeakMap]",V2="[object DataView]",XZ=aa(iC),eJ=aa(Ol),tJ=aa(oC),nJ=aa(sC),rJ=aa(aC),Fl=tn;(iC&&Fl(new iC(new ArrayBuffer(1)))!=V2||Ol&&Fl(new Ol)!=B2||oC&&Fl(oC.resolve())!=z2||sC&&Fl(new sC)!=F2||aC&&Fl(new aC)!=j2)&&(Fl=function(c){var n=tn(c),i=n==JZ?c.constructor:void 0,s=i?aa(i):"";if(s)switch(s){case XZ:return V2;case eJ:return B2;case tJ:return z2;case nJ:return F2;case rJ:return j2}return n});const lp=Fl;var iJ=Object.prototype,oJ=iJ.hasOwnProperty;function sJ(c){var n=c.length,i=new c.constructor(n);return n&&typeof c[0]=="string"&&oJ.call(c,"index")&&(i.index=c.index,i.input=c.input),i}const aJ=sJ;var cJ=Er.Uint8Array;const bw=cJ;function lJ(c){var n=new c.constructor(c.byteLength);return new bw(n).set(new bw(c)),n}const cC=lJ;function uJ(c,n){var i=n?cC(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.byteLength)}const dJ=uJ;var hJ=/\w*$/;function fJ(c){var n=new c.constructor(c.source,hJ.exec(c));return n.lastIndex=c.lastIndex,n}const pJ=fJ;var U2=zi?zi.prototype:void 0,$2=U2?U2.valueOf:void 0;function mJ(c){return $2?Object($2.call(c)):{}}const gJ=mJ;function bJ(c,n){var i=n?cC(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.length)}const H2=bJ;var wJ="[object Boolean]",kJ="[object Date]",vJ="[object Map]",yJ="[object Number]",_J="[object RegExp]",AJ="[object Set]",CJ="[object String]",EJ="[object Symbol]",xJ="[object ArrayBuffer]",SJ="[object DataView]",TJ="[object Float32Array]",IJ="[object Float64Array]",DJ="[object Int8Array]",PJ="[object Int16Array]",MJ="[object Int32Array]",NJ="[object Uint8Array]",RJ="[object Uint8ClampedArray]",OJ="[object Uint16Array]",LJ="[object Uint32Array]";function BJ(c,n,i){var s=c.constructor;switch(n){case xJ:return cC(c);case wJ:case kJ:return new s(+c);case SJ:return dJ(c,i);case TJ:case IJ:case DJ:case PJ:case MJ:case NJ:case RJ:case OJ:case LJ:return H2(c,i);case vJ:return new s;case yJ:case CJ:return new s(c);case _J:return pJ(c);case AJ:return new s;case EJ:return gJ(c)}}const zJ=BJ;var q2=Object.create,FJ=function(){function c(){}return function(n){if(!_e(n))return{};if(q2)return q2(n);c.prototype=n;var i=new c;return c.prototype=void 0,i}}();const jJ=FJ;function VJ(c){return typeof c.constructor=="function"&&!eC(c)?jJ(Nl(c)):{}}const W2=VJ;var UJ="[object Map]";function $J(c){return qr(c)&&lp(c)==UJ}const HJ=$J;var G2=Pd&&Pd.isMap,qJ=G2?ZA(G2):HJ;const WJ=qJ;var GJ="[object Set]";function KJ(c){return qr(c)&&lp(c)==GJ}const YJ=KJ;var K2=Pd&&Pd.isSet,QJ=K2?ZA(K2):YJ;const ZJ=QJ;var JJ=1,XJ=2,eX=4,Y2="[object Arguments]",tX="[object Array]",nX="[object Boolean]",rX="[object Date]",iX="[object Error]",Q2="[object Function]",oX="[object GeneratorFunction]",sX="[object Map]",aX="[object Number]",Z2="[object Object]",cX="[object RegExp]",lX="[object Set]",uX="[object String]",dX="[object Symbol]",hX="[object WeakMap]",fX="[object ArrayBuffer]",pX="[object DataView]",mX="[object Float32Array]",gX="[object Float64Array]",bX="[object Int8Array]",wX="[object Int16Array]",kX="[object Int32Array]",vX="[object Uint8Array]",yX="[object Uint8ClampedArray]",_X="[object Uint16Array]",AX="[object Uint32Array]",pn={};pn[Y2]=pn[tX]=pn[fX]=pn[pX]=pn[nX]=pn[rX]=pn[mX]=pn[gX]=pn[bX]=pn[wX]=pn[kX]=pn[sX]=pn[aX]=pn[Z2]=pn[cX]=pn[lX]=pn[uX]=pn[dX]=pn[vX]=pn[yX]=pn[_X]=pn[AX]=!0,pn[iX]=pn[Q2]=pn[hX]=!1;function ww(c,n,i,s,l,d){var f,g=n&JJ,w=n&XJ,y=n&eX;if(i&&(f=l?i(c,s,l,d):i(c)),f!==void 0)return f;if(!_e(c))return c;var C=fn(c);if(C){if(f=aJ(c),!g)return P2(c,f)}else{var x=lp(c),R=x==Q2||x==oX;if(ap(c))return D2(c,g);if(x==Z2||x==Y2||R&&!l){if(f=w||R?{}:W2(c),!g)return w?$Z(c,SZ(f,c)):zZ(c,wZ(f,c))}else{if(!pn[x])return l?c:{};f=zJ(c,x,g)}}d||(d=new M);var j=d.get(c);if(j)return j;d.set(c,f),ZJ(c)?c.forEach(function(de){f.add(ww(de,n,i,de,c,d))}):WJ(c)&&c.forEach(function(de,Me){f.set(Me,ww(de,n,i,Me,c,d))});var H=y?w?GZ:rC:w?Md:tC,Z=C?void 0:H(c);return J(Z||c,function(de,Me){Z&&(Me=de,de=c[Me]),Qo(f,Me,ww(de,n,i,Me,c,d))}),f}const lC=ww;var CX=1,EX=4;function xX(c,n){return n=typeof n=="function"?n:void 0,lC(c,CX|EX,n)}const J2=xX;function SX(c){return qr(c)&&c.nodeType===1&&!Wr(c)}const up=SX;class X2{constructor(n,i){this._config={},i&&this.define(eR(i)),n&&this._setObjectToTarget(this._config,n)}set(n,i){this._setToTarget(this._config,n,i)}define(n,i){this._setToTarget(this._config,n,i,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,i,s,l=!1){if(Wr(i)){this._setObjectToTarget(n,i,l);return}const d=i.split(".");i=d.pop();for(const f of d)Wr(n[f])||(n[f]={}),n=n[f];if(Wr(s)){Wr(n[i])||(n[i]={}),n=n[i],this._setObjectToTarget(n,s,l);return}l&&typeof n[i]<"u"||(n[i]=s)}_getFromSource(n,i){const s=i.split(".");i=s.pop();for(const l of s){if(!Wr(n[l])){n=null;break}n=n[l]}return n?eR(n[i]):void 0}_setObjectToTarget(n,i,s){Object.keys(i).forEach(l=>{this._setToTarget(n,l,i[l],s)})}}function eR(c){return J2(c,TX)}function TX(c){return up(c)?c:void 0}function lc(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function kw(c){const n=Object.prototype.toString.apply(c);return n=="[object Window]"||n=="[object global]"}const tR=uc(B());function uc(c){if(!c)return tR;class n extends c{listenTo(s,l,d,f={}){if(lc(s)||kw(s)){const g={capture:!!f.useCapture,passive:!!f.usePassive},w=this._getProxyEmitter(s,g)||new IX(s,g);this.listenTo(w,l,d,f)}else super.listenTo(s,l,d,f)}stopListening(s,l,d){if(lc(s)||kw(s)){const f=this._getAllProxyEmitters(s);for(const g of f)this.stopListening(g,l,d)}else super.stopListening(s,l,d)}_getProxyEmitter(s,l){return Q(this,nR(s,l))}_getAllProxyEmitters(s){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(l=>this._getProxyEmitter(s,l)).filter(l=>!!l)}}return n}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{uc[c]=tR.prototype[c]});class IX extends B(){constructor(n,i){super(),K(this,nR(n,i)),this._domNode=n,this._options=i}attach(n){if(this._domListeners&&this._domListeners[n])return;const i=this._createDomListener(n);this._domNode.addEventListener(n,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=i}detach(n){let i;this._domListeners[n]&&(!(i=this._events[n])||!i.callbacks.length)&&this._domListeners[n].removeListener()}_addEventListener(n,i,s){this.attach(n),B().prototype._addEventListener.call(this,n,i,s)}_removeEventListener(n,i){B().prototype._removeEventListener.call(this,n,i),this.detach(n)}_createDomListener(n){const i=s=>{this.fire(n,s)};return i.removeListener=()=>{this._domNode.removeEventListener(n,i,this._options),delete this._domListeners[n]},i}}function DX(c){return c["data-ck-expando"]||(c["data-ck-expando"]=pe())}function nR(c,n){let i=DX(c);for(const s of Object.keys(n).sort())n[s]&&(i+="-"+s);return i}let uC;try{uC={window,document}}catch{uC={window:{},document:{}}}const St=uC;function rR(c){const n=[];let i=c;for(;i&&i.nodeType!=Node.DOCUMENT_NODE;)n.unshift(i),i=i.parentNode;return n}function PX(c){return c instanceof HTMLTextAreaElement?c.value:c.innerHTML}function Kn(c){return Object.prototype.toString.call(c)=="[object Text]"}function vw(c){return Object.prototype.toString.apply(c)=="[object Range]"}function iR(c){const n=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}const oR=["top","right","bottom","left","width","height"];class dn{constructor(n){const i=vw(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),aR(n)||i)if(i){const s=dn.getDomRangeRects(n);yw(this,dn.getBoundingRect(s))}else yw(this,n.getBoundingClientRect());else if(kw(n)){const{innerWidth:s,innerHeight:l}=n;yw(this,{top:0,right:s,bottom:l,left:0,width:s,height:l})}else yw(this,n)}clone(){return new dn(this)}moveTo(n,i){return this.top=i,this.right=n+this.width,this.bottom=i+this.height,this.left=n,this}moveBy(n,i){return this.top+=i,this.right+=n,this.left+=n,this.bottom+=i,this}getIntersection(n){const i={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0?null:new dn(i)}getIntersectionArea(n){const i=this.getIntersection(n);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let i=this.clone();if(!sR(n)){let s=n.parentNode||n.commonAncestorContainer;for(;s&&!sR(s);){const l=new dn(s),d=i.getIntersection(l);if(d)d.getArea()<i.getArea()&&(i=d);else return null;s=s.parentNode}}return i}isEqual(n){for(const i of oR)if(this[i]!==n[i])return!1;return!0}contains(n){const i=this.getIntersection(n);return!!(i&&i.isEqual(n))}excludeScrollbarsAndBorders(){const n=this._source;let i,s,l;if(kw(n))i=n.innerWidth-n.document.documentElement.clientWidth,s=n.innerHeight-n.document.documentElement.clientHeight,l=n.getComputedStyle(n.document.documentElement).direction;else{const d=iR(n);i=n.offsetWidth-n.clientWidth-d.left-d.right,s=n.offsetHeight-n.clientHeight-d.top-d.bottom,l=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,l==="ltr"?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(n){const i=[],s=Array.from(n.getClientRects());if(s.length)for(const l of s)i.push(new dn(l));else{let l=n.startContainer;Kn(l)&&(l=l.parentNode);const d=new dn(l.getBoundingClientRect());d.right=d.left,d.width=0,i.push(d)}return i}static getBoundingRect(n){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const l of n)s++,i.left=Math.min(i.left,l.left),i.top=Math.min(i.top,l.top),i.right=Math.max(i.right,l.right),i.bottom=Math.max(i.bottom,l.bottom);return s==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new dn(i))}}function yw(c,n){for(const i of oR)c[i]=n[i]}function sR(c){return aR(c)?c===c.ownerDocument.body:!1}function aR(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}class yn{constructor(n,i){yn._observerInstance||yn._createObserver(),this._element=n,this._callback=i,yn._addElementCallback(n,i),yn._observerInstance.observe(n)}destroy(){yn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(n,i){yn._elementCallbacks||(yn._elementCallbacks=new Map);let s=yn._elementCallbacks.get(n);s||(s=new Set,yn._elementCallbacks.set(n,s)),s.add(i)}static _deleteElementCallback(n,i){const s=yn._getElementCallbacks(n);s&&(s.delete(i),s.size||(yn._elementCallbacks.delete(n),yn._observerInstance.unobserve(n))),yn._elementCallbacks&&!yn._elementCallbacks.size&&(yn._observerInstance=null,yn._elementCallbacks=null)}static _getElementCallbacks(n){return yn._elementCallbacks?yn._elementCallbacks.get(n):null}static _createObserver(){yn._observerInstance=new St.window.ResizeObserver(n=>{for(const i of n){const s=yn._getElementCallbacks(i.target);if(s)for(const l of s)l(i)}})}}yn._observerInstance=null,yn._elementCallbacks=null;function cR(c,n){c instanceof HTMLTextAreaElement&&(c.value=n),c.innerHTML=n}function dC(c){return n=>n+c}function _w(c){let n=0;for(;c.previousSibling;)c=c.previousSibling,n++;return n}function lR(c,n,i){c.insertBefore(i,c.childNodes[n]||null)}function Nd(c){return c&&c.nodeType===Node.COMMENT_NODE}function jl(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}function MX(c){return!c||!c.parentNode||c.offsetParent===St.document.body?null:c.offsetParent}function uR({element:c,target:n,positions:i,limiter:s,fitInViewport:l,viewportOffsetConfig:d}){Yo(n)&&(n=n()),Yo(s)&&(s=s());const f=MX(c),g=new dn(c),w=new dn(n);let y;const C=l&&NX(d)||null,x={targetRect:w,elementRect:g,positionedElementAncestor:f,viewportRect:C};if(!s&&!l)y=new hC(i[0],x);else{const R=s&&new dn(s).getVisible();Object.assign(x,{limiterRect:R,viewportRect:C}),y=RX(i,x)||new hC(i[0],x)}return y}function NX(c){c=Object.assign({top:0,bottom:0,left:0,right:0},c);const n=new dn(St.window);return n.top+=c.top,n.height-=c.top,n.bottom-=c.bottom,n.height-=c.bottom,n}function RX(c,n){const{elementRect:i}=n,s=i.getArea(),l=c.map(g=>new hC(g,n)).filter(g=>!!g.name);let d=0,f=null;for(const g of l){const{limiterIntersectionArea:w,viewportIntersectionArea:y}=g;if(w===s)return g;const C=y**2+w**2;C>d&&(d=C,f=g)}return f}function OX(c,n){const i=dR(new dn(n)),s=iR(n);let l=0,d=0;l-=i.left,d-=i.top,l+=n.scrollLeft,d+=n.scrollTop,l-=s.left,d-=s.top,c.moveBy(l,d)}function dR(c){const{scrollX:n,scrollY:i}=St.window;return c.clone().moveBy(n,i)}class hC{constructor(n,i){const s=n(i.targetRect,i.elementRect,i.viewportRect);if(!s)return;const{left:l,top:d,name:f,config:g}=s;this.name=f,this.config=g,this._positioningFunctionCorrdinates={left:l,top:d},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;if(n){const i=this._options.viewportRect;if(i){const s=n.getIntersection(i);if(s)return s.getIntersectionArea(this._rect)}else return n.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const n=this._options.viewportRect;return n?n.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=dR(this._rect),this._options.positionedElementAncestor&&OX(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}function hR(c){const n=c.parentNode;n&&n.removeChild(c)}function LX({target:c,viewportOffset:n=0}){const i=fC(c);let s=i,l=null;for(;s;){let d;s==i?d=bR(c):d=bR(l),zX(d,()=>wR(c,s));const f=wR(c,s);if(BX(s,f,n),s.parent!=s){if(l=s.frameElement,s=s.parent,!l)return}else s=null}}function BX(c,n,i){const s=n.clone().moveBy(0,i),l=n.clone().moveBy(0,-i),d=new dn(c).excludeScrollbarsAndBorders();if(![l,s].every(g=>d.contains(g))){let{scrollX:g,scrollY:w}=c;pR(l,d)?w-=d.top-n.top+i:fR(s,d)&&(w+=n.bottom-d.bottom+i),mR(n,d)?g-=d.left-n.left+i:gR(n,d)&&(g+=n.right-d.right+i),c.scrollTo(g,w)}}function zX(c,n){const i=fC(c);let s,l;for(;c!=i.document.body;)l=n(),s=new dn(c).excludeScrollbarsAndBorders(),s.contains(l)||(pR(l,s)?c.scrollTop-=s.top-l.top:fR(l,s)&&(c.scrollTop+=l.bottom-s.bottom),mR(l,s)?c.scrollLeft-=s.left-l.left:gR(l,s)&&(c.scrollLeft+=l.right-s.right)),c=c.parentNode}function fR(c,n){return c.bottom>n.bottom}function pR(c,n){return c.top<n.top}function mR(c,n){return c.left<n.left}function gR(c,n){return c.right>n.right}function fC(c){return vw(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function bR(c){if(vw(c)){let n=c.commonAncestorContainer;return Kn(n)&&(n=n.parentNode),n}else return c.parentNode}function wR(c,n){const i=fC(c),s=new dn(c);if(i===n)return s;{let l=i;for(;l!=n;){const d=l.frameElement,f=new dn(d).excludeScrollbarsAndBorders();s.moveBy(f.left,f.top),l=l.parent}}return s}const FX={ctrl:"",cmd:"",alt:"",shift:""},jX={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Rt=qX(),VX=Object.fromEntries(Object.entries(Rt).map(([c,n])=>[n,c.charAt(0).toUpperCase()+c.slice(1)]));function Rd(c){let n;if(typeof c=="string"){if(n=Rt[c.toLowerCase()],!n)throw new S("keyboard-unknown-key",null,{key:c})}else n=c.keyCode+(c.altKey?Rt.alt:0)+(c.ctrlKey?Rt.ctrl:0)+(c.shiftKey?Rt.shift:0)+(c.metaKey?Rt.cmd:0);return n}function pC(c){return typeof c=="string"&&(c=WX(c)),c.map(n=>typeof n=="string"?$X(n):n).reduce((n,i)=>i+n,0)}function kR(c){let n=pC(c);return Object.entries(A.isMac?FX:jX).reduce((l,[d,f])=>(n&Rt[d]&&(n&=~Rt[d],l+=f),l),"")+(n?VX[n]:"")}function UX(c){return c==Rt.arrowright||c==Rt.arrowleft||c==Rt.arrowup||c==Rt.arrowdown}function mC(c,n){const i=n==="ltr";switch(c){case Rt.arrowleft:return i?"left":"right";case Rt.arrowright:return i?"right":"left";case Rt.arrowup:return"up";case Rt.arrowdown:return"down"}}function $X(c){if(c.endsWith("!"))return Rd(c.slice(0,-1));const n=Rd(c);return A.isMac&&n==Rt.ctrl?Rt.cmd:n}function HX(c,n){const i=mC(c,n);return i==="down"||i==="right"}function qX(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++){const i=String.fromCharCode(n);c[i.toLowerCase()]=n}for(let n=48;n<=57;n++)c[n-48]=n;for(let n=112;n<=123;n++)c["f"+(n-111)]=n;for(const n of"`-=[];',./\\")c[n]=n.charCodeAt(0);return c}function WX(c){return c.split("+").map(n=>n.trim())}function Tr(c){return Array.isArray(c)?c:[c]}St.window.CKEDITOR_TRANSLATIONS||(St.window.CKEDITOR_TRANSLATIONS={});function GX(c,n,i=1){if(typeof i!="number")throw new S("translation-service-quantity-not-a-number",null,{quantity:i});const s=YX();s===1&&(c=Object.keys(St.window.CKEDITOR_TRANSLATIONS)[0]);const l=n.id||n.string;if(s===0||!KX(c,l))return i!==1?n.plural:n.string;const d=St.window.CKEDITOR_TRANSLATIONS[c].dictionary,f=St.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(y=>y===1?0:1),g=d[l];if(typeof g=="string")return g;const w=Number(f(i));return g[w]}function KX(c,n){return!!St.window.CKEDITOR_TRANSLATIONS[c]&&!!St.window.CKEDITOR_TRANSLATIONS[c].dictionary[n]}function YX(){return Object.keys(St.window.CKEDITOR_TRANSLATIONS).length}const QX=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function vR(c){return QX.includes(c)?"rtl":"ltr"}class ZX{constructor({uiLanguage:n="en",contentLanguage:i}={}){this.uiLanguage=n,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=vR(this.uiLanguage),this.contentLanguageDirection=vR(this.contentLanguage),this.t=(s,l)=>this._t(s,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,i=[]){i=Tr(i),typeof n=="string"&&(n={string:n});const l=!!n.plural?i[0]:1,d=GX(this.uiLanguage,n,l);return JX(d,i)}}function JX(c,n){return c.replace(/%(\d+)/g,(i,s)=>s<n.length?n[s]:i)}class yi extends B(){constructor(n={},i={}){super();const s=Gn(n);if(s||(i=n),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const l of n)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,i){return this.addMany([n],i)}addMany(n,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new S("collection-add-item-invalid-index",this);let s=0;for(const l of n){const d=this._getItemIdBeforeAdding(l),f=i+s;this._items.splice(f,0,l),this._itemMap.set(d,l),this.fire("add",l,f),s++}return this.fire("change",{added:n,removed:[],index:i}),this}get(n){let i;if(typeof n=="string")i=this._itemMap.get(n);else if(typeof n=="number")i=this._items[n];else throw new S("collection-get-invalid-arg",this);return i||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const i=this._idProperty,s=n[i];return s&&this._itemMap.has(s)}}getIndex(n){let i;return typeof n=="string"?i=this._itemMap.get(n):i=n,i?this._items.indexOf(i):-1}remove(n){const[i,s]=this._remove(n);return this.fire("change",{added:[],removed:[i],index:s}),i}map(n,i){return this._items.map(n,i)}find(n,i){return this._items.find(n,i)}filter(n,i){return this._items.filter(n,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new S("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(n){const i=this._bindToCollection,s=(l,d,f)=>{const g=i._bindToCollection==this,w=i._bindToInternalToExternalMap.get(d);if(g&&w)this._bindToExternalToInternalMap.set(d,w),this._bindToInternalToExternalMap.set(w,d);else{const y=n(d);if(!y){this._skippedIndexesFromExternal.push(f);return}let C=f;for(const x of this._skippedIndexesFromExternal)f>x&&C--;for(const x of i._skippedIndexesFromExternal)C>=x&&C++;this._bindToExternalToInternalMap.set(d,y),this._bindToInternalToExternalMap.set(y,d),this.add(y,C);for(let x=0;x<i._skippedIndexesFromExternal.length;x++)C<=i._skippedIndexesFromExternal[x]&&i._skippedIndexesFromExternal[x]++}};for(const l of i)s(null,l,i.getIndex(l));this.listenTo(i,"add",s),this.listenTo(i,"remove",(l,d,f)=>{const g=this._bindToExternalToInternalMap.get(d);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,y)=>(f<y&&w.push(y-1),f>y&&w.push(y),w),[])})}_getItemIdBeforeAdding(n){const i=this._idProperty;let s;if(i in n){if(s=n[i],typeof s!="string")throw new S("collection-add-invalid-id",this);if(this.get(s))throw new S("collection-add-item-already-exists",this)}else n[i]=s=pe();return s}_remove(n){let i,s,l,d=!1;const f=this._idProperty;if(typeof n=="string"?(s=n,l=this._itemMap.get(s),d=!l,l&&(i=this._items.indexOf(l))):typeof n=="number"?(i=n,l=this._items[i],d=!l,l&&(s=l[f])):(l=n,s=l[f],i=this._items.indexOf(l),d=i==-1||!this._itemMap.get(s)),d)throw new S("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const g=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(g),this.fire("remove",l,i),[l,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function zn(c){const n=c.next();return n.done?null:n.value}class ji extends uc(Pe()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new S("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Ao{constructor(){this._listener=new(uc())}listenTo(n){this._listener.listenTo(n,"keydown",(i,s)=>{this._listener.fire("_keydown:"+Rd(s),s)})}set(n,i,s={}){const l=pC(n),d=s.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(f,g)=>{i(g,()=>{g.preventDefault(),g.stopPropagation(),f.stop()}),f.return=!0},{priority:d})}press(n){return!!this._listener.fire("_keydown:"+Rd(n),n)}destroy(){this._listener.stopListening()}}function XX(c){const n=new Map;for(const i in c)n.set(i,c[i]);return n}function vs(c){return Gn(c)?new Map(c):XX(c)}const eee=1e4;function tee(c,n,i,s){if(Math.max(n.length,c.length)>eee)return c.slice(0,i).concat(n).concat(c.slice(i+s,c.length));{const l=Array.from(c);return l.splice(i,s,...n),l}}function nee(c){return!!c&&c.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(c)}function ree(c){return!!c&&c.length==1&&/[\ud800-\udbff]/.test(c)}function iee(c){return!!c&&c.length==1&&/[\udc00-\udfff]/.test(c)}function yR(c,n){return ree(c.charAt(n-1))&&iee(c.charAt(n))}function _R(c,n){return nee(c.charAt(n))}const oee=aee();function see(c,n){const i=String(c).matchAll(oee);return Array.from(i).some(s=>s.index<n&&n<s.index+s[0].length)}function aee(){const c=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],n=/\p{Regional_Indicator}{2}/u.source,i="(?:"+c.map(l=>l.source).join("|")+")",s=`${n}|${i}(?:${i})*`;return new RegExp(s,"ug")}class da extends yi{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(i,s,l)=>{this._renderViewIntoCollectionParent(s,l)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...n){if(!n.length||!cee(n))throw new S("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const l of n)s.delegate(l).to(i);this.on("add",(s,l)=>{for(const d of n)l.delegate(d).to(i)}),this.on("remove",(s,l)=>{for(const d of n)l.stopDelegating(d,i)})}}}_renderViewIntoCollectionParent(n,i){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[i])}}function cee(c){return c.every(n=>typeof n=="string")}var lee=a(3379),at=a.n(lee),AR=a(6150),gC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};gC.insert="head",gC.singleton=!0,at()(AR.Z,gC),AR.Z.locals;class Tt extends uc(Pe()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new yi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=n,s.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Vi.bind(this,this)}createCollection(n){const i=new da(n);return this._viewCollections.add(i),i}registerChild(n){Gn(n)||(n=[n]);for(const i of n)this._unboundChildren.add(i)}deregisterChild(n){Gn(n)||(n=[n]);for(const i of n)this._unboundChildren.remove(i)}setTemplate(n){this.template=new Vi(n)}extendTemplate(n){Vi.extend(this.template,n)}render(){if(this.isRendered)throw new S("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const uee="http://www.w3.org/1999/xhtml";class Vi extends B(){constructor(n){super(),Object.assign(this,SR(xR(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData=NR(),this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new S("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){function*n(i){if(i.children)for(const s of i.children)Cw(s)?yield s:bC(s)&&(yield*n(s))}yield*n(this)}static bind(n,i){return{to(s,l){return new dee({eventNameOrFunction:s,attribute:s,observable:n,emitter:i,callback:l})},if(s,l,d){return new CR({observable:n,emitter:i,attribute:s,valueIfTrue:l,callback:d})}}}static extend(n,i){if(n._isRendered)throw new S("template-extend-render",[this,n]);PR(n,SR(xR(i)))}_renderNode(n){let i;if(n.node?i=this.tag&&this.text:i=this.tag?this.text:!this.text,i)throw new S("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let i=n.node;return i||(i=n.node=document.createElementNS(this.ns||uee,this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),i}_renderText(n){let i=n.node;return i?n.revertData.text=i.textContent:i=n.node=document.createTextNode(""),Aw(this.text)?this._bindToObservable({schema:this.text,updater:fee(i),data:n}):i.textContent=this.text.join(""),i}_renderAttributes(n){if(!this.attributes)return;const i=n.node,s=n.revertData;for(const l in this.attributes){const d=i.getAttribute(l),f=this.attributes[l];s&&(s.attributes[l]=d);const g=MR(f)?f[0].ns:null;if(Aw(f)){const w=MR(f)?f[0].value:f;s&&RR(l)&&w.unshift(d),this._bindToObservable({schema:w,updater:pee(i,l,g),data:n})}else if(l=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],n);else{s&&d&&RR(l)&&f.unshift(d);const w=f.map(y=>y&&(y.value||y)).reduce((y,C)=>y.concat(C),[]).reduce(IR,"");Od(w)||i.setAttributeNS(g,l,w)}}}_renderStyleAttribute(n,i){const s=i.node;for(const l in n){const d=n[l];Aw(d)?this._bindToObservable({schema:[d],updater:mee(s,l),data:i}):s.style[l]=d}}_renderElementChildren(n){const i=n.node,s=n.intoFragment?document.createDocumentFragment():i,l=n.isApplying;let d=0;for(const f of this.children)if(wC(f)){if(!l){f.setParent(i);for(const g of f)s.appendChild(g.element)}}else if(Cw(f))l||(f.isRendered||f.render(),s.appendChild(f.element));else if(lc(f))s.appendChild(f);else if(l){const g=n.revertData,w=NR();g.children.push(w),f._renderNode({intoFragment:!1,node:s.childNodes[d++],isApplying:!0,revertData:w})}else s.appendChild(f.render());n.intoFragment&&i.appendChild(s)}_setUpListeners(n){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(l=>{const[d,f]=i.split("@");return l.activateDomEventListener(d,f,n)});n.revertData&&n.revertData.bindings.push(s)}}_bindToObservable({schema:n,updater:i,data:s}){const l=s.revertData;ER(n,i,s);const d=n.filter(f=>!Od(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(n,i,s));l&&l.bindings.push(d)}_revertTemplateFromNode(n,i){for(const l of i.bindings)for(const d of l)d();if(i.text){n.textContent=i.text;return}const s=n;for(const l in i.attributes){const d=i.attributes[l];d===null?s.removeAttribute(l):s.setAttribute(l,d)}for(let l=0;l<i.children.length;++l)this._revertTemplateFromNode(s.childNodes[l],i.children[l])}}class dp{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const i=this.observable[this.attribute];return this.callback?this.callback(i,n):i}activateAttributeListener(n,i,s){const l=()=>ER(n,i,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class dee extends dp{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,i,s){const l=(d,f)=>{(!i||f.target.matches(i))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(s.node,n,l),()=>{this.emitter.stopListening(s.node,n,l)}}}class CR extends dp{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){const i=super.getValue(n);return Od(i)?!1:this.valueIfTrue||!0}}function Aw(c){return c?(c.value&&(c=c.value),Array.isArray(c)?c.some(Aw):c instanceof dp):!1}function hee(c,n){return c.map(i=>i instanceof dp?i.getValue(n):i)}function ER(c,n,{node:i}){const s=hee(c,i);let l;c.length==1&&c[0]instanceof CR?l=s[0]:l=s.reduce(IR,""),Od(l)?n.remove():n.set(l)}function fee(c){return{set(n){c.textContent=n},remove(){c.textContent=""}}}function pee(c,n,i){return{set(s){c.setAttributeNS(i,n,s)},remove(){c.removeAttributeNS(i,n)}}}function mee(c,n){return{set(i){c.style[n]=i},remove(){c.style[n]=null}}}function xR(c){return J2(c,i=>{if(i&&(i instanceof dp||bC(i)||Cw(i)||wC(i)))return i})}function SR(c){if(typeof c=="string"?c=wee(c):c.text&&kee(c),c.on&&(c.eventListeners=bee(c.on),delete c.on),!c.text){c.attributes&&gee(c.attributes);const n=[];if(c.children)if(wC(c.children))n.push(c.children);else for(const i of c.children)bC(i)||Cw(i)||lc(i)?n.push(i):n.push(new Vi(i));c.children=n}return c}function gee(c){for(const n in c)c[n].value&&(c[n].value=Tr(c[n].value)),TR(c,n)}function bee(c){for(const n in c)TR(c,n);return c}function wee(c){return{text:[c]}}function kee(c){c.text=Tr(c.text)}function TR(c,n){c[n]=Tr(c[n])}function IR(c,n){return Od(n)?c:Od(c)?n:`${c} ${n}`}function DR(c,n){for(const i in n)c[i]?c[i].push(...n[i]):c[i]=n[i]}function PR(c,n){if(n.attributes&&(c.attributes||(c.attributes={}),DR(c.attributes,n.attributes)),n.eventListeners&&(c.eventListeners||(c.eventListeners={}),DR(c.eventListeners,n.eventListeners)),n.text&&c.text.push(...n.text),n.children&&n.children.length){if(c.children.length!=n.children.length)throw new S("ui-template-extend-children-mismatch",c);let i=0;for(const s of n.children)PR(c.children[i++],s)}}function Od(c){return!c&&c!==0}function Cw(c){return c instanceof Tt}function bC(c){return c instanceof Vi}function wC(c){return c instanceof da}function MR(c){return _e(c[0])&&c[0].ns}function NR(){return{children:[],bindings:[],attributes:{}}}function RR(c){return c=="class"||c=="style"}class vee extends da{constructor(n,i=[]){super(i),this.locale=n}attachToDom(){this._bodyCollectionContainer=new Vi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=jb(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var OR=a(1174),kC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};kC.insert="head",kC.singleton=!0,at()(OR.Z,kC),OR.Z.locals;class Vl extends Tt{constructor(){super();const n=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",n.if("isColorInherited","ck-icon_inherit-color")],viewBox:n.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const i=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),s=i.getAttribute("viewBox");s&&(this.viewBox=s);for(const{name:l,value:d}of Array.from(i.attributes))Vl.presentationalAttributeNames.includes(l)&&this.element.setAttribute(l,d);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(n=>{n.style.fill=this.fillColor})}}Vl.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var LR=a(4499),vC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};vC.insert="head",vC.singleton=!0,at()(LR.Z,vC),LR.Z.locals;class Kt extends Tt{constructor(n){super(n);const i=this.bindTemplate,s=pe();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(s),this.iconView=new Vl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",d=>!d),i.if("isVisible","ck-hidden",d=>!d),i.to("isOn",d=>d?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",d=>d||"button"),tabindex:i.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${s}`,"aria-disabled":i.if("isEnabled",!0,d=>!d),"aria-pressed":i.to("isOn",d=>this.isToggleable?String(!!d):!1),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};A.isSafari&&(l.on.mousedown=i.to(d=>{this.focus(),d.preventDefault()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(n){const i=new Tt,s=this.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:s.to("labelStyle"),id:`ck-editor__aria-label_${n}`},children:[{text:this.bindTemplate.to("label")}]}),i}_createKeystrokeView(){const n=new Tt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>kR(i))}]}),n}_getTooltipString(n,i,s){return n?typeof n=="string"?n:(s&&(s=kR(s)),n instanceof Function?n(i,s):`${i}${s?` (${s})`:""}`):""}}var BR=a(9681),yC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yC.insert="head",yC.singleton=!0,at()(BR.Z,yC),BR.Z.locals;class Ew extends Kt{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new Tt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}function yee(c,n){const i=c.t,s={Black:i("Black"),"Dim grey":i("Dim grey"),Grey:i("Grey"),"Light grey":i("Light grey"),White:i("White"),Red:i("Red"),Orange:i("Orange"),Yellow:i("Yellow"),"Light green":i("Light green"),Green:i("Green"),Aquamarine:i("Aquamarine"),Turquoise:i("Turquoise"),"Light blue":i("Light blue"),Blue:i("Blue"),Purple:i("Purple")};return n.map(l=>{const d=s[l.label];return d&&d!=l.label&&(l.label=d),l})}function _ee(c){return c.map(Aee).filter(n=>!!n)}function Aee(c){return typeof c=="string"?{model:c,label:c,hasBorder:!1,view:{name:"span",styles:{color:c}}}:{model:c.color,label:c.label||c.color,hasBorder:c.hasBorder===void 0?!1:c.hasBorder,view:{name:"span",styles:{color:`${c.color}`}}}}const Cee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class zR extends Kt{constructor(n){super(n);const i=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=Cee,this.extendTemplate({attributes:{style:{backgroundColor:i.to("color")},class:["ck","ck-color-grid__tile",i.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var FR=a(4923),_C={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_C.insert="head",_C.singleton=!0,at()(FR.Z,_C),FR.Z.locals;class jR extends Tt{constructor(n,i){super(n);const s=i&&i.colorDefinitions||[];this.columns=i&&i.columns?i.columns:5;const l={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new Ao,this.items.on("add",(d,f)=>{f.isOn=f.color===this.selectedColor}),s.forEach(d=>{const f=new zR;f.set({color:d.color,label:d.label,tooltip:!0,hasBorder:d.options.hasBorder}),f.on("execute",()=>{this.fire("execute",{value:d.color,hasBorder:d.options.hasBorder,label:d.label})}),this.items.add(f)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:l}}),this.on("change:selectedColor",(d,f,g)=>{for(const w of this.items)w.isOn=w.color===g})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),b({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class Eee{constructor(n){this.editor=n,this._components=new Map}*names(){for(const n of this._components.values())yield n.originalName}add(n,i){this._components.set(AC(n),{callback:i,originalName:n})}create(n){if(!this.has(n))throw new S("componentfactory-item-missing",this,{name:n});return this._components.get(AC(n)).callback(this.editor.locale)}has(n){return this._components.has(AC(n))}}function AC(c){return String(c).toLowerCase()}var VR=a(3488),CC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};CC.insert="head",CC.singleton=!0,at()(VR.Z,CC),VR.Z.locals;class Ld extends Tt{constructor(n,i,s){super(n);const l=this.bindTemplate;this.buttonView=i,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Ao,this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",l.to("class"),l.if("isEnabled","ck-disabled",d=>!d)],id:l.to("id"),"aria-describedby":l.to("ariaDescribedById")},children:[i,s]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":l.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(i,s,l)=>{l&&(this.panelPosition==="auto"?this.panelView.position=Ld._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const n=(i,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(i,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(i,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",n),this.keystrokes.set("esc",n)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:n,north:i,southEast:s,southWest:l,northEast:d,northWest:f,southMiddleEast:g,southMiddleWest:w,northMiddleEast:y,northMiddleWest:C}=Ld.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,l,g,w,n,d,f,y,C,i]:[l,s,w,g,n,f,d,C,y,i]}}Ld.defaultPanelPositions={south:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,n)=>({top:c.bottom,left:c.left-n.width+c.width,name:"sw"}),southMiddleEast:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)/4,name:"sme"}),southMiddleWest:(c,n)=>({top:c.bottom,left:c.left-(n.width-c.width)*3/4,name:"smw"}),north:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)/2,name:"n"}),northEast:(c,n)=>({top:c.top-n.height,left:c.left,name:"ne"}),northWest:(c,n)=>({top:c.top-n.height,left:c.left-n.width+c.width,name:"nw"}),northMiddleEast:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)/4,name:"nme"}),northMiddleWest:(c,n)=>({top:c.top-n.height,left:c.left-(n.width-c.width)*3/4,name:"nmw"})},Ld._getOptimalPosition=uR;const UR='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class $R extends Kt{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new Vl;return n.content=UR,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}var HR=a(66),EC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};EC.insert="head",EC.singleton=!0,at()(HR.Z,EC),HR.Z.locals;class xw extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Ao,this.focusTracker=new ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(n,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const n=new Kt;return n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const n=new Kt,i=n.bindTemplate;return n.icon=UR,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}class xee extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:i.to(s=>s.preventDefault())}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():ee("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}class Ul{constructor(n){if(this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const i in n.actions){let s=n.actions[i];typeof s=="string"&&(s=[s]);for(const l of s)n.keystrokeHandler.set(l,(d,f)=>{this[i](),f()})}}get first(){return this.focusables.find(xC)||null}get last(){return this.focusables.filter(xC).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const l=i.element===this.focusTracker.focusedElement;return l&&(n=s),l}),n)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(n){n&&n.focus()}_getFocusableItem(n){const i=this.current,s=this.focusables.length;if(!s)return null;if(i===null)return this[n===1?"first":"last"];let l=(i+s+n)%s;do{const d=this.focusables.get(l);if(xC(d))return d;l=(l+s+n)%s}while(l!==i);return null}}function xC(c){return!!(c.focus&&jl(c.element))}class qR extends Tt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class See extends Tt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Tee(c){return c.bindTemplate.to(n=>{n.target===c.element&&n.preventDefault()})}function WR(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class ge extends Pe(){constructor(n){super(),this.editor=n,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",GR,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",GR),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function GR(c){c.return=!1,c.stop()}class vt extends Pe(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"}),this.listenTo(n,"change:isReadOnly",(i,s,l)=>{l&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",KR,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",KR),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function KR(c){c.return=!1,c.stop()}class YR extends vt{constructor(n){super(n),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const i=this._getFirstEnabledCommand();return!!i&&i.execute(n)}registerChildCommand(n,i={}){z(this._childCommandsDefinitions,{command:n,priority:i.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return n&&n.command}}class QR extends B(){constructor(n,i=[],s=[]){super(),this._context=n,this._plugins=new Map,this._availablePlugins=new Map;for(const l of i)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,d]of s)this._contextPlugins.set(l,d),this._contextPlugins.set(d,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const i=this._plugins.get(n);if(!i){let s=n;throw typeof n=="function"&&(s=n.pluginName||n.name),new S("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(n){return this._plugins.has(n)}init(n,i=[],s=[]){const l=this,d=this._context;j(n),Z(n);const f=n.filter(Qe=>!x(Qe,i)),g=[...H(f)];Zn(g,s);const w=Ot(g);return gn(w,"init").then(()=>gn(w,"afterInit")).then(()=>w);function y(Qe){return typeof Qe=="function"}function C(Qe){return y(Qe)&&Qe.isContextPlugin}function x(Qe,gt){return gt.some(ct=>ct===Qe||R(Qe)===ct||R(ct)===Qe)}function R(Qe){return y(Qe)?Qe.pluginName||Qe.name:Qe}function j(Qe,gt=new Set){Qe.forEach(ct=>{y(ct)&&(gt.has(ct)||(gt.add(ct),ct.pluginName&&!l._availablePlugins.has(ct.pluginName)&&l._availablePlugins.set(ct.pluginName,ct),ct.requires&&j(ct.requires,gt)))})}function H(Qe,gt=new Set){return Qe.map(ct=>y(ct)?ct:l._availablePlugins.get(ct)).reduce((ct,jn)=>gt.has(jn)?ct:(gt.add(jn),jn.requires&&(Z(jn.requires,jn),H(jn.requires,gt).forEach(su=>ct.add(su))),ct.add(jn)),new Set)}function Z(Qe,gt=null){Qe.map(ct=>y(ct)?ct:l._availablePlugins.get(ct)||ct).forEach(ct=>{de(ct,gt),Me(ct,gt),je(ct,gt)})}function de(Qe,gt){if(!y(Qe))throw gt?new S("plugincollection-soft-required",d,{missingPlugin:Qe,requiredBy:R(gt)}):new S("plugincollection-plugin-not-found",d,{plugin:Qe})}function Me(Qe,gt){if(C(gt)&&!C(Qe))throw new S("plugincollection-context-required",d,{plugin:R(Qe),requiredBy:R(gt)})}function je(Qe,gt){if(gt&&x(Qe,i))throw new S("plugincollection-required",d,{plugin:R(Qe),requiredBy:R(gt)})}function Ot(Qe){return Qe.map(gt=>{let ct=l._contextPlugins.get(gt);return ct=ct||new gt(d),l._add(gt,ct),ct})}function gn(Qe,gt){return Qe.reduce((ct,jn)=>!jn[gt]||l._contextPlugins.has(jn)?ct:ct.then(jn[gt].bind(jn)),Promise.resolve())}function Zn(Qe,gt){for(const ct of gt){if(typeof ct!="function")throw new S("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ct});const jn=ct.pluginName;if(!jn)throw new S("plugincollection-replace-plugin-missing-name",null,{pluginItem:ct});if(ct.requires&&ct.requires.length)throw new S("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:jn});const su=l._availablePlugins.get(jn);if(!su)throw new S("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:jn});const YF=Qe.indexOf(su);if(YF===-1){if(l._contextPlugins.has(su))return;throw new S("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:jn})}if(su.requires&&su.requires.length)throw new S("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:jn});Qe.splice(YF,1,ct),l._availablePlugins.set(jn,ct)}}}destroy(){const n=[];for(const[,i]of this)typeof i.destroy=="function"&&!this._contextPlugins.has(i)&&n.push(i.destroy());return Promise.all(n)}_add(n,i){this._plugins.set(n,i);const s=n.pluginName;if(s){if(this._plugins.has(s))throw new S("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:n});this._plugins.set(s,i)}}}class Iee{constructor(n){this.config=new X2(n,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new QR(this,i);const s=this.config.get("language")||{};this.locale=new ZX({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new yi,this._contextOwner=null}initPlugins(){const n=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of n.concat(i)){if(typeof s!="function")throw new S("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new S("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(n,[],i)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,i){if(this._contextOwner)throw new S("context-addeditor-private-context");this.editors.add(n),i&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(n[i]=this.config.get(i));return n}static create(n){return new Promise(i=>{const s=new this(n);i(s.initPlugins().then(()=>s))})}}class Sw extends Pe(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var ZR=a(8894),SC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};SC.insert="head",SC.singleton=!0,at()(ZR.Z,SC),ZR.Z.locals;const Tw=new WeakMap;function JR(c){const{view:n,element:i,text:s,isDirectHost:l=!0,keepOnFocus:d=!1}=c,f=n.document;Tw.has(f)||(Tw.set(f,new Map),f.registerPostFixer(g=>TC(f,g)),f.on("change:isComposing",()=>{n.change(g=>TC(f,g))},{priority:"high"})),Tw.get(f).set(i,{text:s,isDirectHost:l,keepOnFocus:d,hostElement:l?i:null}),n.change(g=>TC(f,g))}function Dee(c,n){return n.hasClass("ck-placeholder")?!1:(c.addClass("ck-placeholder",n),!0)}function Pee(c,n){return n.hasClass("ck-placeholder")?(c.removeClass("ck-placeholder",n),!0):!1}function Mee(c,n){if(!c.isAttached()||Array.from(c.getChildren()).some(f=>!f.is("uiElement")))return!1;const s=c.document,d=s.selection.anchor;return s.isComposing&&d&&d.parent===c?!1:n||!s.isFocused?!0:!!d&&d.parent!==c}function TC(c,n){const i=Tw.get(c),s=[];let l=!1;for(const[d,f]of i)f.isDirectHost&&(s.push(d),XR(n,d,f)&&(l=!0));for(const[d,f]of i){if(f.isDirectHost)continue;const g=Nee(d);g&&(s.includes(g)||(f.hostElement=g,XR(n,d,f)&&(l=!0)))}return l}function XR(c,n,i){const{text:s,isDirectHost:l,hostElement:d}=i;let f=!1;return d.getAttribute("data-placeholder")!==s&&(c.setAttribute("data-placeholder",s,d),f=!0),(l||n.childCount==1)&&Mee(d,i.keepOnFocus)?Dee(c,d)&&(f=!0):Pee(c,d)&&(f=!0),f}function Nee(c){if(c.childCount){const n=c.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class $l{is(){throw new Error("is() method is abstract")}}var Ree=4;function Oee(c){return lC(c,Ree)}const eO=Oee;class Hl extends B($l){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new S("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.index),i=i.parent;return n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(n,i={}){const s=this.getAncestors(i),l=n.getAncestors(i);let d=0;for(;s[d]==l[d]&&s[d];)d++;return d===0?null:s[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),s=n.getPath(),l=Tn(i,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<s[l]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,i){this.fire(`change:${n}`,i),this.parent&&this.parent._fireChange(n,i)}toJSON(){const n=eO(this);return delete n.parent,n}}Hl.prototype.is=function(c){return c==="node"||c==="view:node"};class on extends Hl{constructor(n,i){super(n),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof on?this===n||this.data===n.data:!1}_clone(){return new on(this.document,this.data)}}on.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class ys extends $l{constructor(n,i,s){if(super(),this.textNode=n,i<0||i>n.data.length)throw new S("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>n.data.length)throw new S("view-textproxy-wrong-length",this);this.data=n.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const i=[];let s=n.includeSelf?this.textNode:this.parent;for(;s!==null;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}}ys.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class _s{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let i of n)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...n){for(const i of n)for(const s of this._patterns){const l=tO(i,s);if(l)return{element:i,pattern:s,match:l}}return null}matchAll(...n){const i=[];for(const s of n)for(const l of this._patterns){const d=tO(s,l);d&&i.push({element:s,pattern:l,match:d})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],i=n.name;return typeof n!="function"&&i&&!(i instanceof RegExp)?i:null}}function tO(c,n){if(typeof n=="function")return n(c);const i={};return n.name&&(i.name=Lee(n.name,c.name),!i.name)||n.attributes&&(i.attributes=jee(n.attributes,c),!i.attributes)||n.classes&&(i.classes=Vee(n.classes,c),!i.classes)||n.styles&&(i.styles=Uee(n.styles,c),!i.styles)?null:i}function Lee(c,n){return c instanceof RegExp?!!n.match(c):c===n}function IC(c,n,i){const s=Bee(c),l=Array.from(n),d=[];if(s.forEach(([f,g])=>{l.forEach(w=>{zee(f,w)&&Fee(g,w,i)&&d.push(w)})}),!(!s.length||d.length<s.length))return d}function Bee(c){return Array.isArray(c)?c.map(n=>Wr(n)?((n.key===void 0||n.value===void 0)&&ee("matcher-pattern-missing-key-or-value",n),[n.key,n.value]):[n,!0]):Wr(c)?Object.entries(c):[[c,!0]]}function zee(c,n){return c===!0||c===n||c instanceof RegExp&&n.match(c)}function Fee(c,n,i){if(c===!0)return!0;const s=i(n);return c===s||c instanceof RegExp&&!!String(s).match(c)}function jee(c,n){const i=new Set(n.getAttributeKeys());return Wr(c)?(c.style!==void 0&&ee("matcher-pattern-deprecated-attributes-style-key",c),c.class!==void 0&&ee("matcher-pattern-deprecated-attributes-class-key",c)):(i.delete("style"),i.delete("class")),IC(c,i,s=>n.getAttribute(s))}function Vee(c,n){return IC(c,n.getClassNames(),()=>{})}function Uee(c,n){return IC(c,n.getStyleNames(!0),i=>n.getStyle(i))}var $ee="[object Symbol]";function Hee(c){return typeof c=="symbol"||qr(c)&&tn(c)==$ee}const Iw=Hee;var qee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wee=/^\w*$/;function Gee(c,n){if(fn(c))return!1;var i=typeof c;return i=="number"||i=="symbol"||i=="boolean"||c==null||Iw(c)?!0:Wee.test(c)||!qee.test(c)||n!=null&&c in Object(n)}const Kee=Gee;var Yee="Expected a function";function DC(c,n){if(typeof c!="function"||n!=null&&typeof n!="function")throw new TypeError(Yee);var i=function(){var s=arguments,l=n?n.apply(this,s):s[0],d=i.cache;if(d.has(l))return d.get(l);var f=c.apply(this,s);return i.cache=d.set(l,f)||d,f};return i.cache=new(DC.Cache||cc),i}DC.Cache=cc;const Qee=DC;var Zee=500;function Jee(c){var n=Qee(c,function(s){return i.size===Zee&&i.clear(),s}),i=n.cache;return n}const Xee=Jee;var ete=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tte=/\\(\\)?/g,nte=Xee(function(c){var n=[];return c.charCodeAt(0)===46&&n.push(""),c.replace(ete,function(i,s,l,d){n.push(l?d.replace(tte,"$1"):s||i)}),n});const rte=nte;function ite(c,n){for(var i=-1,s=c==null?0:c.length,l=Array(s);++i<s;)l[i]=n(c[i],i,c);return l}const ote=ite;var ste=1/0,nO=zi?zi.prototype:void 0,rO=nO?nO.toString:void 0;function iO(c){if(typeof c=="string")return c;if(fn(c))return ote(c,iO)+"";if(Iw(c))return rO?rO.call(c):"";var n=c+"";return n=="0"&&1/c==-ste?"-0":n}const ate=iO;function cte(c){return c==null?"":ate(c)}const PC=cte;function lte(c,n){return fn(c)?c:Kee(c,n)?[c]:rte(PC(c))}const MC=lte;function ute(c){var n=c==null?0:c.length;return n?c[n-1]:void 0}const dte=ute;var hte=1/0;function fte(c){if(typeof c=="string"||Iw(c))return c;var n=c+"";return n=="0"&&1/c==-hte?"-0":n}const NC=fte;function pte(c,n){n=MC(n,c);for(var i=0,s=n.length;c!=null&&i<s;)c=c[NC(n[i++])];return i&&i==s?c:void 0}const oO=pte;function mte(c,n,i){var s=-1,l=c.length;n<0&&(n=-n>l?0:l+n),i=i>l?l:i,i<0&&(i+=l),l=n>i?0:i-n>>>0,n>>>=0;for(var d=Array(l);++s<l;)d[s]=c[s+n];return d}const sO=mte;function gte(c,n){return n.length<2?c:oO(c,sO(n,0,-1))}const bte=gte;function wte(c,n){return n=MC(n,c),c=bte(c,n),c==null||delete c[NC(dte(n))]}const kte=wte;function vte(c,n){return c==null?!0:kte(c,n)}const yte=vte;function _te(c,n,i){var s=c==null?void 0:oO(c,n);return s===void 0?i:s}const Dw=_te;function Ate(c,n,i){(i!==void 0&&!oc(c[n],i)||i===void 0&&!(n in c))&&kt(c,n,i)}const RC=Ate;function Cte(c){return function(n,i,s){for(var l=-1,d=Object(n),f=s(n),g=f.length;g--;){var w=f[c?g:++l];if(i(d[w],w,d)===!1)break}return n}}var Ete=Cte();const xte=Ete;function Ste(c){return qr(c)&&gw(c)}const Tte=Ste;function Ite(c,n){if(!(n==="constructor"&&typeof c[n]=="function")&&n!="__proto__")return c[n]}const OC=Ite;function Dte(c){return ro(c,Md(c))}const Pte=Dte;function Mte(c,n,i,s,l,d,f){var g=OC(c,i),w=OC(n,i),y=f.get(w);if(y){RC(c,i,y);return}var C=d?d(g,w,i+"",c,n,f):void 0,x=C===void 0;if(x){var R=fn(w),j=!R&&ap(w),H=!R&&!j&&XA(w);C=w,R||j||H?fn(g)?C=g:Tte(g)?C=P2(g):j?(x=!1,C=D2(w,!0)):H?(x=!1,C=H2(w,!0)):C=[]:Wr(w)||YA(w)?(C=g,YA(g)?C=Pte(g):(!_e(g)||Yo(g))&&(C=W2(w))):x=!1}x&&(f.set(w,C),l(C,w,s,d,f),f.delete(w)),RC(c,i,C)}const Nte=Mte;function aO(c,n,i,s,l){c!==n&&xte(n,function(d,f){if(l||(l=new M),_e(d))Nte(c,n,f,i,aO,s,l);else{var g=s?s(OC(c,f),d,f+"",c,n,l):void 0;g===void 0&&(g=d),RC(c,f,g)}},Md)}const Rte=aO;function Ote(c){return c}const ql=Ote;function Lte(c,n,i){switch(i.length){case 0:return c.call(n);case 1:return c.call(n,i[0]);case 2:return c.call(n,i[0],i[1]);case 3:return c.call(n,i[0],i[1],i[2])}return c.apply(n,i)}const Bte=Lte;var cO=Math.max;function zte(c,n,i){return n=cO(n===void 0?c.length-1:n,0),function(){for(var s=arguments,l=-1,d=cO(s.length-n,0),f=Array(d);++l<d;)f[l]=s[n+l];l=-1;for(var g=Array(n+1);++l<n;)g[l]=s[l];return g[n]=i(f),Bte(c,this,g)}}const Fte=zte;function jte(c){return function(){return c}}const Vte=jte;var Ute=dt?function(c,n){return dt(c,"toString",{configurable:!0,enumerable:!1,value:Vte(n),writable:!0})}:ql;const $te=Ute;var Hte=800,qte=16,Wte=Date.now;function Gte(c){var n=0,i=0;return function(){var s=Wte(),l=qte-(s-i);if(i=s,l>0){if(++n>=Hte)return arguments[0]}else n=0;return c.apply(void 0,arguments)}}var Kte=Gte($te);const Yte=Kte;function Qte(c,n){return Yte(Fte(c,n,ql),c+"")}const Zte=Qte;function Jte(c,n,i){if(!_e(i))return!1;var s=typeof n;return(s=="number"?gw(i)&&QA(n,i.length):s=="string"&&n in i)?oc(i[n],c):!1}const Xte=Jte;function ene(c){return Zte(function(n,i){var s=-1,l=i.length,d=l>1?i[l-1]:void 0,f=l>2?i[2]:void 0;for(d=c.length>3&&typeof d=="function"?(l--,d):void 0,f&&Xte(i[0],i[1],f)&&(d=l<3?void 0:d,l=1),n=Object(n);++s<l;){var g=i[s];g&&c(n,g,s,d)}return n})}const lO=ene;var tne=lO(function(c,n,i){Rte(c,n,i)});const uO=tne;function nne(c,n,i,s){if(!_e(c))return c;n=MC(n,c);for(var l=-1,d=n.length,f=d-1,g=c;g!=null&&++l<d;){var w=NC(n[l]),y=i;if(w==="__proto__"||w==="constructor"||w==="prototype")return c;if(l!=f){var C=g[w];y=s?s(C,w,g):void 0,y===void 0&&(y=_e(C)?C:QA(n[l+1])?[]:{})}Qo(g,w,y),g=g[w]}return c}const rne=nne;function ine(c,n,i){return c==null?c:rne(c,n,i)}const one=ine;class sne{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){const n=Object.entries(this._styles);return!Array.from(n).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const i=Array.from(cne(n).entries());for(const[s,l]of i)this._styleProcessor.toNormalizedForm(s,l,this._styles)}has(n){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(n,this._styles).find(([l])=>l===n);return Array.isArray(s)}set(n,i){if(_e(n))for(const[s,l]of Object.entries(n))this._styleProcessor.toNormalizedForm(s,l,this._styles);else this._styleProcessor.toNormalizedForm(n,i,this._styles)}remove(n){const i=LC(n);yte(this._styles,i),delete this._styles[n],this._cleanEmptyObjectsOnPath(i)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!_e(this._styles[n]))return this._styles[n];const s=this._styleProcessor.getReducedForm(n,this._styles).find(([l])=>l===n);if(Array.isArray(s))return s[1]}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const n=[],i=Object.keys(this._styles);for(const s of i)n.push(...this._styleProcessor.getReducedForm(s,this._styles));return n}_cleanEmptyObjectsOnPath(n){const i=n.split(".");if(!(i.length>1))return;const l=i.splice(0,i.length-1).join("."),d=Dw(this._styles,l);if(!d)return;!Array.from(Object.keys(d)).length&&this.remove(l)}}class ane{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,i,s){if(_e(i)){BC(s,LC(n),i);return}if(this._normalizers.has(n)){const l=this._normalizers.get(n),{path:d,value:f}=l(i);BC(s,d,f)}else BC(s,n,i)}getNormalized(n,i){if(!n)return uO({},i);if(i[n]!==void 0)return i[n];if(this._extractors.has(n)){const s=this._extractors.get(n);if(typeof s=="string")return Dw(i,s);const l=s(n,i);if(l)return l}return Dw(i,LC(n))}getReducedForm(n,i){const s=this.getNormalized(n,i);return s===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(s):[[n,s]]}getStyleNames(n){const i=Array.from(this._consumables.keys()).filter(l=>{const d=this.getNormalized(l,n);return d&&typeof d=="object"?Object.keys(d).length:d}),s=new Set([...i,...Object.keys(n)]);return Array.from(s.values())}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,i){this._normalizers.set(n,i)}setExtractor(n,i){this._extractors.set(n,i)}setReducer(n,i){this._reducers.set(n,i)}setStyleRelation(n,i){this._mapStyleNames(n,i);for(const s of i)this._mapStyleNames(s,[n])}_mapStyleNames(n,i){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...i)}}function cne(c){let n=null,i=0,s=0,l=null;const d=new Map;if(c==="")return d;c.charAt(c.length-1)!=";"&&(c=c+";");for(let f=0;f<c.length;f++){const g=c.charAt(f);if(n===null)switch(g){case":":l||(l=c.substr(i,f-i),s=f+1);break;case'"':case"'":n=g;break;case";":{const w=c.substr(s,f-s);l&&d.set(l.trim(),w.trim()),l=null,i=f+1;break}}else g===n&&(n=null)}return d}function LC(c){return c.replace("-",".")}function BC(c,n,i){let s=i;_e(i)&&(s=uO({},Dw(c,n),i)),one(c,n,s)}class io extends Hl{constructor(n,i,s,l){if(super(n),this.name=i,this._attrs=lne(s),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");dO(this._classes,d),this._attrs.delete("class")}this._styles=new sne(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof io))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[i,s]of this._attrs)if(!n._attrs.has(i)||n._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!n._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!n._styles.has(i)||n._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...n){for(const i of n)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const i of n)if(!this._styles.has(i))return!1;return!0}findAncestor(...n){const i=new _s(...n);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const i=[];if(n)for(const l of this.getChildren())i.push(l._clone(n));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,i){this._fireChange("children",this);let s=0;const l=une(this.document,i);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(n,0,d),n++,s++;return s}_removeChildren(n,i=1){this._fireChange("children",this);for(let s=n;s<n+i;s++)this._children[s].parent=null;return this._children.splice(n,i)}_setAttribute(n,i){const s=String(i);this._fireChange("attributes",this),n=="class"?dO(this._classes,s):n=="style"?this._styles.setTo(s):this._attrs.set(n,s)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:n=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const i of Tr(n))this._classes.add(i)}_removeClass(n){this._fireChange("attributes",this);for(const i of Tr(n))this._classes.delete(i)}_setStyle(n,i){this._fireChange("attributes",this),Wr(n)?this._styles.set(n):this._styles.set(n,i)}_removeStyle(n){this._fireChange("attributes",this);for(const i of Tr(n))this._styles.remove(i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}io.prototype.is=function(c,n){return n?n===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};function lne(c){const n=vs(c);for(const[i,s]of n)s===null?n.delete(i):typeof s!="string"&&n.set(i,String(s));return n}function dO(c,n){const i=n.split(/\s+/);c.clear(),i.forEach(s=>c.add(s))}function une(c,n){return typeof n=="string"?[new on(c,n)]:(Gn(n)||(n=[n]),Array.from(n).map(i=>typeof i=="string"?new on(c,i):i instanceof ys?new on(c,i.data):i))}class hp extends io{constructor(...n){super(...n),this.getFillerOffset=hO}}hp.prototype.is=function(c,n){return n?n===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function hO(){const c=[...this.getChildren()],n=c[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const i of c)if(!i.is("uiElement"))return null;return this.childCount}class Pw extends Pe(hp){constructor(...n){super(...n);const i=n[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",s=>s&&i.selection.editableElement==this),this.listenTo(i.selection,"change",()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this})}destroy(){this.stopListening()}}Pw.prototype.is=function(c,n){return n?n===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const fO=Symbol("rootName");class pO extends Pw{constructor(n,i){super(n,i),this.rootName="main"}get rootName(){return this.getCustomProperty(fO)}set rootName(n){this._setCustomProperty(fO,n)}set _name(n){this.name=n}}pO.prototype.is=function(c,n){return n?n===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Wl{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new S("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new S("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this.position=Ie._createAt(n.startPosition):this.position=Ie._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(n){let i,s,l;do l=this.position,{done:i,value:s}=this.next();while(!i&&n(s));i||(this.position=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const i=this.position,s=n.parent;if(s.parent===null&&n.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(s instanceof on){if(n.isAtEnd)return this.position=Ie._createAfter(s),this._next();l=s.data[n.offset]}else l=s.getChild(n.offset);if(l instanceof io)return this.shallow?n.offset++:n=new Ie(l,0),this.position=n,this._formatReturnValue("elementStart",l,i,n,1);if(l instanceof on){if(this.singleCharacters)return n=new Ie(l,0),this.position=n,this._next();{let d=l.data.length,f;return l==this._boundaryEndParent?(d=this.boundaries.end.offset,f=new ys(l,0,d),n=Ie._createAfter(f)):(f=new ys(l,0,l.data.length),n.offset++),this.position=n,this._formatReturnValue("text",f,i,n,d)}}else if(typeof l=="string"){let d;this.singleCharacters?d=1:d=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-n.offset;const f=new ys(s,n.offset,d);return n.offset+=d,this.position=n,this._formatReturnValue("text",f,i,n,d)}else return n=Ie._createAfter(s),this.position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,n)}_previous(){let n=this.position.clone();const i=this.position,s=n.parent;if(s.parent===null&&n.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(s instanceof on){if(n.isAtStart)return this.position=Ie._createBefore(s),this._previous();l=s.data[n.offset-1]}else l=s.getChild(n.offset-1);if(l instanceof io)return this.shallow?(n.offset--,this.position=n,this._formatReturnValue("elementStart",l,i,n,1)):(n=new Ie(l,l.childCount),this.position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,i,n));if(l instanceof on){if(this.singleCharacters)return n=new Ie(l,l.data.length),this.position=n,this._previous();{let d=l.data.length,f;if(l==this._boundaryStartParent){const g=this.boundaries.start.offset;f=new ys(l,g,l.data.length-g),d=f.data.length,n=Ie._createBefore(f)}else f=new ys(l,0,l.data.length),n.offset--;return this.position=n,this._formatReturnValue("text",f,i,n,d)}}else if(typeof l=="string"){let d;if(this.singleCharacters)d=1;else{const g=s===this._boundaryStartParent?this.boundaries.start.offset:0;d=n.offset-g}n.offset-=d;const f=new ys(s,n.offset,d);return this.position=n,this._formatReturnValue("text",f,i,n,d)}else return n=Ie._createBefore(s),this.position=n,this._formatReturnValue("elementStart",s,i,n,1)}_formatReturnValue(n,i,s,l,d){return i instanceof ys&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(l=Ie._createAfter(i.textNode),this.position=l):s=Ie._createAfter(i.textNode)),i.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(l=Ie._createBefore(i.textNode),this.position=l):s=Ie._createBefore(i.textNode))),{done:!1,value:{type:n,item:i,previousPosition:s,nextPosition:l,length:d}}}}class Ie extends $l{constructor(n,i){super(),this.parent=n,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof Pw);)if(n.parent)n=n.parent;else return null;return n}getShiftedBy(n){const i=Ie._createAt(this),s=i.offset+n;return i.offset=s<0?0:s,i}getLastMatchingPosition(n,i={}){i.startPosition=this;const s=new Wl(i);return s.skip(n),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const i=this.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]==s[l]&&i[l];)l++;return l===0?null:i[l-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=n.parent.is("node")?n.parent.getPath():[];i.push(this.offset),s.push(n.offset);const l=Tn(i,s);switch(l){case"prefix":return"before";case"extension":return"after";default:return i[l]<s[l]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new Wl(n)}clone(){return new Ie(this.parent,this.offset)}static _createAt(n,i){if(n instanceof Ie)return new this(n.parent,n.offset);{const s=n;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new S("view-createpositionat-offset-required",s)}return new Ie(s,i)}}static _createAfter(n){if(n.is("$textProxy"))return new Ie(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new S("view-position-after-root",n,{root:n});return new Ie(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new Ie(n.textNode,n.offsetInText);if(!n.parent)throw new S("view-position-before-root",n,{root:n});return new Ie(n.parent,n.index)}}Ie.prototype.is=function(c){return c==="position"||c==="view:position"};class ht extends $l{constructor(n,i=null){super(),this.start=n.clone(),this.end=i?i.clone():n.clone()}*[Symbol.iterator](){yield*new Wl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Mw,{direction:"backward"}),i=this.end.getLastMatchingPosition(Mw);return n.parent.is("$text")&&n.isAtStart&&(n=Ie._createBefore(n.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Ie._createAfter(i.parent)),new ht(n,i)}getTrimmed(){let n=this.start.getLastMatchingPosition(Mw);if(n.isAfter(this.end)||n.isEqual(this.end))return new ht(n,n);let i=this.end.getLastMatchingPosition(Mw,{direction:"backward"});const s=n.nodeAfter,l=i.nodeBefore;return s&&s.is("$text")&&(n=new Ie(s,0)),l&&l.is("$text")&&(i=new Ie(l,l.data.length)),new ht(n,i)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const s=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return s&&l}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new ht(this.start,n.start)),this.containsPosition(n.end)&&i.push(new ht(n.end,this.end))):i.push(this.clone()),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,s=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(s=n.end),new ht(i,s)}return null}getWalker(n={}){return n.boundaries=this,new Wl(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),n&&n.is("element")&&n===i?n:null}clone(){return new ht(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new Wl(n);for(const s of i)yield s.item}*getPositions(n={}){n.boundaries=this;const i=new Wl(n);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,i,s,l){return new this(new Ie(n,i),new Ie(s,l))}static _createFromPositionAndShift(n,i){const s=n,l=n.getShiftedBy(i);return i>0?new this(s,l):new this(l,s)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const i=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(Ie._createBefore(n),i)}}ht.prototype.is=function(c){return c==="range"||c==="view:range"};function Mw(c){return!!(c.item.is("attributeElement")||c.item.is("uiElement"))}class As extends B($l){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const i of this._ranges)(!n||i.start.isBefore(n.start))&&(n=i);return n?n.clone():null}getLastRange(){let n=null;for(const i of this._ranges)(!n||i.end.isAfter(n.end))&&(n=i);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let s=!1;for(const l of n._ranges)if(i.isEqual(l)){s=!0;break}if(!s)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const i=ai(this.getRanges()),s=ai(n.getRanges());if(i!=s)return!1;if(i==0)return!0;for(let l of this.getRanges()){l=l.getTrimmed();let d=!1;for(let f of n.getRanges())if(f=f.getTrimmed(),l.start.isEqual(f.start)&&l.end.isEqual(f.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[i,s,l]=n;if(typeof s=="object"&&(l=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(l);else if(i instanceof As||i instanceof zC)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof ht)this._setRanges([i],l&&l.backward),this._setFakeOptions(l);else if(i instanceof Ie)this._setRanges([new ht(i)]),this._setFakeOptions(l);else if(i instanceof Hl){const d=!!l&&!!l.backward;let f;if(s===void 0)throw new S("view-selection-setto-required-second-parameter",this);s=="in"?f=ht._createIn(i):s=="on"?f=ht._createOn(i):f=new ht(Ie._createAt(i,s)),this._setRanges([f],d),this._setFakeOptions(l)}else if(Gn(i))this._setRanges(i,l&&l.backward),this._setFakeOptions(l);else throw new S("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(n,i){if(this.anchor===null)throw new S("view-selection-setfocus-no-ranges",this);const s=Ie._createAt(n,i);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),s.compareWith(l)=="before"?this._addRange(new ht(s,l),!0):this._addRange(new ht(l,s)),this.fire("change")}_setRanges(n,i=!1){n=Array.from(n),this._ranges=[];for(const s of n)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,i=!1){if(!(n instanceof ht))throw new S("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!i}_pushRange(n){for(const i of this._ranges)if(n.isIntersecting(i))throw new S("view-selection-range-intersects",this,{addedRange:n,intersectingRange:i});this._ranges.push(new ht(n.start,n.end))}}As.prototype.is=function(c){return c==="selection"||c==="view:selection"};class zC extends B($l){constructor(...n){super(),this._selection=new As,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,i){this._selection.setFocus(n,i)}}zC.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Bd extends Ke{constructor(n,i,s){super(n,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const FC=Symbol("bubbling contexts");function jC(c){class n extends c{fire(s,...l){try{const d=s instanceof Ke?s:new Ke(this,s),f=VC(this);if(!f.size)return;if(fp(d,"capturing",this),zd(f,"$capture",d,...l))return d.return;const g=d.startRange||this.selection.getFirstRange(),w=g?g.getContainedElement():null,y=w?Boolean(mO(f,w)):!1;let C=w||dne(g);if(fp(d,"atTarget",C),!y){if(zd(f,"$text",d,...l))return d.return;fp(d,"bubbling",C)}for(;C;){if(C.is("rootElement")){if(zd(f,"$root",d,...l))return d.return}else if(C.is("element")&&zd(f,C.name,d,...l))return d.return;if(zd(f,C,d,...l))return d.return;C=C.parent,fp(d,"bubbling",C)}return fp(d,"bubbling",this),zd(f,"$document",d,...l),d.return}catch(d){S.rethrowUnexpectedError(d,this)}}_addEventListener(s,l,d){const f=Tr(d.context||"$document"),g=VC(this);for(const w of f){let y=g.get(w);y||(y=new(B()),g.set(w,y)),this.listenTo(y,s,l,d)}}_removeEventListener(s,l){const d=VC(this);for(const f of d.values())this.stopListening(f,s,l)}}return n}{const c=jC(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{jC[n]=c.prototype[n]})}function fp(c,n,i){c instanceof Bd&&(c._eventPhase=n,c._currentTarget=i)}function zd(c,n,i,...s){const l=typeof n=="string"?c.get(n):mO(c,n);return l?(l.fire(i,...s),i.stop.called):!1}function mO(c,n){for(const[i,s]of c)if(typeof i=="function"&&i(n))return s;return null}function VC(c){return c[FC]||(c[FC]=new Map),c[FC]}function dne(c){if(!c)return null;const n=c.start.parent,i=c.end.parent,s=n.getPath(),l=i.getPath();return s.length>l.length?n:i}class Nw extends jC(Pe()){constructor(n){super(),this.selection=new zC,this.roots=new yi({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.map(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let i=!1;do for(const s of this._postFixers)if(i=s(n),i)break;while(i)}}const gO=10;class Gl extends io{constructor(...n){super(...n),this.getFillerOffset=hne,this._priority=gO,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new S("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const i=super._clone(n);return i._priority=this._priority,i._id=this._id,i}}Gl.DEFAULT_PRIORITY=gO,Gl.prototype.is=function(c,n){return n?n===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function hne(){if(UC(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(UC(c)>1)return null;c=c.parent}return!c||UC(c)>1?null:this.childCount}function UC(c){return Array.from(c.getChildren()).filter(n=>!n.is("uiElement")).length}class $C extends io{constructor(n,i,s,l){super(n,i,s,l),this.getFillerOffset=fne}_insertChild(n,i){if(i&&(i instanceof Hl||Array.from(i).length>0))throw new S("view-emptyelement-cannot-add",[this,i]);return 0}}$C.prototype.is=function(c,n){return n?n===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function fne(){return null}class Rw extends io{constructor(...n){super(...n),this.getFillerOffset=mne}_insertChild(n,i){if(i&&(i instanceof Hl||Array.from(i).length>0))throw new S("view-uielement-cannot-add",[this,i]);return 0}render(n,i){return this.toDomElement(n)}toDomElement(n){const i=n.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}Rw.prototype.is=function(c,n){return n?n===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function pne(c){c.document.on("arrowKey",(n,i)=>gne(n,i,c.domConverter),{priority:"low"})}function mne(){return null}function gne(c,n,i){if(n.keyCode==Rt.arrowright){const s=n.domTarget.ownerDocument.defaultView.getSelection(),l=s.rangeCount==1&&s.getRangeAt(0).collapsed;if(l||n.shiftKey){const d=s.focusNode,f=s.focusOffset,g=i.domPositionToView(d,f);if(g===null)return;let w=!1;const y=g.getLastMatchingPosition(C=>(C.item.is("uiElement")&&(w=!0),!!(C.item.is("uiElement")||C.item.is("attributeElement"))));if(w){const C=i.viewPositionToDom(y);l?s.collapse(C.parent,C.offset):s.extend(C.parent,C.offset)}}}}class HC extends io{constructor(...n){super(...n),this.getFillerOffset=bne}_insertChild(n,i){if(i&&(i instanceof Hl||Array.from(i).length>0))throw new S("view-rawelement-cannot-add",[this,i]);return 0}render(){}}HC.prototype.is=function(c,n){return n?n===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};function bne(){return null}class Kl extends B($l){constructor(n,i){super(),this.document=n,this._children=[],i&&this._insertChild(0,i),this._customProperties=new Map}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,i){this._fireChange("children",this);let s=0;const l=wne(this.document,i);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(n,0,d),n++,s++;return s}_removeChildren(n,i=1){this._fireChange("children",this);for(let s=n;s<n+i;s++)this._children[s].parent=null;return this._children.splice(n,i)}_fireChange(n,i){this.fire("change:"+n,i)}_setCustomProperty(n,i){this._customProperties.set(n,i)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Kl.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};function wne(c,n){return typeof n=="string"?[new on(c,n)]:(Gn(n)||(n=[n]),Array.from(n).map(i=>typeof i=="string"?new on(c,i):i instanceof ys?new on(c,i.data):i))}class bO{constructor(n){this.document=n,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(...n){this.document.selection._setFocus(...n)}createDocumentFragment(n){return new Kl(this.document,n)}createText(n){return new on(this.document,n)}createAttributeElement(n,i,s={}){const l=new Gl(this.document,n,i);return typeof s.priority=="number"&&(l._priority=s.priority),s.id&&(l._id=s.id),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createContainerElement(n,i,s={},l={}){let d=null;Wr(s)?l=s:d=s;const f=new hp(this.document,n,i,d);return l.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),f}createEditableElement(n,i,s={}){const l=new Pw(this.document,n,i);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createEmptyElement(n,i,s={}){const l=new $C(this.document,n,i);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createUIElement(n,i,s){const l=new Rw(this.document,n,i);return s&&(l.render=s),l}createRawElement(n,i,s,l={}){const d=new HC(this.document,n,i);return s&&(d.render=s),l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}setAttribute(n,i,s){s._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,s){Wr(n)&&s===void 0?i._setStyle(n):s._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,s){s._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}breakAttributes(n){return n instanceof Ie?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const i=n.parent;if(!i.is("containerElement"))throw new S("view-writer-break-non-container-element",this.document);if(!i.parent)throw new S("view-writer-break-root",this.document);if(n.isAtStart)return Ie._createBefore(i);if(!n.isAtEnd){const s=i._clone(!1);this.insert(Ie._createAfter(i),s);const l=new ht(n,Ie._createAt(i,"end")),d=new Ie(s,0);this.move(l,d)}return Ie._createAfter(i)}mergeAttributes(n){const i=n.offset,s=n.parent;if(s.is("$text"))return n;if(s.is("attributeElement")&&s.childCount===0){const f=s.parent,g=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ie(f,g))}const l=s.getChild(i-1),d=s.getChild(i);if(!l||!d)return n;if(l.is("$text")&&d.is("$text"))return kO(l,d);if(l.is("attributeElement")&&d.is("attributeElement")&&l.isSimilar(d)){const f=l.childCount;return l._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new Ie(l,f))}return n}mergeContainers(n){const i=n.nodeBefore,s=n.nodeAfter;if(!i||!s||!i.is("containerElement")||!s.is("containerElement"))throw new S("view-writer-merge-containers-invalid-position",this.document);const l=i.getChild(i.childCount-1),d=l instanceof on?Ie._createAt(l,"end"):Ie._createAt(i,"end");return this.move(ht._createIn(s),Ie._createAt(i,"end")),this.remove(ht._createOn(s)),d}insert(n,i){i=Gn(i)?[...i]:[i],vO(i,this.document);const s=i.reduce((f,g)=>{const w=f[f.length-1],y=!g.is("uiElement");return!w||w.breakAttributes!=y?f.push({breakAttributes:y,nodes:[g]}):w.nodes.push(g),f},[]);let l=null,d=n;for(const{nodes:f,breakAttributes:g}of s){const w=this._insertNodes(d,f,g);l||(l=w.start),d=w.end}return l?new ht(l,d):new ht(n)}remove(n){const i=n instanceof ht?n:ht._createOn(n);if(pp(i,this.document),i.isCollapsed)return new Kl(this.document);const{start:s,end:l}=this._breakAttributesRange(i,!0),d=s.parent,f=l.offset-s.offset,g=d._removeChildren(s.offset,f);for(const y of g)this._removeFromClonedElementsGroup(y);const w=this.mergeAttributes(s);return i.start=w,i.end=w.clone(),new Kl(this.document,g)}clear(n,i){pp(n,this.document);const s=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of s){const d=l.item;let f;if(d.is("element")&&i.isSimilar(d))f=ht._createOn(d);else if(!l.nextPosition.isAfter(n.start)&&d.is("$textProxy")){const g=d.getAncestors().find(w=>w.is("element")&&i.isSimilar(w));g&&(f=ht._createIn(g))}f&&(f.end.isAfter(n.end)&&(f.end=n.end),f.start.isBefore(n.start)&&(f.start=n.start),this.remove(f))}}move(n,i){let s;if(i.isAfter(n.end)){i=this._breakAttributes(i,!0);const l=i.parent,d=l.childCount;n=this._breakAttributesRange(n,!0),s=this.remove(n),i.offset+=l.childCount-d}else s=this.remove(n);return this.insert(i,s)}wrap(n,i){if(!(i instanceof Gl))throw new S("view-writer-wrap-invalid-attribute",this.document);if(pp(n,this.document),n.isCollapsed){let s=n.start;s.parent.is("element")&&!kne(s.parent)&&(s=s.getLastMatchingPosition(d=>d.item.is("uiElement"))),s=this._wrapPosition(s,i);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(n.start)&&this.setSelection(s),new ht(s)}else return this._wrapRange(n,i)}unwrap(n,i){if(!(i instanceof Gl))throw new S("view-writer-unwrap-invalid-attribute",this.document);if(pp(n,this.document),n.isCollapsed)return n;const{start:s,end:l}=this._breakAttributesRange(n,!0),d=s.parent,f=this._unwrapChildren(d,s.offset,l.offset,i),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new ht(g,w)}rename(n,i){const s=new hp(this.document,n,i.getAttributes());return this.insert(Ie._createAfter(i),s),this.move(ht._createIn(i),Ie._createAt(s,0)),this.remove(ht._createOn(i)),s}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,i){return Ie._createAt(n,i)}createPositionAfter(n){return Ie._createAfter(n)}createPositionBefore(n){return Ie._createBefore(n)}createRange(...n){return new ht(...n)}createRangeOn(n){return ht._createOn(n)}createRangeIn(n){return ht._createIn(n)}createSelection(...n){return new As(...n)}createSlot(n){if(!this._slotFactory)throw new S("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,i,s){let l;if(s?l=qC(n):l=n.parent.is("$text")?n.parent.parent:n.parent,!l)throw new S("view-writer-invalid-position-container",this.document);let d;s?d=this._breakAttributes(n,!0):d=n.parent.is("$text")?WC(n):n;const f=l._insertChild(d.offset,i);for(const C of i)this._addToClonedElementsGroup(C);const g=d.getShiftedBy(f),w=this.mergeAttributes(d);w.isEqual(d)||g.offset--;const y=this.mergeAttributes(g);return new ht(w,y)}_wrapChildren(n,i,s,l){let d=i;const f=[];for(;d<s;){const w=n.getChild(d),y=w.is("$text"),C=w.is("attributeElement");if(C&&this._wrapAttributeElement(l,w))f.push(new Ie(n,d));else if(y||!C||vne(l,w)){const x=l._clone();w._remove(),x._appendChild(w),n._insertChild(d,x),this._addToClonedElementsGroup(x),f.push(new Ie(n,d))}else this._wrapChildren(w,0,w.childCount,l);d++}let g=0;for(const w of f){if(w.offset-=g,w.offset==i)continue;this.mergeAttributes(w).isEqual(w)||(g++,s--)}return ht._createFromParentsAndOffsets(n,i,n,s)}_unwrapChildren(n,i,s,l){let d=i;const f=[];for(;d<s;){const w=n.getChild(d);if(!w.is("attributeElement")){d++;continue}if(w.isSimilar(l)){const y=w.getChildren(),C=w.childCount;w._remove(),n._insertChild(d,y),this._removeFromClonedElementsGroup(w),f.push(new Ie(n,d),new Ie(n,d+C)),d+=C,s+=C-1;continue}if(this._unwrapAttributeElement(l,w)){f.push(new Ie(n,d),new Ie(n,d+1)),d++;continue}this._unwrapChildren(w,0,w.childCount,l),d++}let g=0;for(const w of f){if(w.offset-=g,w.offset==i||w.offset==s)continue;this.mergeAttributes(w).isEqual(w)||(g++,s--)}return ht._createFromParentsAndOffsets(n,i,n,s)}_wrapRange(n,i){const{start:s,end:l}=this._breakAttributesRange(n,!0),d=s.parent,f=this._wrapChildren(d,s.offset,l.offset,i),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new ht(g,w)}_wrapPosition(n,i){if(i.isSimilar(n.parent))return wO(n.clone());n.parent.is("$text")&&(n=WC(n));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,n.parent._insertChild(n.offset,s);const l=new ht(n,n.getShiftedBy(1));this.wrap(l,i);const d=new Ie(s.parent,s.index);s._remove();const f=d.nodeBefore,g=d.nodeAfter;return f instanceof on&&g instanceof on?kO(f,g):wO(d)}_wrapAttributeElement(n,i){if(!yO(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const s of n.getAttributeKeys())if(!(s==="class"||s==="style")&&i.hasAttribute(s)&&i.getAttribute(s)!==n.getAttribute(s))return!1;for(const s of n.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==n.getStyle(s))return!1;for(const s of n.getAttributeKeys())s==="class"||s==="style"||i.hasAttribute(s)||this.setAttribute(s,n.getAttribute(s),i);for(const s of n.getStyleNames())i.hasStyle(s)||this.setStyle(s,n.getStyle(s),i);for(const s of n.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(n,i){if(!yO(n,i)||n.name!==i.name||n.priority!==i.priority)return!1;for(const s of n.getAttributeKeys())if(!(s==="class"||s==="style")&&(!i.hasAttribute(s)||i.getAttribute(s)!==n.getAttribute(s)))return!1;if(!i.hasClass(...n.getClassNames()))return!1;for(const s of n.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==n.getStyle(s))return!1;for(const s of n.getAttributeKeys())s==="class"||s==="style"||this.removeAttribute(s,i);return this.removeClass(Array.from(n.getClassNames()),i),this.removeStyle(Array.from(n.getStyleNames()),i),!0}_breakAttributesRange(n,i=!1){const s=n.start,l=n.end;if(pp(n,this.document),n.isCollapsed){const w=this._breakAttributes(n.start,i);return new ht(w,w)}const d=this._breakAttributes(l,i),f=d.parent.childCount,g=this._breakAttributes(s,i);return d.offset+=d.parent.childCount-f,new ht(g,d)}_breakAttributes(n,i=!1){const s=n.offset,l=n.parent;if(n.parent.is("emptyElement"))throw new S("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new S("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new S("view-writer-cannot-break-raw-element",this.document);if(!i&&l.is("$text")&&GC(l.parent)||GC(l))return n.clone();if(l.is("$text"))return this._breakAttributes(WC(n),i);const d=l.childCount;if(s==d){const f=new Ie(l.parent,l.index+1);return this._breakAttributes(f,i)}else if(s===0){const f=new Ie(l.parent,l.index);return this._breakAttributes(f,i)}else{const f=l.index+1,g=l._clone();l.parent._insertChild(f,g),this._addToClonedElementsGroup(g);const w=l.childCount-s,y=l._removeChildren(s,w);g._appendChild(y);const C=new Ie(l.parent,f);return this._breakAttributes(C,i)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const l of n.getChildren())this._addToClonedElementsGroup(l);const i=n.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(n),n._clonesGroup=s}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const l of n.getChildren())this._removeFromClonedElementsGroup(l);const i=n.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(n)}}function kne(c){return Array.from(c.getChildren()).some(n=>!n.is("uiElement"))}function qC(c){let n=c.parent;for(;!GC(n);){if(!n)return;n=n.parent}return n}function vne(c,n){return c.priority<n.priority?!0:c.priority>n.priority?!1:c.getIdentity()<n.getIdentity()}function wO(c){const n=c.nodeBefore;if(n&&n.is("$text"))return new Ie(n,n.data.length);const i=c.nodeAfter;return i&&i.is("$text")?new Ie(i,0):c}function WC(c){if(c.offset==c.parent.data.length)return new Ie(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Ie(c.parent.parent,c.parent.index);const n=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new on(c.root.document,n)),new Ie(c.parent.parent,c.parent.index+1)}function kO(c,n){const i=c.data.length;return c._data+=n.data,n._remove(),new Ie(c,i)}const yne=[on,Gl,hp,$C,HC,Rw];function vO(c,n){for(const i of c){if(!yne.some(s=>i instanceof s))throw new S("view-writer-insert-invalid-node-type",n);i.is("$text")||vO(i.getChildren(),n)}}function GC(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function pp(c,n){const i=qC(c.start),s=qC(c.end);if(!i||!s||i!==s)throw new S("view-writer-invalid-range-container",n)}function yO(c,n){return c.id===null&&n.id===null}const _O=c=>c.createTextNode(""),AO=c=>{const n=c.createElement("span");return n.dataset.ckeFiller="true",n.innerText="",n},CO=c=>{const n=c.createElement("br");return n.dataset.ckeFiller="true",n},Cs=7,Ow="".repeat(Cs);function oo(c){return Kn(c)&&c.data.substr(0,Cs)===Ow}function mp(c){return c.data.length==Cs&&oo(c)}function EO(c){return oo(c)?c.data.slice(Cs):c.data}function _ne(c){c.document.on("arrowKey",Ane,{priority:"low"})}function Ane(c,n){if(n.keyCode==Rt.arrowleft){const i=n.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,l=i.getRangeAt(0).startOffset;oo(s)&&l<=Cs&&i.collapse(s,0)}}}var xO=a(4401),KC={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};KC.insert="head",KC.singleton=!0,at()(xO.Z,KC),xO.Z.locals;class Cne extends Pe(){constructor(n,i){super(),this.domDocuments=new Set,this.domConverter=n,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),A.isBlink&&!A.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(n,i){if(n==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(n==="attributes")this.markedAttributes.add(i);else if(n==="children")this.markedChildren.add(i);else throw new S("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!A.isAndroid)return;let n=null;const i=A.isBlink&&!A.isAndroid?!this.isSelecting:!0;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=Ie._createBefore(n.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:n});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:n});if(i)if(n){const s=this.domConverter.viewPositionToDom(n),l=s.parent.ownerDocument;oo(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=SO(l,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){if(!this.domConverter.mapViewToDom(n))return;const s=Array.from(this.domConverter.mapViewToDom(n).childNodes),l=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),d=this._diffNodeLists(s,l),f=this._findReplaceActions(d,s,l);if(f.indexOf("replace")!==-1){const g={equal:0,insert:0,delete:0};for(const w of f)if(w==="replace"){const y=g.equal+g.insert,C=g.equal+g.delete,x=n.getChild(y);x&&!(x.is("uiElement")||x.is("rawElement"))&&this._updateElementMappings(x,s[C]),hR(l[y]),g.equal++}else g[w]++}}_updateElementMappings(n,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?Ie._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(n);return!!(i&&Kn(i.parent)&&oo(i.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!oo(n))throw new S("view-renderer-filler-was-lost",this);mp(n)?n.remove():n.data=n.data.substr(Cs),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),i=n.parent,s=n.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!Ene(i)||s===i.getFillerOffset())return!1;const l=n.nodeBefore,d=n.nodeAfter;return!(l instanceof on||d instanceof on||A.isAndroid&&(l||d))}_updateText(n,i){const s=this.domConverter.findCorrespondingDomText(n);let d=this.domConverter.viewToDom(n).data;const f=i.inlineFillerPosition;f&&f.parent==n.parent&&f.offset==n.index&&(d=Ow+d),DO(s,d)}_updateAttrs(n){const i=this.domConverter.mapViewToDom(n);if(!i)return;const s=Array.from(i.attributes).map(d=>d.name),l=n.getAttributeKeys();for(const d of l)this.domConverter.setDomElementAttribute(i,d,n.getAttribute(d),n);for(const d of s)n.hasAttribute(d)||this.domConverter.removeDomElementAttribute(i,d)}_updateChildren(n,i){const s=this.domConverter.mapViewToDom(n);if(!s)return;if(A.isAndroid){let x=null;for(const R of Array.from(s.childNodes)){if(x&&Kn(x)&&Kn(R)){s.normalize();break}x=R}}const l=i.inlineFillerPosition,d=s.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));l&&l.parent===n&&SO(s.ownerDocument,f,l.offset);const g=this._diffNodeLists(d,f),w=A.isAndroid?this._findReplaceActions(g,d,f,{replaceText:!0}):g;let y=0;const C=new Set;for(const x of w)x==="delete"?(C.add(d[y]),hR(d[y])):(x==="equal"||x==="replace")&&y++;y=0;for(const x of w)x==="insert"?(lR(s,y,f[y]),y++):x==="replace"?(DO(d[y],f[y].data),y++):x==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[y])),y++);for(const x of C)x.parentNode||this.domConverter.unbindDomElement(x)}_diffNodeLists(n,i){return n=Tne(n,this._fakeSelectionContainer),re(n,i,xne.bind(null,this.domConverter))}_findReplaceActions(n,i,s,l={}){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let d=[],f=[],g=[];const w={equal:0,insert:0,delete:0};for(const y of n)y==="insert"?g.push(s[w.equal+w.insert]):y==="delete"?f.push(i[w.equal+w.delete]):(d=d.concat(re(f,g,l.replaceText?IO:TO).map(C=>C==="equal"?"replace":C)),d.push("equal"),f=[],g=[]),w[y]++;return d.concat(re(f,g,l.replaceText?IO:TO).map(y=>y==="equal"?"replace":y))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const i of n.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(A.isBlink&&!A.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const n=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!n||(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&A.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const i=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Ine(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(n))return;(!s.parentElement||s.parentElement!=n)&&n.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const l=i.getSelection(),d=i.createRange();l.removeAllRanges(),d.selectNodeContents(s),l.addRange(d)}_updateDomSelection(n){const i=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);i.collapse(s.parent,s.offset),i.extend(l.parent,l.offset),A.isGecko&&Sne(l,i)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const i=n&&this.domConverter.domSelectionToView(n);return!(i&&this.selection.isEqual(i)||!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(n){const i=this._fakeSelectionContainer,s=n.ownerDocument.getSelection();return!i||i.parentElement!==n||s.anchorNode!==i&&!i.contains(s.anchorNode)?!0:i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const i=n.getSelection();if(i.rangeCount){const s=n.activeElement,l=this.domConverter.mapDomToView(s);s&&l&&i.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function Ene(c){if(c.getAttribute("contenteditable")=="false")return!1;const n=c.findAncestor(i=>i.hasAttribute("contenteditable"));return!n||n.getAttribute("contenteditable")=="true"}function SO(c,n,i){const s=n instanceof Array?n:n.childNodes,l=s[i];if(Kn(l))return l.data=Ow+l.data,l;{const d=c.createTextNode(Ow);return Array.isArray(n)?s.splice(i,0,d):lR(n,i,d),d}}function TO(c,n){return lc(c)&&lc(n)&&!Kn(c)&&!Kn(n)&&!Nd(c)&&!Nd(n)&&c.tagName.toLowerCase()===n.tagName.toLowerCase()}function IO(c,n){return lc(c)&&lc(n)&&Kn(c)&&Kn(n)}function xne(c,n,i){return n===i?!0:Kn(n)&&Kn(i)?n.data===i.data:!!(c.isBlockFiller(n)&&c.isBlockFiller(i))}function Sne(c,n){const i=c.parent;if(i.nodeType!=Node.ELEMENT_NODE||c.offset!=i.childNodes.length-1)return;const s=i.childNodes[c.offset];s&&s.tagName=="BR"&&n.addRange(n.getRangeAt(0))}function Tne(c,n){const i=Array.from(c);return i.length==0||!n||i[i.length-1]==n&&i.pop(),i}function Ine(c){const n=c.createElement("div");return n.className="ck-fake-selection-container",Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent="",n}function DO(c,n){const i=c.data;if(i==n)return;const s=U(i,n);for(const l of s)l.type==="insert"?c.insertData(l.index,l.values.join("")):c.deleteData(l.index,l.howMany)}const Dne=CO(St.document),Pne=_O(St.document),Mne=AO(St.document),Lw="data-ck-unsafe-attribute-",PO="data-ck-unsafe-element";class Bw{constructor(n,i={}){this.document=n,this.renderingMode=i.renderingMode||"editing",this.blockFillerMode=i.blockFillerMode||(this.renderingMode==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?St.document:St.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new _s,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(n,i){this._fakeSelectionMapping.set(n,new As(i))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}unbindDomElement(n){const i=this._domToViewMapping.get(n);if(i){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(i);for(const s of Array.from(n.children))this.unbindDomElement(s)}}bindDocumentFragments(n,i){this._domToViewMapping.set(n,i),this._viewToDomMapping.set(i,n)}shouldRenderAttribute(n,i,s){return this.renderingMode==="data"?!0:(n=n.toLowerCase(),n.startsWith("on")||n==="srcdoc"&&i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:s==="img"&&(n==="src"||n==="srcset")||s==="source"&&n==="srcset"?!0:!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,i){if(this.renderingMode==="data"){n.innerHTML=i;return}const s=new DOMParser().parseFromString(i,"text/html"),l=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);const f=s.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),g=[];let w;for(;w=f.nextNode();)g.push(w);for(const y of g){for(const x of y.getAttributeNames())this.setDomElementAttribute(y,x,y.getAttribute(x));const C=y.tagName.toLowerCase();this._shouldRenameElement(C)&&(RO(C),y.replaceWith(this._createReplacementDomElement(C,y)))}for(;n.firstChild;)n.firstChild.remove();n.append(l)}viewToDom(n,i={}){if(n.is("$text")){const s=this._processDataFromViewText(n);return this._domDocument.createTextNode(s)}else{if(this.mapViewToDom(n))return this.mapViewToDom(n);let s;if(n.is("documentFragment"))s=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(s,n);else{if(n.is("uiElement"))return n.name==="$comment"?s=this._domDocument.createComment(n.getCustomProperty("$rawContent")):s=n.render(this._domDocument,this),i.bind&&this.bindElements(s,n),s;this._shouldRenameElement(n.name)?(RO(n.name),s=this._createReplacementDomElement(n.name)):n.hasAttribute("xmlns")?s=this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):s=this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(s,this),i.bind&&this.bindElements(s,n);for(const l of n.getAttributeKeys())this.setDomElementAttribute(s,l,n.getAttribute(l),n)}if(i.withChildren!==!1)for(const l of this.viewChildrenToDom(n,i))s.appendChild(l);return s}}setDomElementAttribute(n,i,s,l){const d=this.shouldRenderAttribute(i,s,n.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(i);d||ee("domconverter-unsafe-attribute-detected",{domElement:n,key:i,value:s}),n.hasAttribute(i)&&!d?n.removeAttribute(i):n.hasAttribute(Lw+i)&&d&&n.removeAttribute(Lw+i),n.setAttribute(d?i:Lw+i,s)}removeDomElementAttribute(n,i){i!=PO&&(n.removeAttribute(i),n.removeAttribute(Lw+i))}*viewChildrenToDom(n,i={}){const s=n.getFillerOffset&&n.getFillerOffset();let l=0;for(const d of n.getChildren()){s===l&&(yield this._getBlockFiller());const f=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!zn(d.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,i):(f&&ee("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,i)),l++}s===l&&(yield this._getBlockFiller())}viewRangeToDom(n){const i=this.viewPositionToDom(n.start),s=this.viewPositionToDom(n.end),l=this._domDocument.createRange();return l.setStart(i.parent,i.offset),l.setEnd(s.parent,s.offset),l}viewPositionToDom(n){const i=n.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let l=n.offset;return oo(s)&&(l+=Cs),{parent:s,offset:l}}else{let s,l,d;if(n.offset===0){if(s=this.mapViewToDom(i),!s)return null;d=s.childNodes[0]}else{const g=n.nodeBefore;if(l=g.is("$text")?this.findCorrespondingDomText(g):this.mapViewToDom(g),!l)return null;s=l.parentNode,d=l.nextSibling}if(Kn(d)&&oo(d))return{parent:d,offset:Cs};const f=l?_w(l)+1:0;return{parent:s,offset:f}}}domToView(n,i={}){if(this.isBlockFiller(n))return null;const s=this.getHostViewElement(n);if(s)return s;if(Nd(n)&&i.skipComments)return null;if(Kn(n)){if(mp(n))return null;{const l=this._processDataFromDomText(n);return l===""?null:new on(this.document,l)}}else{if(this.mapDomToView(n))return this.mapDomToView(n);let l;if(this.isDocumentFragment(n))l=new Kl(this.document),i.bind&&this.bindDocumentFragments(n,l);else{l=this._createViewElement(n,i),i.bind&&this.bindElements(n,l);const d=n.attributes;if(d)for(let f=d.length,g=0;g<f;g++)l._setAttribute(d[g].name,d[g].value);if(this._isViewElementWithRawContent(l,i)||Nd(n)){const f=Nd(n)?n.data:n.innerHTML;return l._setCustomProperty("$rawContent",f),this._encounteredRawContentDomNodes.add(n),l}}if(i.withChildren!==!1)for(const d of this.domChildrenToView(n,i))l._appendChild(d);return l}}*domChildrenToView(n,i){for(let s=0;s<n.childNodes.length;s++){const l=n.childNodes[s],d=this.domToView(l,i);d!==null&&(yield d)}}domSelectionToView(n){if(n.rangeCount===1){let l=n.getRangeAt(0).startContainer;Kn(l)&&(l=l.parentNode);const d=this.fakeSelectionToView(l);if(d)return d}const i=this.isDomSelectionBackward(n),s=[];for(let l=0;l<n.rangeCount;l++){const d=n.getRangeAt(l),f=this.domRangeToView(d);f&&s.push(f)}return new As(s,{backward:i})}domRangeToView(n){const i=this.domPositionToView(n.startContainer,n.startOffset),s=this.domPositionToView(n.endContainer,n.endOffset);return i&&s?new ht(i,s):null}domPositionToView(n,i=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,_w(n));const s=this.mapDomToView(n);if(s&&(s.is("uiElement")||s.is("rawElement")))return Ie._createBefore(s);if(Kn(n)){if(mp(n))return this.domPositionToView(n.parentNode,_w(n));const l=this.findCorrespondingViewText(n);let d=i;return l?(oo(n)&&(d-=Cs,d=d<0?0:d),new Ie(l,d)):null}else{if(i===0){const l=this.mapDomToView(n);if(l)return new Ie(l,0)}else{const l=n.childNodes[i-1];if(Kn(l)&&mp(l))return this.domPositionToView(l.parentNode,_w(l));const d=Kn(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(d&&d.parent)return new Ie(d.parent,d.index+1)}return null}}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(mp(n))return null;const i=this.getHostViewElement(n);if(i)return i;const s=n.previousSibling;if(s){if(!this.isElement(s))return null;const l=this.mapDomToView(s);if(l){const d=l.nextSibling;return d instanceof on?d:null}}else{const l=this.mapDomToView(n.parentNode);if(l){const d=l.getChild(0);return d instanceof on?d:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const i=n.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const i=this.mapViewToDom(n);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:l}=St.window,d=[];MO(i,f=>{const{scrollLeft:g,scrollTop:w}=f;d.push([g,w])}),i.focus(),MO(i,f=>{const[g,w]=d.shift();f.scrollLeft=g,f.scrollTop=w}),St.window.scrollTo(s,l)}}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(Dne):n.tagName==="BR"&&NO(n,this.blockElements)&&n.parentNode.childNodes.length===1?!0:n.isEqualNode(Mne)||Rne(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(n.anchorNode,n.anchorOffset),i.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const s=i.collapsed;return i.detach(),s}getHostViewElement(n){const i=rR(n);for(i.pop();i.length;){const s=i.pop(),l=this._domToViewMapping.get(s);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return _O(this._domDocument);case"markedNbsp":return AO(this._domDocument);case"br":return CO(this._domDocument)}}_isDomSelectionPositionCorrect(n,i){if(Kn(n)&&oo(n)&&i<Cs||this.isElement(n)&&oo(n.childNodes[i]))return!1;const s=this.mapDomToView(n);return!(s&&(s.is("uiElement")||s.is("rawElement")))}_processDataFromViewText(n){let i=n.data;if(n.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(i.charAt(0)==" "){const s=this._getTouchingInlineViewNode(n,!1);(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s)||!s)&&(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const s=this._getTouchingInlineViewNode(n,!0),l=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";(i.charAt(i.length-2)==" "||!s||l)&&(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(n);return i.charAt(i.length-1)==" "}_processDataFromDomText(n){let i=n.data;if(Nne(n,this.preElements))return EO(n);i=i.replace(/[ \n\t\r]{1,}/g," ");const s=this._getTouchingInlineDomNode(n,!1),l=this._getTouchingInlineDomNode(n,!0),d=this._checkShouldLeftTrimDomText(n,s),f=this._checkShouldRightTrimDomText(n,l);d&&(i=i.replace(/^ /,"")),f&&(i=i.replace(/ $/,"")),i=EO(new Text(i)),i=i.replace(/ \u00A0/g,"  ");const g=l&&this.isElement(l)&&l.tagName!="BR",w=l&&Kn(l)&&l.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(i)||!l||g||w)&&(i=i.replace(/\u00A0$/," ")),(d||s&&this.isElement(s)&&s.tagName!="BR")&&(i=i.replace(/^\u00A0/," ")),i}_checkShouldLeftTrimDomText(n,i){return i?this.isElement(i)?i.tagName==="BR":this._encounteredRawContentDomNodes.has(n.previousSibling)?!1:/[^\S\u00A0]/.test(i.data.charAt(i.data.length-1)):!0}_checkShouldRightTrimDomText(n,i){return i?!1:!oo(n)}_getTouchingInlineViewNode(n,i){const s=new Wl({startPosition:i?Ie._createAfter(n):Ie._createBefore(n),direction:i?"forward":"backward"});for(const l of s){if(l.item.is("element")&&this.inlineObjectElements.includes(l.item.name))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("element","br"))return null;if(l.item.is("$textProxy"))return l.item}return null}_getTouchingInlineDomNode(n,i){if(!n.parentNode)return null;const s=i?"firstChild":"lastChild",l=i?"nextSibling":"previousSibling";let d=!0,f=n;do if(!d&&f[s]?f=f[s]:f[l]?(f=f[l],d=!1):(f=f.parentNode,d=!0),!f||this._isBlockElement(f))return null;while(!(Kn(f)||f.tagName=="BR"||this._isInlineObjectElement(f)));return f}_isBlockElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isInlineObjectElement(n){return this.isElement(n)&&this.inlineObjectElements.includes(n.tagName.toLowerCase())}_createViewElement(n,i){if(Nd(n))return new Rw(this.document,"$comment");const s=i.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new io(this.document,s)}_isViewElementWithRawContent(n,i){return i.withChildren!==!1&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const i=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(n,i){const s=this._domDocument.createElement("span");if(s.setAttribute(PO,n),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const l of i.getAttributeNames())s.setAttribute(l,i.getAttribute(l))}return s}}function Nne(c,n){return rR(c).some(s=>s.tagName&&n.includes(s.tagName.toLowerCase()))}function MO(c,n){let i=c;for(;i;)n(i),i=i.parentElement}function Rne(c,n){return c.isEqualNode(Pne)&&NO(c,n)&&c.parentNode.childNodes.length===1}function NO(c,n){const i=c.parentNode;return!!i&&!!i.tagName&&n.includes(i.tagName.toLowerCase())}function RO(c){c==="script"&&ee("domconverter-unsafe-script-element-detected"),c==="style"&&ee("domconverter-unsafe-style-element-detected")}class Es extends uc(){constructor(n){super(),this.view=n,this.document=n.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!n||n.nodeType!==1?!1:n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var One=lO(function(c,n){ro(n,Md(n),c)});const OO=One;class Fd{constructor(n,i,s){this.view=n,this.document=n.document,this.domEvent=i,this.domTarget=i.target,OO(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class dc extends Es{constructor(n){super(n),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(n,s,(l,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}fire(n,i,s){this.isEnabled&&this.document.fire(n,new Fd(this.view,i,s))}}class Lne extends dc{constructor(n){super(n),this.domEventType=["keydown","keyup"]}onDomEvent(n){const i={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return Rd(this)}};this.fire(n.type,n,i)}}var Bne=function(){return Er.Date.now()};const YC=Bne;var zne=/\s/;function Fne(c){for(var n=c.length;n--&&zne.test(c.charAt(n)););return n}const jne=Fne;var Vne=/^\s+/;function Une(c){return c&&c.slice(0,jne(c)+1).replace(Vne,"")}const $ne=Une;var LO=0/0,Hne=/^[-+]0x[0-9a-f]+$/i,qne=/^0b[01]+$/i,Wne=/^0o[0-7]+$/i,Gne=parseInt;function Kne(c){if(typeof c=="number")return c;if(Iw(c))return LO;if(_e(c)){var n=typeof c.valueOf=="function"?c.valueOf():c;c=_e(n)?n+"":n}if(typeof c!="string")return c===0?c:+c;c=$ne(c);var i=qne.test(c);return i||Wne.test(c)?Gne(c.slice(2),i?2:8):Hne.test(c)?LO:+c}const BO=Kne;var Yne="Expected a function",Qne=Math.max,Zne=Math.min;function Jne(c,n,i){var s,l,d,f,g,w,y=0,C=!1,x=!1,R=!0;if(typeof c!="function")throw new TypeError(Yne);n=BO(n)||0,_e(i)&&(C=!!i.leading,x="maxWait"in i,d=x?Qne(BO(i.maxWait)||0,n):d,R="trailing"in i?!!i.trailing:R);function j(Qe){var gt=s,ct=l;return s=l=void 0,y=Qe,f=c.apply(ct,gt),f}function H(Qe){return y=Qe,g=setTimeout(Me,n),C?j(Qe):f}function Z(Qe){var gt=Qe-w,ct=Qe-y,jn=n-gt;return x?Zne(jn,d-ct):jn}function de(Qe){var gt=Qe-w,ct=Qe-y;return w===void 0||gt>=n||gt<0||x&&ct>=d}function Me(){var Qe=YC();if(de(Qe))return je(Qe);g=setTimeout(Me,Z(Qe))}function je(Qe){return g=void 0,R&&s?j(Qe):(s=l=void 0,f)}function Ot(){g!==void 0&&clearTimeout(g),y=0,s=w=l=g=void 0}function gn(){return g===void 0?f:je(YC())}function Zn(){var Qe=YC(),gt=de(Qe);if(s=arguments,l=this,w=Qe,gt){if(g===void 0)return H(w);if(x)return clearTimeout(g),g=setTimeout(Me,n),j(w)}return g===void 0&&(g=setTimeout(Me,n)),f}return Zn.cancel=Ot,Zn.flush=gn,Zn}const gp=Jne;class Xne extends Es{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=gp(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const n=this.document;n.on("arrowKey",(i,s)=>{n.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),n.on("arrowKey",(i,s)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const i=this.document.selection,s=new As(i.getRanges(),{backward:i.isBackward,fake:!1});(n==Rt.arrowleft||n==Rt.arrowup)&&s.setTo(s.getFirstPosition()),(n==Rt.arrowright||n==Rt.arrowdown)&&s.setTo(s.getLastPosition());const l={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}var ere="__lodash_hash_undefined__";function tre(c){return this.__data__.set(c,ere),this}const nre=tre;function rre(c){return this.__data__.has(c)}const ire=rre;function zw(c){var n=-1,i=c==null?0:c.length;for(this.__data__=new cc;++n<i;)this.add(c[n])}zw.prototype.add=zw.prototype.push=nre,zw.prototype.has=ire;const ore=zw;function sre(c,n){for(var i=-1,s=c==null?0:c.length;++i<s;)if(n(c[i],i,c))return!0;return!1}const are=sre;function cre(c,n){return c.has(n)}const lre=cre;var ure=1,dre=2;function hre(c,n,i,s,l,d){var f=i&ure,g=c.length,w=n.length;if(g!=w&&!(f&&w>g))return!1;var y=d.get(c),C=d.get(n);if(y&&C)return y==n&&C==c;var x=-1,R=!0,j=i&dre?new ore:void 0;for(d.set(c,n),d.set(n,c);++x<g;){var H=c[x],Z=n[x];if(s)var de=f?s(Z,H,x,n,c,d):s(H,Z,x,c,n,d);if(de!==void 0){if(de)continue;R=!1;break}if(j){if(!are(n,function(Me,je){if(!lre(j,je)&&(H===Me||l(H,Me,i,s,d)))return j.push(je)})){R=!1;break}}else if(!(H===Z||l(H,Z,i,s,d))){R=!1;break}}return d.delete(c),d.delete(n),R}const zO=hre;function fre(c){var n=-1,i=Array(c.size);return c.forEach(function(s,l){i[++n]=[l,s]}),i}const pre=fre;function mre(c){var n=-1,i=Array(c.size);return c.forEach(function(s){i[++n]=s}),i}const gre=mre;var bre=1,wre=2,kre="[object Boolean]",vre="[object Date]",yre="[object Error]",_re="[object Map]",Are="[object Number]",Cre="[object RegExp]",Ere="[object Set]",xre="[object String]",Sre="[object Symbol]",Tre="[object ArrayBuffer]",Ire="[object DataView]",FO=zi?zi.prototype:void 0,QC=FO?FO.valueOf:void 0;function Dre(c,n,i,s,l,d,f){switch(i){case Ire:if(c.byteLength!=n.byteLength||c.byteOffset!=n.byteOffset)return!1;c=c.buffer,n=n.buffer;case Tre:return!(c.byteLength!=n.byteLength||!d(new bw(c),new bw(n)));case kre:case vre:case Are:return oc(+c,+n);case yre:return c.name==n.name&&c.message==n.message;case Cre:case xre:return c==n+"";case _re:var g=pre;case Ere:var w=s&bre;if(g||(g=gre),c.size!=n.size&&!w)return!1;var y=f.get(c);if(y)return y==n;s|=wre,f.set(c,n);var C=zO(g(c),g(n),s,l,d,f);return f.delete(c),C;case Sre:if(QC)return QC.call(c)==QC.call(n)}return!1}const Pre=Dre;var Mre=1,Nre=Object.prototype,Rre=Nre.hasOwnProperty;function Ore(c,n,i,s,l,d){var f=i&Mre,g=rC(c),w=g.length,y=rC(n),C=y.length;if(w!=C&&!f)return!1;for(var x=w;x--;){var R=g[x];if(!(f?R in n:Rre.call(n,R)))return!1}var j=d.get(c),H=d.get(n);if(j&&H)return j==n&&H==c;var Z=!0;d.set(c,n),d.set(n,c);for(var de=f;++x<w;){R=g[x];var Me=c[R],je=n[R];if(s)var Ot=f?s(je,Me,R,n,c,d):s(Me,je,R,c,n,d);if(!(Ot===void 0?Me===je||l(Me,je,i,s,d):Ot)){Z=!1;break}de||(de=R=="constructor")}if(Z&&!de){var gn=c.constructor,Zn=n.constructor;gn!=Zn&&"constructor"in c&&"constructor"in n&&!(typeof gn=="function"&&gn instanceof gn&&typeof Zn=="function"&&Zn instanceof Zn)&&(Z=!1)}return d.delete(c),d.delete(n),Z}const Lre=Ore;var Bre=1,jO="[object Arguments]",VO="[object Array]",Fw="[object Object]",zre=Object.prototype,UO=zre.hasOwnProperty;function Fre(c,n,i,s,l,d){var f=fn(c),g=fn(n),w=f?VO:lp(c),y=g?VO:lp(n);w=w==jO?Fw:w,y=y==jO?Fw:y;var C=w==Fw,x=y==Fw,R=w==y;if(R&&ap(c)){if(!ap(n))return!1;f=!0,C=!1}if(R&&!C)return d||(d=new M),f||XA(c)?zO(c,n,i,s,l,d):Pre(c,n,w,i,s,l,d);if(!(i&Bre)){var j=C&&UO.call(c,"__wrapped__"),H=x&&UO.call(n,"__wrapped__");if(j||H){var Z=j?c.value():c,de=H?n.value():n;return d||(d=new M),l(Z,de,i,s,d)}}return R?(d||(d=new M),Lre(c,n,i,s,l,d)):!1}const jre=Fre;function $O(c,n,i,s,l){return c===n?!0:c==null||n==null||!qr(c)&&!qr(n)?c!==c&&n!==n:jre(c,n,i,s,$O,l)}const HO=$O;function Vre(c,n,i){i=typeof i=="function"?i:void 0;var s=i?i(c,n):void 0;return s===void 0?HO(c,n,void 0,i):!!s}const Ure=Vre;class qO extends Es{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.push(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const i=this.domConverter,s=new Set,l=new Set;for(const f of n){const g=i.mapDomToView(f.target);g&&(g.is("uiElement")||g.is("rawElement")||f.type==="childList"&&!this._isBogusBrMutation(f)&&l.add(g))}for(const f of n){const g=i.mapDomToView(f.target);if(!(g&&(g.is("uiElement")||g.is("rawElement")))&&f.type==="characterData"){const w=i.findCorrespondingViewText(f.target);w&&!l.has(w.parent)?s.add(w):!w&&oo(f.target)&&l.add(i.mapDomToView(f.target.parentNode))}}let d=!1;for(const f of s)d=!0,this.renderer.markToSync("text",f);for(const f of l){const g=i.mapViewToDom(f),w=Array.from(f.getChildren()),y=Array.from(i.domChildrenToView(g,{withChildren:!1}));Ure(w,y,$re)||(d=!0,this.renderer.markToSync("children",f))}d&&this.view.forceRender()}_isBogusBrMutation(n){let i=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(i=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function $re(c,n){if(!Array.isArray(c))return c===n?!0:c.is("$text")&&n.is("$text")?c.data===n.data:!1}class ZC extends dc{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),i.on("blur",(s,l)=>{const d=i.selection.editableElement;(d===null||d===l.target)&&(i.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Hre extends Es{constructor(n){super(n),this.mutationObserver=n.getObserver(qO),this.focusObserver=n.getObserver(ZC),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=gp(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=gp(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const i=n.ownerDocument,s=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},l=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",s,{priority:"highest"}),this.listenTo(n,"keydown",l,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",l,{priority:"highest",useCapture:!0}),!this._documents.has(i)&&(this.listenTo(i,"mouseup",l,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(d,f)=>{this.document.isComposing&&!A.isAndroid||(this._handleSelectionChange(f,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(n,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(s);if(l.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(l)&&this.domConverter.isDomSelectionCorrect(s))&&!(++this._loopbackCounter>60))if(this.focusObserver.flush(),this.selection.isSimilar(l))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:l,domSelection:s};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class qre extends dc{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class WO{constructor(n,i={}){this._files=i.cacheFiles?GO(n):null,this._native=n}get files(){return this._files||(this._files=GO(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,i){this._native.setData(n,i)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function GO(c){const n=Array.from(c.files||[]),i=Array.from(c.items||[]);return n.length?n:i.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class Wre extends dc{constructor(n){super(n),this.domEventType=["beforeinput"]}onDomEvent(n){const i=n.getTargetRanges(),s=this.view,l=s.document;let d=null,f=null,g=[];if(n.dataTransfer&&(d=new WO(n.dataTransfer)),n.data!==null?f=n.data:d&&(f=d.getData("text/plain")),l.selection.isFake)g=Array.from(l.selection.getRanges());else if(i.length)g=i.map(w=>s.domConverter.domRangeToView(w));else if(A.isAndroid){const w=n.target.ownerDocument.defaultView.getSelection();g=Array.from(s.domConverter.domSelectionToView(w).getRanges())}if(A.isAndroid&&n.inputType=="insertCompositionText"&&f&&f.endsWith(`
`)){this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[s.createRange(g[0].end)]});return}if(n.inputType=="insertText"&&f&&f.includes(`
`)){const w=f.split(/\n{1,2}/g);let y=g;for(let C=0;C<w.length;C++){const x=w[C];x!=""&&(this.fire(n.type,n,{data:x,dataTransfer:d,targetRanges:y,inputType:n.inputType,isComposing:n.isComposing}),y=[l.selection.getFirstRange()]),C+1<w.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:y}),y=[l.selection.getFirstRange()])}return}this.fire(n.type,n,{data:f,dataTransfer:d,targetRanges:g,inputType:n.inputType,isComposing:n.isComposing})}}class Gre extends Es{constructor(n){super(n),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&UX(s.keyCode)){const l=new Bd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,s),l.stop.called&&i.stop()}})}observe(){}}class Kre extends Es{constructor(n){super(n);const i=this.document;i.on("keydown",(s,l)=>{if(!this.isEnabled||l.keyCode!=Rt.tab||l.ctrlKey)return;const d=new Bd(i,"tab",i.selection.getFirstRange());i.fire(d,l),d.stop.called&&s.stop()})}observe(){}}class Yre extends Pe(){constructor(n){super(),this.document=new Nw(n),this.domConverter=new Bw(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Cne(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new bO(this.document),this.addObserver(qO),this.addObserver(ZC),this.addObserver(Hre),this.addObserver(Lne),this.addObserver(Xne),this.addObserver(qre),this.addObserver(Gre),this.addObserver(Wre),this.addObserver(Kre),_ne(this),pne(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(n,i="main"){const s=this.document.getRoot(i);s._name=n.tagName.toLowerCase();const l={};for(const{name:f,value:g}of Array.from(n.attributes))l[f]=g,f==="class"?this._writer.addClass(g.split(" "),s):this._writer.setAttribute(f,g,s);this._initialDomRootAttributes.set(n,l);const d=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};d(),this.domRoots.set(i,n),this.domConverter.bindElements(n,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(n.ownerDocument),s.on("change:children",(f,g)=>this._renderer.markToSync("children",g)),s.on("change:attributes",(f,g)=>this._renderer.markToSync("attributes",g)),s.on("change:text",(f,g)=>this._renderer.markToSync("text",g)),s.on("change:isReadOnly",()=>this.change(d)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(n,i)}detachDomRoot(n){const i=this.domRoots.get(n);Array.from(i.attributes).forEach(({name:l})=>i.removeAttribute(l));const s=this._initialDomRootAttributes.get(i);for(const l in s)i.setAttribute(l,s[l]);this.domRoots.delete(n),this.domConverter.unbindDomElement(i)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let i=this._observers.get(n);if(i)return i;i=new n(this),this._observers.set(n,i);for(const[s,l]of this.domRoots)i.observe(l,s);return i.enable(),i}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection(){const n=this.document.selection.getFirstRange();n&&LX({target:this.domConverter.viewRangeToDom(n),viewportOffset:20})}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new S("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const i=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){S.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ZC).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,i){return Ie._createAt(n,i)}createPositionAfter(n){return Ie._createAfter(n)}createPositionBefore(n){return Ie._createBefore(n)}createRange(...n){return new ht(...n)}createRangeOn(n){return ht._createOn(n)}createRangeIn(n){return ht._createIn(n)}createSelection(...n){return new As(...n)}_disableRendering(n){this._renderingDisabled=n,n==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class hc{is(){throw new Error("is() method is abstract")}}class jd extends hc{constructor(n){super(),this.parent=null,this._attrs=vs(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new S("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new S("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let i=this;for(;i.parent;)n.unshift(i.startOffset),i=i.parent;return n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(n,i={}){const s=this.getAncestors(i),l=n.getAncestors(i);let d=0;for(;s[d]==l[d]&&s[d];)d++;return d===0?null:s[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const i=this.getPath(),s=n.getPath(),l=Tn(i,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<s[l]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,i){this._attrs.set(n,i)}_setAttributesTo(n){this._attrs=vs(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}jd.prototype.is=function(c){return c==="node"||c==="model:node"};class bp{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,i)=>n+i.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const i=this._nodes.indexOf(n);return i==-1?null:i}getNodeStartOffset(n){const i=this.getNodeIndex(n);return i===null?null:this._nodes.slice(0,i).reduce((s,l)=>s+l.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const i=this._nodes[n];if(!i)throw new S("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(n){let i=0;for(const s of this._nodes){if(n>=i&&n<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=n)throw new S("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,i){for(const s of i)if(!(s instanceof jd))throw new S("model-nodelist-insertnodes-not-node",this);this._nodes=tee(this._nodes,Array.from(i),n,0)}_removeNodes(n,i=1){return this._nodes.splice(n,i)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class sn extends jd{constructor(n,i){super(i),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new sn(this.data,this.getAttributes())}static fromJSON(n){return new sn(n.data,n.attributes)}}sn.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class Xo extends hc{constructor(n,i,s){if(super(),this.textNode=n,i<0||i>n.offsetSize)throw new S("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>n.offsetSize)throw new S("model-textproxy-wrong-length",this);this.data=n.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const i=[];let s=n.includeSelf?this:this.parent;for(;s;)i[n.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Xo.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class Yt extends jd{constructor(n,i,s){super(i),this._children=new bp,this.name=n,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let i=this;for(const s of n)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(n,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===n)return s;s=s.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const i of this._children)n.children.push(i.toJSON())}return n}_clone(n=!1){const i=n?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new Yt(this.name,this.getAttributes(),i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const s=Qre(i);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,i=1){const s=this._children._removeNodes(n,i);for(const l of s)l.parent=null;return s}static fromJSON(n){let i;if(n.children){i=[];for(const s of n.children)s.name?i.push(Yt.fromJSON(s)):i.push(sn.fromJSON(s))}return new Yt(n.name,n.attributes,i)}}Yt.prototype.is=function(c,n){return n?n===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};function Qre(c){return typeof c=="string"?[new sn(c)]:(Gn(c)||(c=[c]),Array.from(c).map(n=>typeof n=="string"?new sn(n):n instanceof Xo?new sn(n.data,n.getAttributes()):n))}class xs{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new S("model-tree-walker-no-start-position",null);const i=n.direction||"forward";if(i!="forward"&&i!="backward")throw new S("model-tree-walker-unknown-direction",n,{direction:i});this.direction=i,this.boundaries=n.boundaries||null,n.startPosition?this.position=n.startPosition.clone():this.position=be._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(n){let i,s,l,d;do l=this.position,d=this._visitedParent,{done:i,value:s}=this.next();while(!i&&n(s));i||(this.position=l,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=wp(i,s),d=l||KO(i,s,l);if(d instanceof Yt)return this.shallow?i.offset++:(i.path.push(0),this._visitedParent=d),this.position=i,Yl("elementStart",d,n,i,1);if(d instanceof sn){let f;if(this.singleCharacters)f=1;else{let y=d.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<y&&(y=this.boundaries.end.offset),f=y-i.offset}const g=i.offset-d.startOffset,w=new Xo(d,g,f);return i.offset+=f,this.position=i,Yl("text",w,n,i,f)}else return i.path.pop(),i.offset++,this.position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Yl("elementEnd",s,n,i)}_previous(){const n=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=i.parent,d=wp(i,l),f=d||YO(i,l,d);if(f instanceof Yt)return i.offset--,this.shallow?(this.position=i,Yl("elementStart",f,n,i,1)):(i.path.push(f.maxOffset),this.position=i,this._visitedParent=f,this.ignoreElementEnd?this._previous():Yl("elementEnd",f,n,i));if(f instanceof sn){let g;if(this.singleCharacters)g=1;else{let C=f.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>C&&(C=this.boundaries.start.offset),g=i.offset-C}const w=i.offset-f.startOffset,y=new Xo(f,w-g,g);return i.offset-=g,this.position=i,Yl("text",y,n,i,g)}else return i.path.pop(),this.position=i,this._visitedParent=s.parent,Yl("elementStart",s,n,i,1)}}function Yl(c,n,i,s,l){return{done:!1,value:{type:c,item:n,previousPosition:i,nextPosition:s,length:l}}}class be extends hc{constructor(n,i,s="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new S("model-position-root-invalid",n);if(!(i instanceof Array)||i.length===0)throw new S("model-position-path-incorrect-format",n,{path:i});n.is("rootElement")?i=i.slice():(i=[...n.getPath(),...i],n=n.root),this.root=n,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let i=0;i<this.path.length-1;i++)if(n=n.getChild(n.offsetToIndex(this.path[i])),!n)throw new S("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new S("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return wp(this,this.parent)}get nodeAfter(){const n=this.parent;return KO(this,n,wp(this,n))}get nodeBefore(){const n=this.parent;return YO(this,n,wp(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const i=Tn(this.path,n.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<n.path[i]?"before":"after"}}getLastMatchingPosition(n,i={}){i.startPosition=this;const s=new xs(i);return s.skip(n),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const i=this.parent;return i.is("element")?i.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const i=Tn(this.path,n.path),s=typeof i=="string"?Math.min(this.path.length,n.path.length):i;return this.path.slice(0,s)}getCommonAncestor(n){const i=this.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]==s[l]&&i[l];)l++;return l===0?null:i[l-1]}getShiftedBy(n){const i=this.clone(),s=i.offset+n;return i.offset=s<0?0:s,i}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const i=Math.min(this.path.length,n.path.length);for(let s=0;s<i;s++){const l=this.path[s]-n.path[s];if(l<-1||l>1)return!1;if(l===1)return QO(n,this,s);if(l===-1)return QO(this,n,s)}return this.path.length===n.path.length?!0:this.path.length>n.path.length?JC(this.path,i):JC(n.path,i)}hasSameParentAs(n){if(this.root!==n.root)return!1;const i=this.getParentPath(),s=n.getParentPath();return Tn(i,s)=="same"}getTransformedByOperation(n){let i;switch(n.type){case"insert":i=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(n);break;case"split":i=this._getTransformedBySplitOperation(n);break;case"merge":i=this._getTransformedByMergeOperation(n);break;default:i=be._createAt(this);break}return i}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const i=n.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const i=n.movedRange,s=i.containsPosition(this)||i.start.isEqual(this);let l;return s?(l=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(l=l._getTransformedByDeletion(n.deletionPosition,1))):this.isEqual(n.deletionPosition)?l=be._createAt(n.deletionPosition):l=this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),l}_getTransformedByDeletion(n,i){const s=be._createAt(this);if(this.root!=n.root)return s;if(Tn(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+i>this.offset)return null;s.offset-=i}}else if(Tn(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;if(n.offset<=this.path[l]){if(n.offset+i>this.path[l])return null;s.path[l]-=i}}return s}_getTransformedByInsertion(n,i){const s=be._createAt(this);if(this.root!=n.root)return s;if(Tn(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(Tn(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;n.offset<=this.path[l]&&(s.path[l]+=i)}return s}_getTransformedByMove(n,i,s){if(i=i._getTransformedByDeletion(n,s),n.isEqual(i))return be._createAt(this);const l=this._getTransformedByDeletion(n,s);return l===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,i):l._getTransformedByInsertion(i,s)}_getCombined(n,i){const s=n.path.length-1,l=be._createAt(i);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[s]-n.offset,l.path=[...l.path,...this.path.slice(s+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,i,s="toNone"){if(n instanceof be)return new be(n.root,n.path,n.stickiness);{const l=n;if(i=="end")i=l.maxOffset;else{if(i=="before")return this._createBefore(l,s);if(i=="after")return this._createAfter(l,s);if(i!==0&&!i)throw new S("model-createpositionat-offset-required",[this,n])}if(!l.is("element")&&!l.is("documentFragment"))throw new S("model-position-parent-incorrect",[this,n]);const d=l.getPath();return d.push(i),new this(l.root,d,s)}}static _createAfter(n,i){if(!n.parent)throw new S("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,i)}static _createBefore(n,i){if(!n.parent)throw new S("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,i)}static fromJSON(n,i){if(n.root==="$graveyard"){const s=new be(i.graveyard,n.path);return s.stickiness=n.stickiness,s}if(!i.getRoot(n.root))throw new S("model-position-fromjson-no-root",i,{rootName:n.root});return new be(i.getRoot(n.root),n.path,n.stickiness)}}be.prototype.is=function(c){return c==="position"||c==="model:position"};function wp(c,n){const i=n.getChild(n.offsetToIndex(c.offset));return i&&i.is("$text")&&i.startOffset<c.offset?i:null}function KO(c,n,i){return i!==null?null:n.getChild(n.offsetToIndex(c.offset))}function YO(c,n,i){return i!==null?null:n.getChild(n.offsetToIndex(c.offset)-1)}function QO(c,n,i){return!(i+1===c.path.length||!JC(n.path,i+1)||!Zre(c,i+1))}function JC(c,n){for(;n<c.length;){if(c[n]!==0)return!1;n++}return!0}function Zre(c,n){let i=c.parent,s=c.path.length-1,l=0;for(;s>=n;){if(c.path[s]+l!==i.maxOffset)return!1;l=1,s--,i=i.parent}return!0}class se extends hc{constructor(n,i){super(),this.start=be._createAt(n),this.end=i?be._createAt(i):be._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new xs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const n=this.start.getParentPath(),i=this.end.getParentPath();return Tn(n,i)=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,i=!1){n.isCollapsed&&(i=!1);const s=this.containsPosition(n.start)||i&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||i&&this.end.isEqual(n.end);return s&&l}containsItem(n){const i=be._createBefore(n);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const i=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&i.push(new se(this.start,n.start)),this.containsPosition(n.end)&&i.push(new se(n.end,this.end))):i.push(new se(this.start,this.end)),i}getIntersection(n){if(this.isIntersecting(n)){let i=this.start,s=this.end;return this.containsPosition(n.start)&&(i=n.start),this.containsPosition(n.end)&&(s=n.end),new se(i,s)}return null}getJoined(n,i=!1){let s=this.isIntersecting(n);if(s||(this.start.isBefore(n.start)?s=i?this.end.isTouching(n.start):this.end.isEqual(n.start):s=i?n.end.isTouching(this.start):n.end.isEqual(this.start)),!s)return null;let l=this.start,d=this.end;return n.start.isBefore(l)&&(l=n.start),n.end.isAfter(d)&&(d=n.end),new se(l,d)}getMinimalFlatRanges(){const n=[],i=this.start.getCommonPath(this.end).length,s=be._createAt(this.start);let l=s.parent;for(;s.path.length>i+1;){const d=l.maxOffset-s.offset;d!==0&&n.push(new se(s,s.getShiftedBy(d))),s.path=s.path.slice(0,-1),s.offset++,l=l.parent}for(;s.path.length<=this.end.path.length;){const d=this.end.path[s.path.length-1],f=d-s.offset;f!==0&&n.push(new se(s,s.getShiftedBy(f))),s.offset=d,s.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new xs(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const i=new xs(n);for(const s of i)yield s.item}*getPositions(n={}){n.boundaries=this;const i=new xs(n);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new se(this.start,this.end)]}getTransformedByOperations(n){const i=[new se(this.start,this.end)];for(const s of n)for(let l=0;l<i.length;l++){const d=i[l].getTransformedByOperation(s);i.splice(l,1,...d),l+=d.length-1}for(let s=0;s<i.length;s++){const l=i[s];for(let d=s+1;d<i.length;d++){const f=i[d];(l.containsRange(f)||f.containsRange(l)||l.isEqual(f))&&i.splice(d,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,i=this.end.nodeBefore;return n&&n.is("element")&&n===i?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,i=!1){return this._getTransformedByInsertion(n.position,n.howMany,i)}_getTransformedByMoveOperation(n,i=!1){const s=n.sourcePosition,l=n.howMany,d=n.targetPosition;return this._getTransformedByMove(s,d,l,i)}_getTransformedBySplitOperation(n){const i=this.start._getTransformedBySplitOperation(n);let s=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new se(i,s)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new se(this.start);let i=this.start._getTransformedByMergeOperation(n),s=this.end._getTransformedByMergeOperation(n);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(n.sourcePosition.isBefore(n.targetPosition)?(i=be._createAt(s),i.offset=0):(n.deletionPosition.isEqual(i)||(s=n.deletionPosition),i=n.targetPosition),new se(i,s)):new se(i,s)}_getTransformedByInsertion(n,i,s=!1){if(s&&this.containsPosition(n))return[new se(this.start,n),new se(n.getShiftedBy(i),this.end._getTransformedByInsertion(n,i))];{const l=new se(this.start,this.end);return l.start=l.start._getTransformedByInsertion(n,i),l.end=l.end._getTransformedByInsertion(n,i),[l]}}_getTransformedByMove(n,i,s,l=!1){if(this.isCollapsed){const x=this.start._getTransformedByMove(n,i,s);return[new se(x)]}const d=se._createFromPositionAndShift(n,s),f=i._getTransformedByDeletion(n,s);if(this.containsPosition(i)&&!l&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const x=this.start._getTransformedByMove(n,i,s),R=this.end._getTransformedByMove(n,i,s);return[new se(x,R)]}let g;const w=this.getDifference(d);let y=null;const C=this.getIntersection(d);if(w.length==1?y=new se(w[0].start._getTransformedByDeletion(n,s),w[0].end._getTransformedByDeletion(n,s)):w.length==2&&(y=new se(this.start,this.end._getTransformedByDeletion(n,s))),y?g=y._getTransformedByInsertion(f,s,C!==null||l):g=[],C){const x=new se(C.start._getCombined(d.start,f),C.end._getCombined(d.start,f));g.length==2?g.splice(1,0,x):g.push(x)}return g}_getTransformedByDeletion(n,i){let s=this.start._getTransformedByDeletion(n,i),l=this.end._getTransformedByDeletion(n,i);return s==null&&l==null?null:(s==null&&(s=n),l==null&&(l=n),new se(s,l))}static _createFromPositionAndShift(n,i){const s=n,l=n.getShiftedBy(i);return i>0?new this(s,l):new this(l,s)}static _createIn(n){return new this(be._createAt(n,0),be._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(be._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new S("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const i=n[0];n.sort((d,f)=>d.start.isAfter(f.start)?1:-1);const s=n.indexOf(i),l=new this(i.start,i.end);if(s>0)for(let d=s-1;n[d].end.isEqual(l.start);d++)l.start=be._createAt(n[d].start);for(let d=s+1;d<n.length&&n[d].start.isEqual(l.end);d++)l.end=be._createAt(n[d].end);return l}static fromJSON(n,i){return new this(be.fromJSON(n.start,i),be.fromJSON(n.end,i))}}se.prototype.is=function(c){return c==="range"||c==="model:range"};class ZO extends B(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new S("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),l=this._viewToModelMapping.get(s),d=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=be._createAt(l,d)},{priority:"low"})}bindElements(n,i){this._modelToViewMapping.set(n,i),this._viewToModelMapping.set(i,n)}unbindViewElement(n,i={}){const s=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const l of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(l);i.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(s)==n&&this._modelToViewMapping.delete(s))}unbindModelElement(n){const i=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(i)==n&&this._viewToModelMapping.delete(i)}bindElementToMarker(n,i){const s=this._markerNameToElements.get(i)||new Set;s.add(n);const l=this._elementToMarkerNames.get(n)||new Set;l.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(n,l)}unbindElementFromMarkerName(n,i){const s=this._markerNameToElements.get(i);s&&(s.delete(n),s.size==0&&this._markerNameToElements.delete(i));const l=this._elementToMarkerNames.get(n);l&&(l.delete(i),l.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,i]of this._deferredBindingRemovals)n.root==i&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new se(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new ht(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const i={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(n,i={}){const s={modelPosition:n,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(n){const i=this._markerNameToElements.get(n);if(!i)return null;const s=new Set;for(const l of i)if(l.is("attributeElement"))for(const d of l.getElementsWithSameId())s.add(d);else s.add(l);return s}registerViewToModelLength(n,i){this._viewToModelLengthCallbacks.set(n,i)}findMappedViewAncestor(n){let i=n.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(n,i,s){if(s!=n){const d=this._toModelOffset(n.parent,n.index,s),f=this._toModelOffset(n,i,n);return d+f}if(n.is("$text"))return i;let l=0;for(let d=0;d<i;d++)l+=this.getModelLength(n.getChild(d));return l}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let i=0;for(const s of n.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(n,i){let s,l=0,d=0,f=0;if(n.is("$text"))return new Ie(n,i);for(;d<i;)s=n.getChild(f),l=this.getModelLength(s),d+=l,f++;return d==i?this._moveViewPositionToTextNode(new Ie(n,f)):this.findPositionIn(s,i-(d-l))}_moveViewPositionToTextNode(n){const i=n.nodeBefore,s=n.nodeAfter;return i instanceof on?new Ie(i,i.data.length):s instanceof on?new Ie(s,0):n}}class Jre{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,i){i=jw(i),n instanceof Xo&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(i,!0)}consume(n,i){return i=jw(i),n instanceof Xo&&(n=this._getSymbolForTextProxy(n)),this.test(n,i)?(this._consumable.get(n).set(i,!1),!0):!1}test(n,i){i=jw(i),n instanceof Xo&&(n=this._getSymbolForTextProxy(n));const s=this._consumable.get(n);if(s===void 0)return null;const l=s.get(i);return l===void 0?null:l}revert(n,i){i=jw(i),n instanceof Xo&&(n=this._getSymbolForTextProxy(n));const s=this.test(n,i);return s===!1?(this._consumable.get(n).set(i,!0),!0):s===!0?!1:null}verifyAllConsumed(n){const i=[];for(const[s,l]of this._consumable)for(const[d,f]of l){const g=d.split(":")[0];f&&n==g&&i.push({event:d,item:s.name||s.description})}if(i.length)throw new S("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(n){let i=null;const s=this._textProxyRegistry.get(n.startOffset);if(s){const l=s.get(n.endOffset);l&&(i=l.get(n.parent))}return i||(i=this._addSymbolForTextProxy(n)),i}_addSymbolForTextProxy(n){const i=n.startOffset,s=n.endOffset,l=n.parent,d=Symbol("$textProxy:"+n.data);let f,g;return f=this._textProxyRegistry.get(i),f||(f=new Map,this._textProxyRegistry.set(i,f)),g=f.get(s),g||(g=new Map,f.set(s,g)),g.set(l,d),d}}function jw(c){const n=c.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?c:n.length>1?n[0]+":"+n[1]:n[0]}class JO extends B(){constructor(n){super(),this._conversionApi={dispatcher:this,...n},this._firedEventsMap=new WeakMap}convertChanges(n,i,s){const l=this._createConversionApi(s,n.getRefreshedItems());for(const f of n.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,l);const d=this._reduceChanges(n.getChanges());for(const f of d)f.type==="insert"?this._convertInsert(se._createFromPositionAndShift(f.position,f.length),l):f.type==="reinsert"?this._convertReinsert(se._createFromPositionAndShift(f.position,f.length),l):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,l):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,l);for(const f of l.mapper.flushUnboundMarkerNames()){const g=i.get(f).getRange();this._convertMarkerRemove(f,g,l),this._convertMarkerAdd(f,g,l)}for(const f of n.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(n,i,s,l={}){const d=this._createConversionApi(s,void 0,l);this._convertInsert(n,d);for(const[f,g]of i)this._convertMarkerAdd(f,g,d);d.consumable.verifyAllConsumed("insert")}convertSelection(n,i,s){const l=Array.from(i.getMarkersAtPosition(n.getFirstPosition())),d=this._createConversionApi(s);if(this._addConsumablesForSelection(d.consumable,n,l),this.fire("selection",{selection:n},d),!!n.isCollapsed){for(const f of l){const g=f.getRange();if(!Xre(n.getFirstPosition(),f,d.mapper))continue;const w={item:n,markerName:f.name,markerRange:g};d.consumable.test(n,"addMarker:"+f.name)&&this.fire(`addMarker:${f.name}`,w,d)}for(const f of n.getAttributeKeys()){const g={item:n,range:n.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:n.getAttribute(f)};d.consumable.test(n,"attribute:"+g.attributeKey)&&this.fire(`attribute:${g.attributeKey}:$text`,g,d)}}}_convertInsert(n,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,Array.from(n));for(const l of Array.from(n.getWalker({shallow:!0})).map(XO))this._testAndFire("insert",l,i)}_convertRemove(n,i,s,l){this.fire(`remove:${s}`,{position:n,length:i},l)}_convertAttribute(n,i,s,l,d){this._addConsumablesForRange(d.consumable,n,`attribute:${i}`);for(const f of n){const g={item:f.item,range:se._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:i,attributeOldValue:s,attributeNewValue:l};this._testAndFire(`attribute:${i}`,g,d)}}_convertReinsert(n,i){const s=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const l of s.map(XO))this._testAndFire("insert",{...l,reconversion:!0},i)}_convertMarkerAdd(n,i,s){if(i.root.rootName=="$graveyard")return;const l=`addMarker:${n}`;if(s.consumable.add(i,l),this.fire(l,{markerName:n,markerRange:i},s),!!s.consumable.consume(i,l)){this._addConsumablesForRange(s.consumable,i,l);for(const d of i.getItems()){if(!s.consumable.test(d,l))continue;const f={item:d,range:se._createOn(d),markerName:n,markerRange:i};this.fire(l,f,s)}}}_convertMarkerRemove(n,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:i},s)}_reduceChanges(n){const i={changes:n};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(n,i){for(const s of i){const l=s.item;if(n.test(l,"insert")===null){n.add(l,"insert");for(const d of l.getAttributeKeys())n.add(l,"attribute:"+d)}}return n}_addConsumablesForRange(n,i,s){for(const l of i.getItems())n.add(l,s);return n}_addConsumablesForSelection(n,i,s){n.add(i,"selection");for(const l of s)n.add(i,"addMarker:"+l.name);for(const l of i.getAttributeKeys())n.add(i,"attribute:"+l);return n}_testAndFire(n,i,s){const l=eie(n,i),d=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,f=this._firedEventsMap.get(s),g=f.get(d);if(!g)f.set(d,new Set([l]));else if(!g.has(l))g.add(l);else return;this.fire(l,i,s)}_testAndFireAddAttributes(n,i){const s={item:n,range:se._createOn(n)};for(const l of s.item.getAttributeKeys())s.attributeKey=l,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(l),this._testAndFire(`attribute:${l}`,s,i)}_createConversionApi(n,i=new Set,s={}){const l={...this._conversionApi,consumable:new Jre,writer:n,options:s,convertItem:d=>this._convertInsert(se._createOn(d),l),convertChildren:d=>this._convertInsert(se._createIn(d),l,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,l),canReuseView:d=>!i.has(l.mapper.toModelElement(d))};return this._firedEventsMap.set(l,new Map),l}}function Xre(c,n,i){const s=n.getRange(),l=Array.from(c.getAncestors());return l.shift(),l.reverse(),!l.some(f=>{if(s.containsItem(f))return!!i.toViewElement(f).getCustomProperty("addHighlight")})}function eie(c,n){const i=n.item.is("element")?n.item.name:"$text";return`${c}:${i}`}function XO(c){const n=c.item,i=se._createFromPositionAndShift(c.previousPosition,c.length);return{item:n,range:i}}class Ss extends B(hc){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const i of this._ranges){let s=!1;for(const l of n._ranges)if(i.isEqual(l)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new se(n.start,n.end)}getFirstRange(){let n=null;for(const i of this._ranges)(!n||i.start.isBefore(n.start))&&(n=i);return n?new se(n.start,n.end):null}getLastRange(){let n=null;for(const i of this._ranges)(!n||i.end.isAfter(n.end))&&(n=i);return n?new se(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[i,s,l]=n;if(typeof s=="object"&&(l=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Ss)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof se)this._setRanges([i],!!l&&!!l.backward);else if(i instanceof be)this._setRanges([new se(i)]);else if(i instanceof jd){const d=!!l&&!!l.backward;let f;if(s=="in")f=se._createIn(i);else if(s=="on")f=se._createOn(i);else if(s!==void 0)f=new se(be._createAt(i,s));else throw new S("model-selection-setto-required-second-parameter",[this,i]);this._setRanges([f],d)}else if(Gn(i))this._setRanges(i,l&&!!l.backward);else throw new S("model-selection-setto-not-selectable",[this,i])}_setRanges(n,i=!1){const s=Array.from(n),l=s.some(d=>{if(!(d instanceof se))throw new S("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(f=>!f.isEqual(d))});s.length===this._ranges.length&&!l||(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(n,i){if(this.anchor===null)throw new S("model-selection-setfocus-no-ranges",[this,n]);const s=be._createAt(n,i);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(l)=="before"?(this._pushRange(new se(s,l)),this._lastRangeBackward=!0):(this._pushRange(new se(l,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,i){this.getAttribute(n)!==i&&(this._attrs.set(n,i),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const i of this.getRanges()){const s=tL(i.start,n);s&&XC(s,i)&&(yield s);for(const d of i.getWalker()){const f=d.item;d.type=="elementEnd"&&tie(f,n,i)&&(yield f)}const l=tL(i.end,n);l&&!i.end.isTouching(be._createAt(l,0))&&XC(l,i)&&(yield l)}}containsEntireContent(n=this.anchor.root){const i=be._createAt(n,0),s=be._createAt(n,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new se(n.start,n.end))}_checkRange(n){for(let i=0;i<this._ranges.length;i++)if(n.isIntersecting(this._ranges[i]))throw new S("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[i]})}_replaceAllRanges(n){this._removeAllRanges();for(const i of n)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Ss.prototype.is=function(c){return c==="selection"||c==="model:selection"};function eL(c,n){return n.has(c)?!1:(n.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function tie(c,n,i){return eL(c,n)&&XC(c,i)}function tL(c,n){const s=c.parent.root.document.model.schema,l=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const f=l.find(g=>d?!1:(d=s.isLimit(g),!d&&eL(g,n)));return l.forEach(g=>n.add(g)),f}function XC(c,n){const i=nie(c);return i?!n.containsRange(se._createOn(i),!0):!0}function nie(c){const n=c.root.document.model.schema;let i=c.parent;for(;i;){if(n.isBlock(i))return i;i=i.parent}}class es extends B(se){constructor(n,i){super(n,i),rie.call(this)}detach(){this.stopListening()}toRange(){return new se(this.start,this.end)}static fromRange(n){return new es(n.start,n.end)}}es.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};function rie(){this.listenTo(this.root.document.model,"applyOperation",(c,n)=>{const i=n[0];i.isDocumentOperation&&iie.call(this,i)},{priority:"low"})}function iie(c){const n=this.getTransformedByOperation(c),i=se._createFromRanges(n),s=!i.isEqual(this),l=oie(this,c);let d=null;if(s){i.root.rootName=="$graveyard"&&(c.type=="remove"?d=c.sourcePosition:d=c.deletionPosition);const f=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",f,{deletionPosition:d})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:d})}function oie(c,n){switch(n.type){case"insert":return c.containsPosition(n.position);case"move":case"remove":case"reinsert":case"merge":return c.containsPosition(n.sourcePosition)||c.start.isEqual(n.sourcePosition)||c.containsPosition(n.targetPosition);case"split":return c.containsPosition(n.splitPosition)||c.containsPosition(n.insertionPosition)}return!1}const kp="selection:";class Co extends B(hc){constructor(n){super(),this._selection=new sie(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,i){this._selection.setFocus(n,i)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,i){this._selection.setAttribute(n,i)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return kp+n}static _isStoreAttributeKey(n){return n.startsWith(kp)}}Co.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class sie extends Ss{constructor(n){super(),this.markers=new yi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(i,s)=>{const l=s[0];!l.isDocumentOperation||l.type=="marker"||l.type=="rename"||l.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,l,d)=>{this._updateMarker(s,d)}),this.listenTo(this._document,"change",(i,s)=>{aie(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,i){super.setFocus(n,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,i){if(this._setAttribute(n,i)){const s=[n];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const n=pe();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new S("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const i=this._prepareRange(n);i&&this._ranges.push(i)}_validateSelectionRanges(n){for(const i of n)if(!this._document._validateSelectionRange(i))throw new S("document-selection-wrong-position",this,{range:i})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const i=es.fromRange(n);return i.on("change:range",(s,l,d)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const f=this._ranges.indexOf(i);this._ranges.splice(f,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let i=!1;for(const l of this._model.markers){const d=l.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const f=l.getRange();for(const g of this.getRanges())f.containsRange(g,!g.isCollapsed)&&n.push(l)}const s=Array.from(this.markers);for(const l of n)this.markers.has(l)||(this.markers.add(l),i=!0);for(const l of Array.from(this.markers))n.includes(l)||(this.markers.remove(l),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(n,i){const s=n.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let l=!1;const d=Array.from(this.markers),f=this.markers.has(n);if(!i)f&&(this.markers.remove(n),l=!0);else{let g=!1;for(const w of this.getRanges())if(i.containsRange(w,!w.isCollapsed)){g=!0;break}g&&!f?(this.markers.add(n),l=!0):!g&&f&&(this.markers.remove(n),l=!0)}l&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(n){const i=vs(this._getSurroundingAttributes()),s=vs(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,f]of this._attributePriority)f=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(i);const l=[];for(const[d,f]of this.getAttributes())(!s.has(d)||s.get(d)!==f)&&l.push(d);for(const[d]of s)this.hasAttribute(d)||l.push(d);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(n,i,s=!0){const l=s?"normal":"low";return l=="low"&&this._attributePriority.get(n)=="normal"||super.getAttribute(n)===i?!1:(this._attrs.set(n,i),this._attributePriority.set(n,l),!0)}_removeAttribute(n,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(n)=="normal"||(this._attributePriority.set(n,s),!super.hasAttribute(n))?!1:(this._attrs.delete(n),!0)}_setAttributesTo(n){const i=new Set;for(const[s,l]of this.getAttributes())n.get(s)!==l&&this._removeAttribute(s,!1);for(const[s,l]of n)this._setAttribute(s,l,!1)&&i.add(s);return i}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const i of n.getAttributeKeys())i.startsWith(kp)&&(yield[i.substr(kp.length),n.getAttribute(i)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),i=this._model.schema;let s=null;if(this.isCollapsed){const l=n.textNode?n.textNode:n.nodeBefore,d=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(s=Vw(l)),s||(s=Vw(d)),!this.isGravityOverridden&&!s){let f=l;for(;f&&!i.isInline(f)&&!s;)f=f.previousSibling,s=Vw(f)}if(!s){let f=d;for(;f&&!i.isInline(f)&&!s;)f=f.nextSibling,s=Vw(f)}s||(s=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const d of l){if(d.item.is("element")&&i.isObject(d.item))break;if(d.type=="text"){s=d.item.getAttributes();break}}}return s}_fixGraveyardSelection(n){const i=this._model.schema.getNearestSelectionRange(n);i&&this._pushRange(i)}}function Vw(c){return c instanceof Xo||c instanceof sn?c.getAttributes():null}function aie(c,n){const i=c.document.differ;for(const s of i.getChanges()){if(s.type!="insert")continue;const l=s.position.parent;s.length===l.maxOffset&&c.enqueueChange(n,f=>{const g=Array.from(l.getAttributeKeys()).filter(w=>w.startsWith(kp));for(const w of g)f.removeAttribute(w,l)})}}class nL{constructor(n){this._dispatchers=n}add(n){for(const i of this._dispatchers)n(i);return this}}var cie=1,lie=4;function uie(c){return lC(c,cie|lie)}const Ql=uie;class die extends nL{elementToElement(n){return this.add(Iie(n))}elementToStructure(n){return this.add(Die(n))}attributeToElement(n){return this.add(Pie(n))}attributeToAttribute(n){return this.add(Mie(n))}markerToElement(n){return this.add(Nie(n))}markerToHighlight(n){return this.add(Oie(n))}markerToData(n){return this.add(Rie(n))}}function rL(){return(c,n,i)=>{if(!i.consumable.consume(n.item,c.name))return;const s=i.writer,l=i.mapper.toViewPosition(n.range.start),d=s.createText(n.item.data);s.insert(l,d)}}function iL(){return(c,n,i)=>{i.convertAttributes(n.item),!n.reconversion&&n.item.is("element")&&!n.item.isEmpty&&i.convertChildren(n.item)}}function hie(){return(c,n,i)=>{const s=i.mapper.toViewPosition(n.position),l=n.position.getShiftedBy(n.length),d=i.mapper.toViewPosition(l,{isPhantom:!0}),f=i.writer.createRange(s,d),g=i.writer.remove(f.getTrimmed());for(const w of i.writer.createRangeIn(g).getItems())i.mapper.unbindViewElement(w,{defer:!0})}}function oL(c,n){const i=c.createAttributeElement("span",n.attributes);return n.classes&&i._addClass(n.classes),typeof n.priority=="number"&&(i._priority=n.priority),i._id=n.id,i}function fie(){return(c,n,i)=>{const s=n.selection;if(s.isCollapsed||!i.consumable.consume(s,"selection"))return;const l=[];for(const d of s.getRanges())l.push(i.mapper.toViewRange(d));i.writer.setSelection(l,{backward:s.isBackward})}}function pie(){return(c,n,i)=>{const s=n.selection;if(!s.isCollapsed||!i.consumable.consume(s,"selection"))return;const l=i.writer,d=s.getFirstPosition(),f=i.mapper.toViewPosition(d),g=l.breakAttributes(f);l.setSelection(g)}}function mie(){return(c,n,i)=>{const s=i.writer,l=s.document.selection;for(const d of l.getRanges())d.isCollapsed&&d.end.parent.isAttached()&&i.writer.mergeAttributes(d.start);s.setSelection(null)}}function gie(c){return(n,i,s)=>{if(!s.consumable.test(i.item,n.name))return;const l=c(i.attributeOldValue,s,i),d=c(i.attributeNewValue,s,i);if(!l&&!d)return;s.consumable.consume(i.item,n.name);const f=s.writer,g=f.document.selection;if(i.item instanceof Ss||i.item instanceof Co)f.wrap(g.getFirstRange(),d);else{let w=s.mapper.toViewRange(i.range);i.attributeOldValue!==null&&l&&(w=f.unwrap(w,l)),i.attributeNewValue!==null&&d&&f.wrap(w,d)}}}function bie(c,n=Uie){return(i,s,l)=>{if(!n(s.item,l.consumable,{preflight:!0}))return;const d=c(s.item,l,s);if(!d)return;n(s.item,l.consumable);const f=l.mapper.toViewPosition(s.range.start);l.mapper.bindElements(s.item,d),l.writer.insert(f,d),l.convertAttributes(s.item),hL(d,s.item.getChildren(),l,{reconversion:s.reconversion})}}function wie(c,n){return(i,s,l)=>{if(!n(s.item,l.consumable,{preflight:!0}))return;const d=new Map;l.writer._registerSlotFactory(zie(s.item,d,l));const f=c(s.item,l,s);if(l.writer._clearSlotFactory(),!f)return;Fie(s.item,d,l),n(s.item,l.consumable);const g=l.mapper.toViewPosition(s.range.start);l.mapper.bindElements(s.item,f),l.writer.insert(g,f),l.convertAttributes(s.item),jie(f,d,l,{reconversion:s.reconversion})}}function kie(c){return(n,i,s)=>{i.isOpening=!0;const l=c(i,s);i.isOpening=!1;const d=c(i,s);if(!l||!d)return;const f=i.markerRange;if(f.isCollapsed&&!s.consumable.consume(f,n.name))return;for(const y of f)if(!s.consumable.consume(y.item,n.name))return;const g=s.mapper,w=s.writer;w.insert(g.toViewPosition(f.start),l),s.mapper.bindElementToMarker(l,i.markerName),f.isCollapsed||(w.insert(g.toViewPosition(f.end),d),s.mapper.bindElementToMarker(d,i.markerName)),n.stop()}}function vie(){return(c,n,i)=>{const s=i.mapper.markerNameToElements(n.markerName);if(s){for(const l of s)i.mapper.unbindElementFromMarkerName(l,n.markerName),i.writer.clear(i.writer.createRangeOn(l),l);i.writer.clearClonedElementsGroup(n.markerName),c.stop()}}}function yie(c){return(n,i,s)=>{const l=c(i.markerName,s);if(!l)return;const d=i.markerRange;s.consumable.consume(d,n.name)&&(sL(d,!1,s,i,l),sL(d,!0,s,i,l),n.stop())}}function sL(c,n,i,s,l){const d=n?c.start:c.end,f=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,g=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(f||g){let y,C;n&&f||!n&&!g?(y=f,C=!0):(y=g,C=!1);const x=i.mapper.toViewElement(y);if(x){_ie(x,n,C,i,s,l);return}}const w=i.mapper.toViewPosition(d);Aie(w,n,i,s,l)}function _ie(c,n,i,s,l,d){const f=`data-${d.group}-${n?"start":"end"}-${i?"before":"after"}`,g=c.hasAttribute(f)?c.getAttribute(f).split(","):[];g.unshift(d.name),s.writer.setAttribute(f,g.join(","),c),s.mapper.bindElementToMarker(c,l.markerName)}function Aie(c,n,i,s,l){const d=`${l.group}-${n?"start":"end"}`,f=l.name?{name:l.name}:null,g=i.writer.createUIElement(d,f);i.writer.insert(c,g),i.mapper.bindElementToMarker(g,s.markerName)}function Cie(c){return(n,i,s)=>{const l=c(i.markerName,s);if(!l)return;const d=s.mapper.markerNameToElements(i.markerName);if(!d)return;for(const g of d)s.mapper.unbindElementFromMarkerName(g,i.markerName),g.is("containerElement")?(f(`data-${l.group}-start-before`,g),f(`data-${l.group}-start-after`,g),f(`data-${l.group}-end-before`,g),f(`data-${l.group}-end-after`,g)):s.writer.clear(s.writer.createRangeOn(g),g);s.writer.clearClonedElementsGroup(i.markerName),n.stop();function f(g,w){if(w.hasAttribute(g)){const y=new Set(w.getAttribute(g).split(","));y.delete(l.name),y.size==0?s.writer.removeAttribute(g,w):s.writer.setAttribute(g,Array.from(y).join(","),w)}}}}function Eie(c){return(n,i,s)=>{if(!s.consumable.test(i.item,n.name))return;const l=c(i.attributeOldValue,s,i),d=c(i.attributeNewValue,s,i);if(!l&&!d)return;s.consumable.consume(i.item,n.name);const f=s.mapper.toViewElement(i.item),g=s.writer;if(!f)throw new S("conversion-attribute-to-attribute-on-text",s.dispatcher,i);if(i.attributeOldValue!==null&&l)if(l.key=="class"){const w=Tr(l.value);for(const y of w)g.removeClass(y,f)}else if(l.key=="style"){const w=Object.keys(l.value);for(const y of w)g.removeStyle(y,f)}else g.removeAttribute(l.key,f);if(i.attributeNewValue!==null&&d)if(d.key=="class"){const w=Tr(d.value);for(const y of w)g.addClass(y,f)}else if(d.key=="style"){const w=Object.keys(d.value);for(const y of w)g.setStyle(y,d.value[y],f)}else g.setAttribute(d.key,d.value,f)}}function xie(c){return(n,i,s)=>{if(!i.item||!(i.item instanceof Ss||i.item instanceof Co)&&!i.item.is("$textProxy"))return;const l=e1(c,i,s);if(!l||!s.consumable.consume(i.item,n.name))return;const d=s.writer,f=oL(d,l),g=d.document.selection;if(i.item instanceof Ss||i.item instanceof Co)d.wrap(g.getFirstRange(),f);else{const w=s.mapper.toViewRange(i.range),y=d.wrap(w,f);for(const C of y.getItems())if(C.is("attributeElement")&&C.isSimilar(f)){s.mapper.bindElementToMarker(C,i.markerName);break}}}}function Sie(c){return(n,i,s)=>{if(!i.item||!(i.item instanceof Yt))return;const l=e1(c,i,s);if(!l||!s.consumable.test(i.item,n.name))return;const d=s.mapper.toViewElement(i.item);if(d&&d.getCustomProperty("addHighlight")){s.consumable.consume(i.item,n.name);for(const g of se._createIn(i.item))s.consumable.consume(g.item,n.name);d.getCustomProperty("addHighlight")(d,l,s.writer),s.mapper.bindElementToMarker(d,i.markerName)}}}function Tie(c){return(n,i,s)=>{if(i.markerRange.isCollapsed)return;const l=e1(c,i,s);if(!l)return;const d=oL(s.writer,l),f=s.mapper.markerNameToElements(i.markerName);if(f){for(const g of f)s.mapper.unbindElementFromMarkerName(g,i.markerName),g.is("attributeElement")?s.writer.unwrap(s.writer.createRangeOn(g),d):g.getCustomProperty("removeHighlight")(g,l.id,s.writer);s.writer.clearClonedElementsGroup(i.markerName),n.stop()}}}function Iie(c){const n=aL(c.model),i=vp(c.view,"container");return n.attributes.length&&(n.children=!0),s=>{s.on(`insert:${n.name}`,bie(i,dL(n)),{priority:c.converterPriority||"normal"}),(n.children||n.attributes.length)&&s.on("reduceChanges",uL(n),{priority:"low"})}}function Die(c){const n=aL(c.model),i=vp(c.view,"container");return n.children=!0,s=>{if(s._conversionApi.schema.checkChild(n.name,"$text"))throw new S("conversion-element-to-structure-disallowed-text",s,{elementName:n.name});s.on(`insert:${n.name}`,wie(i,dL(n)),{priority:c.converterPriority||"normal"}),s.on("reduceChanges",uL(n),{priority:"low"})}}function Pie(c){c=Ql(c);let n=c.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const l of n.values)c.view[l]=vp(c.view[l],"attribute");else c.view=vp(c.view,"attribute");const s=cL(c);return l=>{l.on(i,gie(s),{priority:c.converterPriority||"normal"})}}function Mie(c){c=Ql(c);let n=c.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const l of n.values)c.view[l]=lL(c.view[l]);else c.view=lL(c.view);const s=cL(c);return l=>{l.on(i,Eie(s),{priority:c.converterPriority||"normal"})}}function Nie(c){const n=vp(c.view,"ui");return i=>{i.on(`addMarker:${c.model}`,kie(n),{priority:c.converterPriority||"normal"}),i.on(`removeMarker:${c.model}`,vie(),{priority:c.converterPriority||"normal"})}}function Rie(c){c=Ql(c);const n=c.model;let i=c.view;return i||(i=s=>({group:n,name:s.substr(c.model.length+1)})),s=>{s.on(`addMarker:${n}`,yie(i),{priority:c.converterPriority||"normal"}),s.on(`removeMarker:${n}`,Cie(i),{priority:c.converterPriority||"normal"})}}function Oie(c){return n=>{n.on(`addMarker:${c.model}`,xie(c.view),{priority:c.converterPriority||"normal"}),n.on(`addMarker:${c.model}`,Sie(c.view),{priority:c.converterPriority||"normal"}),n.on(`removeMarker:${c.model}`,Tie(c.view),{priority:c.converterPriority||"normal"})}}function aL(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function vp(c,n){return typeof c=="function"?c:(i,s)=>Lie(c,s,n)}function Lie(c,n,i){typeof c=="string"&&(c={name:c});let s;const l=n.writer,d=Object.assign({},c.attributes);if(i=="container")s=l.createContainerElement(c.name,d);else if(i=="attribute"){const f={priority:c.priority||Gl.DEFAULT_PRIORITY};s=l.createAttributeElement(c.name,d,f)}else s=l.createUIElement(c.name,d);if(c.styles){const f=Object.keys(c.styles);for(const g of f)l.setStyle(g,c.styles[g],s)}if(c.classes){const f=c.classes;if(typeof f=="string")l.addClass(f,s);else for(const g of f)l.addClass(g,s)}return s}function cL(c){return c.model.values?(n,i,s)=>{const l=c.view[n];return l?l(n,i,s):null}:c.view}function lL(c){return typeof c=="string"?n=>({key:c,value:n}):typeof c=="object"?c.value?()=>c:n=>({key:c.key,value:n}):c}function e1(c,n,i){const s=typeof c=="function"?c(n,i):c;return s?(s.priority||(s.priority=10),s.id||(s.id=n.markerName),s):null}function Bie(c){return(n,i)=>{if(!n.is("element",c.name))return!1;if(i.type=="attribute"){if(c.attributes.includes(i.attributeKey))return!0}else if(c.children)return!0;return!1}}function uL(c){const n=Bie(c);return(i,s)=>{const l=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const d of s.changes){const f=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(!f||!n(f,d)){l.push(d);continue}if(!s.reconvertedElements.has(f)){s.reconvertedElements.add(f);const g=be._createBefore(f);l.push({type:"remove",name:f.name,position:g,length:1},{type:"reinsert",name:f.name,position:g,length:1})}}s.changes=l}}function dL(c){return(n,i,s={})=>{const l=["insert"];for(const d of c.attributes)n.hasAttribute(d)&&l.push(`attribute:${d}`);return l.every(d=>i.test(n,d))?(s.preflight||l.forEach(d=>i.consume(n,d)),!0):!1}}function zie(c,n,i){return(s,l="children")=>{const d=s.createContainerElement("$slot");let f=null;if(l==="children")f=Array.from(c.getChildren());else if(typeof l=="function")f=Array.from(c.getChildren()).filter(g=>l(g));else throw new S("conversion-slot-mode-unknown",i.dispatcher,{modeOrFilter:l});return n.set(d,f),d}}function Fie(c,n,i){const s=Array.from(n.values()).flat(),l=new Set(s);if(l.size!=s.length)throw new S("conversion-slot-filter-overlap",i.dispatcher,{element:c});if(l.size!=c.childCount)throw new S("conversion-slot-filter-incomplete",i.dispatcher,{element:c})}function jie(c,n,i,s){i.mapper.on("modelToViewPosition",f,{priority:"highest"});let l=null,d=null;for([l,d]of n)hL(c,d,i,s),i.writer.move(i.writer.createRangeIn(l),i.writer.createPositionBefore(l)),i.writer.remove(l);i.mapper.off("modelToViewPosition",f);function f(g,w){const y=w.modelPosition.nodeAfter,C=d.indexOf(y);C<0||(w.viewPosition=w.mapper.findPositionIn(l,C))}}function hL(c,n,i,s){for(const l of n)Vie(c.root,l,i,s)||i.convertItem(l)}function Vie(c,n,i,s){const{writer:l,mapper:d}=i;if(!s.reconversion)return!1;const f=d.toViewElement(n);return!f||f.root==c||!i.canReuseView(f)?!1:(l.move(l.createRangeOn(f),d.toViewPosition(be._createBefore(n))),!0)}function Uie(c,n,{preflight:i}={}){return i?n.test(c,"insert"):n.consume(c,"insert")}function fL(c){const{schema:n,document:i}=c.model;for(const s of i.getRootNames()){const l=i.getRoot(s);if(l.isEmpty&&!n.checkChild(l,"$text")&&n.checkChild(l,"paragraph"))return c.insertElement("paragraph",l),!0}return!1}function pL(c,n,i){const s=i.createContext(c);return!(!i.checkChild(s,"paragraph")||!i.checkChild(s.push("paragraph"),n))}function mL(c,n){const i=n.createElement("paragraph");return n.insert(i,c),n.createPositionAt(i,0)}class $ie extends nL{elementToElement(n){return this.add(bL(n))}elementToAttribute(n){return this.add(Wie(n))}attributeToAttribute(n){return this.add(Gie(n))}elementToMarker(n){return this.add(Kie(n))}dataToMarker(n){return this.add(Yie(n))}}function gL(){return(c,n,i)=>{if(!n.modelRange&&i.consumable.consume(n.viewItem,{name:!0})){const{modelRange:s,modelCursor:l}=i.convertChildren(n.viewItem,n.modelCursor);n.modelRange=s,n.modelCursor=l}}}function Hie(){return(c,n,{schema:i,consumable:s,writer:l})=>{let d=n.modelCursor;if(!s.test(n.viewItem))return;if(!i.checkChild(d,"$text")){if(!pL(d,"$text",i)||n.viewItem.data.trim().length==0)return;const g=d.nodeBefore;d=mL(d,l),g&&g.is("element","$marker")&&(l.move(l.createRangeOn(g),d),d=l.createPositionAfter(g))}s.consume(n.viewItem);const f=l.createText(n.viewItem.data);l.insert(f,d),n.modelRange=l.createRange(d,d.getShiftedBy(f.offsetSize)),n.modelCursor=n.modelRange.end}}function qie(c,n){return(i,s)=>{const l=s.newSelection,d=[];for(const g of l.getRanges())d.push(n.toModelRange(g));const f=c.createSelection(d,{backward:l.isBackward});f.isEqual(c.document.selection)||c.change(g=>{g.setSelection(f)})}}function bL(c){c=Ql(c);const n=n1(c),i=t1(c.view),s=i?`element:${i}`:"element";return l=>{l.on(s,n,{priority:c.converterPriority||"normal"})}}function Wie(c){c=Ql(c),wL(c);const n=kL(c,!1),i=t1(c.view),s=i?`element:${i}`:"element";return l=>{l.on(s,n,{priority:c.converterPriority||"low"})}}function Gie(c){c=Ql(c);let n=null;(typeof c.view=="string"||c.view.key)&&(n=Jie(c)),wL(c,n);const i=kL(c,!0);return s=>{s.on("element",i,{priority:c.converterPriority||"low"})}}function Kie(c){const n=toe(c.model);return bL({...c,model:n})}function Yie(c){c=Ql(c),c.model||(c.model=l=>l?c.view+":"+l:c.view);const n={view:c.view,model:c.model},i=n1(vL(n,"start")),s=n1(vL(n,"end"));return l=>{l.on(`element:${c.view}-start`,i,{priority:c.converterPriority||"normal"}),l.on(`element:${c.view}-end`,s,{priority:c.converterPriority||"normal"});const d=Y.get("low"),f=Y.get("highest"),g=Y.get(c.converterPriority)/f;l.on("element",Qie(n),{priority:d+g})}}function Qie(c){return(n,i,s)=>{const l=`data-${c.view}`;if(!s.consumable.test(i.viewItem,{attributes:l+"-end-after"})&&!s.consumable.test(i.viewItem,{attributes:l+"-start-after"})&&!s.consumable.test(i.viewItem,{attributes:l+"-end-before"})&&!s.consumable.test(i.viewItem,{attributes:l+"-start-before"}))return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),s.consumable.consume(i.viewItem,{attributes:l+"-end-after"})&&d(i.modelRange.end,i.viewItem.getAttribute(l+"-end-after").split(",")),s.consumable.consume(i.viewItem,{attributes:l+"-start-after"})&&d(i.modelRange.end,i.viewItem.getAttribute(l+"-start-after").split(",")),s.consumable.consume(i.viewItem,{attributes:l+"-end-before"})&&d(i.modelRange.start,i.viewItem.getAttribute(l+"-end-before").split(",")),s.consumable.consume(i.viewItem,{attributes:l+"-start-before"})&&d(i.modelRange.start,i.viewItem.getAttribute(l+"-start-before").split(","));function d(f,g){for(const w of g){const y=c.model(w,s),C=s.writer.createElement("$marker",{"data-name":y});s.writer.insert(C,f),i.modelCursor.isEqual(f)?i.modelCursor=i.modelCursor.getShiftedBy(1):i.modelCursor=i.modelCursor._getTransformedByInsertion(f,1),i.modelRange=i.modelRange._getTransformedByInsertion(f,1)[0]}}}}function t1(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function n1(c){const n=new _s(c.view);return(i,s,l)=>{const d=n.match(s.viewItem);if(!d)return;const f=d.match;if(f.name=!0,!l.consumable.test(s.viewItem,f))return;const g=Zie(c.model,s.viewItem,l);g&&l.safeInsert(g,s.modelCursor)&&(l.consumable.consume(s.viewItem,f),l.convertChildren(s.viewItem,g),l.updateConversionResult(g,s))}}function Zie(c,n,i){return c instanceof Function?c(n,i):i.writer.createElement(c)}function Jie(c){typeof c.view=="string"&&(c.view={key:c.view});const n=c.view.key;let i;if(n=="class"||n=="style")i={[n=="class"?"classes":"styles"]:c.view.value};else{const s=typeof c.view.value>"u"?/[\s\S]*/:c.view.value;i={attributes:{[n]:s}}}return c.view.name&&(i.name=c.view.name),c.view=i,n}function wL(c,n=null){const i=n===null?!0:d=>d.getAttribute(n),s=typeof c.model!="object"?c.model:c.model.key,l=typeof c.model!="object"||typeof c.model.value>"u"?i:c.model.value;c.model={key:s,value:l}}function kL(c,n){const i=new _s(c.view);return(s,l,d)=>{if(!l.modelRange&&n)return;const f=i.match(l.viewItem);if(!f||(Xie(c.view,l.viewItem)?f.match.name=!0:delete f.match.name,!d.consumable.test(l.viewItem,f.match)))return;const g=c.model.key,w=typeof c.model.value=="function"?c.model.value(l.viewItem,d):c.model.value;if(w===null)return;l.modelRange||Object.assign(l,d.convertChildren(l.viewItem,l.modelCursor)),eoe(l.modelRange,{key:g,value:w},n,d)&&(d.consumable.test(l.viewItem,{name:!0})&&(f.match.name=!0),d.consumable.consume(l.viewItem,f.match))}}function Xie(c,n){const i=typeof c=="function"?c(n):c;return typeof i=="object"&&!t1(i)?!1:!i.classes&&!i.attributes&&!i.styles}function eoe(c,n,i,s){let l=!1;for(const d of Array.from(c.getItems({shallow:i})))s.schema.checkAttribute(d,n.key)&&(l=!0,!d.hasAttribute(n.key)&&s.writer.setAttribute(n.key,n.value,d));return l}function toe(c){return(n,i)=>{const s=typeof c=="string"?c:c(n,i);return i.writer.createElement("$marker",{"data-name":s})}}function vL(c,n){const i=(s,l)=>{const d=s.getAttribute("name"),f=c.model(d,l);return l.writer.createElement("$marker",{"data-name":f})};return{view:`${c.view}-${n}`,model:i}}class noe extends Pe(){constructor(n,i){super(),this.model=n,this.view=new Yre(i),this.mapper=new ZO,this.downcastDispatcher=new JO({mapper:this.mapper,schema:n.schema});const s=this.model.document,l=s.selection,d=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(f=>{this.downcastDispatcher.convertChanges(s.differ,d,f),this.downcastDispatcher.convertSelection(l,d,f)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",qie(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",rL(),{priority:"lowest"}),this.downcastDispatcher.on("insert",iL(),{priority:"lowest"}),this.downcastDispatcher.on("remove",hie(),{priority:"low"}),this.downcastDispatcher.on("selection",mie(),{priority:"high"}),this.downcastDispatcher.on("selection",fie(),{priority:"low"}),this.downcastDispatcher.on("selection",pie(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(f=>{if(f.rootName=="$graveyard")return null;const g=new pO(this.view.document,f.name);return g.rootName=f.rootName,this.mapper.bindElements(f,g),g})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const i=typeof n=="string"?n:n.name,s=this.model.markers.get(i);if(!s)throw new S("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class yp{constructor(){this._consumables=new Map}add(n,i){let s;if(n.is("$text")||n.is("documentFragment")){this._consumables.set(n,!0);return}this._consumables.has(n)?s=this._consumables.get(n):(s=new roe(n),this._consumables.set(n,s)),s.add(i)}test(n,i){const s=this._consumables.get(n);return s===void 0?null:n.is("$text")||n.is("documentFragment")?s:s.test(i)}consume(n,i){return this.test(n,i)?(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(i),!0):!1}revert(n,i){const s=this._consumables.get(n);s!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):s.revert(i))}static consumablesFromElement(n){const i={element:n,name:!0,attributes:[],classes:[],styles:[]},s=n.getAttributeKeys();for(const f of s)f=="style"||f=="class"||i.attributes.push(f);const l=n.getClassNames();for(const f of l)i.classes.push(f);const d=n.getStyleNames();for(const f of d)i.styles.push(f);return i}static createFrom(n,i){if(i||(i=new yp),n.is("$text"))return i.add(n),i;n.is("element")&&i.add(n,yp.consumablesFromElement(n)),n.is("documentFragment")&&i.add(n);for(const s of n.getChildren())i=yp.createFrom(s,i);return i}}const Uw=["attributes","classes","styles"];class roe{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const i of Uw)i in n&&this._add(i,n[i])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const i of Uw)if(i in n){const s=this._test(i,n[i]);if(s!==!0)return s}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const i of Uw)i in n&&this._consume(i,n[i])}revert(n){n.name&&(this._canConsumeName=!0);for(const i of Uw)i in n&&this._revert(i,n[i])}_add(n,i){const s=fn(i)?i:[i],l=this._consumables[n];for(const d of s){if(n==="attributes"&&(d==="class"||d==="style"))throw new S("viewconsumable-invalid-attribute",this);if(l.set(d,!0),n==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(f,!0)}}_test(n,i){const s=fn(i)?i:[i],l=this._consumables[n];for(const d of s)if(n==="attributes"&&(d==="class"||d==="style")){const f=d=="class"?"classes":"styles",g=this._test(f,[...this._consumables[f].keys()]);if(g!==!0)return g}else{const f=l.get(d);if(f===void 0)return null;if(!f)return!1}return!0}_consume(n,i){const s=fn(i)?i:[i],l=this._consumables[n];for(const d of s)if(n==="attributes"&&(d==="class"||d==="style")){const f=d=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}else if(l.set(d,!1),n=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(f,!1)}_revert(n,i){const s=fn(i)?i:[i],l=this._consumables[n];for(const d of s)if(n==="attributes"&&(d==="class"||d==="style")){const f=d=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}else l.get(d)===!1&&l.set(d,!0)}}class ioe extends Pe(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,i)=>{i[0]=new Zl(i[0])},{priority:"highest"}),this.on("checkChild",(n,i)=>{i[0]=new Zl(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(n,i){if(this._sourceDefinitions[n])throw new S("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},i)],this._clearCache()}extend(n,i){if(!this._sourceDefinitions[n])throw new S("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let i;return typeof n=="string"?i=n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?i="$text":i=n.name,this.getDefinitions()[i]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const i=this.getDefinition(n);return!!(i&&i.isBlock)}isLimit(n){const i=this.getDefinition(n);return i?!!(i.isLimit||i.isObject):!1}isObject(n){const i=this.getDefinition(n);return i?!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent):!1}isInline(n){const i=this.getDefinition(n);return!!(i&&i.isInline)}isSelectable(n){const i=this.getDefinition(n);return i?!!(i.isSelectable||i.isObject):!1}isContent(n){const i=this.getDefinition(n);return i?!!(i.isContent||i.isObject):!1}checkChild(n,i){return i?this._checkContextMatch(i,n):!1}checkAttribute(n,i){const s=this.getDefinition(n.last);return s?s.allowAttributes.includes(i):!1}checkMerge(n,i){if(n instanceof be){const s=n.nodeBefore,l=n.nodeAfter;if(!(s instanceof Yt))throw new S("schema-check-merge-no-element-before",this);if(!(l instanceof Yt))throw new S("schema-check-merge-no-element-after",this);return this.checkMerge(s,l)}for(const s of i.getChildren())if(!this.checkChild(n,s))return!1;return!0}addChildCheck(n){this.on("checkChild",(i,[s,l])=>{if(!l)return;const d=n(s,l);typeof d=="boolean"&&(i.stop(),i.return=d)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(i,[s,l])=>{const d=n(s,l);typeof d=="boolean"&&(i.stop(),i.return=d)},{priority:"high"})}setAttributeProperties(n,i){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),i)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let i;for(n instanceof be?i=n.parent:i=(n instanceof se?[n]:Array.from(n.getRanges())).reduce((l,d)=>{const f=d.getCommonAncestor();return l?l.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(n,i){if(n.isCollapsed){const l=[...n.getFirstPosition().getAncestors(),new sn("",n.getAttributes())];return this.checkAttribute(l,i)}else{const s=n.getRanges();for(const l of s)for(const d of l)if(this.checkAttribute(d.item,i))return!0}return!1}*getValidRanges(n,i){n=voe(n);for(const s of n)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(n,i="both"){if(this.checkChild(n,"$text"))return new se(n);let s,l;const d=n.getAncestors().reverse().find(f=>this.isLimit(f))||n.root;(i=="both"||i=="backward")&&(s=new xs({boundaries:se._createIn(d),startPosition:n,direction:"backward"})),(i=="both"||i=="forward")&&(l=new xs({boundaries:se._createIn(d),startPosition:n}));for(const f of koe(s,l)){const g=f.walker==s?"elementEnd":"elementStart",w=f.value;if(w.type==g&&this.isObject(w.item))return se._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new se(w.nextPosition)}return null}findAllowedParent(n,i){let s=n.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(n,i,s){const l=s.model;for(const[d,f]of Object.entries(i))l.schema.checkAttribute(n,d)&&s.setAttribute(d,f,n)}removeDisallowedAttributes(n,i){for(const s of n)if(s.is("$text"))yL(this,s,i);else{const d=se._createIn(s).getPositions();for(const f of d){const g=f.nodeBefore||f.parent;yL(this,g,i)}}}getAttributesWithProperty(n,i,s){const l={};for(const[d,f]of n.getAttributes()){const g=this.getAttributeProperties(d);g[i]!==void 0&&(s===void 0||s===g[i])&&(l[d]=f)}return l}createContext(n){return new Zl(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},i=this._sourceDefinitions,s=Object.keys(i);for(const l of s)n[l]=ooe(i[l],l);for(const l of s)soe(n,l);for(const l of s)aoe(n,l);for(const l of s)coe(n,l);for(const l of s)loe(n,l),uoe(n,l);for(const l of s)doe(n,l),hoe(n,l),foe(n,l);this._compiledDefinitions=n}_checkContextMatch(n,i,s=i.length-1){const l=i.getItem(s);if(n.allowIn.includes(l.name)){if(s==0)return!0;{const d=this.getDefinition(l);return this._checkContextMatch(d,i,s-1)}}else return!1}*_getValidRangesForRange(n,i){let s=n.start,l=n.start;for(const d of n.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(se._createIn(d),i)),this.checkAttribute(d,i)||(s.isEqual(l)||(yield new se(s,l)),s=be._createAfter(d)),l=be._createAfter(d);s.isEqual(l)||(yield new se(s,l))}}class Zl{constructor(n){if(n instanceof Zl)return n;let i;typeof n=="string"?i=[n]:Array.isArray(n)?i=n:i=n.getAncestors({includeSelf:!0}),this._items=i.map(woe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const i=new Zl([n]);return i._items=[...this._items,...i._items],i}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function ooe(c,n){const i={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return poe(c,i),Jl(c,i,"allowIn"),Jl(c,i,"allowContentOf"),Jl(c,i,"allowWhere"),Jl(c,i,"allowAttributes"),Jl(c,i,"allowAttributesOf"),Jl(c,i,"allowChildren"),Jl(c,i,"inheritTypesFrom"),moe(c,i),i}function soe(c,n){const i=c[n];for(const s of i.allowChildren){const l=c[s];l&&l.allowIn.push(n)}i.allowChildren.length=0}function aoe(c,n){for(const i of c[n].allowContentOf)c[i]&&goe(c,i).forEach(l=>{l.allowIn.push(n)});delete c[n].allowContentOf}function coe(c,n){for(const i of c[n].allowWhere){const s=c[i];if(s){const l=s.allowIn;c[n].allowIn.push(...l)}}delete c[n].allowWhere}function loe(c,n){for(const i of c[n].allowAttributesOf){const s=c[i];if(s){const l=s.allowAttributes;c[n].allowAttributes.push(...l)}}delete c[n].allowAttributesOf}function uoe(c,n){const i=c[n];for(const s of i.inheritTypesFrom){const l=c[s];if(l){const d=Object.keys(l).filter(f=>f.startsWith("is"));for(const f of d)f in i||(i[f]=l[f])}}delete i.inheritTypesFrom}function doe(c,n){const i=c[n],s=i.allowIn.filter(l=>c[l]);i.allowIn=Array.from(new Set(s))}function hoe(c,n){const i=c[n];for(const s of i.allowIn)c[s].allowChildren.push(n)}function foe(c,n){const i=c[n];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function poe(c,n){for(const i of c){const s=Object.keys(i).filter(l=>l.startsWith("is"));for(const l of s)n[l]=!!i[l]}}function Jl(c,n,i){for(const s of c){const l=s[i];typeof l=="string"?n[i].push(l):Array.isArray(l)&&n[i].push(...l)}}function moe(c,n){for(const i of c){const s=i.inheritAllFrom;s&&(n.allowContentOf.push(s),n.allowWhere.push(s),n.allowAttributesOf.push(s),n.inheritTypesFrom.push(s))}}function goe(c,n){const i=c[n];return boe(c).filter(s=>s.allowIn.includes(i.name))}function boe(c){return Object.keys(c).map(n=>c[n])}function woe(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute(n){return c.getAttribute(n)}}}function*koe(c,n){let i=!1;for(;!i;){if(i=!0,c){const s=c.next();s.done||(i=!1,yield{walker:c,value:s.value})}if(n){const s=n.next();s.done||(i=!1,yield{walker:n,value:s.value})}}}function*voe(c){for(const n of c)yield*n.getMinimalFlatRanges()}function yL(c,n,i){for(const s of n.getAttributeKeys())c.checkAttribute(n,s)||i.removeAttribute(s,n)}class yoe extends B(){constructor(n){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...n,consumable:null,writer:null,store:null,convertItem:(i,s)=>this._convertItem(i,s),convertChildren:(i,s)=>this._convertChildren(i,s),safeInsert:(i,s)=>this._safeInsert(i,s),updateConversionResult:(i,s)=>this._updateConversionResult(i,s),splitToAllowedParent:(i,s)=>this._splitToAllowedParent(i,s),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)}}convert(n,i,s=["$root"]){this.fire("viewCleanup",n),this._modelCursor=Aoe(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=yp.createFrom(n),this.conversionApi.store={};const{modelRange:l}=this._convertItem(n,this._modelCursor),d=i.createDocumentFragment();if(l){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))i.append(f,d);d.markers=_oe(d,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(n,i){const s={viewItem:n,modelCursor:i,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,s,this.conversionApi):n.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof se))throw new S("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(n,i){let s=i.is("position")?i:be._createAt(i,0);const l=new se(s);for(const d of Array.from(n.getChildren())){const f=this._convertItem(d,s);f.modelRange instanceof se&&(l.end=f.modelRange.end,s=f.modelCursor)}return{modelRange:l,modelCursor:s}}_safeInsert(n,i){const s=this._splitToAllowedParent(n,i);return s?(this.conversionApi.writer.insert(n,s.position),!0):!1}_updateConversionResult(n,i){const s=this._getSplitParts(n),l=this.conversionApi.writer;i.modelRange||(i.modelRange=l.createRange(l.createPositionBefore(n),l.createPositionAfter(s[s.length-1])));const d=this._cursorParents.get(n);d?i.modelCursor=l.createPositionAt(d,0):i.modelCursor=i.modelRange.end}_splitToAllowedParent(n,i){const{schema:s,writer:l}=this.conversionApi;let d=s.findAllowedParent(i,n);if(d){if(d===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return pL(i,n,s)?{position:mL(i,l)}:null;const f=this.conversionApi.writer.split(i,d),g=[];for(const y of f.range.getWalker())if(y.type=="elementEnd")g.push(y.item);else{const C=g.pop(),x=y.item;this._registerSplitPair(C,x)}const w=f.range.end.parent;return this._cursorParents.set(n,w),{position:f.position,cursorParent:w}}_registerSplitPair(n,i){this._splitParts.has(n)||this._splitParts.set(n,[n]);const s=this._splitParts.get(n);this._splitParts.set(i,s),s.push(i)}_getSplitParts(n){let i;return this._splitParts.has(n)?i=this._splitParts.get(n):i=[n],i}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),n=!0);n&&this._removeEmptyElements()}}function _oe(c,n){const i=new Set,s=new Map,l=se._createIn(c).getItems();for(const d of l)d.is("element","$marker")&&i.add(d);for(const d of i){const f=d.getAttribute("data-name"),g=n.createPositionBefore(d);s.has(f)?s.get(f).end=g.clone():s.set(f,new se(g.clone())),n.remove(d)}return s}function Aoe(c,n){let i;for(const s of new Zl(c)){const l={};for(const f of s.getAttributeKeys())l[f]=s.getAttribute(f);const d=n.createElement(s.name,l);i&&n.insert(d,i),i=be._createAt(d,0)}return i}class Coe{getHtml(n){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(n),s.innerHTML}}class Eoe{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Bw(n,{renderingMode:"data"}),this.htmlWriter=new Coe}toData(n){const i=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(i)}toView(n){const i=this._toDom(n);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const i=this.domParser.parseFromString(n,"text/html"),s=i.createDocumentFragment(),l=i.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);return s}}class xoe extends B(){constructor(n,i){super(),this.model=n,this.mapper=new ZO,this.downcastDispatcher=new JO({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",rL(),{priority:"lowest"}),this.downcastDispatcher.on("insert",iL(),{priority:"lowest"}),this.upcastDispatcher=new yoe({schema:n.schema}),this.viewDocument=new Nw(i),this.stylesProcessor=i,this.htmlProcessor=new Eoe(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new bO(this.viewDocument),this.upcastDispatcher.on("text",Hie(),{priority:"lowest"}),this.upcastDispatcher.on("element",gL(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",gL(),{priority:"lowest"}),Pe().prototype.decorate.call(this,"init"),Pe().prototype.decorate.call(this,"set"),Pe().prototype.decorate.call(this,"get"),Pe().prototype.decorate.call(this,"toView"),Pe().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},fL)},{priority:"lowest"})}get(n={}){const{rootName:i="main",trim:s="empty"}=n;if(!this._checkIfRootsExists([i]))throw new S("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(i);return s==="empty"&&!this.model.hasContent(l,{ignoreWhitespaces:!0})?"":this.stringify(l,n)}stringify(n,i={}){const s=this.toView(n,i);return this.processor.toData(s)}toView(n,i={}){const s=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const d=se._createIn(n),f=new Kl(s);this.mapper.bindElements(n,f);const g=n.is("documentFragment")?n.markers:Soe(n);return this.downcastDispatcher.convert(d,g,l,i),f}init(n){if(this.model.document.version)throw new S("datacontroller-init-document-not-empty",this);let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new S("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const l of Object.keys(i)){const d=this.model.document.getRoot(l);s.insert(this.parse(i[l],d),d,0)}}),Promise.resolve()}set(n,i={}){let s={};if(typeof n=="string"?s.main=n:s=n,!this._checkIfRootsExists(Object.keys(s)))throw new S("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(s)){const f=this.model.document.getRoot(d);l.remove(l.createRangeIn(f)),l.insert(this.parse(s[d],f),f,0)}})}parse(n,i="$root"){const s=this.processor.toView(n);return this.toModel(s,i)}toModel(n,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(n,s,i))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const i of n)if(!this.model.document.getRootNames().includes(i))return!1;return!0}}function Soe(c){const n=[],i=c.root.document;if(!i)return new Map;const s=se._createIn(c);for(const l of i.model.markers){const d=l.getRange(),f=d.isCollapsed,g=d.start.isEqual(s.start)||d.end.isEqual(s.end);if(f&&g)n.push([l.name,d]);else{const w=s.getIntersection(d);w&&n.push([l.name,w])}}return n.sort(([l,d],[f,g])=>{if(d.end.compareWith(g.start)!=="after")return 1;if(d.start.compareWith(g.end)!=="before")return-1;switch(d.start.compareWith(g.start)){case"before":return 1;case"after":return-1;default:switch(d.end.compareWith(g.end)){case"before":return 1;case"after":return-1;default:return f.localeCompare(l)}}}),new Map(n)}class Toe{constructor(n,i){this._helpers=new Map,this._downcast=Tr(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Tr(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new S("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[i],isDowncast:s})}for(n){if(!this._helpers.has(n))throw new S("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:i,view:s}of r1(n))this.for("upcast").elementToElement({model:i,view:s,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:i,view:s}of r1(n))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:i,view:s}of r1(n))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:n,dispatchers:i,isDowncast:s}){if(this._helpers.has(n))throw new S("conversion-group-exists",this);const l=s?new die(i):new $ie(i);this._helpers.set(n,l)}}function*r1(c){if(c.model.values)for(const n of c.model.values){const i={key:c.model.key,value:n},s=c.view[n],l=c.upcastAlso?c.upcastAlso[n]:void 0;yield*_L(i,s,l)}else yield*_L(c.model,c.view,c.upcastAlso)}function*_L(c,n,i){if(yield{model:c,view:n},i)for(const s of Tr(i))yield{model:c,view:s}}class Eo{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,i){return new this(n.baseVersion)}}function i1(c,n){const i=CL(n),s=i.reduce((f,g)=>f+g.offsetSize,0),l=c.parent;Cp(c);const d=c.index;return l._insertChild(d,i),Ap(l,d+i.length),Ap(l,d),new se(c,c.getShiftedBy(s))}function AL(c){if(!c.isFlat)throw new S("operation-utils-remove-range-not-flat",this);const n=c.start.parent;Cp(c.start),Cp(c.end);const i=n._removeChildren(c.start.index,c.end.index-c.start.index);return Ap(n,c.start.index),i}function _p(c,n){if(!c.isFlat)throw new S("operation-utils-move-range-not-flat",this);const i=AL(c);return n=n._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),i1(n,i)}function Ioe(c,n,i){Cp(c.start),Cp(c.end);for(const s of c.getItems({shallow:!0})){const l=s.is("$textProxy")?s.textNode:s;i!==null?l._setAttribute(n,i):l._removeAttribute(n),Ap(l.parent,l.index)}Ap(c.end.parent,c.end.index)}function CL(c){const n=[];function i(s){if(typeof s=="string")n.push(new sn(s));else if(s instanceof Xo)n.push(new sn(s.data,s.getAttributes()));else if(s instanceof jd)n.push(s);else if(Gn(s))for(const l of s)i(l)}i(c);for(let s=1;s<n.length;s++){const l=n[s],d=n[s-1];l instanceof sn&&d instanceof sn&&EL(l,d)&&(n.splice(s-1,2,new sn(d.data+l.data,d.getAttributes())),s--)}return n}function Ap(c,n){const i=c.getChild(n-1),s=c.getChild(n);if(i&&s&&i.is("$text")&&s.is("$text")&&EL(i,s)){const l=new sn(i.data+s.data,i.getAttributes());c._removeChildren(n-1,2),c._insertChild(n-1,l)}}function Cp(c){const n=c.textNode,i=c.parent;if(n){const s=c.offset-n.startOffset,l=n.index;i._removeChildren(l,1);const d=new sn(n.data.substr(0,s),n.getAttributes()),f=new sn(n.data.substr(s),n.getAttributes());i._insertChild(l,[d,f])}}function EL(c,n){const i=c.getAttributes(),s=n.getAttributes();for(const l of i){if(l[1]!==n.getAttribute(l[0]))return!1;s.next()}return s.next().done}class qt extends Eo{constructor(n,i,s,l){super(l),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new qt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new qt(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,l=this.targetPosition.offset;if(s+this.howMany>n.maxOffset)throw new S("move-operation-nodes-do-not-exist",this);if(n===i&&s<l&&l<s+this.howMany)throw new S("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Tn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=s&&this.targetPosition.path[d]<s+this.howMany)throw new S("move-operation-node-into-itself",this)}}_execute(){_p(se._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,i){const s=be.fromJSON(n.sourcePosition,i),l=be.fromJSON(n.targetPosition,i);return new this(s,n.howMany,l,n.baseVersion)}}class Ir extends Eo{constructor(n,i,s){super(s),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new bp(CL(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const n=new bp([...this.nodes].map(s=>s._clone(!0))),i=new Ir(this.position,n,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const n=this.position.root.document.graveyard,i=new be(n,[0]);return new qt(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new S("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new bp([...n].map(i=>i._clone(!0))),i1(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,i){const s=[];for(const d of n.nodes)d.name?s.push(Yt.fromJSON(d)):s.push(sn.fromJSON(d));const l=new Ir(be.fromJSON(n.position,i),s,n.baseVersion);return l.shouldReceiveAttributes=n.shouldReceiveAttributes,l}}class Ui extends Eo{constructor(n,i,s,l,d,f){super(f),this.name=n,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=d,this._markers=l}get type(){return"marker"}clone(){return new Ui(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ui(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,i){return new Ui(n.name,n.oldRange?se.fromJSON(n.oldRange,i):null,n.newRange?se.fromJSON(n.newRange,i):null,i.model.markers,n.affectsData,n.baseVersion)}}function Doe(c,n){return HO(c,n)}const xL=Doe;class ir extends Eo{constructor(n,i,s,l,d){super(d),this.range=n.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new ir(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ir(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new S("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!xL(n.getAttribute(this.key),this.oldValue))throw new S("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new S("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){xL(this.oldValue,this.newValue)||Ioe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,i){return new ir(se.fromJSON(n.range,i),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Dr extends Eo{get type(){return"noop"}clone(){return new Dr(this.baseVersion)}getReversed(){return new Dr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class $i extends Eo{constructor(n,i,s,l){super(l),this.position=n,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}clone(){return new $i(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new $i(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(n instanceof Yt){if(n.name!==this.oldName)throw new S("rename-operation-wrong-name",this)}else throw new S("rename-operation-wrong-position",this)}_execute(){const n=this.position.nodeAfter;n.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,i){return new $i(be.fromJSON(n.position,i),n.oldName,n.newName,n.baseVersion)}}class ha extends Eo{constructor(n,i,s,l,d){super(d),this.root=n,this.key=i,this.oldValue=s,this.newValue=l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new ha(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ha(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new S("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new S("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new S("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,i){if(!i.getRoot(n.root))throw new S("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new ha(i.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Yn extends Eo{constructor(n,i,s,l,d){super(d),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new be(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new se(this.sourcePosition,n)}clone(){return new Yn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new be(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new an(n,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,i=this.targetPosition.parent;if(n.parent)if(i.parent){if(this.howMany!=n.maxOffset)throw new S("merge-operation-how-many-invalid",this)}else throw new S("merge-operation-target-position-invalid",this);else throw new S("merge-operation-source-position-invalid",this)}_execute(){const n=this.sourcePosition.parent,i=se._createIn(n);_p(i,this.targetPosition),_p(se._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,i){const s=be.fromJSON(n.sourcePosition,i),l=be.fromJSON(n.targetPosition,i),d=be.fromJSON(n.graveyardPosition,i);return new this(s,n.howMany,l,d,n.baseVersion)}}class an extends Eo{constructor(n,i,s,l,d){super(d),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new be(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new se(this.splitPosition,n)}clone(){return new an(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,i=new be(n,[0]);return new Yn(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,i=this.splitPosition.offset;if(!n||n.maxOffset<i)throw new S("split-operation-position-invalid",this);if(n.parent){if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new S("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new S("split-operation-graveyard-position-invalid",this)}else throw new S("split-operation-split-in-root",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)_p(se._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=n._clone();i1(this.insertionPosition,s)}const i=new se(be._createAt(n,this.splitPosition.offset),be._createAt(n,n.maxOffset));_p(i,this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const i=n.path.slice(0,-1);return i[i.length-1]++,new be(n.root,i,"toPrevious")}static fromJSON(n,i){const s=be.fromJSON(n.splitPosition,i),l=be.fromJSON(n.insertionPosition,i),d=n.graveyardPosition?be.fromJSON(n.graveyardPosition,i):null;return new this(s,n.howMany,l,d,n.baseVersion)}}const ts={};ts[ir.className]=ir,ts[Ir.className]=Ir,ts[Ui.className]=Ui,ts[qt.className]=qt,ts[Dr.className]=Dr,ts[Eo.className]=Eo,ts[$i.className]=$i,ts[ha.className]=ha,ts[an.className]=an,ts[Yn.className]=Yn;class Poe{static fromJSON(n,i){return ts[n.__className].fromJSON(n,i)}}const o1=new Map;function Ft(c,n,i){let s=o1.get(c);s||(s=new Map,o1.set(c,s)),s.set(n,i)}function Moe(c,n){const i=o1.get(c);return i&&i.has(n)?i.get(n):Noe}function Noe(c){return[c]}function SL(c,n,i={}){const s=Moe(c.constructor,n.constructor);try{return c=c.clone(),s(c,n,i)}catch(l){throw l}}function Roe(c,n,i){c=c.slice(),n=n.slice();const s=new Ooe(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(c),s.setOriginalOperations(n);const l=s.originalOperations;if(c.length==0||n.length==0)return{operationsA:c,operationsB:n,originalOperations:l};const d=new WeakMap;for(const w of c)d.set(w,0);const f={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:n.length};let g=0;for(;g<c.length;){const w=c[g],y=d.get(w);if(y==n.length){g++;continue}const C=n[y],x=SL(w,C,s.getContext(w,C,!0)),R=SL(C,w,s.getContext(C,w,!1));s.updateRelation(w,C),s.setOriginalOperations(x,w),s.setOriginalOperations(R,C);for(const j of x)d.set(j,y+R.length);c.splice(g,1,...x),n.splice(y,1,...R)}if(i.padWithNoOps){const w=c.length-f.originalOperationsACount,y=n.length-f.originalOperationsBCount;IL(c,y-w),IL(n,w-y)}return TL(c,f.nextBaseVersionB),TL(n,f.nextBaseVersionA),{operationsA:c,operationsB:n,originalOperations:l}}class Ooe{constructor(n,i,s=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(n,i=null){const s=i?this.originalOperations.get(i):null;for(const l of n)this.originalOperations.set(l,s||l)}updateRelation(n,i){if(n instanceof qt)i instanceof Yn?n.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,i,"insertAtSource"):n.targetPosition.isEqual(i.deletionPosition)?this._setRelation(n,i,"insertBetween"):n.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(n,i,"moveTargetAfter"):i instanceof qt&&(n.targetPosition.isEqual(i.sourcePosition)||n.targetPosition.isBefore(i.sourcePosition)?this._setRelation(n,i,"insertBefore"):this._setRelation(n,i,"insertAfter"));else if(n instanceof an){if(i instanceof Yn)n.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(n,i,"splitBefore");else if(i instanceof qt)if(n.splitPosition.isEqual(i.sourcePosition)||n.splitPosition.isBefore(i.sourcePosition))this._setRelation(n,i,"splitBefore");else{const s=se._createFromPositionAndShift(i.sourcePosition,i.howMany);if(n.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(n.splitPosition)){const l=s.end.offset-n.splitPosition.offset,d=n.splitPosition.offset-s.start.offset;this._setRelation(n,i,{howMany:l,offset:d})}}}else if(n instanceof Yn)i instanceof Yn?(n.targetPosition.isEqual(i.sourcePosition)||this._setRelation(n,i,"mergeTargetNotMoved"),n.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(n,i,"mergeSourceNotMoved"),n.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(n,i,"mergeSameElement")):i instanceof an&&n.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(n,i,"splitAtSource");else if(n instanceof Ui){const s=n.newRange;if(!s)return;if(i instanceof qt){const l=se._createFromPositionAndShift(i.sourcePosition,i.howMany),d=l.containsPosition(s.start)||l.start.isEqual(s.start),f=l.containsPosition(s.end)||l.end.isEqual(s.end);(d||f)&&!l.containsRange(s)&&this._setRelation(n,i,{side:d?"left":"right",path:d?s.start.path.slice():s.end.path.slice()})}else if(i instanceof Yn){const l=s.start.isEqual(i.targetPosition),d=s.start.isEqual(i.deletionPosition),f=s.end.isEqual(i.deletionPosition),g=s.end.isEqual(i.sourcePosition);(l||d||f||g)&&this._setRelation(n,i,{wasInLeftElement:l,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:f,wasInRightElement:g})}}}getContext(n,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(n,i):null,baRelation:this._useRelations?this._getRelation(i,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const i=this.originalOperations.get(n);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(n,i){const s=this.originalOperations.get(i),l=this._history.getUndoneOperation(s);if(!l)return null;const d=this.originalOperations.get(n),f=this._relations.get(d);return f&&f.get(l)||null}_setRelation(n,i,s){const l=this.originalOperations.get(n),d=this.originalOperations.get(i);let f=this._relations.get(l);f||(f=new Map,this._relations.set(l,f)),f.set(d,s)}}function TL(c,n){for(const i of c)i.baseVersion=n++}function IL(c,n){for(let i=0;i<n;i++)c.push(new Dr(0))}Ft(ir,ir,(c,n,i)=>{if(c.key===n.key&&c.range.start.hasSameParentAs(n.range.start)){const s=c.range.getDifference(n.range).map(d=>new ir(d,c.key,c.oldValue,c.newValue,0)),l=c.range.getIntersection(n.range);return l&&i.aIsStrong&&s.push(new ir(l,n.key,n.newValue,c.newValue,0)),s.length==0?[new Dr(0)]:s}else return[c]}),Ft(ir,Ir,(c,n)=>{if(c.range.start.hasSameParentAs(n.position)&&c.range.containsPosition(n.position)){const s=c.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(l=>new ir(l,c.key,c.oldValue,c.newValue,c.baseVersion));if(n.shouldReceiveAttributes){const l=DL(n,c.key,c.oldValue);l&&s.unshift(l)}return s}return c.range=c.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[c]});function DL(c,n,i){const l=c.nodes.getNode(0).getAttribute(n);if(l==i)return null;const d=new se(c.position,c.position.getShiftedBy(c.howMany));return new ir(d,n,l,i,0)}Ft(ir,Yn,(c,n)=>{const i=[];c.range.start.hasSameParentAs(n.deletionPosition)&&(c.range.containsPosition(n.deletionPosition)||c.range.start.isEqual(n.deletionPosition))&&i.push(se._createFromPositionAndShift(n.graveyardPosition,1));const s=c.range._getTransformedByMergeOperation(n);return s.isCollapsed||i.push(s),i.map(l=>new ir(l,c.key,c.oldValue,c.newValue,c.baseVersion))}),Ft(ir,qt,(c,n)=>Loe(c.range,n).map(s=>new ir(s,c.key,c.oldValue,c.newValue,c.baseVersion)));function Loe(c,n){const i=se._createFromPositionAndShift(n.sourcePosition,n.howMany);let s=null,l=[];i.containsRange(c,!0)?s=c:c.start.hasSameParentAs(i.start)?(l=c.getDifference(i),s=c.getIntersection(i)):l=[c];const d=[];for(let f of l){f=f._getTransformedByDeletion(n.sourcePosition,n.howMany);const g=n.getMovedRangeStart(),w=f.start.hasSameParentAs(g),y=f._getTransformedByInsertion(g,n.howMany,w);d.push(...y)}return s&&d.push(s._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany,!1)[0]),d}Ft(ir,an,(c,n)=>{if(c.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(n.splitPosition)&&c.range.containsPosition(n.splitPosition)){const i=c.clone();return i.range=new se(n.moveTargetPosition.clone(),c.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),c.range.end=n.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,i]}return c.range=c.range._getTransformedBySplitOperation(n),[c]}),Ft(Ir,ir,(c,n)=>{const i=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(c.position)){const s=DL(c,n.key,n.newValue);s&&i.push(s)}return i}),Ft(Ir,Ir,(c,n,i)=>c.position.isEqual(n.position)&&i.aIsStrong?[c]:(c.position=c.position._getTransformedByInsertOperation(n),[c])),Ft(Ir,qt,(c,n)=>(c.position=c.position._getTransformedByMoveOperation(n),[c])),Ft(Ir,an,(c,n)=>(c.position=c.position._getTransformedBySplitOperation(n),[c])),Ft(Ir,Yn,(c,n)=>(c.position=c.position._getTransformedByMergeOperation(n),[c])),Ft(Ui,Ir,(c,n)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(n)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(n)[0]),[c])),Ft(Ui,Ui,(c,n,i)=>{if(c.name==n.name)if(i.aIsStrong)c.oldRange=n.newRange?n.newRange.clone():null;else return[new Dr(0)];return[c]}),Ft(Ui,Yn,(c,n)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(n)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(n)),[c])),Ft(Ui,qt,(c,n,i)=>{if(c.oldRange&&(c.oldRange=se._createFromRanges(c.oldRange._getTransformedByMoveOperation(n))),c.newRange){if(i.abRelation){const s=se._createFromRanges(c.newRange._getTransformedByMoveOperation(n));if(i.abRelation.side=="left"&&n.targetPosition.isEqual(c.newRange.start))return c.newRange.end=s.end,c.newRange.start.path=i.abRelation.path,[c];if(i.abRelation.side=="right"&&n.targetPosition.isEqual(c.newRange.end))return c.newRange.start=s.start,c.newRange.end.path=i.abRelation.path,[c]}c.newRange=se._createFromRanges(c.newRange._getTransformedByMoveOperation(n))}return[c]}),Ft(Ui,an,(c,n,i)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(n)),c.newRange){if(i.abRelation){const s=c.newRange._getTransformedBySplitOperation(n);return c.newRange.start.isEqual(n.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?c.newRange.start=be._createAt(n.insertionPosition):c.newRange.start.isEqual(n.splitPosition)&&!i.abRelation.wasInLeftElement&&(c.newRange.start=be._createAt(n.moveTargetPosition)),c.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasInRightElement?c.newRange.end=be._createAt(n.moveTargetPosition):c.newRange.end.isEqual(n.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?c.newRange.end=be._createAt(n.insertionPosition):c.newRange.end=s.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(n)}return[c]}),Ft(Yn,Ir,(c,n)=>(c.sourcePosition.hasSameParentAs(n.position)&&(c.howMany+=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(n),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(n),[c])),Ft(Yn,Yn,(c,n,i)=>{if(c.sourcePosition.isEqual(n.sourcePosition)&&c.targetPosition.isEqual(n.targetPosition))if(i.bWasUndone){const s=n.graveyardPosition.path.slice();return s.push(0),c.sourcePosition=new be(n.graveyardPosition.root,s),c.howMany=0,[c]}else return[new Dr(0)];if(c.sourcePosition.isEqual(n.sourcePosition)&&!c.targetPosition.isEqual(n.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const s=c.targetPosition.root.rootName=="$graveyard",l=n.targetPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&i.aIsStrong){const w=n.targetPosition._getTransformedByMergeOperation(n),y=c.targetPosition._getTransformedByMergeOperation(n);return[new qt(w,c.howMany,y,0)]}else return[new Dr(0)]}return c.sourcePosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(n),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),(!c.graveyardPosition.isEqual(n.graveyardPosition)||!i.aIsStrong)&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(n)),[c]}),Ft(Yn,qt,(c,n,i)=>{const s=se._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&c.deletionPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(c.sourcePosition)?[new Dr(0)]:(c.sourcePosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.sourcePosition.hasSameParentAs(n.sourcePosition)&&(c.howMany-=n.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(n),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(n),c.graveyardPosition.isEqual(n.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(n)),[c])}),Ft(Yn,an,(c,n,i)=>{if(n.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),c.deletionPosition.isEqual(n.graveyardPosition)&&(c.howMany=n.howMany)),c.targetPosition.isEqual(n.splitPosition)){const s=n.howMany!=0,l=n.graveyardPosition&&c.deletionPosition.isEqual(n.graveyardPosition);if(s||l||i.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(n),[c]}if(c.sourcePosition.isEqual(n.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c];if(i.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=n.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c]}return c.sourcePosition.hasSameParentAs(n.splitPosition)&&(c.howMany=n.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(n),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(n),[c]}),Ft(qt,Ir,(c,n)=>{const s=se._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(n,!1)[0];return c.sourcePosition=s.start,c.howMany=s.end.offset-s.start.offset,c.targetPosition.isEqual(n.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(n)),[c]}),Ft(qt,qt,(c,n,i)=>{const s=se._createFromPositionAndShift(c.sourcePosition,c.howMany),l=se._createFromPositionAndShift(n.sourcePosition,n.howMany);let d=i.aIsStrong,f=!i.aIsStrong;i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?f=!0:(i.abRelation=="insertAfter"||i.baRelation=="insertBefore")&&(f=!1);let g;if(c.targetPosition.isEqual(n.targetPosition)&&f?g=c.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):g=c.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),PL(c,n)&&PL(n,c))return[n.getReversed()];if(s.containsPosition(n.targetPosition)&&s.containsRange(l,!0))return s.start=s.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),s.end=s.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Vd([s],g);if(l.containsPosition(c.targetPosition)&&l.containsRange(s,!0))return s.start=s.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),s.end=s.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),Vd([s],g);const C=Tn(c.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(C=="prefix"||C=="extension")return s.start=s.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),s.end=s.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Vd([s],g);c.type=="remove"&&n.type!="remove"&&!i.aWasUndone&&!i.forceWeakRemove?d=!0:c.type!="remove"&&n.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&(d=!1);const x=[],R=s.getDifference(l);for(const H of R){H.start=H.start._getTransformedByDeletion(n.sourcePosition,n.howMany),H.end=H.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const Z=Tn(H.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",de=H._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,Z);x.push(...de)}const j=s.getIntersection(l);return j!==null&&d&&(j.start=j.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),j.end=j.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),x.length===0?x.push(j):x.length==1?l.start.isBefore(s.start)||l.start.isEqual(s.start)?x.unshift(j):x.push(j):x.splice(1,0,j)),x.length===0?[new Dr(c.baseVersion)]:Vd(x,g)}),Ft(qt,an,(c,n,i)=>{let s=c.targetPosition.clone();(!c.targetPosition.isEqual(n.insertionPosition)||!n.graveyardPosition||i.abRelation=="moveTargetAfter")&&(s=c.targetPosition._getTransformedBySplitOperation(n));const l=se._createFromPositionAndShift(c.sourcePosition,c.howMany);if(l.end.isEqual(n.insertionPosition))return n.graveyardPosition||c.howMany++,c.targetPosition=s,[c];if(l.start.hasSameParentAs(n.splitPosition)&&l.containsPosition(n.splitPosition)){let g=new se(n.splitPosition,l.end);g=g._getTransformedBySplitOperation(n);const w=[new se(l.start,n.splitPosition),g];return Vd(w,s)}c.targetPosition.isEqual(n.splitPosition)&&i.abRelation=="insertAtSource"&&(s=n.moveTargetPosition),c.targetPosition.isEqual(n.insertionPosition)&&i.abRelation=="insertBetween"&&(s=c.targetPosition);const f=[l._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const g=l.start.isEqual(n.graveyardPosition)||l.containsPosition(n.graveyardPosition);c.howMany>1&&g&&!i.aWasUndone&&f.push(se._createFromPositionAndShift(n.insertionPosition,1))}return Vd(f,s)}),Ft(qt,Yn,(c,n,i)=>{const s=se._createFromPositionAndShift(c.sourcePosition,c.howMany);if(n.deletionPosition.hasSameParentAs(c.sourcePosition)&&s.containsPosition(n.sourcePosition)){if(c.type=="remove"&&!i.forceWeakRemove){if(!i.aWasUndone){const f=[];let g=n.graveyardPosition.clone(),w=n.targetPosition._getTransformedByMergeOperation(n);c.howMany>1&&(f.push(new qt(c.sourcePosition,c.howMany-1,c.targetPosition,0)),g=g._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const y=n.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),C=new qt(g,1,y,0),x=C.getMovedRangeStart().path.slice();x.push(0);const R=new be(C.targetPosition.root,x);w=w._getTransformedByMove(g,y,1);const j=new qt(w,n.howMany,R,0);return f.push(C),f.push(j),f}}else if(c.howMany==1)return i.bWasUndone?(c.sourcePosition=n.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),[c]):[new Dr(0)]}const d=se._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(n);return c.sourcePosition=d.start,c.howMany=d.end.offset-d.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(n),[c]}),Ft($i,Ir,(c,n)=>(c.position=c.position._getTransformedByInsertOperation(n),[c])),Ft($i,Yn,(c,n)=>c.position.isEqual(n.deletionPosition)?(c.position=n.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(n),[c])),Ft($i,qt,(c,n)=>(c.position=c.position._getTransformedByMoveOperation(n),[c])),Ft($i,$i,(c,n,i)=>{if(c.position.isEqual(n.position))if(i.aIsStrong)c.oldName=n.newName;else return[new Dr(0)];return[c]}),Ft($i,an,(c,n)=>{const i=c.position.path,s=n.splitPosition.getParentPath();if(Tn(i,s)=="same"&&!n.graveyardPosition){const l=new $i(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,l]}return c.position=c.position._getTransformedBySplitOperation(n),[c]}),Ft(ha,ha,(c,n,i)=>{if(c.root===n.root&&c.key===n.key){if(!i.aIsStrong||c.newValue===n.newValue)return[new Dr(0)];c.oldValue=n.newValue}return[c]}),Ft(an,Ir,(c,n)=>(c.splitPosition.hasSameParentAs(n.position)&&c.splitPosition.offset<n.position.offset&&(c.howMany+=n.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(n),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(n),[c])),Ft(an,Yn,(c,n,i)=>{if(!c.graveyardPosition&&!i.bWasUndone&&c.splitPosition.hasSameParentAs(n.sourcePosition)){const s=n.graveyardPosition.path.slice();s.push(0);const l=new be(n.graveyardPosition.root,s),d=an.getInsertionPosition(new be(n.graveyardPosition.root,s)),f=new an(l,0,d,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(n),c.insertionPosition=an.getInsertionPosition(c.splitPosition),c.graveyardPosition=f.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[f,c]}return c.splitPosition.hasSameParentAs(n.deletionPosition)&&!c.splitPosition.isAfter(n.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(n.targetPosition)&&(c.howMany+=n.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(n),c.insertionPosition=an.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(n)),[c]}),Ft(an,qt,(c,n,i)=>{const s=se._createFromPositionAndShift(n.sourcePosition,n.howMany);if(c.graveyardPosition){const d=s.start.isEqual(c.graveyardPosition)||s.containsPosition(c.graveyardPosition);if(!i.bWasUndone&&d){const f=c.splitPosition._getTransformedByMoveOperation(n),g=c.graveyardPosition._getTransformedByMoveOperation(n),w=g.path.slice();w.push(0);const y=new be(g.root,w);return[new qt(f,c.howMany,y,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(n)}const l=c.splitPosition.isEqual(n.targetPosition);if(l&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return c.howMany+=n.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),c.insertionPosition=an.getInsertionPosition(c.splitPosition),[c];if(l&&i.abRelation&&i.abRelation.howMany){const{howMany:d,offset:f}=i.abRelation;return c.howMany+=d,c.splitPosition=c.splitPosition.getShiftedBy(f),[c]}if(c.splitPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(c.splitPosition)){const d=n.howMany-(c.splitPosition.offset-n.sourcePosition.offset);return c.howMany-=d,c.splitPosition.hasSameParentAs(n.targetPosition)&&c.splitPosition.offset<n.targetPosition.offset&&(c.howMany+=n.howMany),c.splitPosition=n.sourcePosition.clone(),c.insertionPosition=an.getInsertionPosition(c.splitPosition),[c]}return n.sourcePosition.isEqual(n.targetPosition)||(c.splitPosition.hasSameParentAs(n.sourcePosition)&&c.splitPosition.offset<=n.sourcePosition.offset&&(c.howMany-=n.howMany),c.splitPosition.hasSameParentAs(n.targetPosition)&&c.splitPosition.offset<n.targetPosition.offset&&(c.howMany+=n.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(n),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(n):c.insertionPosition=an.getInsertionPosition(c.splitPosition),[c]}),Ft(an,an,(c,n,i)=>{if(c.splitPosition.isEqual(n.splitPosition)){if(!c.graveyardPosition&&!n.graveyardPosition)return[new Dr(0)];if(c.graveyardPosition&&n.graveyardPosition&&c.graveyardPosition.isEqual(n.graveyardPosition))return[new Dr(0)];if(i.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(n),[c]}if(c.graveyardPosition&&n.graveyardPosition&&c.graveyardPosition.isEqual(n.graveyardPosition)){const s=c.splitPosition.root.rootName=="$graveyard",l=n.splitPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&i.aIsStrong){const w=[];return n.howMany&&w.push(new qt(n.moveTargetPosition,n.howMany,n.splitPosition,0)),c.howMany&&w.push(new qt(c.splitPosition,c.howMany,c.moveTargetPosition,0)),w}else return[new Dr(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(n)),c.splitPosition.isEqual(n.insertionPosition)&&i.abRelation=="splitBefore")return c.howMany++,[c];if(n.splitPosition.isEqual(c.insertionPosition)&&i.baRelation=="splitBefore"){const s=n.insertionPosition.path.slice();s.push(0);const l=new be(n.insertionPosition.root,s),d=new qt(c.insertionPosition,1,l,0);return[c,d]}return c.splitPosition.hasSameParentAs(n.splitPosition)&&c.splitPosition.offset<n.splitPosition.offset&&(c.howMany-=n.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(n),c.insertionPosition=an.getInsertionPosition(c.splitPosition),[c]});function PL(c,n){return c.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function Vd(c,n){const i=[];for(let s=0;s<c.length;s++){const l=c[s],d=new qt(l.start,l.end.offset-l.start.offset,n,0);i.push(d);for(let f=s+1;f<c.length;f++)c[f]=c[f]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];n=n._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return i}class Gr extends B(be){constructor(n,i,s="toNone"){if(super(n,i,s),!this.root.is("rootElement"))throw new S("model-liveposition-root-not-rootelement",n);Boe.call(this)}detach(){this.stopListening()}toPosition(){return new be(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,i){return new this(n.root,n.path.slice(),i||n.stickiness)}}Gr.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};function Boe(){this.listenTo(this.root.document.model,"applyOperation",(c,n)=>{const i=n[0];i.isDocumentOperation&&zoe.call(this,i)},{priority:"low"})}function zoe(c){const n=this.getTransformedByOperation(c);if(!this.isEqual(n)){const i=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",i)}}class Ud{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},ee("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:l=!1,isTyping:d=!1}=n;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=l,this.isTyping=d}get type(){return ee("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}class Foe{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}bufferOperation(n){const i=n;switch(i.type){case"insert":{if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const s of i.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break}case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const s=this._isInInsertedElement(i.sourcePosition.parent),l=this._isInInsertedElement(i.targetPosition.parent);s||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),l||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const s=se._createFromPositionAndShift(i.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const d=l.getData();this.bufferMarkerChange(l.name,d,d)}break}case"split":{const s=i.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const s=i.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const l=i.graveyardPosition.parent;this._markInsert(l,i.graveyardPosition.offset,1);const d=i.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,i.targetPosition.offset,s.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(n,i,s){const l=this._changedMarkers.get(n);l?(l.newMarkerData=s,l.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(n)):this._changedMarkers.set(n,{newMarkerData:s,oldMarkerData:i})}getMarkersToRemove(){const n=[];for(const[i,s]of this._changedMarkers)s.oldMarkerData.range!=null&&n.push({name:i,range:s.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[i,s]of this._changedMarkers)s.newMarkerData.range!=null&&n.push({name:i,range:s.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,i])=>({name:n,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:i}of this._changedMarkers.values()){if(n.affectsData!==i.affectsData)return!0;if(n.affectsData){const s=n.range&&!i.range,l=!n.range&&i.range,d=n.range&&i.range&&!n.range.isEqual(i.range);if(s||l||d)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const l=this._changesInElement.get(s).sort((C,x)=>C.offset===x.offset?C.type!=x.type?C.type=="remove"?-1:1:0:C.offset<x.offset?-1:1),d=this._elementSnapshots.get(s),f=ML(s.getChildren()),g=joe(d.length,l);let w=0,y=0;for(const C of g)if(C==="i")i.push(this._getInsertDiff(s,w,f[w])),w++;else if(C==="r")i.push(this._getRemoveDiff(s,w,d[y])),y++;else if(C==="a"){const x=f[w].attributes,R=d[y].attributes;let j;if(f[w].name=="$text")j=new se(be._createAt(s,w),be._createAt(s,w+1));else{const H=s.offsetToIndex(w);j=new se(be._createAt(s,w),be._createAt(s.getChild(H),0))}i.push(...this._getAttributesDiff(j,R,x)),w++,y++}else w++,y++}i.sort((s,l)=>s.position.root!=l.position.root?s.position.root.rootName<l.position.root.rootName?-1:1:s.position.isEqual(l.position)?s.changeCount-l.changeCount:s.position.isBefore(l.position)?-1:1);for(let s=1,l=0;s<i.length;s++){const d=i[l],f=i[s],g=d.type=="remove"&&f.type=="remove"&&d.name=="$text"&&f.name=="$text"&&d.position.isEqual(f.position),w=d.type=="insert"&&f.type=="insert"&&d.name=="$text"&&f.name=="$text"&&d.position.parent==f.position.parent&&d.position.offset+d.length==f.position.offset,y=d.type=="attribute"&&f.type=="attribute"&&d.position.parent==f.position.parent&&d.range.isFlat&&f.range.isFlat&&d.position.offset+d.length==f.position.offset&&d.attributeKey==f.attributeKey&&d.attributeOldValue==f.attributeOldValue&&d.attributeNewValue==f.attributeNewValue;g||w||y?(d.length++,y&&(d.range.end=d.range.end.getShiftedBy(1)),i[s]=null):l=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(Voe),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const i=se._createOn(n);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}this._cachedChanges=null}_markInsert(n,i,s){const l={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(n,l)}_markRemove(n,i,s){const l={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(n,l),this._removeAllNestedChanges(n,i,s)}_markAttribute(n){const i={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,i)}_markChange(n,i){this._makeSnapshot(n);const s=this._getChangesForElement(n);this._handleChange(i,s),s.push(i);for(let l=0;l<s.length;l++)s[l].howMany<1&&(s.splice(l,1),l--)}_getChangesForElement(n){let i;return this._changesInElement.has(n)?i=this._changesInElement.get(n):(i=[],this._changesInElement.set(n,i)),i}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,ML(n.getChildren()))}_handleChange(n,i){n.nodesToHandle=n.howMany;for(const s of i){const l=n.offset+n.howMany,d=s.offset+s.howMany;if(n.type=="insert"&&(s.type=="insert"&&(n.offset<=s.offset?s.offset+=n.howMany:n.offset<d&&(s.howMany+=n.nodesToHandle,n.nodesToHandle=0)),s.type=="remove"&&n.offset<s.offset&&(s.offset+=n.howMany),s.type=="attribute")){if(n.offset<=s.offset)s.offset+=n.howMany;else if(n.offset<d){const f=s.howMany;s.howMany=n.offset-s.offset,i.unshift({type:"attribute",offset:l,howMany:f-s.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(s.type=="insert"){if(l<=s.offset)s.offset-=n.howMany;else if(l<=d)if(n.offset<s.offset){const f=l-s.offset;s.offset=n.offset,s.howMany-=f,n.nodesToHandle-=f}else s.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=s.offset)n.nodesToHandle-=s.howMany,s.howMany=0;else if(n.offset<d){const f=d-n.offset;s.howMany-=f,n.nodesToHandle-=f}}if(s.type=="remove"&&(l<=s.offset?s.offset-=n.howMany:n.offset<s.offset&&(n.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(l<=s.offset)s.offset-=n.howMany;else if(n.offset<s.offset){const f=l-s.offset;s.offset=n.offset,s.howMany-=f}else if(n.offset<d)if(l<=d){const f=s.howMany;s.howMany=n.offset-s.offset;const g=f-s.howMany-n.nodesToHandle;i.unshift({type:"attribute",offset:n.offset,howMany:g,count:this._changeCount++})}else s.howMany-=d-n.offset}}if(n.type=="attribute"){if(s.type=="insert")if(n.offset<s.offset&&l>s.offset){if(l>d){const f={type:"attribute",offset:d,howMany:l-d,count:this._changeCount++};this._handleChange(f,i),i.push(f)}n.nodesToHandle=s.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=s.offset&&n.offset<d&&(l>d?(n.nodesToHandle=l-d,n.offset=d):n.nodesToHandle=0);if(s.type=="remove"&&n.offset<s.offset&&l>s.offset){const f={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++};this._handleChange(f,i),i.push(f),n.nodesToHandle=s.offset-n.offset,n.howMany=n.nodesToHandle}s.type=="attribute"&&(n.offset>=s.offset&&l<=d?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=s.offset&&l>=d&&(s.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,i,s){return{type:"insert",position:be._createAt(n,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(n,i,s){return{type:"remove",position:be._createAt(n,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(n,i,s){const l=[];s=new Map(s);for(const[d,f]of i){const g=s.has(d)?s.get(d):null;g!==f&&l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:f,attributeNewValue:g,changeCount:this._changeCount++}),s.delete(d)}for(const[d,f]of s)l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return l}_isInInsertedElement(n){const i=n.parent;if(!i)return!1;const s=this._changesInElement.get(i),l=n.startOffset;if(s){for(const d of s)if(d.type=="insert"&&l>=d.offset&&l<d.offset+d.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(n,i,s){const l=new se(be._createAt(n,i),be._createAt(n,i+s));for(const d of l.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function ML(c){const n=[];for(const i of c)if(i.is("$text"))for(let s=0;s<i.data.length;s++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())});return n}function joe(c,n){const i=[];let s=0,l=0;for(const d of n){if(d.offset>s){for(let f=0;f<d.offset-s;f++)i.push("e");l+=d.offset-s}if(d.type=="insert"){for(let f=0;f<d.howMany;f++)i.push("i");s=d.offset+d.howMany}else if(d.type=="remove"){for(let f=0;f<d.howMany;f++)i.push("r");s=d.offset,l+=d.howMany}else i.push(..."a".repeat(d.howMany).split("")),s=d.offset+d.howMany,l+=d.howMany}if(l<c)for(let d=0;d<c-l-s;d++)i.push("e");return i}function Voe(c){const n="position"in c&&c.position.root.rootName=="$graveyard",i="range"in c&&c.range.root.rootName=="$graveyard";return!n&&!i}class Uoe{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new S("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];n===void 0&&(n=s.baseVersion);let l=i-1;for(const[g,w]of this._gaps)n>g&&n<w&&(n=w),l>g&&l<w&&(l=g-1);if(l<s.baseVersion||n>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(n);d===void 0&&(d=0);let f=this._baseVersionToOperationIndex.get(l);return f===void 0&&(f=this._operations.length-1),this._operations.slice(d,f+1)}getOperation(n){const i=this._baseVersionToOperationIndex.get(n);if(i!==void 0)return this._operations[i]}setOperationAsUndone(n,i){this._undoPairs.set(i,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class $w extends Yt{constructor(n,i,s="main"){super(i),this._document=n,this.rootName=s}get document(){return this._document}toJSON(){return this.rootName}}$w.prototype.is=function(c,n){return n?n===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};const s1="$graveyard";class $oe extends B(){constructor(n){super(),this.model=n,this.history=new Uoe,this.selection=new Co(this),this.roots=new yi({idProperty:"rootName"}),this.differ=new Foe(n.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",s1),this.listenTo(n,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(n,"applyOperation",(i,s)=>{const l=s[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(i,s,l,d,f)=>{const g={...s.getData(),range:d};this.differ.bufferMarkerChange(s.name,f,g),l===null&&s.on("change",(w,y)=>{const C=s.getData();this.differ.bufferMarkerChange(s.name,{...C,range:y},C)})})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(s1)}createRoot(n="$root",i="main"){if(this.roots.get(i))throw new S("model-document-createroot-name-exists",this,{name:i});const s=new $w(this,n,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(){return Array.from(this.roots,n=>n.rootName).filter(n=>n!=s1)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=eO(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const n of this.roots)if(n!==this.graveyard)return n;return this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),i=this.model,s=i.schema,l=i.createPositionFromPath(n,[0]);return s.getNearestSelectionRange(l)||i.createRange(l)}_validateSelectionRange(n){return NL(n.start)&&NL(n.end)}_callPostFixers(n){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(n),i)break;while(i)}}function NL(c){const n=c.textNode;if(n){const i=n.data,s=c.offset-n.startOffset;return!yR(i,s)&&!_R(i,s)}return!0}class Hoe extends B(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const i=n instanceof $d?n.name:n;return this._markers.has(i)}get(n){return this._markers.get(n)||null}_set(n,i,s=!1,l=!1){const d=n instanceof $d?n.name:n;if(d.includes(","))throw new S("markercollection-incorrect-marker-name",this);const f=this._markers.get(d);if(f){const y=f.getData(),C=f.getRange();let x=!1;return C.isEqual(i)||(f._attachLiveRange(es.fromRange(i)),x=!0),s!=f.managedUsingOperations&&(f._managedUsingOperations=s,x=!0),typeof l=="boolean"&&l!=f.affectsData&&(f._affectsData=l,x=!0),x&&this.fire(`update:${d}`,f,C,i,y),f}const g=es.fromRange(i),w=new $d(d,g,s,l);return this._markers.set(d,w),this.fire(`update:${d}`,w,null,i,{...w.getData(),range:null}),w}_remove(n){const i=n instanceof $d?n.name:n,s=this._markers.get(i);return s?(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0):!1}_refresh(n){const i=n instanceof $d?n.name:n,s=this._markers.get(i);if(!s)throw new S("markercollection-refresh-marker-not-exists",this);const l=s.getRange();this.fire(`update:${i}`,s,l,l,s.getData())}*getMarkersAtPosition(n){for(const i of this)i.getRange().containsPosition(n)&&(yield i)}*getMarkersIntersectingRange(n){for(const i of this)i.getRange().getIntersection(n)!==null&&(yield i)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const i of this._markers.values())i.name.startsWith(n+":")&&(yield i)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class $d extends B(hc){constructor(n,i,s,l){super(),this.name=n,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new S("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}$d.prototype.is=function(c){return c==="marker"||c==="model:marker"};class qoe extends Eo{constructor(n,i){super(null),this.sourcePosition=n.clone(),this.howMany=i}get type(){return"detach"}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new S("detach-operation-on-document-node",this)}_execute(){AL(se._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class fa extends hc{constructor(n){super(),this.markers=new Map,this._children=new bp,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let i=this;for(const s of n)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const i of this._children)n.push(i.toJSON());return n}static fromJSON(n){const i=[];for(const s of n)s.name?i.push(Yt.fromJSON(s)):i.push(sn.fromJSON(s));return new fa(i)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,i){const s=Woe(i);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,i=1){const s=this._children._removeNodes(n,i);for(const l of s)l.parent=null;return s}}fa.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};function Woe(c){return typeof c=="string"?[new sn(c)]:(Gn(c)||(c=[c]),Array.from(c).map(n=>typeof n=="string"?new sn(n):n instanceof Xo?new sn(n.data,n.getAttributes()):n))}class Goe{constructor(n,i){this.model=n,this.batch=i}createText(n,i){return new sn(n,i)}createElement(n,i){return new Yt(n,i)}createDocumentFragment(){return new fa}cloneElement(n,i=!0){return n._clone(i)}insert(n,i,s=0){if(this._assertWriterUsedCorrectly(),n instanceof sn&&n.data=="")return;const l=be._createAt(i,s);if(n.parent)if(LL(n.root,l.root)){this.move(se._createOn(n),l);return}else{if(n.root.document)throw new S("model-writer-insert-forbidden-move",this);this.remove(n)}const d=l.root.document?l.root.document.version:null,f=new Ir(l,n,d);if(n instanceof sn&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),n instanceof fa)for(const[g,w]of n.markers){const y=be._createAt(w.root,0),x={range:new se(w.start._getCombined(y,l),w.end._getCombined(y,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,x):this.addMarker(g,x)}}insertText(n,i,s,l){i instanceof fa||i instanceof Yt||i instanceof be?this.insert(this.createText(n),i,s):this.insert(this.createText(n,i),s,l)}insertElement(n,i,s,l){i instanceof fa||i instanceof Yt||i instanceof be?this.insert(this.createElement(n),i,s):this.insert(this.createElement(n,i),s,l)}append(n,i){this.insert(n,i,"end")}appendText(n,i,s){i instanceof fa||i instanceof Yt?this.insert(this.createText(n),i,"end"):this.insert(this.createText(n,i),s,"end")}appendElement(n,i,s){i instanceof fa||i instanceof Yt?this.insert(this.createElement(n),i,"end"):this.insert(this.createElement(n,i),s,"end")}setAttribute(n,i,s){if(this._assertWriterUsedCorrectly(),s instanceof se){const l=s.getMinimalFlatRanges();for(const d of l)RL(this,n,i,d)}else OL(this,n,i,s)}setAttributes(n,i){for(const[s,l]of vs(n))this.setAttribute(s,l,i)}removeAttribute(n,i){if(this._assertWriterUsedCorrectly(),i instanceof se){const s=i.getMinimalFlatRanges();for(const l of s)RL(this,n,null,l)}else OL(this,n,null,i)}clearAttributes(n){this._assertWriterUsedCorrectly();const i=s=>{for(const l of s.getAttributeKeys())this.removeAttribute(l,s)};if(!(n instanceof se))i(n);else for(const s of n.getItems())i(s)}move(n,i,s){if(this._assertWriterUsedCorrectly(),!(n instanceof se))throw new S("writer-move-invalid-range",this);if(!n.isFlat)throw new S("writer-move-range-not-flat",this);const l=be._createAt(i,s);if(l.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!LL(n.root,l.root))throw new S("writer-move-different-document",this);const d=n.root.document?n.root.document.version:null,f=new qt(n.start,n.end.offset-n.start.offset,l,d);this.batch.addOperation(f),this.model.applyOperation(f)}remove(n){this._assertWriterUsedCorrectly();const s=(n instanceof se?n:se._createOn(n)).getMinimalFlatRanges().reverse();for(const l of s)this._addOperationForAffectedMarkers("move",l),Koe(l.start,l.end.offset-l.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const i=n.nodeBefore,s=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(i instanceof Yt))throw new S("writer-merge-no-element-before",this);if(!(s instanceof Yt))throw new S("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,i,s){return this.model.createPositionFromPath(n,i,s)}createPositionAt(n,i){return this.model.createPositionAt(n,i)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,i){return this.model.createRange(n,i)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const i=n.nodeBefore,s=n.nodeAfter;this.move(se._createIn(s),be._createAt(i,"end")),this.remove(s)}_merge(n){const i=be._createAt(n.nodeBefore,"end"),s=be._createAt(n.nodeAfter,0),l=n.root.document.graveyard,d=new be(l,[0]),f=n.root.document.version,g=new Yn(s,n.nodeAfter.maxOffset,i,d,f);this.batch.addOperation(g),this.model.applyOperation(g)}rename(n,i){if(this._assertWriterUsedCorrectly(),!(n instanceof Yt))throw new S("writer-rename-not-element-instance",this);const s=n.root.document?n.root.document.version:null,l=new $i(be._createBefore(n),n.name,i,s);this.batch.addOperation(l),this.model.applyOperation(l)}split(n,i){this._assertWriterUsedCorrectly();let s=n.parent;if(!s.parent)throw new S("writer-split-element-no-parent",this);if(i||(i=s.parent),!n.parent.getAncestors({includeSelf:!0}).includes(i))throw new S("writer-split-invalid-limit-element",this);let l,d;do{const f=s.root.document?s.root.document.version:null,g=s.maxOffset-n.offset,w=an.getInsertionPosition(n),y=new an(n,g,w,null,f);this.batch.addOperation(y),this.model.applyOperation(y),!l&&!d&&(l=s,d=n.parent.nextSibling),n=this.createPositionAfter(n.parent),s=n.parent}while(s!==i);return{position:n,range:new se(be._createAt(l,"end"),be._createAt(d,0))}}wrap(n,i){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new S("writer-wrap-range-not-flat",this);const s=i instanceof Yt?i:new Yt(i);if(s.childCount>0)throw new S("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new S("writer-wrap-element-attached",this);this.insert(s,n.start);const l=new se(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(l,be._createAt(s,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new S("writer-unwrap-element-no-parent",this);this.move(se._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new S("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,l=i.range,d=i.affectsData===void 0?!1:i.affectsData;if(this.model.markers.has(n))throw new S("writer-addmarker-marker-exists",this);if(!l)throw new S("writer-addmarker-no-range",this);return s?(Ep(this,n,null,l,d),this.model.markers.get(n)):this.model.markers._set(n,l,s,d)}updateMarker(n,i){this._assertWriterUsedCorrectly();const s=typeof n=="string"?n:n.name,l=this.model.markers.get(s);if(!l)throw new S("writer-updatemarker-marker-not-exists",this);if(!i){ee("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),this.model.markers._refresh(l);return}const d=typeof i.usingOperation=="boolean",f=typeof i.affectsData=="boolean",g=f?i.affectsData:l.affectsData;if(!d&&!i.range&&!f)throw new S("writer-updatemarker-wrong-options",this);const w=l.getRange(),y=i.range?i.range:w;if(d&&i.usingOperation!==l.managedUsingOperations){i.usingOperation?Ep(this,s,null,y,g):(Ep(this,s,w,null,g),this.model.markers._set(s,y,void 0,g));return}l.managedUsingOperations?Ep(this,s,w,y,g):this.model.markers._set(s,y,void 0,g)}removeMarker(n){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name;if(!this.model.markers.has(i))throw new S("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);if(!s.managedUsingOperations){this.model.markers._remove(i);return}const l=s.getRange();Ep(this,i,l,null,s.affectsData)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,i)}setSelectionAttribute(n,i){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,i);else for(const[s,l]of vs(n))this._setSelectionAttribute(s,l)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const i of n)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=Co._getStoreAttributeKey(n);this.setAttribute(l,i,s.anchor.parent)}s._setAttribute(n,i)}_removeSelectionAttribute(n){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=Co._getStoreAttributeKey(n);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new S("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const l=s.getRange();let d=!1;if(n==="move"){const f=i;d=f.containsPosition(l.start)||f.start.isEqual(l.start)||f.containsPosition(l.end)||f.end.isEqual(l.end)}else{const f=i,g=f.nodeBefore,w=f.nodeAfter,y=l.start.parent==g&&l.start.isAtEnd,C=l.end.parent==w&&l.end.offset==0,x=l.end.nodeAfter==w,R=l.start.nodeAfter==w;d=y||C||x||R}d&&this.updateMarker(s.name,{range:l})}}}function RL(c,n,i,s){const l=c.model,d=l.document;let f=s.start,g,w,y;for(const x of s.getWalker({shallow:!0}))y=x.item.getAttribute(n),g&&w!=y&&(w!=i&&C(),f=g),g=x.nextPosition,w=y;g instanceof be&&g!=f&&w!=i&&C();function C(){const x=new se(f,g),R=x.root.document?d.version:null,j=new ir(x,n,w,i,R);c.batch.addOperation(j),l.applyOperation(j)}}function OL(c,n,i,s){const l=c.model,d=l.document,f=s.getAttribute(n);let g,w;if(f!=i){if(s.root===s){const C=s.document?d.version:null;w=new ha(s,n,f,i,C)}else{g=new se(be._createBefore(s),c.createPositionAfter(s));const C=g.root.document?d.version:null;w=new ir(g,n,f,i,C)}c.batch.addOperation(w),l.applyOperation(w)}}function Ep(c,n,i,s,l){const d=c.model,f=d.document,g=new Ui(n,i,s,d.markers,!!l,f.version);c.batch.addOperation(g),d.applyOperation(g)}function Koe(c,n,i,s){let l;if(c.root.document){const d=s.document,f=new be(d.graveyard,[0]);l=new qt(c,n,f,d.version)}else l=new qoe(c,n);i.addOperation(l),s.applyOperation(l)}function LL(c,n){return c===n||c instanceof $w&&n instanceof $w}function Yoe(c){c.document.registerPostFixer(n=>Qoe(n,c))}function Qoe(c,n){const i=n.document.selection,s=n.schema,l=[];let d=!1;for(const f of i.getRanges()){const g=Zoe(f,s);g&&!g.isEqual(f)?(l.push(g),d=!0):l.push(f)}return d&&c.setSelection(tse(l),{backward:i.isBackward}),!1}function Zoe(c,n){return c.isCollapsed?Joe(c,n):Xoe(c,n)}function Joe(c,n){const i=c.start,s=n.getNearestSelectionRange(i);if(!s){const d=i.getAncestors().reverse().find(f=>n.isObject(f));return d?se._createOn(d):null}if(!s.isCollapsed)return s;const l=s.start;return i.isEqual(l)?null:new se(l)}function Xoe(c,n){const{start:i,end:s}=c,l=n.checkChild(i,"$text"),d=n.checkChild(s,"$text"),f=n.getLimitElement(i),g=n.getLimitElement(s);if(f===g){if(l&&d)return null;if(ese(i,s,n)){const x=i.nodeAfter&&n.isSelectable(i.nodeAfter)?null:n.getNearestSelectionRange(i,"forward"),j=s.nodeBefore&&n.isSelectable(s.nodeBefore)?null:n.getNearestSelectionRange(s,"backward"),H=x?x.start:i,Z=j?j.end:s;return new se(H,Z)}}const w=f&&!f.is("rootElement"),y=g&&!g.is("rootElement");if(w||y){const C=i.nodeAfter&&s.nodeBefore&&i.nodeAfter.parent===s.nodeBefore.parent,x=w&&(!C||!zL(i.nodeAfter,n)),R=y&&(!C||!zL(s.nodeBefore,n));let j=i,H=s;return x&&(j=be._createBefore(BL(f,n))),R&&(H=be._createAfter(BL(g,n))),new se(j,H)}return null}function BL(c,n){let i=c,s=i;for(;n.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function ese(c,n,i){const s=c.nodeAfter&&!i.isLimit(c.nodeAfter)||i.checkChild(c,"$text"),l=n.nodeBefore&&!i.isLimit(n.nodeBefore)||i.checkChild(n,"$text");return s||l}function tse(c){const n=[...c],i=new Set;let s=1;for(;s<n.length;){const d=n[s],f=n.slice(0,s);for(const[g,w]of f.entries())if(!i.has(g)){if(d.isEqual(w))i.add(g);else if(d.isIntersecting(w)){i.add(g),i.add(s);const y=d.getJoined(w);n.push(y)}}s++}return n.filter((d,f)=>!i.has(f))}function zL(c,n){return c&&n.isSelectable(c)}function nse(c,n,i={}){if(n.isCollapsed)return;const s=n.getFirstRange();if(s.root.rootName=="$graveyard")return;const l=c.schema;c.change(d=>{if(!i.doNotResetEntireContent&&dse(l,n)){use(d,n);return}const f={};if(!i.doNotAutoparagraph){const y=n.getSelectedElement();y&&Object.assign(f,l.getAttributesWithProperty(y,"copyOnReplace",!0))}const[g,w]=rse(s);g.isTouching(w)||d.remove(d.createRange(g,w)),i.leaveUnmerged||(ose(d,g,w),l.removeDisallowedAttributes(g.parent.getChildren(),d)),UL(d,n,g),!i.doNotAutoparagraph&&cse(l,g)&&VL(d,g,n,f),g.detach(),w.detach()})}function rse(c){const n=c.root.document.model,i=c.start;let s=c.end;if(n.hasContent(c,{ignoreMarkers:!0})){const l=ise(s);if(l&&s.isTouching(n.createPositionAt(l,0))){const d=n.createSelection(c);n.modifySelection(d,{direction:"backward"});const f=d.getLastPosition(),g=n.createRange(f,s);n.hasContent(g,{ignoreMarkers:!0})||(s=f)}}return[Gr.fromPosition(i,"toPrevious"),Gr.fromPosition(s,"toNext")]}function ise(c){const n=c.parent,i=n.root.document.model.schema,s=n.getAncestors({parentFirst:!0,includeSelf:!0});for(const l of s){if(i.isLimit(l))return null;if(i.isBlock(l))return l}}function ose(c,n,i){const s=c.model;if(!a1(c.model.schema,n,i))return;const[l,d]=ase(n,i);!l||!d||(!s.hasContent(l,{ignoreMarkers:!0})&&s.hasContent(d,{ignoreMarkers:!0})?jL(c,n,i,l.parent):FL(c,n,i,l.parent))}function FL(c,n,i,s){const l=n.parent,d=i.parent;if(!(l==s||d==s)){for(n=c.createPositionAfter(l),i=c.createPositionBefore(d),i.isEqual(n)||c.insert(d,n),c.merge(n);i.parent.isEmpty;){const f=i.parent;i=c.createPositionBefore(f),c.remove(f)}a1(c.model.schema,n,i)&&FL(c,n,i,s)}}function jL(c,n,i,s){const l=n.parent,d=i.parent;if(!(l==s||d==s)){for(n=c.createPositionAfter(l),i=c.createPositionBefore(d),i.isEqual(n)||c.insert(l,i);n.parent.isEmpty;){const f=n.parent;n=c.createPositionBefore(f),c.remove(f)}i=c.createPositionBefore(d),sse(c,i),a1(c.model.schema,n,i)&&jL(c,n,i,s)}}function sse(c,n){const i=n.nodeBefore,s=n.nodeAfter;i.name!=s.name&&c.rename(i,s.name),c.clearAttributes(i),c.setAttributes(Object.fromEntries(s.getAttributes()),i),c.merge(n)}function a1(c,n,i){const s=n.parent,l=i.parent;return s==l||c.isLimit(s)||c.isLimit(l)?!1:lse(n,i,c)}function ase(c,n){const i=c.getAncestors(),s=n.getAncestors();let l=0;for(;i[l]&&i[l]==s[l];)l++;return[i[l],s[l]]}function cse(c,n){const i=c.checkChild(n,"$text"),s=c.checkChild(n,"paragraph");return!i&&s}function lse(c,n,i){const s=new se(c,n);for(const l of s.getWalker())if(i.isLimit(l.item))return!1;return!0}function VL(c,n,i,s={}){const l=c.createElement("paragraph");c.model.schema.setAllowedAttributes(l,s,c),c.insert(l,n),UL(c,i,c.createPositionAt(l,0))}function use(c,n){const i=c.model.schema.getLimitElement(n);c.remove(c.createRangeIn(i)),VL(c,c.createPositionAt(i,0),n)}function dse(c,n){const i=c.getLimitElement(n);if(!n.containsEntireContent(i))return!1;const s=n.getFirstRange();return s.start.parent==s.end.parent?!1:c.checkChild(i,"paragraph")}function UL(c,n,i){n instanceof Co?c.setSelection(i):n.setTo(i)}function hse(c,n){return c.change(i=>{const s=i.createDocumentFragment(),l=n.getFirstRange();if(!l||l.isCollapsed)return s;const d=l.start.root,f=l.start.getCommonPath(l.end),g=d.getNodeByPath(f);let w;l.start.parent==l.end.parent?w=l:w=i.createRange(i.createPositionAt(g,l.start.path[f.length]),i.createPositionAt(g,l.end.path[f.length]+1));const y=w.end.offset-w.start.offset;for(const C of w.getItems({shallow:!0}))C.is("$textProxy")?i.appendText(C.data,C.getAttributes(),s):i.append(i.cloneElement(C,!0),s);if(w!=l){const C=l._getTransformedByMove(w.start,i.createPositionAt(s,0),y)[0],x=i.createRange(i.createPositionAt(s,0),C.start),R=i.createRange(C.end,i.createPositionAt(s,"end"));$L(R,i),$L(x,i)}return s})}function $L(c,n){const i=[];Array.from(c.getItems({direction:"backward"})).map(s=>n.createRangeOn(s)).filter(s=>(s.start.isAfter(c.start)||s.start.isEqual(c.start))&&(s.end.isBefore(c.end)||s.end.isEqual(c.end))).forEach(s=>{i.push(s.start.parent),n.remove(s)}),i.forEach(s=>{let l=s;for(;l.parent&&l.isEmpty;){const d=n.createRangeOn(l);l=l.parent,n.remove(d)}})}function fse(c,n,i,s){return c.change(l=>{let d;i?i instanceof Ss||i instanceof Co?d=i:d=l.createSelection(i,s):d=c.document.selection,d.isCollapsed||c.deleteContent(d,{doNotAutoparagraph:!0});const f=new pse(c,l,d.anchor),g=[];let w;if(n.is("documentFragment")){if(n.markers.size){const x=[];for(const[R,j]of n.markers){const{start:H,end:Z}=j,de=H.isEqual(Z);x.push({position:H,name:R,isCollapsed:de},{position:Z,name:R,isCollapsed:de})}x.sort(({position:R},{position:j})=>R.isBefore(j)?1:-1);for(const{position:R,name:j,isCollapsed:H}of x){let Z=null,de=null;const Me=R.parent===n&&R.isAtStart,je=R.parent===n&&R.isAtEnd;!Me&&!je?(Z=l.createElement("$marker"),l.insert(Z,R)):H&&(de=Me?"start":"end"),g.push({name:j,element:Z,collapsed:de})}}w=n.getChildren()}else w=[n];f.handleNodes(w);let y=f.getSelectionRange();if(n.is("documentFragment")&&g.length){const x=y?es.fromRange(y):null,R={};for(let j=g.length-1;j>=0;j--){const{name:H,element:Z,collapsed:de}=g[j],Me=!R[H];if(Me&&(R[H]=[]),Z){const je=l.createPositionAt(Z,"before");R[H].push(je),l.remove(Z)}else{const je=f.getAffectedRange();if(!je){de&&R[H].push(f.position);continue}de?R[H].push(je[de]):R[H].push(Me?je.start:je.end)}}for(const[j,[H,Z]]of Object.entries(R))H&&Z&&H.root===Z.root&&l.addMarker(j,{usingOperation:!0,affectsData:!0,range:new se(H,Z)});x&&(y=x.toRange(),x.detach())}y&&(d instanceof Co?l.setSelection(y):d.setTo(y));const C=f.getAffectedRange()||c.createRange(d.anchor);return f.destroy(),C})}class pse{constructor(n,i,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const i of Array.from(n))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(n);if(s.isAfter(i)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new S("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?se._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new se(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n)){this._handleObject(n);return}let i=this._checkAndAutoParagraphToAllowedPosition(n);if(!i&&(i=this._checkAndSplitToAllowedPosition(n),!i)){this._handleDisallowedNode(n);return}this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=Gr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new S("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=Gr.fromPosition(n,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(n))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Gr.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Yt)||!this._canMergeLeft(n))return;const i=Gr._createBefore(n);i.stickiness="toNext";const s=Gr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Gr._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Gr._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Yt)||!this._canMergeRight(n))return;const i=Gr._createAfter(n);if(i.stickiness="toNext",!this.position.isEqual(i))throw new S("insertcontent-invalid-insertion-position",this);this.position=be._createAt(i.nodeBefore,"end");const s=Gr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Gr._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Gr._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(n){const i=n.previousSibling;return i instanceof Yt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,n)}_canMergeRight(n){const i=n.nextSibling;return i instanceof Yt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(n,i)}_tryAutoparagraphing(n){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,n)&&(i._appendChild(n),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(n){const i=this._getAllowedIn(this.position.parent,n);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,i){return this.schema.checkChild(n,i)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,i)}}function HL(c,n,i="auto"){const s=c.getSelectedElement();if(s&&n.schema.isObject(s)&&!n.schema.isInline(s))return i=="before"||i=="after"?n.createRange(n.createPositionAt(s,i)):n.createRangeOn(s);const l=zn(c.getSelectedBlocks());if(!l)return n.createRange(c.focus);if(l.isEmpty)return n.createRange(n.createPositionAt(l,0));const d=n.createPositionAfter(l);return c.focus.isTouching(d)?n.createRange(d):n.createRange(n.createPositionBefore(l))}function mse(c,n,i,s,l={}){if(!c.schema.isObject(n))throw new S("insertobject-element-not-an-object",c,{object:n});let d;i?i instanceof Ss||i instanceof Co?d=i:d=c.createSelection(i,s):d=c.document.selection;let f=d;l.findOptimalPosition&&c.schema.isBlock(n)&&(f=c.createSelection(HL(d,c,l.findOptimalPosition)));const g=zn(d.getSelectedBlocks()),w={};return g&&Object.assign(w,c.schema.getAttributesWithProperty(g,"copyOnReplace",!0)),c.change(y=>{f.isCollapsed||c.deleteContent(f,{doNotAutoparagraph:!0});let C=n;const x=f.anchor.parent;!c.schema.checkChild(x,n)&&c.schema.checkChild(x,"paragraph")&&c.schema.checkChild("paragraph",n)&&(C=y.createElement("paragraph"),y.insert(n,C)),c.schema.setAllowedAttributes(C,w,y);const R=c.insertContent(C,f);return R.isCollapsed||l.setSelection&&gse(y,n,l.setSelection,w),R})}function gse(c,n,i,s){const l=c.model;if(i=="on"){c.setSelection(n,"on");return}if(i!="after")throw new S("insertobject-invalid-place-parameter-value",l);let d=n.nextSibling;if(l.schema.isInline(n)){c.setSelection(n,"after");return}!(d&&l.schema.checkChild(d,"$text"))&&l.schema.checkChild(n.parent,"paragraph")&&(d=c.createElement("paragraph"),l.schema.setAllowedAttributes(d,s,c),l.insertContent(d,c.createPositionAfter(n))),d&&c.setSelection(d,0)}const bse=' ,.?!:;"-()';function wse(c,n,i={}){const s=c.schema,l=i.direction!="backward",d=i.unit?i.unit:"character",f=!!i.treatEmojiAsSingleUnit,g=n.focus,w=new xs({boundaries:_se(g,l),singleCharacters:!0,direction:l?"forward":"backward"}),y={walker:w,schema:s,isForward:l,unit:d,treatEmojiAsSingleUnit:f};let C;for(;C=w.next();){if(C.done)return;const x=kse(y,C.value);if(x){n instanceof Co?c.change(R=>{R.setSelectionFocus(x)}):n.setFocus(x);return}}}function kse(c,n){const{isForward:i,walker:s,unit:l,schema:d,treatEmojiAsSingleUnit:f}=c,{type:g,item:w,nextPosition:y}=n;if(g=="text")return c.unit==="word"?yse(s,i):vse(s,l,f);if(g==(i?"elementStart":"elementEnd")){if(d.isSelectable(w))return be._createAt(w,i?"after":"before");if(d.checkChild(y,"$text"))return y}else{if(d.isLimit(w)){s.skip(()=>!0);return}if(d.checkChild(y,"$text"))return y}}function vse(c,n,i){const s=c.position.textNode;if(s){const l=s.data;let d=c.position.offset-s.startOffset;for(;yR(l,d)||n=="character"&&_R(l,d)||i&&see(l,d);)c.next(),d=c.position.offset-s.startOffset}return c.position}function yse(c,n){let i=c.position.textNode;for(i||(i=n?c.position.nodeAfter:c.position.nodeBefore);i&&i.is("$text");){const s=c.position.offset-i.startOffset;if(Cse(i,s,n))i=n?c.position.nodeAfter:c.position.nodeBefore;else{if(Ase(i.data,s,n))break;c.next()}}return c.position}function _se(c,n){const i=c.root,s=be._createAt(i,n?"end":0);return n?new se(c,s):new se(s,c)}function Ase(c,n,i){const s=n+(i?0:-1);return bse.includes(c.charAt(s))}function Cse(c,n,i){return n===(i?c.offsetSize:0)}class Ese extends Pe(){constructor(){super(),this.markers=new Hoe,this.document=new $oe(this),this.schema=new ioe,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,i)=>{if(i.name==="$marker")return!0}),Yoe(this),this.document.registerPostFixer(fL)}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ud,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(i){S.rethrowUnexpectedError(i,this)}}enqueueChange(n,i){try{n?typeof n=="function"?(i=n,n=new Ud):n instanceof Ud||(n=new Ud(n)):n=new Ud,this._pendingChanges.push({batch:n,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){S.rethrowUnexpectedError(s,this)}}applyOperation(n){n._execute()}insertContent(n,i,s){return fse(this,n,i,s)}insertObject(n,i,s,l){return mse(this,n,i,s,l)}deleteContent(n,i){nse(this,n,i)}modifySelection(n,i){wse(this,n,i)}getSelectedContent(n){return hse(this,n)}hasContent(n,i={}){const s=n instanceof se?n:se._createIn(n);if(s.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:d=!1}=i;if(!d){for(const f of this.markers.getMarkersIntersectingRange(s))if(f.affectsData)return!0}for(const f of s.getItems())if(this.schema.isContent(f))if(f.is("$textProxy"))if(l){if(f.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(n,i,s){return new be(n,i,s)}createPositionAt(n,i){return be._createAt(n,i)}createPositionAfter(n){return be._createAfter(n)}createPositionBefore(n){return be._createBefore(n)}createRange(n,i){return new se(n,i)}createRangeIn(n){return se._createIn(n)}createRangeOn(n){return se._createOn(n)}createSelection(...n){return new Ss(...n)}createBatch(n){return new Ud(n)}createOperationFromJSON(n){return Poe.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new Goe(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);n.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}class xse extends dc{constructor(n){super(n),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class Hw extends dc{constructor(n){super(n),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class Xl{constructor(n){this.document=n}createDocumentFragment(n){return new Kl(this.document,n)}createElement(n,i,s){return new io(this.document,n,i,s)}createText(n){return new on(this.document,n)}clone(n,i=!1){return n._clone(i)}appendChild(n,i){return i._appendChild(n)}insertChild(n,i,s){return s._insertChild(n,i)}removeChildren(n,i,s){return s._removeChildren(n,i)}remove(n){const i=n.parent;return i?this.removeChildren(i.getChildIndex(n),1,i):[]}replace(n,i){const s=n.parent;if(s){const l=s.getChildIndex(n);return this.removeChildren(l,1,s),this.insertChild(l,i,s),!0}return!1}unwrapElement(n){const i=n.parent;if(i){const s=i.getChildIndex(n);this.remove(n),this.insertChild(s,n.getChildren(),i)}}rename(n,i){const s=new io(this.document,n,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(n,i,s){s._setAttribute(n,i)}removeAttribute(n,i){i._removeAttribute(n)}addClass(n,i){i._addClass(n)}removeClass(n,i){i._removeClass(n)}setStyle(n,i,s){Wr(n)&&s===void 0?i._setStyle(n):s._setStyle(n,i)}removeStyle(n,i){i._removeStyle(n)}setCustomProperty(n,i,s){s._setCustomProperty(n,i)}removeCustomProperty(n,i){return i._removeCustomProperty(n)}createPositionAt(n,i){return Ie._createAt(n,i)}createPositionAfter(n){return Ie._createAfter(n)}createPositionBefore(n){return Ie._createBefore(n)}createRange(n,i){return new ht(n,i)}createRangeOn(n){return ht._createOn(n)}createRangeIn(n){return ht._createIn(n)}createSelection(...n){return new As(...n)}}const Sse=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Tse(c){return Sse.test(c)}const Ise=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Dse(c){return Ise.test(c)}class Pse{constructor(){this._commands=new Map}add(n,i){this._commands.set(n,i)}get(n){return this._commands.get(n)}execute(n,...i){const s=this.get(n);if(!s)throw new S("commandcollection-command-not-found",this,{commandName:n});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}class Mse extends Ao{constructor(n){super(),this.editor=n}set(n,i,s={}){if(typeof i=="string"){const l=i;i=(d,f)=>{this.editor.execute(l),f()}}super.set(n,i,s)}}class Nse extends Pe(){constructor(n={}){super();const i=this.constructor,s=n.language||i.defaultConfig&&i.defaultConfig.language;this._context=n.context||new Iee({language:s}),this._context._addEditor(this,!n.context);const l=Array.from(i.builtinPlugins||[]);this.config=new X2(n,i.defaultConfig),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new QR(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Pse,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Ese;const d=new ane;this.data=new xoe(this.model,d),this.editing=new noe(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Toe([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Mse(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new S("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new S("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new S("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const n=this.config,i=n.get("plugins"),s=n.get("removePlugins")||[],l=n.get("extraPlugins")||[],d=n.get("substitutePlugins")||[];return this.plugins.init(i.concat(l),s,d)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(i=>this.once("ready",i))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...i){try{return this.commands.execute(n,...i)}catch(s){S.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}}function Rse(c){if(!Yo(c.updateSourceElement))throw new S("attachtoform-missing-elementapi-interface",c);const n=c.sourceElement;if(Ose(n)&&n.form){let i;const s=n.form,l=()=>c.updateSourceElement();Yo(s.submit)&&(i=s.submit,s.submit=()=>{l(),i.apply(s)}),s.addEventListener("submit",l),c.on("destroy",()=>{s.removeEventListener("submit",l),i&&(s.submit=i)})}}function Ose(c){return!!c&&c.tagName.toLowerCase()==="textarea"}function qw(c){class n extends c{setData(s){this.data.set(s)}getData(s){return this.data.get(s)}}return n}{const c=qw(Object);qw.setData=c.prototype.setData,qw.getData=c.prototype.getData}function c1(c){class n extends c{updateSourceElement(s=this.data.get()){if(!this.sourceElement)throw new S("editor-missing-sourceelement",this);const l=this.config.get("updateSourceElementOnDestroy"),d=this.sourceElement instanceof HTMLTextAreaElement;if(!l&&!d){cR(this.sourceElement,"");return}cR(this.sourceElement,s)}}return n}c1.updateSourceElement=c1(Object).prototype.updateSourceElement;class qL extends Sw{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new yi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new S("pendingactions-add-invalid-message",this);const i=new(Pe());return i.set("message",n),this._actions.add(i),this.hasAny=!0,i}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const mn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var WL=a(5571),l1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};l1.insert="head",l1.singleton=!0,at()(WL.Z,l1),WL.Z.locals;const{threeVerticalDots:GL}=mn,Lse={alignLeft:mn.alignLeft,bold:mn.bold,importExport:mn.importExport,paragraph:mn.paragraph,plus:mn.plus,text:mn.text,threeVerticalDots:mn.threeVerticalDots};class u1 extends Tt{constructor(n,i){super(n);const s=this.bindTemplate,l=this.t;this.options=i||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new Ao,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Bse(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=n.uiLanguageDirection==="rtl";this._focusCycler=new Ul({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")}},children:this.children,on:{mousedown:Tee(this)}}),this._behavior=this.options.shouldGroupWhenFull?new Fse(this):new zse(this)}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,i,s){this.items.addMany(this._buildItemsFromConfig(n,i,s))}_buildItemsFromConfig(n,i,s){const l=WR(n),d=s||l.removeItems;return this._cleanItemsConfiguration(l.items,i,d).map(g=>_e(g)?this._createNestedToolbarDropdown(g,i,d):g==="|"?new qR:g==="-"?new See:i.create(g)).filter(g=>!!g)}_cleanItemsConfiguration(n,i,s){const l=n.filter((d,f,g)=>d==="|"?!0:s.indexOf(d)!==-1?!1:d==="-"?this.options.shouldGroupWhenFull?(ee("toolbarview-line-break-ignored-when-grouping-items",g),!1):!0:!_e(d)&&!i.has(d)?(ee("toolbarview-item-unavailable",{item:d}),!1):!0);return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(n){const i=f=>f!=="-"&&f!=="|",s=n.length,l=n.findIndex(i);if(l===-1)return[];const d=s-n.slice().reverse().findIndex(i);return n.slice(l,d).filter((f,g,w)=>i(f)?!0:!(g>0&&w[g-1]===f))}_createNestedToolbarDropdown(n,i,s){let{label:l,icon:d,items:f,tooltip:g=!0,withText:w=!1}=n;if(f=this._cleanItemsConfiguration(f,i,s),!f.length)return null;const y=this.locale,C=xo(y);return l||ee("toolbarview-nested-toolbar-dropdown-missing-label",n),C.class="ck-toolbar__nested-toolbar-dropdown",C.buttonView.set({label:l,tooltip:g,withText:!!w}),d!==!1?C.buttonView.icon=Lse[d]||d||GL:C.buttonView.withText=!0,p1(C,()=>C.toolbarView._buildItemsFromConfig(f,i,s)),C}}class Bse extends Tt{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class zse{constructor(n){const i=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(s=>s),n.focusables.bindTo(n.items).using(s=>s),n.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Fse{constructor(n){this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,n.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),n.children.on("change",this._updateFocusCycleableItems.bind(this)),n.items.on("change",(i,s)=>{const l=s.index,d=Array.from(s.added);for(const f of s.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=l;f<l+d.length;f++){const g=d[f-l];f>this.ungroupedItems.length?this.groupedItems.add(g,f-this.ungroupedItems.length):this.ungroupedItems.add(g,f)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!jl(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const n=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new dn(n.lastChild),l=new dn(n);if(!this.cachedPadding){const d=St.window.getComputedStyle(n),f=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[f])}return i==="ltr"?s.right>l.right-this.cachedPadding:s.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new yn(this.viewElement,i=>{(!n||n!==i.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new qR),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,i=n.t,s=xo(n);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",p1(s,this.groupedItems),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:GL}),s}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var KL=a(1162),d1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};d1.insert="head",d1.singleton=!0,at()(KL.Z,d1),KL.Z.locals;class jse extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new ji,this.keystrokes=new Ao,this._focusCycler=new Ul({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":i.to("ariaLabel")},children:this.items})}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(n,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class YL extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){this.children.first.focus()}}class Vse extends Tt{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var QL=a(5075),h1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};h1.insert="head",h1.singleton=!0,at()(QL.Z,h1),QL.Z.locals;var ZL=a(6875),f1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};f1.insert="head",f1.singleton=!0,at()(ZL.Z,f1),ZL.Z.locals;function xo(c,n=$R){const i=new n(c),s=new xee(c),l=new Ld(c,i,s);return i.bind("isEnabled").to(l),i instanceof xw?i.arrowView.bind("isOn").to(l,"isOpen"):i.bind("isOn").to(l,"isOpen"),Use(l),l}function p1(c,n,i={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?JL(c,n,i):c.once("change:isOpen",()=>JL(c,n,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&m1(c,()=>c.toolbarView.items.find(s=>s.isOn))}function JL(c,n,i){const s=c.locale,l=s.t,d=c.toolbarView=new u1(s),f=typeof n=="function"?n():n;d.ariaLabel=i.ariaLabel||l("Dropdown toolbar"),i.maxWidth&&(d.maxWidth=i.maxWidth),i.class&&(d.class=i.class),i.isCompact&&(d.isCompact=i.isCompact),i.isVertical&&(d.isVertical=!0),f instanceof da?d.items.bindTo(f).using(g=>g):d.items.addMany(f),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function xp(c,n,i={}){c.isOpen?XL(c,n,i):c.once("change:isOpen",()=>XL(c,n,i),{priority:"highest"}),m1(c,()=>c.listView.items.find(s=>s instanceof YL?s.children.first.isOn:!1))}function XL(c,n,i){const s=c.locale,l=c.listView=new jse(s),d=typeof n=="function"?n():n;l.ariaLabel=i.ariaLabel,l.items.bindTo(d).using(f=>{if(f.type==="separator")return new Vse(s);if(f.type==="button"||f.type==="switchbutton"){const g=new YL(s);let w;return f.type==="button"?w=new Kt(s):w=new Ew(s),w.bind(...Object.keys(f.model)).to(f.model),w.delegate("execute").to(g),g.children.add(w),g}return null}),c.panelView.children.add(l),l.items.delegate("execute").to(c)}function m1(c,n){c.on("change:isOpen",()=>{if(!c.isOpen)return;const i=n();i&&(typeof i.focus=="function"?i.focus():ee("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:Y.low-10})}function Use(c){$se(c),Hse(c),qse(c),Wse(c),Gse(c),Kse(c)}function $se(c){c.on("render",()=>{h({emitter:c,activator:()=>c.isOpen,callback:()=>{c.isOpen=!1},contextElements:[c.element]})})}function Hse(c){c.on("execute",n=>{n.source instanceof Ew||(c.isOpen=!1)})}function qse(c){c.focusTracker.on("change:isFocused",(n,i,s)=>{c.isOpen&&!s&&(c.isOpen=!1)})}function Wse(c){c.keystrokes.set("arrowdown",(n,i)=>{c.isOpen&&(c.panelView.focus(),i())}),c.keystrokes.set("arrowup",(n,i)=>{c.isOpen&&(c.panelView.focusLast(),i())})}function Gse(c){c.on("change:isOpen",(n,i,s)=>{if(s)return;const l=c.panelView.element;l&&l.contains(St.document.activeElement)&&c.buttonView.focus()})}function Kse(c){c.on("change:isOpen",(n,i,s)=>{s&&c.panelView.focus()},{priority:"low"})}var e5=a(8245),g1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};g1.insert="head",g1.singleton=!0,at()(e5.Z,g1),e5.Z.locals;const t5=dC("px"),n5=St.document.body;class _i extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",s=>`ck-balloon-panel_${s}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",t5),left:i.to("left",t5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(n){this.show();const i=_i.defaultPositions,s=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:n5,fitInViewport:!0},n),l=_i._getOptimalPosition(s),d=parseInt(l.left),f=parseInt(l.top),g=l.name,w=l.config||{},{withArrow:y=!0}=w;this.top=f,this.left=d,this.position=g,this.withArrow=y}pin(n){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(n):this._stopPinning()},this._startPinning(n),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(n){this.attachTo(n);const i=b1(n.target),s=n.limiter?b1(n.limiter):n5;this.listenTo(St.document,"scroll",(l,d)=>{const f=d.target,g=i&&f.contains(i),w=s&&f.contains(s);(g||w||!i||!s)&&this.attachTo(n)},{useCapture:!0}),this.listenTo(St.window,"resize",()=>{this.attachTo(n)})}_stopPinning(){this.stopListening(St.document,"scroll"),this.stopListening(St.window,"resize")}}_i.arrowSideOffset=25,_i.arrowHeightOffset=10,_i.stickyVerticalOffset=20,_i._getOptimalPosition=uR,_i.defaultPositions=r5();function b1(c){return up(c)?c:vw(c)?c.commonAncestorContainer:typeof c=="function"?b1(c()):null}function r5(c={}){const{sideOffset:n=_i.arrowSideOffset,heightOffset:i=_i.arrowHeightOffset,stickyVerticalOffset:s=_i.stickyVerticalOffset,config:l}=c;return{northWestArrowSouthWest:(g,w)=>({top:d(g,w),left:g.left-n,name:"arrow_sw",...l&&{config:l}}),northWestArrowSouthMiddleWest:(g,w)=>({top:d(g,w),left:g.left-w.width*.25-n,name:"arrow_smw",...l&&{config:l}}),northWestArrowSouth:(g,w)=>({top:d(g,w),left:g.left-w.width/2,name:"arrow_s",...l&&{config:l}}),northWestArrowSouthMiddleEast:(g,w)=>({top:d(g,w),left:g.left-w.width*.75+n,name:"arrow_sme",...l&&{config:l}}),northWestArrowSouthEast:(g,w)=>({top:d(g,w),left:g.left-w.width+n,name:"arrow_se",...l&&{config:l}}),northArrowSouthWest:(g,w)=>({top:d(g,w),left:g.left+g.width/2-n,name:"arrow_sw",...l&&{config:l}}),northArrowSouthMiddleWest:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width*.25-n,name:"arrow_smw",...l&&{config:l}}),northArrowSouth:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width/2,name:"arrow_s",...l&&{config:l}}),northArrowSouthMiddleEast:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width*.75+n,name:"arrow_sme",...l&&{config:l}}),northArrowSouthEast:(g,w)=>({top:d(g,w),left:g.left+g.width/2-w.width+n,name:"arrow_se",...l&&{config:l}}),northEastArrowSouthWest:(g,w)=>({top:d(g,w),left:g.right-n,name:"arrow_sw",...l&&{config:l}}),northEastArrowSouthMiddleWest:(g,w)=>({top:d(g,w),left:g.right-w.width*.25-n,name:"arrow_smw",...l&&{config:l}}),northEastArrowSouth:(g,w)=>({top:d(g,w),left:g.right-w.width/2,name:"arrow_s",...l&&{config:l}}),northEastArrowSouthMiddleEast:(g,w)=>({top:d(g,w),left:g.right-w.width*.75+n,name:"arrow_sme",...l&&{config:l}}),northEastArrowSouthEast:(g,w)=>({top:d(g,w),left:g.right-w.width+n,name:"arrow_se",...l&&{config:l}}),southWestArrowNorthWest:g=>({top:f(g),left:g.left-n,name:"arrow_nw",...l&&{config:l}}),southWestArrowNorthMiddleWest:(g,w)=>({top:f(g),left:g.left-w.width*.25-n,name:"arrow_nmw",...l&&{config:l}}),southWestArrowNorth:(g,w)=>({top:f(g),left:g.left-w.width/2,name:"arrow_n",...l&&{config:l}}),southWestArrowNorthMiddleEast:(g,w)=>({top:f(g),left:g.left-w.width*.75+n,name:"arrow_nme",...l&&{config:l}}),southWestArrowNorthEast:(g,w)=>({top:f(g),left:g.left-w.width+n,name:"arrow_ne",...l&&{config:l}}),southArrowNorthWest:g=>({top:f(g),left:g.left+g.width/2-n,name:"arrow_nw",...l&&{config:l}}),southArrowNorthMiddleWest:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width*.25-n,name:"arrow_nmw",...l&&{config:l}}),southArrowNorth:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width/2,name:"arrow_n",...l&&{config:l}}),southArrowNorthMiddleEast:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width*.75+n,name:"arrow_nme",...l&&{config:l}}),southArrowNorthEast:(g,w)=>({top:f(g),left:g.left+g.width/2-w.width+n,name:"arrow_ne",...l&&{config:l}}),southEastArrowNorthWest:g=>({top:f(g),left:g.right-n,name:"arrow_nw",...l&&{config:l}}),southEastArrowNorthMiddleWest:(g,w)=>({top:f(g),left:g.right-w.width*.25-n,name:"arrow_nmw",...l&&{config:l}}),southEastArrowNorth:(g,w)=>({top:f(g),left:g.right-w.width/2,name:"arrow_n",...l&&{config:l}}),southEastArrowNorthMiddleEast:(g,w)=>({top:f(g),left:g.right-w.width*.75+n,name:"arrow_nme",...l&&{config:l}}),southEastArrowNorthEast:(g,w)=>({top:f(g),left:g.right-w.width+n,name:"arrow_ne",...l&&{config:l}}),westArrowEast:(g,w)=>({top:g.top+g.height/2-w.height/2,left:g.left-w.width-i,name:"arrow_e",...l&&{config:l}}),eastArrowWest:(g,w)=>({top:g.top+g.height/2-w.height/2,left:g.right+i,name:"arrow_w",...l&&{config:l}}),viewportStickyNorth:(g,w,y)=>g.getIntersection(y)?{top:y.top+s,left:g.left+g.width/2-w.width/2,name:"arrowless",config:{withArrow:!1,...l}}:null};function d(g,w){return g.top-w.height-i}function f(g){return g.bottom+i}}var i5=a(9948),w1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};w1.insert="head",w1.singleton=!0,at()(i5.Z,w1),i5.Z.locals;const o5="ck-tooltip";class Pr extends uc(){constructor(n){if(super(),Pr._editors.add(n),Pr._instance)return Pr._instance;Pr._instance=this,this.tooltipTextView=new Tt(n.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new _i(n.locale),this.balloonPanelView.class=o5,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=gp(this._pinTooltip,600),this.listenTo(St.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(St.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(St.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(St.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(St.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(n){const i=n.ui.view&&n.ui.view.body;Pr._editors.delete(n),this.stopListening(n.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),Pr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Pr._instance=null)}static getPositioningFunctions(n){const i=Pr.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[n]}_onEnterOrFocus(n,{target:i}){const s=k1(i);s&&s!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(s,Yse(s)))}_onLeaveOrBlur(n,{target:i,relatedTarget:s}){if(n.name==="mouseleave"){if(!up(i)||this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const l=k1(i),d=k1(s);l&&l!==d&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(n,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(n,{text:i,position:s,cssClass:l}){const d=zn(Pr._editors.values()).ui.view.body;d.has(this.balloonPanelView)||d.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.pin({target:n,positions:Pr.getPositioningFunctions(s)}),this._resizeObserver=new yn(n,()=>{jl(n)||this._unpinTooltip()}),this.balloonPanelView.class=[o5,l].filter(f=>f).join(" ");for(const f of Pr._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=n,this._currentTooltipPosition=s}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const n of Pr._editors)this.stopListening(n.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!jl(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Pr.getPositioningFunctions(this._currentTooltipPosition)})}}Pr.defaultBalloonPositions=r5({heightOffset:5,sideOffset:13}),Pr._editors=new Set,Pr._instance=null;function k1(c){return up(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Yse(c){return{text:c.dataset.ckeTooltipText,position:c.dataset.ckeTooltipPosition||"s",cssClass:c.dataset.ckeTooltipClass||""}}class Qse extends Pe(){constructor(n){super(),this.editor=n,this.componentFactory=new Eee(n),this.focusTracker=new ji,this.tooltipManager=new Pr(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(n.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const n of this._editableElementsMap.values())n.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,i){this._editableElementsMap.set(n,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,i={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,i=n.config.get("ui.viewportOffset");if(i)return i;const s=n.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const n=this.editor,i=n.editing.view;let s,l;n.keystrokes.set("Alt+F10",(d,f)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(i.domRoots.values()).includes(g)&&(s=g);const w=this._getCurrentFocusedToolbarDefinition();(!w||!l)&&(l=this._getFocusableCandidateToolbarDefinitions());for(let y=0;y<l.length;y++){const C=l.shift();if(l.push(C),C!==w&&this._focusFocusableCandidateToolbar(C)){w&&w.options.afterBlur&&w.options.afterBlur();break}}f()}),n.keystrokes.set("Esc",(d,f)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(s?(s.focus(),s=null):n.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:l}=i;(jl(s.element)||l.beforeFocus)&&n.push(i)}return n.sort((i,s)=>s5(i)-s5(s)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:i,options:{beforeFocus:s}}=n;return s&&s(),jl(i.element)?(i.focus(),!0):!1}}function s5(c){const{toolbarView:n,options:i}=c;let s=10;return jl(n.element)&&s--,i.isContextual&&s--,s}var a5=a(4547),v1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};v1.insert="head",v1.singleton=!0,at()(a5.Z,v1),a5.Z.locals;class Zse extends Tt{constructor(n){super(n),this.body=new vee(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var c5=a(2751),y1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};y1.insert="head",y1.singleton=!0,at()(c5.Z,y1),c5.Z.locals;class _1 extends Tt{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${pe()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class Jse extends Zse{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,i=new _1;return i.text=n("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class Xse extends Tt{constructor(n,i,s){super(n),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const n=this._editingView;n.isRenderingInProgress?s(this):i(this);function i(l){n.change(d=>{const f=n.document.getRoot(l.name);d.addClass(l.isFocused?"ck-focused":"ck-blurred",f),d.removeClass(l.isFocused?"ck-blurred":"ck-focused",f)})}function s(l){n.once("change:isRenderingInProgress",(d,f,g)=>{g?s(l):i(l)})}}}class eae extends Xse{constructor(n,i,s,l={}){super(n,i,s);const d=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(i=>{const s=n.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}var l5=a(5523),A1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};A1.insert="head",A1.singleton=!0,at()(l5.Z,A1),l5.Z.locals;var u5=a(6985),C1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};C1.insert="head",C1.singleton=!0,at()(u5.Z,C1),u5.Z.locals;class tae extends Tt{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ji,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=nae(this.element)}_setDomElementValue(n){this.element.value=!n&&n!==0?"":n}}function nae(c){return!c.value}class rae extends tae{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var d5=a(8111),E1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};E1.insert="head",E1.singleton=!0,at()(d5.Z,E1),d5.Z.locals;class x1 extends Tt{constructor(n,i){super(n);const s=`ck-labeled-field-view-${pe()}`,l=`ck-labeled-field-view-status-${pe()}`;this.fieldView=i(this,s,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,g)=>f||g);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",f=>!f),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const i=new _1(this.locale);return i.for=n,i.bind("text").to(this,"label"),i}_createStatusView(n){const i=new Tt(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",l=>!l)],id:n,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(){this.fieldView.focus()}}function S1(c,n,i){const s=new rae(c.locale);return s.set({id:n,ariaDescribedById:i}),s.bind("isReadOnly").to(c,"isEnabled",l=>!l),s.bind("hasError").to(c,"errorText",l=>!!l),s.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(s),s}class h5 extends Sw{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(n,i={}){this._showNotification({message:n,type:"success",namespace:i.namespace,title:i.title})}showInfo(n,i={}){this._showNotification({message:n,type:"info",namespace:i.namespace,title:i.title})}showWarning(n,i={}){this._showNotification({message:n,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(n){const i=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(i,{message:n.message,type:n.type,title:n.title||""})}}class Sp extends Pe(){constructor(n,i){super(),i&&OO(this,i),n&&this.set(n)}}const iae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',oae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var f5=a(1757),T1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};T1.insert="head",T1.singleton=!0,at()(f5.Z,T1),f5.Z.locals;var p5=a(3553),I1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};I1.insert="head",I1.singleton=!0,at()(p5.Z,I1),p5.Z.locals;const Ww=dC("px");class Gw extends ge{static get pluginName(){return"ContextualBalloon"}constructor(n){super(n),this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,l=i.document.selection.editableElement;return l?i.domConverter.mapViewToDom(l.root):null},this.set("visibleView",null),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=null,this._fakePanelsView=null}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new S("contextualballoon-add-view-exist",[this,n]);const i=n.stackId||"main";if(!this._idToStack.has(i)){this._idToStack.set(i,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||n.singleViewMode)&&this.showStack(i);return}const s=this._idToStack.get(i);n.singleViewMode&&this.showStack(i),s.set(n.view,n),this._viewToStack.set(n.view,s),s===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new S("contextualballoon-remove-view-not-exist",[this,n]);const i=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const i=this._idToStack.get(n);if(!i)throw new S("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new _i(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(s=>s[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)+1;n[i]||(i=0),this.showStack(this._getStackId(n[i]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let i=n.indexOf(this._visibleStack)-1;n[i]||(i=n.length-1),this.showStack(this._getStackId(n[i]))}_createRotatorView(){const n=new sae(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,l)=>{if(l<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[d,l])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new aae(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:i="",withArrow:s=!0,singleViewMode:l=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class sae extends Tt{constructor(n){super(n);const i=n.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ji,this.buttonPrevView=this._createButtonView(i("Previous"),iae),this.buttonNextView=this._createButtonView(i("Next"),oae),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,i){const s=new Kt(this.locale);return s.set({label:n,icon:i,tooltip:!0}),s}}class aae extends Tt{constructor(n,i){super(n);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:s.to("top",Ww),left:s.to("left",Ww),width:s.to("width",Ww),height:s.to("height",Ww)}},children:this.content}),this.on("change:numberOfPanels",(l,d,f,g)=>{f>g?this._addPanels(f-g):this._removePanels(g-f),this.updatePosition()})}_addPanels(n){for(;n--;){const i=new Tt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(n){for(;n--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:i}=this._balloonPanelView,{width:s,height:l}=new dn(this._balloonPanelView.element);Object.assign(this,{top:n,left:i,width:s,height:l})}}}var m5=a(3609),D1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};D1.insert="head",D1.singleton=!0,at()(m5.Z,D1),m5.Z.locals;const Tp=dC("px");class cae extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Vi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?Tp(this._panelRect.height):null)}}}).render(),this._contentPanel=new Vi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?Tp(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_hasViewportTopOffset",s=>s?Tp(this.viewportTopOffset):null),bottom:i.to("_isStickyToTheLimiter",s=>s?Tp(this.limiterBottomOffset):null),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(St.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const n=this._panelRect=this._contentPanel.getBoundingClientRect();let i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<n.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Tp(-St.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var g5=a(6706),P1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};P1.insert="head",P1.singleton=!0,at()(g5.Z,P1),g5.Z.locals;class lae extends Qse{constructor(n,i){super(n),this.view=i,this._toolbarConfig=WR(n.config.get("toolbar")),this._elementReplacer=new Bi}get element(){return this.view.element}init(n){const i=this.editor,s=this.view,l=i.editing.view,d=s.editable,f=l.document.getRoot();d.name=f.rootName,s.render();const g=d.element;this.setEditableElement(d.name,g),s.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(g),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const n=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,i=n.editing.view,s=i.document.getRoot(),l=n.sourceElement,d=n.config.get("placeholder")||l&&l.tagName.toLowerCase()==="textarea"&&l.getAttribute("placeholder");d&&JR({view:i,element:s,text:d,isDirectHost:!1,keepOnFocus:!0})}}var b5=a(3638),M1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};M1.insert="head",M1.singleton=!0,at()(b5.Z,M1),b5.Z.locals;class uae extends Jse{constructor(n,i,s={}){super(n),this.stickyPanel=new cae(n),this.toolbar=new u1(n,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),this.editable=new eae(n,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class dae extends qw(c1(Nse)){constructor(n,i={}){if(!Kw(n)&&i.initialData!==void 0)throw new S("editor-create-initial-data",null);super(i),this.config.get("initialData")===void 0&&this.config.set("initialData",hae(n)),Kw(n)&&(this.sourceElement=n),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new uae(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s});this.ui=new lae(this,l),Rse(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,i={}){return new Promise(s=>{const l=new this(n,i);s(l.initPlugins().then(()=>l.ui.init(Kw(n)?n:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function hae(c){return Kw(c)?PX(c):c}function Kw(c){return up(c)}class w5{constructor(n,i=20){this._batch=null,this.model=n,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(s,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){(!this.isLocked||n)&&(this._batch=null,this._size=0)}}class fae extends vt{constructor(n,i){super(n),this._buffer=new w5(n.model,i)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const i=this.editor.model,s=i.document,l=n.text||"",d=l.length;let f=s.selection;n.selection?f=n.selection:n.range&&(f=i.createSelection(n.range));const g=n.resultRange;i.enqueueChange(this._buffer.batch,w=>{this._buffer.lock(),i.deleteContent(f),l&&i.insertContent(w.createText(l,s.selection.getAttributes()),f),g?w.setSelection(g):f.is("documentSelection")||w.setSelection(f),this._buffer.unlock(),this._buffer.input(d)})}}const k5=["insertText","insertReplacementText"];class pae extends Es{constructor(n){super(n),A.isAndroid&&k5.push("insertCompositionText");const i=n.document;i.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const{data:d,targetRanges:f,inputType:g,domEvent:w}=l;if(!k5.includes(g))return;const y=new Ke(i,"insertText");i.fire(y,new Fd(n,w,{text:d,selection:n.createSelection(f)})),y.stop.called&&s.stop()}),i.on("compositionend",(s,{data:l,domEvent:d})=>{!this.isEnabled||A.isAndroid||l&&i.fire("insertText",new Fd(n,d,{text:l,selection:i.selection}))},{priority:"lowest"})}observe(){}}class v5 extends ge{static get pluginName(){return"Input"}init(){const n=this.editor,i=n.model,s=n.editing.view,l=i.document.selection;s.addObserver(pae);const d=new fae(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",d),n.commands.add("input",d),this.listenTo(s.document,"insertText",(f,g)=>{s.document.isComposing||g.preventDefault();const{text:w,selection:y,resultRange:C}=g,x=Array.from(y.getRanges()).map(H=>n.editing.mapper.toModelRange(H));let R=w;if(A.isAndroid){const H=Array.from(x[0].getItems()).reduce((Z,de)=>Z+(de.is("$textProxy")?de.data:""),"");H&&(H.length<=R.length?R.startsWith(H)&&(R=R.substring(H.length),x[0].start=x[0].start.getShiftedBy(H.length)):H.startsWith(R)&&(x[0].start=x[0].start.getShiftedBy(R.length),R=""))}const j={text:R,selection:i.createSelection(x)};C&&(j.resultRange=n.editing.mapper.toModelRange(C)),n.execute("insertText",j)}),A.isAndroid?this.listenTo(s.document,"keydown",(f,g)=>{l.isCollapsed||g.keyCode!=229||!s.document.isComposing||y5(i,d)}):this.listenTo(s.document,"compositionstart",()=>{l.isCollapsed||y5(i,d)})}}function y5(c,n){if(!n.isEnabled)return;const i=n.buffer;i.lock(),c.enqueueChange(i.batch,()=>{c.deleteContent(c.document.selection)}),i.unlock()}class _5 extends vt{constructor(n,i){super(n),this.direction=i,this._buffer=new w5(n.model,n.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(n={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=l.createSelection(n.selection||s.selection),f=n.sequence||1,g=d.isCollapsed;if(d.isCollapsed&&i.modifySelection(d,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f)){this._replaceEntireContentWithParagraph(l);return}if(this._shouldReplaceFirstBlockWithParagraph(d,f)){this.editor.execute("paragraph",{selection:d});return}if(d.isCollapsed)return;let w=0;d.getFirstRange().getMinimalFlatRanges().forEach(y=>{w+=ai(y.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(d,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(w),l.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const i=this.editor.model,l=i.document.selection,d=i.schema.getLimitElement(l);if(!(l.isCollapsed&&l.containsEntireContent(d))||!i.schema.checkChild(d,"paragraph"))return!1;const g=d.getChild(0);return!(g&&g.is("element","paragraph"))}_replaceEntireContentWithParagraph(n){const i=this.editor.model,l=i.document.selection,d=i.schema.getLimitElement(l),f=n.createElement("paragraph");n.remove(n.createRangeIn(d)),n.insert(f,d),n.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(n,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!n.isCollapsed)return!1;const l=n.getFirstPosition(),d=s.schema.getLimitElement(l),f=d.getChild(0);return!(l.parent!=f||!n.containsEntireContent(f)||!s.schema.checkChild(d,"paragraph")||f.name=="paragraph")}}const mae="character",A5="word",gae="codePoint",fc="selection",Hd="backward",Ip="forward",C5={deleteContent:{unit:fc,direction:Hd},deleteContentBackward:{unit:gae,direction:Hd},deleteWordBackward:{unit:A5,direction:Hd},deleteHardLineBackward:{unit:fc,direction:Hd},deleteSoftLineBackward:{unit:fc,direction:Hd},deleteContentForward:{unit:mae,direction:Ip},deleteWordForward:{unit:A5,direction:Ip},deleteHardLineForward:{unit:fc,direction:Ip},deleteSoftLineForward:{unit:fc,direction:Ip}};class bae extends Es{constructor(n){super(n);const i=n.document;let s=0;i.on("keydown",()=>{s++}),i.on("keyup",()=>{s=0}),i.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:g,inputType:w}=d,y=C5[w];if(!y)return;const C={direction:y.direction,unit:y.unit,sequence:s};C.unit==fc&&(C.selectionToRemove=n.createSelection(f[0])),A.isAndroid&&w==="deleteContentBackward"&&(C.sequence=1,f.length==1&&(f[0].start.parent!=f[0].end.parent||f[0].start.offset+1!=f[0].end.offset)&&(C.unit=fc,C.selectionToRemove=n.createSelection(f)));const x=new Bd(i,"delete",f[0]);i.fire(x,new Fd(n,g,C)),x.stop.called&&l.stop()}),A.isBlink&&wae(this)}observe(){}}function wae(c){const n=c.view,i=n.document;let s=null,l=!1;i.on("keydown",(g,{keyCode:w})=>{s=w,l=!1}),i.on("keyup",(g,{keyCode:w,domEvent:y})=>{const C=i.selection,x=c.isEnabled&&w==s&&d(w)&&!C.isCollapsed&&!l;if(s=null,x){const R=C.getFirstRange(),j=new Bd(i,"delete",R),H={unit:fc,direction:f(w),selectionToRemove:C};i.fire(j,new Fd(n,y,H))}}),i.on("beforeinput",(g,{inputType:w})=>{const y=C5[w];d(s)&&y&&y.direction==f(s)&&(l=!0)},{priority:"high"}),i.on("beforeinput",(g,{inputType:w,data:y})=>{s==Rt.delete&&w=="insertText"&&y==""&&g.stop()},{priority:"high"});function d(g){return g==Rt.backspace||g==Rt.delete}function f(g){return g==Rt.backspace?Hd:Ip}}class pc extends ge{static get pluginName(){return"Delete"}init(){const n=this.editor,i=n.editing.view,s=i.document,l=n.model.document;i.addObserver(bae),this._undoOnBackspace=!1;const d=new _5(n,"forward");n.commands.add("deleteForward",d),n.commands.add("forwardDelete",d),n.commands.add("delete",new _5(n,"backward")),this.listenTo(s,"delete",(f,g)=>{s.isComposing||g.preventDefault();const{direction:w,sequence:y,selectionToRemove:C,unit:x}=g,R=w==="forward"?"deleteForward":"delete",j={sequence:y};if(x=="selection"){const H=Array.from(C.getRanges()).map(Z=>n.editing.mapper.toModelRange(Z));j.selection=n.model.createSelection(H)}else j.unit=x;n.execute(R,j),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(f,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),g.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class kae extends ge{static get requires(){return[v5,pc]}static get pluginName(){return"Typing"}}function E5(c,n){let i=c.start;return{text:Array.from(c.getItems()).reduce((l,d)=>d.is("$text")||d.is("$textProxy")?l+d.data:(i=n.createPositionAfter(d),""),""),range:n.createRange(i,c.end)}}class x5 extends Pe(){constructor(n,i){super(),this.model=n,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(s,{directChange:l})=>{if(l){if(!i.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(i,"change:data",(s,l)=>{l.isUndo||!l.isLocal||this._evaluateTextBeforeSelection("data",{batch:l})})}_evaluateTextBeforeSelection(n,i={}){const s=this.model,d=s.document.selection,f=s.createRange(s.createPositionAt(d.focus.parent,0),d.focus),{text:g,range:w}=E5(f,s),y=this.testCallback(g);if(!y&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!y,y){const C=Object.assign(i,{text:g,range:w});typeof y=="object"&&Object.assign(C,y),this.fire(`matched:${n}`,C)}}}class Yw extends ge{static get pluginName(){return"TwoStepCaretMovement"}constructor(n){super(n),this.attributes=new Set,this._overrideUid=null}init(){const n=this.editor,i=n.model,s=n.editing.view,l=n.locale,d=i.document.selection;this.listenTo(s.document,"arrowKey",(f,g)=>{if(!d.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const w=g.keyCode==Rt.arrowright,y=g.keyCode==Rt.arrowleft;if(!w&&!y)return;const C=l.contentLanguageDirection;let x=!1;C==="ltr"&&w||C==="rtl"&&y?x=this._handleForwardMovement(g):x=this._handleBackwardMovement(g),x===!0&&f.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(d,"change:range",(f,g)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!g.directChange&&Zw(d.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const i=this.attributes,l=this.editor.model.document.selection,d=l.getFirstPosition();return this._isGravityOverridden||d.isAtStart&&N1(l,i)?!1:Zw(d,i)?(Qw(n),this._overrideGravity(),!0):!1}_handleBackwardMovement(n){const i=this.attributes,s=this.editor.model,l=s.document.selection,d=l.getFirstPosition();return this._isGravityOverridden?(Qw(n),this._restoreGravity(),R1(s,i,d),!0):d.isAtStart?N1(l,i)?(Qw(n),R1(s,i,d),!0):!1:vae(d,i)?d.isAtEnd&&!N1(l,i)&&Zw(d,i)?(Qw(n),R1(s,i,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function N1(c,n){for(const i of n)if(c.hasAttribute(i))return!0;return!1}function R1(c,n,i){const s=i.nodeBefore;c.change(l=>{s?l.setSelectionAttribute(s.getAttributes()):l.removeSelectionAttribute(n)})}function Qw(c){c.preventDefault()}function vae(c,n){const i=c.getShiftedBy(-1);return Zw(i,n)}function Zw(c,n){const{nodeBefore:i,nodeAfter:s}=c;for(const l of n){const d=i?i.getAttribute(l):void 0;if((s?s.getAttribute(l):void 0)!==d)return!0}return!1}var S5=/[\\^$.*+?()[\]{}|]/g,yae=RegExp(S5.source);function _ae(c){return c=PC(c),c&&yae.test(c)?c.replace(S5,"\\$&"):c}const Aae=_ae,T5={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:qd('"'),to:[null,"",null,""]},quotesSecondary:{from:qd("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:qd("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:qd('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:qd('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:qd("'"),to:[null,"",null,""]}},I5={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Cae=["symbols","mathematical","typography","quotes"];class Eae extends ge{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(n){super(n),n.config.define("typing",{transformations:{include:Cae}})}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const n=this.editor,i=n.model,s=n.plugins.get("Delete"),l=Iae(n.config.get("typing.transformations")),d=g=>{for(const w of l)if(w.from.test(g))return{normalizedTransformation:w}},f=new x5(n.model,d);f.on("matched:data",(g,w)=>{if(!w.batch.isTyping)return;const{from:y,to:C}=w.normalizedTransformation,x=y.exec(w.text),R=C(x.slice(1)),j=w.range;let H=x.index;i.enqueueChange(Z=>{for(let de=1;de<x.length;de++){const Me=x[de],je=R[de-1];if(je==null){H+=Me.length;continue}const Ot=j.start.getShiftedBy(H),gn=i.createRange(Ot,Ot.getShiftedBy(Me.length)),Zn=Tae(Ot);i.insertContent(Z.createText(je,Zn),gn),H+=je.length}i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),f.bind("isEnabled").to(this)}}function xae(c){return typeof c=="string"?new RegExp(`(${Aae(c)})$`):c}function Sae(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function Tae(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function qd(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function Iae(c){const n=c.extra||[],i=c.remove||[],s=d=>!i.includes(d),l=c.include.concat(n).filter(s);return Dae(l).filter(s).map(d=>typeof d=="string"&&T5[d]?T5[d]:d).filter(d=>typeof d=="object").map(d=>({from:xae(d.from),to:Sae(d.to)}))}function Dae(c){const n=new Set;for(const i of c)if(typeof i=="string"&&I5[i])for(const s of I5[i])n.add(s);else n.add(i);return Array.from(n)}function Wd(c,n,i,s){return s.createRange(D5(c,n,i,!0,s),D5(c,n,i,!1,s))}function D5(c,n,i,s,l){let d=c.textNode||(s?c.nodeBefore:c.nodeAfter),f=null;for(;d&&d.getAttribute(n)==i;)f=d,d=s?d.previousSibling:d.nextSibling;return f?l.createPositionAt(f,s?"before":"after"):c}function P5(c,n,i,s){const l=c.editing.view,d=new Set;l.document.registerPostFixer(f=>{const g=c.model.document.selection;let w=!1;if(g.hasAttribute(n)){const y=Wd(g.getFirstPosition(),n,g.getAttribute(n),c.model),C=c.editing.mapper.toViewRange(y);for(const x of C.getItems())x.is("element",i)&&!x.hasClass(s)&&(f.addClass(s,x),d.add(x),w=!0)}return w}),c.conversion.for("editingDowncast").add(f=>{f.on("insert",g,{priority:"highest"}),f.on("remove",g,{priority:"highest"}),f.on("attribute",g,{priority:"highest"}),f.on("selection",g,{priority:"highest"});function g(){l.change(w=>{for(const y of d.values())w.removeClass(s,y),d.delete(y)})}})}function mc(c,n,i,s){let l,d=null;typeof s=="function"?l=s:(d=c.commands.get(s),l=()=>{c.execute(s)}),c.model.document.on("change:data",(f,g)=>{if(d&&!d.isEnabled||!n.isEnabled)return;const w=zn(c.model.document.selection.getRanges());if(!w.isCollapsed||g.isUndo||!g.isLocal)return;const y=Array.from(c.model.document.differ.getChanges()),C=y[0];if(y.length!=1||C.type!=="insert"||C.name!="$text"||C.length!=1)return;const x=C.position.parent;if(x.is("element","codeBlock")||x.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||d&&d.value===!0)return;const R=x.getChild(0),j=c.model.createRangeOn(R);if(!j.containsRange(w)&&!w.end.isEqual(j.end))return;const H=i.exec(R.data.substr(0,w.end.offset));H&&c.model.enqueueChange(Z=>{const de=Z.createPositionAt(x,0),Me=Z.createPositionAt(x,H[0].length),je=new es(de,Me);if(l({match:H})!==!1){Z.remove(je);const gn=c.model.document.selection.getFirstRange(),Zn=Z.createRangeIn(x);x.isEmpty&&!Zn.isEqual(gn)&&!Zn.containsRange(gn,!0)&&Z.remove(x)}je.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Gd(c,n,i,s){let l,d;i instanceof RegExp?l=i:d=i,d=d||(f=>{let g;const w=[],y=[];for(;(g=l.exec(f))!==null&&!(g&&g.length<4);){let{index:C,1:x,2:R,3:j}=g;const H=x+R+j;C+=g[0].length-H.length;const Z=[C,C+x.length],de=[C+x.length+R.length,C+x.length+R.length+j.length];w.push(Z),w.push(de),y.push([C+x.length,C+x.length+R.length])}return{remove:w,format:y}}),c.model.document.on("change:data",(f,g)=>{if(g.isUndo||!g.isLocal||!n.isEnabled)return;const w=c.model,y=w.document.selection;if(!y.isCollapsed)return;const C=Array.from(w.document.differ.getChanges()),x=C[0];if(C.length!=1||x.type!=="insert"||x.name!="$text"||x.length!=1)return;const R=y.focus,j=R.parent,{text:H,range:Z}=Pae(w.createRange(w.createPositionAt(j,0),R),w),de=d(H),Me=M5(Z.start,de.format,w),je=M5(Z.start,de.remove,w);Me.length&&je.length&&w.enqueueChange(Ot=>{if(s(Ot,Me)!==!1){for(const Zn of je.reverse())Ot.remove(Zn);w.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function M5(c,n,i){return n.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>i.createRange(c.getShiftedBy(s[0]),c.getShiftedBy(s[1])))}function Pae(c,n){let i=c.start;return{text:Array.from(c.getItems()).reduce((l,d)=>!(d.is("$text")||d.is("$textProxy"))||d.getAttribute("code")?(i=n.createPositionAfter(d),""):l+d.data,""),range:n.createRange(i,c.end)}}class Mae extends ge{static get requires(){return[pc]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const n=this.editor.commands;n.get("bulletedList")&&mc(this.editor,this,/^[*-]\s$/,"bulletedList"),n.get("numberedList")&&mc(this.editor,this,/^1[.|)]\s$/,"numberedList"),n.get("todoList")&&mc(this.editor,this,/^\[\s?\]\s$/,"todoList"),n.get("checkTodoList")&&mc(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const n=this.editor.commands;if(n.get("bold")){const i=Jw(this.editor,"bold");Gd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,i),Gd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,i)}if(n.get("italic")){const i=Jw(this.editor,"italic");Gd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,i),Gd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,i)}if(n.get("code")){const i=Jw(this.editor,"code");Gd(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(n.get("strikethrough")){const i=Jw(this.editor,"strikethrough");Gd(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}_addHeadingAutoformats(){const n=this.editor.commands.get("heading");n&&n.modelElements.filter(i=>i.match(/^heading[1-6]$/)).forEach(i=>{const s=i[7],l=new RegExp(`^(#{${s}})\\s$`);mc(this.editor,this,l,()=>{if(!n.isEnabled||n.value===i)return!1;this.editor.execute("heading",{value:i})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&mc(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const n=this.editor,i=n.model.document.selection;n.commands.get("codeBlock")&&mc(n,this,/^```$/,()=>{if(i.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&mc(this.editor,this,/^---$/,"horizontalLine")}}function Jw(c,n){return(i,s)=>{if(!c.commands.get(n).isEnabled)return!1;const d=c.model.schema.getValidRanges(s,n);for(const f of d)i.setAttribute(n,!0,f);i.removeSelectionAttribute(n)}}function*N5(c,n){for(const i of n)i&&c.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class Nae extends vt{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const i=this.editor.model,s=i.document.selection,l=i.schema,d=s.isCollapsed,f=s.getFirstRange(),g=f.start.parent,w=f.end.parent;if(l.isLimit(g)||l.isLimit(w))return!d&&g==w&&i.deleteContent(s),!1;if(d){const y=N5(n.model.schema,s.getAttributes());return R5(n,f.start),n.setSelectionAttribute(y),!0}else{const y=!(f.start.isAtStart&&f.end.isAtEnd),C=g==w;if(i.deleteContent(s,{leaveUnmerged:y}),y){if(C)return R5(n,s.focus),!0;n.setSelection(w,0)}}return!1}}function R5(c,n){c.split(n),c.setSelection(n.parent.nextSibling,0)}const Rae={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class O5 extends Es{constructor(n){super(n);const i=this.document;i.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const d=l.domEvent,f=Rae[l.inputType];if(!f)return;const g=new Bd(i,"enter",l.targetRanges[0]);i.fire(g,new Fd(n,d,{isSoft:f.isSoft})),g.stop.called&&s.stop()})}observe(){}}class Xw extends ge{static get pluginName(){return"Enter"}init(){const n=this.editor,i=n.editing.view,s=i.document;i.addObserver(O5),n.commands.add("enter",new Nae(n)),this.listenTo(s,"enter",(l,d)=>{s.isComposing||d.preventDefault(),!d.isSoft&&(n.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}class Oae extends vt{execute(){const n=this.editor.model,i=n.document;n.change(s=>{Bae(n,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const n=this.editor.model,i=n.document;this.isEnabled=Lae(n.schema,i.selection)}}function Lae(c,n){if(n.rangeCount>1)return!1;const i=n.anchor;if(!i||!c.checkChild(i,"softBreak"))return!1;const s=n.getFirstRange(),l=s.start.parent,d=s.end.parent;return!((O1(l,c)||O1(d,c))&&l!==d)}function Bae(c,n,i){const s=i.isCollapsed,l=i.getFirstRange(),d=l.start.parent,f=l.end.parent,g=d==f;if(s){const w=N5(c.schema,i.getAttributes());L5(c,n,l.end),n.removeSelectionAttribute(i.getAttributeKeys()),n.setSelectionAttribute(w)}else{const w=!(l.start.isAtStart&&l.end.isAtEnd);c.deleteContent(i,{leaveUnmerged:w}),g?L5(c,n,i.focus):w&&n.setSelection(f,0)}}function L5(c,n,i){const s=n.createElement("softBreak");c.insertContent(s,i),n.setSelection(s,"after")}function O1(c,n){return c.is("rootElement")?!1:n.isLimit(c)||O1(c.parent,n)}class B5 extends ge{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,i=n.model.schema,s=n.conversion,l=n.editing.view,d=l.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:g})=>g.createEmptyElement("br")}),l.addObserver(O5),n.commands.add("shiftEnter",new Oae(n)),this.listenTo(d,"enter",(f,g)=>{d.isComposing||g.preventDefault(),g.isSoft&&(n.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class zae extends vt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,s=i.schema,l=i.document.selection,d=Array.from(l.getSelectedBlocks()),f=n.forceValue===void 0?!this.value:n.forceValue;i.change(g=>{if(!f)this._removeQuote(g,d.filter(ek));else{const w=d.filter(y=>ek(y)||F5(s,y));this._applyQuote(g,w)}})}_getValue(){const n=this.editor.model.document.selection,i=zn(n.getSelectedBlocks());return!!(i&&ek(i))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=zn(n.getSelectedBlocks());return s?F5(i,s):!1}_removeQuote(n,i){z5(n,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd){n.unwrap(s.start.parent);return}if(s.start.isAtStart){const d=n.createPositionBefore(s.start.parent);n.move(s,d);return}s.end.isAtEnd||n.split(s.end);const l=n.createPositionAfter(s.end.parent);n.move(s,l)})}_applyQuote(n,i){const s=[];z5(n,i).reverse().forEach(l=>{let d=ek(l.start);d||(d=n.createElement("blockQuote"),n.wrap(l,d)),s.push(d)}),s.reverse().reduce((l,d)=>l.nextSibling==d?(n.merge(n.createPositionAfter(l)),l):d)}}function ek(c){return c.parent.name=="blockQuote"?c.parent:null}function z5(c,n){let i,s=0;const l=[];for(;s<n.length;){const d=n[s],f=n[s+1];i||(i=c.createPositionBefore(d)),(!f||d.nextSibling!=f)&&(l.push(c.createRange(i,c.createPositionAfter(d))),i=null),s++}return l}function F5(c,n){const i=c.checkChild(n.parent,"blockQuote"),s=c.checkChild(["$root","blockQuote"],n);return i&&s}class Fae extends ge{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Xw,pc]}init(){const n=this.editor,i=n.model.schema;n.commands.add("blockQuote",new zae(n)),i.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(f=>{const g=n.model.document.differ.getChanges();for(const w of g)if(w.type=="insert"){const y=w.position.nodeAfter;if(!y)continue;if(y.is("element","blockQuote")&&y.isEmpty)return f.remove(y),!0;if(y.is("element","blockQuote")&&!i.checkChild(w.position,y))return f.unwrap(y),!0;if(y.is("element")){const C=f.createRangeIn(y);for(const x of C.getItems())if(x.is("element","blockQuote")&&!i.checkChild(f.createPositionBefore(x),x))return f.unwrap(x),!0}}else if(w.type=="remove"){const y=w.position.parent;if(y.is("element","blockQuote")&&y.isEmpty)return f.remove(y),!0}return!1});const s=this.editor.editing.view.document,l=n.model.document.selection,d=n.commands.get("blockQuote");this.listenTo(s,"enter",(f,g)=>{if(!l.isCollapsed||!d.value)return;l.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(f,g)=>{if(g.direction!="backward"||!l.isCollapsed||!d.value)return;const w=l.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"})}}var j5=a(636),L1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};L1.insert="head",L1.singleton=!0,at()(j5.Z,L1),j5.Z.locals;class jae extends ge{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add("blockQuote",s=>{const l=n.commands.get("blockQuote"),d=new Kt(s);return d.set({label:i("Block quote"),icon:mn.quote,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute("blockQuote"),n.editing.view.focus()}),d})}}class Vae extends ge{static get requires(){return[Fae,jae]}static get pluginName(){return"BlockQuote"}}class B1 extends vt{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,l=i.document.selection,d=n.forceValue===void 0?!this.value:n.forceValue;i.change(f=>{if(l.isCollapsed)d?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const g=i.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const w of g)d?f.setAttribute(this.attributeKey,d,w):f.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,i=n.schema,s=n.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const l of s.getRanges())for(const d of l.getItems())if(i.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const Kd="bold";class Uae extends ge{static get pluginName(){return"BoldEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:Kd}),n.model.schema.setAttributeProperties(Kd,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Kd,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(Kd,new B1(n,Kd)),n.keystrokes.set("CTRL+B",Kd)}}const z1="bold";class $ae extends ge{static get pluginName(){return"BoldUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(z1,s=>{const l=n.commands.get(z1),d=new Kt(s);return d.set({label:i("Bold"),icon:mn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute(z1),n.editing.view.focus()}),d})}}class Hae extends ge{static get requires(){return[Uae,$ae]}static get pluginName(){return"Bold"}}const qae='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>';class Wae extends ge{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const i=n.t;n.ui.componentFactory.add("ckbox",l=>{const d=n.commands.get("ckbox"),f=new Kt(l);return f.set({label:i("Open file manager"),icon:qae,tooltip:!0}),f.bind("isOn","isEnabled").to(d,"value","isEnabled"),f.on("execute",()=>{n.execute("ckbox")}),f})}}const Gae=4e3,Kae=80,Yae=10;function V5({token:c,id:n,origin:i,width:s,extension:l}){const d=U5(c),f=Qae(s),g=Zae(l),w=$5({environmentId:d,id:n,origin:i,width:s,extension:g}),C=[{srcset:f.map(x=>`${$5({environmentId:d,id:n,origin:i,width:x,extension:"webp"})} ${x}w`).join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}];return{imageFallbackUrl:w,imageSources:C}}function U5(c){const[,n]=c.value.split(".");return JSON.parse(atob(n)).aud}function Qae(c){const n=[c*Yae/100,Kae],i=Math.floor(Math.max(...n)),s=[Math.min(c,Gae)];let l=s[0];for(;l-i>=i;)l-=i,s.unshift(l);return s}function Zae(c){return c==="bmp"||c==="tiff"||c==="jpg"?"jpeg":c}function $5({environmentId:c,id:n,origin:i,width:s,extension:l}){const d=`${c}/assets/${n}/images/${s}.${l}`;return new URL(d,i).toString()}const Jae=1e3;class Xae extends vt{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!n.isEnabled&&!i.isEnabled)}_prepareOptions(){const i=this.editor.config.get("ckbox");return{theme:i.theme,language:i.language,tokenUrl:i.tokenUrl,serviceOrigin:i.serviceOrigin,assetsOrigin:i.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:s=>this.fire("ckbox:choose",s)}}}_initListeners(){const n=this.editor,i=n.model,s=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{!this.isEnabled||this.value||(this._wrapper=jb(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(l,d)=>{if(!this.isEnabled)return;const f=n.commands.get("insertImage"),g=n.commands.get("link"),w=n.plugins.get("CKBoxEditing"),y=n.config.get("ckbox.assetsOrigin"),C=ece({assets:d,origin:y,token:w.getToken(),isImageAllowed:f.isEnabled,isLinkAllowed:g.isEnabled});C.length!==0&&i.change(x=>{for(const R of C){const j=R===C[C.length-1];this._insertAsset(R,j,x),s&&(setTimeout(()=>this._chosenAssets.delete(R),Jae),this._chosenAssets.add(R))}})}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,i,s){const f=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,s),i||s.setSelection(f.getLastPosition())}_insertImage(n){const i=this.editor,{imageFallbackUrl:s,imageSources:l,imageTextAlternative:d}=n.attributes;i.execute("insertImage",{source:{src:s,sources:l,alt:d}})}_insertLink(n,i){const s=this.editor,l=s.model,d=l.document.selection,{linkName:f,linkHref:g}=n.attributes;if(d.isCollapsed){const w=vs(d.getAttributes()),y=i.createText(f,w),C=l.insertContent(y);i.setSelection(C)}s.execute("link",g)}}function ece({assets:c,origin:n,token:i,isImageAllowed:s,isLinkAllowed:l}){return c.map(d=>({id:d.data.id,type:H5(d)?"image":"link",attributes:tce(d,i,n)})).filter(d=>d.type==="image"?s:l)}function tce(c,n,i){if(H5(c)){const{imageFallbackUrl:s,imageSources:l}=V5({token:n,origin:i,id:c.data.id,width:c.data.metadata.width,extension:c.data.extension});return{imageFallbackUrl:s,imageSources:l,imageTextAlternative:c.data.metadata.description||""}}return{linkName:c.data.name,linkHref:nce(c,n,i)}}function H5(c){const n=c.data.metadata;return n?n.width&&n.height:!1}function nce(c,n,i){const s=U5(n),l=new URL(`${s}/assets/${c.data.id}/file`,i);return l.searchParams.set("download","true"),l.toString()}class rce extends Pe(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const i=this._reader;return this.total=n.size,new Promise((s,l)=>{i.onload=()=>{const d=i.result;this._data=d,s(d)},i.onerror=()=>{l("error")},i.onabort=()=>{l("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class eu extends ge{static get pluginName(){return"FileRepository"}static get requires(){return[qL]}init(){this.loaders=new yi,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return ee("filerepository-no-upload-adapter"),null;const i=new q5(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(n,i),n instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const l of this.loaders)s+=l.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const l of this.loaders)l.uploadTotal&&(s+=l.uploadTotal);this.uploadTotal=s}),i}destroyLoader(n){const i=n instanceof q5?n:this.getLoader(n);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,l)=>{s===i&&this._loadersMap.delete(l)})}_updatePendingAction(){const n=this.editor.plugins.get(qL);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=l=>`${i("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=n.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else n.remove(this._pendingAction),this._pendingAction=null}}class q5 extends Pe(){constructor(n,i){super(),this.id=pe(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=i(this),this._reader=new rce,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,l)=>l?s/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new S("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new S("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const i={};return i.promise=new Promise((s,l)=>{i.rejecter=l,i.isFulfilled=!1,n.then(d=>{i.isFulfilled=!0,s(d)}).catch(d=>{i.isFulfilled=!0,l(d)})}),i}}class ice extends Tt{constructor(n){super(n),this.buttonView=new Kt(n),this._fileInputView=new oce(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class oce extends Tt{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class sce extends ge{static get requires(){return["ImageUploadEditing","ImageUploadProgress",eu,F1]}static get pluginName(){return"CKBoxUploadAdapter"}async afterInit(){const n=this.editor,i=!!n.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;const l=n.plugins.get(eu),d=n.plugins.get(F1);l.createUploadAdapter=w=>new ace(w,d.getToken(),n);const f=!n.config.get("ckbox.ignoreDataId"),g=n.plugins.get("ImageUploadEditing");f&&g.on("uploadComplete",(w,{imageElement:y,data:C})=>{n.model.change(x=>{x.setAttribute("ckboxImageId",C.ckboxImageId,y)})})}}class ace{constructor(n,i,s){this.loader=n,this.token=i,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin"),this.assetsOrigin=s.config.get("ckbox.assetsOrigin")}async getAvailableCategories(n=0){const s=new URL("categories",this.serviceOrigin);return s.searchParams.set("limit",50 .toString()),s.searchParams.set("offset",n.toString()),this._sendHttpRequest({url:s}).then(async l=>{if(l.totalCount-(n+50)>0){const f=await this.getAvailableCategories(n+50);return[...l.items,...f]}return l.items}).catch(()=>{this.controller.signal.throwIfAborted(),we("ckbox-fetch-category-http-error")})}async getCategoryIdForFile(n){const i=W5(n.name),s=await this.getAvailableCategories();if(!s)return null;const l=this.editor.config.get("ckbox.defaultUploadCategories");if(l){const f=Object.keys(l).find(g=>l[g].includes(i));if(f){const g=s.find(w=>w.id===f||w.name===f);return g?g.id:null}}const d=s.find(f=>f.extensions.includes(i));return d?d.id:null}async upload(){const n=this.editor.t,i=n("Cannot determine a category for the uploaded file."),s=await this.loader.file,l=await this.getCategoryIdForFile(s);if(!l)return Promise.reject(i);const d=new URL("assets",this.serviceOrigin),f=new FormData;f.append("categoryId",l),f.append("file",s);const g={method:"POST",url:d,data:f,onUploadProgress:w=>{w.lengthComputable&&(this.loader.uploadTotal=w.total,this.loader.uploaded=w.loaded)}};return this._sendHttpRequest(g).then(async w=>{const y=await this._getImageWidth(),C=W5(s.name),x=V5({token:this.token,id:w.id,origin:this.assetsOrigin,width:y,extension:C});return{ckboxImageId:w.id,default:x.imageFallbackUrl,sources:x.imageSources}}).catch(()=>{const w=n("Cannot upload file:")+` ${s.name}.`;return Promise.reject(w)})}abort(){this.controller.abort()}_sendHttpRequest(n){const{url:i,data:s,onUploadProgress:l}=n,d=n.method||"GET",f=this.controller.signal,g=new XMLHttpRequest;g.open(d,i.toString(),!0),g.setRequestHeader("Authorization",this.token.value),g.setRequestHeader("CKBox-Version","CKEditor 5"),g.responseType="json";const w=()=>{g.abort()};return new Promise((y,C)=>{f.addEventListener("abort",w),g.addEventListener("loadstart",()=>{f.addEventListener("abort",w)}),g.addEventListener("loadend",()=>{f.removeEventListener("abort",w)}),g.addEventListener("error",()=>{C()}),g.addEventListener("abort",()=>{C()}),g.addEventListener("load",async()=>{const x=g.response;return!x||x.statusCode>=400?C(x&&x.message):y(x)}),l&&g.upload.addEventListener("progress",x=>{l(x)}),g.send(s)})}_getImageWidth(){return new Promise(n=>{const i=new Image;i.onload=()=>{URL.revokeObjectURL(i.src),n(i.width)},i.src=this.loader.data})}}function W5(c){const n=/\.(?<ext>[^.]+)$/;return c.match(n).groups.ext}class F1 extends ge{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",sce]}async init(){const n=this.editor,i=!!n.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;this._initConfig();const l=n.plugins.get("CloudServicesCore"),d=n.config.get("ckbox.tokenUrl"),f=n.config.get("cloudServices.tokenUrl");d===f?this._token=n.plugins.get("CloudServices").token:this._token=await l.createToken(d).init(),n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),s&&n.commands.add("ckbox",new Xae(n))}getToken(){return this._token}_initConfig(){const n=this.editor;if(n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"default",tokenUrl:n.config.get("cloudServices.tokenUrl")}),!n.config.get("ckbox.tokenUrl"))throw new S("ckbox-plugin-missing-token-url",this);!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing")&&we("ckbox-plugin-image-feature-missing",n)}_initSchema(){const i=this.editor.model.schema;i.extend("$text",{allowAttributes:"ckboxLinkId"}),i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.addAttributeCheck((s,l)=>{if(!!!s.last.getAttribute("linkHref")&&l==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(s,l,d)=>{const{writer:f,mapper:g,consumable:w}=d;if(!w.consume(l.item,s.name))return;const C=[...g.toViewElement(l.item).getChildren()].find(x=>x.name==="a");C&&(l.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),C):f.removeAttribute("data-ckbox-resource-id",C))},{priority:"low"}),i.on("attribute:ckboxLinkId",(s,l,d)=>{const{writer:f,mapper:g,consumable:w}=d;if(w.consume(l.item,s.name)){if(l.attributeOldValue){const y=G5(f,l.attributeOldValue);f.unwrap(g.toViewRange(l.range),y)}if(l.attributeNewValue){const y=G5(f,l.attributeNewValue);if(l.item.is("selection")){const C=f.document.selection;f.wrap(C.getFirstRange(),y)}else f.wrap(g.toViewRange(l.range),y)}}},{priority:"low"})}),n.conversion.for("upcast").add(i=>{i.on("element:a",(s,l,d)=>{const{writer:f,consumable:g}=d;if(!l.viewItem.getAttribute("href"))return;const w={attributes:["data-ckbox-resource-id"]};if(!g.consume(l.viewItem,w))return;const y=l.viewItem.getAttribute("data-ckbox-resource-id");if(y)if(l.modelRange)for(let C of l.modelRange.getItems())C.is("$textProxy")&&(C=C.textNode),dce(C)&&f.setAttribute("ckboxLinkId",y,C);else{const C=l.modelCursor.nodeBefore||l.modelCursor.parent;f.setAttribute("ckboxLinkId",y,C)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const n=this.editor,i=n.model,s=i.document.selection;i.document.registerPostFixer(cce(n)),i.document.registerPostFixer(lce(s))}}function cce(c){return n=>{let i=!1;const s=c.model,l=c.commands.get("ckbox");if(!l)return i;for(const d of s.document.differ.getChanges()){if(d.type!=="insert"&&d.type!=="attribute")continue;const f=d.type==="insert"?new se(d.position,d.position.getShiftedBy(d.length)):d.range,g=d.type==="attribute"&&d.attributeKey==="linkHref"&&d.attributeNewValue===null;for(const w of f.getItems()){if(g&&w.hasAttribute("ckboxLinkId")){n.removeAttribute("ckboxLinkId",w),i=!0;continue}const y=uce(w,l._chosenAssets);for(const C of y){const x=C.type==="image"?"ckboxImageId":"ckboxLinkId";C.id!==w.getAttribute(x)&&(n.setAttribute(x,C.id,w),i=!0)}}}return i}}function lce(c){return n=>{!c.hasAttribute("linkHref")&&c.hasAttribute("ckboxLinkId")&&n.removeSelectionAttribute("ckboxLinkId")}}function uce(c,n){const i=c.is("element","imageInline")||c.is("element","imageBlock"),s=c.hasAttribute("linkHref");return[...n].filter(l=>{if(l.type==="image"&&i)return l.attributes.imageFallbackUrl===c.getAttribute("src");if(l.type==="link"&&s)return l.attributes.linkHref===c.getAttribute("linkHref")})}function G5(c,n){const i=c.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return c.setCustomProperty("link",!0,i),i}function dce(c){return!!(c.is("$text")||c.is("element","imageInline")||c.is("element","imageBlock"))}class hce extends ge{static get pluginName(){return"CKBox"}static get requires(){return[F1,Wae]}}const j1={autoRefresh:!0},K5=36e5;class tk{constructor(n,i=j1){if(!n)throw new S("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),typeof n=="function"?this._refresh=n:this._refresh=()=>fce(n),this._options=Object.assign({},j1,i)}init(){return new Promise((n,i)=>{if(!this.value){this.refreshToken().then(n).catch(i);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)})}refreshToken(){return this._refresh().then(n=>{this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const i=typeof n=="string",s=!/^".*"$/.test(n),l=i&&n.split(".").length===3;if(!(s&&l))throw new S("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:i}=JSON.parse(atob(n));return i?Math.floor((i*1e3-Date.now())/2):K5}catch{return K5}}static create(n,i=j1){return new tk(n,i).init()}}ae(tk,Pe);function fce(c){return new Promise((n,i)=>{const s=new XMLHttpRequest;s.open("GET",c),s.addEventListener("load",()=>{const l=s.status,d=s.response;return l<200||l>299?i(new S("token-cannot-download-new-token",null)):n(d)}),s.addEventListener("error",()=>i(new Error("Network Error"))),s.addEventListener("abort",()=>i(new Error("Abort"))),s.send()})}const pce=tk,V1=/^data:(\S*?);base64,/;class Y5{constructor(n,i,s){if(!n)throw new S("fileuploader-missing-file",null);if(!i)throw new S("fileuploader-missing-token",null);if(!s)throw new S("fileuploader-missing-api-address",null);this.file=gce(n)?mce(n):n,this._token=i,this._apiAddress=s}onProgress(n){return this.on("progress",(i,s)=>n(s)),this}onError(n){return this.once("error",(i,s)=>n(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this,i=this.xhr;i.addEventListener("error",s("Network Error")),i.addEventListener("abort",s("Abort")),i.upload&&i.upload.addEventListener("progress",l=>{l.lengthComputable&&this.fire("progress",{total:l.total,uploaded:l.loaded})}),i.addEventListener("load",()=>{const l=i.status,d=i.response;if(l<200||l>299)return this.fire("error",d.message||d.error)});function s(l){return()=>n.fire("error",l)}}_sendRequest(){const n=new FormData,i=this.xhr;return n.append("file",this.file),new Promise((s,l)=>{i.addEventListener("load",()=>{const d=i.status,f=i.response;return d<200||d>299?f.message?l(new S("fileuploader-uploading-data-failed",this,{message:f.message})):l(f.error):s(f)}),i.addEventListener("error",()=>l(new Error("Network Error"))),i.addEventListener("abort",()=>l(new Error("Abort"))),i.send(n)})}}ae(Y5,B);function mce(c,n=512){try{const i=c.match(V1)[1],s=atob(c.replace(V1,"")),l=[];for(let d=0;d<s.length;d+=n){const f=s.slice(d,d+n),g=new Array(f.length);for(let w=0;w<f.length;w++)g[w]=f.charCodeAt(w);l.push(new Uint8Array(g))}return new Blob(l,{type:i})}catch{throw new S("fileuploader-decoding-image-data-error",null)}}function gce(c){if(typeof c!="string")return!1;const n=c.match(V1);return!!(n&&n.length)}class bce{constructor(n,i){if(!n)throw new S("uploadgateway-missing-token",null);if(!i)throw new S("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=i}upload(n){return new Y5(n,this._token,this._apiAddress)}}class wce extends Sw{static get pluginName(){return"CloudServicesCore"}createToken(n,i){return new pce(n,i)}createUploadGateway(n,i){return new bce(n,i)}}class kce extends Sw{static get pluginName(){return"CloudServices"}static get requires(){return[wce]}init(){const i=this.context.config.get("cloudServices")||{};for(const s in i)this[s]=i[s];if(this._tokens=new Map,!this.tokenUrl){this.token=null;return}return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init()}registerTokenUrl(n){if(this._tokens.has(n))return Promise.resolve(this.getTokenFor(n));const i=this.context.plugins.get("CloudServicesCore").createToken(n);return this._tokens.set(n,i),i.init()}getTokenFor(n){const i=this._tokens.get(n);if(!i)throw new S("cloudservices-token-not-registered",this);return i}destroy(){super.destroy();for(const n of this._tokens.values())n.destroy()}}const tu="code",vce="ck-code_selected";class yce extends ge{static get pluginName(){return"CodeEditing"}static get requires(){return[Yw]}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:tu}),n.model.schema.setAttributeProperties(tu,{isFormatting:!0,copyOnEnter:!1}),n.conversion.attributeToElement({model:tu,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),n.commands.add(tu,new B1(n,tu)),n.plugins.get(Yw).registerAttribute(tu),P5(n,tu,"code",vce)}}const _ce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';var Q5=a(8180),U1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};U1.insert="head",U1.singleton=!0,at()(Q5.Z,U1),Q5.Z.locals;const $1="code";class Ace extends ge{static get pluginName(){return"CodeUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add($1,s=>{const l=n.commands.get($1),d=new Kt(s);return d.set({label:i("Code"),icon:_ce,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute($1),n.editing.view.focus()}),d})}}class Cce extends ge{static get requires(){return[yce,Ace]}static get pluginName(){return"Code"}}function H1(c){const n=c.t,i=c.config.get("codeBlock.languages");for(const s of i)s.label==="Plain text"&&(s.label=n("Plain text")),s.class===void 0&&(s.class=`language-${s.language}`);return i}function q1(c,n,i){const s={};for(const l of c)if(n==="class"){const d=l[n].split(" ").shift();s[d]=l[i]}else s[l[n]]=l[i];return s}function W1(c){return c.data.match(/^(\s*)/)[0]}function Ece(c,n){const i=c.createDocumentFragment(),s=n.split(`
`),l=s.reduce((d,f,g)=>(d.push(f),g<s.length-1&&d.push(c.createElement("br")),d),[]);return c.appendChild(l,i),i}function G1(c){const n=c.document.selection,i=[];if(n.isCollapsed)return[n.anchor];const s=n.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:l}of s){if(!l.is("$textProxy"))continue;const{parent:d,startOffset:f}=l.textNode;if(!d.is("element","codeBlock"))continue;const g=W1(l.textNode),w=c.createPositionAt(d,f+g.length);i.push(w)}return i}function Z5(c){const n=zn(c.getSelectedBlocks());return!!n&&n.is("element","codeBlock")}function J5(c,n){return n.is("rootElement")||c.isLimit(n)?!1:c.checkChild(n.parent,"codeBlock")}class xce extends vt{constructor(n){super(n),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor,s=i.model,l=s.document.selection,f=H1(i)[0],g=Array.from(l.getSelectedBlocks()),w=n.forceValue==null?!this.value:n.forceValue,y=Sce(n,this._lastLanguage,f.language);s.change(C=>{w?this._applyCodeBlock(C,g,y):this._removeCodeBlock(C,g)})}_getValue(){const n=this.editor.model.document.selection,i=zn(n.getSelectedBlocks());return!!(i&&i.is("element","codeBlock"))?i.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=zn(n.getSelectedBlocks());return s?J5(i,s):!1}_applyCodeBlock(n,i,s){this._lastLanguage=s;const l=this.editor.model.schema,d=i.filter(f=>J5(l,f));for(const f of d)n.rename(f,"codeBlock"),n.setAttribute("language",s,f),l.removeDisallowedAttributes([f],n),Array.from(f.getChildren()).filter(g=>!l.checkChild(f,g)).forEach(g=>n.remove(g));d.reverse().forEach((f,g)=>{const w=d[g+1];f.previousSibling===w&&(n.appendElement("softBreak",w),n.merge(n.createPositionBefore(f)))})}_removeCodeBlock(n,i){const s=i.filter(l=>l.is("element","codeBlock"));for(const l of s){const d=n.createRangeOn(l);for(const f of Array.from(d.getItems()).reverse())if(f.is("element","softBreak")&&f.parent.is("element","codeBlock")){const{position:g}=n.split(n.createPositionBefore(f)),w=g.nodeAfter;n.rename(w,"paragraph"),n.removeAttribute("language",w),n.remove(f)}n.rename(l,"paragraph"),n.removeAttribute("language",l)}}}function Sce(c,n,i){return c.language?c.language:c.usePreviousLanguageChoice&&n?n:i}class Tce extends vt{constructor(n){super(n),this._indentSequence=n.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(s=>{const l=G1(i);for(const d of l){const f=s.createText(this._indentSequence);i.insertContent(f,d)}})}_checkEnabled(){return this._indentSequence?Z5(this.editor.model.document.selection):!1}}class Ice extends vt{constructor(n){super(n),this._indentSequence=n.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(()=>{const s=G1(i);for(const l of s){const d=X5(i,l,this._indentSequence);d&&i.deleteContent(i.createSelection(d))}})}_checkEnabled(){if(!this._indentSequence)return!1;const n=this.editor.model;return Z5(n.document.selection)?G1(n).some(i=>X5(n,i,this._indentSequence)):!1}}function X5(c,n,i){const s=Dce(n);if(!s)return null;const l=W1(s),d=l.lastIndexOf(i);if(d+i.length!==l.length||d===-1)return null;const{parent:f,startOffset:g}=s;return c.createRange(c.createPositionAt(f,g+d),c.createPositionAt(f,g+d+i.length))}function Dce(c){let n=c.parent.getChild(c.index);return(!n||n.is("element","softBreak"))&&(n=c.nodeBefore),!n||n.is("element","softBreak")?null:n}function eB(c,n,i=!1){const s=q1(n,"language","class"),l=q1(n,"language","label");return(d,f,g)=>{const{writer:w,mapper:y,consumable:C}=g;if(!C.consume(f.item,"insert"))return;const x=f.item.getAttribute("language"),R=y.toViewPosition(c.createPositionBefore(f.item)),j={};i&&(j["data-language"]=l[x],j.spellcheck="false");const H=s[x]?{class:s[x]}:void 0,Z=w.createContainerElement("code",H),de=w.createContainerElement("pre",j,Z);w.insert(R,de),y.bindElements(f.item,Z)}}function Pce(c){return(n,i,s)=>{if(i.item.parent.name!=="codeBlock")return;const{writer:l,mapper:d,consumable:f}=s;if(!f.consume(i.item,"insert"))return;const g=d.toViewPosition(c.createPositionBefore(i.item));l.insert(g,l.createText(`
`))}}function Mce(c,n){const i=q1(n,"class","language"),s=n[0].language;return(l,d,f)=>{const g=d.viewItem,w=g.parent;if(!w||!w.is("element","pre")||d.modelCursor.findAncestor("codeBlock"))return;const{consumable:y,writer:C}=f;if(!y.test(g,{name:!0}))return;const x=C.createElement("codeBlock"),R=[...g.getClassNames()];R.length||R.push("");for(const j of R){const H=i[j];if(H){C.setAttribute("language",H,x);break}}x.hasAttribute("language")||C.setAttribute("language",s,x),f.convertChildren(g,x),f.safeInsert(x,d.modelCursor)&&(y.consume(g,{name:!0}),f.updateConversionResult(x,d))}}function Nce(){return(c,n,{consumable:i,writer:s})=>{let l=n.modelCursor;if(!i.test(n.viewItem)||!l.findAncestor("codeBlock"))return;i.consume(n.viewItem);const f=n.viewItem.data.split(`
`).map(w=>s.createText(w)),g=f[f.length-1];for(const w of f)if(s.insert(w,l),l=l.getShiftedBy(w.offsetSize),w!==g){const y=s.createElement("softBreak");s.insert(y,l),l=s.createPositionAfter(y)}n.modelRange=s.createRange(n.modelCursor,l),n.modelCursor=l}}function Rce(){return(c,n,{consumable:i})=>{const s=n.viewItem;if(s.findAncestor("pre"))return;const l=Array.from(s.getChildren()),d=l.find(f=>f.is("element","code"));if(d)for(const f of l)f===d||!f.is("$text")||i.consume(f,{name:!0})}}const tB="paragraph";class Oce extends ge{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[B5]}constructor(n){super(n),n.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const n=this.editor,i=n.model.schema,s=n.model,l=n.editing.view,d=n.plugins.has("DocumentListEditing"),f=H1(n);n.commands.add("codeBlock",new xce(n)),n.commands.add("indentCodeBlock",new Tce(n)),n.commands.add("outdentCodeBlock",new Ice(n)),this.listenTo(l.document,"tab",(g,w)=>{const y=w.shiftKey?"outdentCodeBlock":"indentCodeBlock";n.commands.get(y).isEnabled&&(n.execute(y),w.stopPropagation(),w.preventDefault(),g.stop())},{context:"pre"}),i.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),i.addAttributeCheck((g,w)=>{const y=g.endsWith("codeBlock")&&w.startsWith("list")&&w!=="list";if(d&&y)return!0;if(g.endsWith("codeBlock $text"))return!1}),n.model.schema.addChildCheck((g,w)=>{if(g.endsWith("codeBlock")&&w.isObject)return!1}),n.editing.downcastDispatcher.on("insert:codeBlock",eB(s,f,!0)),n.data.downcastDispatcher.on("insert:codeBlock",eB(s,f)),n.data.downcastDispatcher.on("insert:softBreak",Pce(s),{priority:"high"}),n.data.upcastDispatcher.on("element:code",Mce(l,f)),n.data.upcastDispatcher.on("text",Nce()),n.data.upcastDispatcher.on("element:pre",Rce(),{priority:"high"}),this.listenTo(n.editing.view.document,"clipboardInput",(g,w)=>{let y=s.createRange(s.document.selection.anchor);if(w.targetRanges&&(y=n.editing.mapper.toModelRange(w.targetRanges[0])),!y.start.parent.is("element","codeBlock"))return;const C=w.dataTransfer.getData("text/plain"),x=new Xl(n.editing.view.document);w.content=Ece(x,C)}),this.listenTo(s,"getSelectedContent",(g,[w])=>{const y=w.anchor;w.isCollapsed||!y.parent.is("element","codeBlock")||!y.hasSameParentAs(w.focus)||s.change(C=>{const x=g.return;if(y.parent.is("element")&&(x.childCount>1||w.containsEntireContent(y.parent))){const j=C.createElement("codeBlock",y.parent.getAttributes());C.append(x,j);const H=C.createDocumentFragment();C.append(j,H),g.return=H;return}const R=x.getChild(0);i.checkAttribute(R,"code")&&C.setAttribute("code",!0,R)})})}afterInit(){const n=this.editor,i=n.commands,s=i.get("indent"),l=i.get("outdent");s&&s.registerChildCommand(i.get("indentCodeBlock"),{priority:"highest"}),l&&l.registerChildCommand(i.get("outdentCodeBlock")),this.listenTo(n.editing.view.document,"enter",(d,f)=>{n.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!Bce(n,f.isSoft)&&!zce(n,f.isSoft)&&Lce(n),f.preventDefault(),d.stop())},{context:"pre"})}}function Lce(c){const i=c.model.document,s=i.selection.getLastPosition(),l=s.nodeBefore||s.textNode;let d;l&&l.is("$text")&&(d=W1(l)),c.model.change(f=>{c.execute("shiftEnter"),d&&f.insertText(d,i.selection.anchor)})}function Bce(c,n){const s=c.model.document,l=c.editing.view,d=s.selection.getLastPosition(),f=d.nodeAfter;return n||!s.selection.isCollapsed||!d.isAtStart||!nu(f)?!1:(c.model.change(g=>{c.execute("enter");const w=s.selection.anchor.parent.previousSibling;g.rename(w,tB),g.setSelection(w,"in"),c.model.schema.removeDisallowedAttributes([w],g),g.remove(f)}),l.scrollToTheSelection(),!0)}function zce(c,n){const i=c.model,s=i.document,l=c.editing.view,d=s.selection.getLastPosition(),f=d.nodeBefore;let g;if(n||!s.selection.isCollapsed||!d.isAtEnd||!f||!f.previousSibling)return!1;if(nu(f)&&nu(f.previousSibling))g=i.createRange(i.createPositionBefore(f.previousSibling),i.createPositionAfter(f));else if(K1(f)&&nu(f.previousSibling)&&nu(f.previousSibling.previousSibling))g=i.createRange(i.createPositionBefore(f.previousSibling.previousSibling),i.createPositionAfter(f));else if(K1(f)&&nu(f.previousSibling)&&K1(f.previousSibling.previousSibling)&&f.previousSibling.previousSibling&&nu(f.previousSibling.previousSibling.previousSibling))g=i.createRange(i.createPositionBefore(f.previousSibling.previousSibling.previousSibling),i.createPositionAfter(f));else return!1;return c.model.change(w=>{w.remove(g),c.execute("enter");const y=s.selection.anchor.parent;w.rename(y,tB),c.model.schema.removeDisallowedAttributes([y],w)}),l.scrollToTheSelection(),!0}function K1(c){return c&&c.is("$text")&&!c.data.match(/\S/)}function nu(c){return c&&c.is("element","softBreak")}const Fce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>';var nB=a(9085),Y1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Y1.insert="head",Y1.singleton=!0,at()(nB.Z,Y1),nB.Z.locals;class jce extends ge{static get pluginName(){return"CodeBlockUI"}init(){const n=this.editor,i=n.t,s=n.ui.componentFactory,l=H1(n);s.add("codeBlock",d=>{const f=n.commands.get("codeBlock"),g=xo(d,xw),w=g.buttonView;return w.set({label:i("Insert code block"),tooltip:!0,icon:Fce,isToggleable:!0}),w.bind("isOn").to(f,"value",y=>!!y),w.on("execute",()=>{n.execute("codeBlock",{usePreviousLanguageChoice:!0}),n.editing.view.focus()}),g.on("execute",y=>{n.execute("codeBlock",{language:y.source._codeBlockLanguage,forceValue:!0}),n.editing.view.focus()}),g.class="ck-code-block-dropdown",g.bind("isEnabled").to(f),xp(g,()=>this._getLanguageListItemDefinitions(l)),g})}_getLanguageListItemDefinitions(n){const s=this.editor.commands.get("codeBlock"),l=new yi;for(const d of n){const f={type:"button",model:new Sp({_codeBlockLanguage:d.language,label:d.label,withText:!0})};f.model.bind("isOn").to(s,"value",g=>g===f.model._codeBlockLanguage),l.add(f)}return l}}class Vce extends ge{static get requires(){return[Oce,jce]}static get pluginName(){return"CodeBlock"}}class Q1 extends dc{constructor(n){super(n);const i=this.document;this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"});function s(l){return(d,f)=>{f.preventDefault();const g=f.dropRange?[f.dropRange]:null,w=new Ke(i,l);i.fire(w,{dataTransfer:f.dataTransfer,method:d.name,targetRanges:g,target:f.target}),w.stop.called&&f.stopPropagation()}}}onDomEvent(n){const i="clipboardData"in n?n.clipboardData:n.dataTransfer,s=n.type=="drop"||n.type=="paste",l={dataTransfer:new WO(i,{cacheFiles:s})};(n.type=="drop"||n.type=="dragover")&&(l.dropRange=Uce(this.view,n)),this.fire(n.type,n,l)}}function Uce(c,n){const i=n.target.ownerDocument,s=n.clientX,l=n.clientY;let d;return i.caretRangeFromPoint&&i.caretRangeFromPoint(s,l)?d=i.caretRangeFromPoint(s,l):n.rangeParent&&(d=i.createRange(),d.setStart(n.rangeParent,n.rangeOffset),d.collapse(!0)),d?c.domConverter.domRangeToView(d):null}function $ce(c){return c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(c.includes("</p><p>")||c.includes("<br>"))&&(c=`<p>${c}</p>`),c}function Hce(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length==1?" ":i).replace(/<!--[\s\S]*?-->/g,"")}const rB=["figcaption","li"];function iB(c){let n="";if(c.is("$text")||c.is("$textProxy"))n=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))n=c.getAttribute("alt");else if(c.is("element","br"))n=`
`;else{let i=null;for(const s of c.getChildren()){const l=iB(s);i&&(i.is("containerElement")||s.is("containerElement"))&&(rB.includes(i.name)||rB.includes(s.name)?n+=`
`:n+=`

`),n+=l,i=s}}return n}class Ts extends ge{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Q1),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const n=this.editor,i=n.model,s=n.editing.view,l=s.document;this.listenTo(l,"clipboardInput",d=>{n.isReadOnly&&d.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(d,f)=>{const g=f.dataTransfer;let w;if(f.content)w=f.content;else{let C="";g.getData("text/html")?C=Hce(g.getData("text/html")):g.getData("text/plain")&&(C=$ce(g.getData("text/plain"))),w=this.editor.data.htmlProcessor.toView(C)}const y=new Ke(this,"inputTransformation");this.fire(y,{content:w,dataTransfer:g,targetRanges:f.targetRanges,method:f.method}),y.stop.called&&d.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(d,f)=>{if(f.content.isEmpty)return;const w=this.editor.data.toModel(f.content,"$clipboardHolder");w.childCount!=0&&(d.stop(),i.change(()=>{this.fire("contentInsertion",{content:w,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(d,f)=>{f.resultRange=i.insertContent(f.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,i=n.model.document,l=n.editing.view.document,d=(f,g)=>{const w=g.dataTransfer;g.preventDefault();const y=n.data.toView(n.model.getSelectedContent(i.selection));l.fire("clipboardOutput",{dataTransfer:w,content:y,method:f.name})};this.listenTo(l,"copy",d,{priority:"low"}),this.listenTo(l,"cut",(f,g)=>{n.isReadOnly?g.preventDefault():d(f,g)},{priority:"low"}),this.listenTo(l,"clipboardOutput",(f,g)=>{g.content.isEmpty||(g.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(g.content)),g.dataTransfer.setData("text/plain",iB(g.content))),g.method=="cut"&&n.model.deleteContent(i.selection)},{priority:"low"})}}class qce extends B(){constructor(){super(),this._stack=[]}add(n,i){const s=this._stack,l=s[0];this._insertDescriptor(n);const d=s[0];l!==d&&!Z1(l,d)&&this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:i})}remove(n,i){const s=this._stack,l=s[0];this._removeDescriptor(n);const d=s[0];l!==d&&!Z1(l,d)&&this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:i})}_insertDescriptor(n){const i=this._stack,s=i.findIndex(d=>d.id===n.id);if(Z1(n,i[s]))return;s>-1&&i.splice(s,1);let l=0;for(;i[l]&&Wce(i[l],n);)l++;i.splice(l,0,n)}_removeDescriptor(n){const i=this._stack,s=i.findIndex(l=>l.id===n);s>-1&&i.splice(s,1)}}function Z1(c,n){return c&&n&&c.priority==n.priority&&nk(c.classes)==nk(n.classes)}function Wce(c,n){return c.priority>n.priority?!0:c.priority<n.priority?!1:nk(c.classes)>nk(n.classes)}function nk(c){return Array.isArray(c)?c.sort().join(","):c}const Gce='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Kce="ck-widget",oB="ck-widget_selected";function Fn(c){return c.is("element")?!!c.getCustomProperty("widget"):!1}function J1(c,n,i={}){if(!c.is("containerElement"))throw new S("widget-to-widget-wrong-element-type",null,{element:c});return n.setAttribute("contenteditable","false",c),n.addClass(Kce,c),n.setCustomProperty("widget",!0,c),c.getFillerOffset=Xce,n.setCustomProperty("widgetLabel",[],c),i.label&&Zce(c,i.label),i.hasSelectionHandle&&ele(c,n),sB(c,n),c}function Yce(c,n,i){if(n.classes&&i.addClass(Tr(n.classes),c),n.attributes)for(const s in n.attributes)i.setAttribute(s,n.attributes[s],c)}function Qce(c,n,i){if(n.classes&&i.removeClass(Tr(n.classes),c),n.attributes)for(const s in n.attributes)i.removeAttribute(s,c)}function sB(c,n,i=Yce,s=Qce){const l=new qce;l.on("change:top",(g,w)=>{w.oldDescriptor&&s(c,w.oldDescriptor,w.writer),w.newDescriptor&&i(c,w.newDescriptor,w.writer)});const d=(g,w,y)=>l.add(w,y),f=(g,w,y)=>l.remove(w,y);n.setCustomProperty("addHighlight",d,c),n.setCustomProperty("removeHighlight",f,c)}function Zce(c,n){c.getCustomProperty("widgetLabel").push(n)}function Jce(c){return c.getCustomProperty("widgetLabel").reduce((i,s)=>typeof s=="function"?i?i+". "+s():s():i?i+". "+s:s,"")}function aB(c,n,i={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),n.setAttribute("role","textbox",c),i.label&&n.setAttribute("aria-label",i.label,c),n.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(s,l,d)=>{n.setAttribute("contenteditable",d?"false":"true",c)}),c.on("change:isFocused",(s,l,d)=>{d?n.addClass("ck-editor__nested-editable_focused",c):n.removeClass("ck-editor__nested-editable_focused",c)}),sB(c,n),c}function cB(c,n){const i=c.getSelectedElement();if(i){const s=gc(c);if(s)return n.createRange(n.createPositionAt(i,s))}return HL(c,n)}function Xce(){return null}function ele(c,n){const i=n.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(s){const l=this.toDomElement(s),d=new Vl;return d.set("content",Gce),d.render(),l.appendChild(d.element),l});n.insert(n.createPositionAt(c,0),i),n.addClass(["ck-widget_with-selection-handle"],c)}const pa="widget-type-around";function ru(c,n,i){return!!c&&Fn(c)&&!i.isInline(n)}function tle(c){return c.closest(".ck-widget__type-around__button")}function nle(c){return c.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function rle(c,n){const i=c.closest(".ck-widget");return n.mapDomToView(i)}function gc(c){return c.getAttribute(pa)}const ile='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var lB=a(5137),X1={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};X1.insert="head",X1.singleton=!0,at()(lB.Z,X1),lB.Z.locals;const uB=["before","after"],ole=new DOMParser().parseFromString(ile,"image/svg+xml").firstChild,dB="ck-widget__type-around_disabled";class sle extends ge{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Xw,pc]}constructor(n){super(n),this._currentFakeCaretModelElement=null}init(){const n=this.editor,i=n.editing.view;this.on("change:isEnabled",(s,l,d)=>{i.change(f=>{for(const g of i.document.roots)d?f.removeClass(dB,g):f.addClass(dB,g)}),d||n.model.change(f=>{f.removeSelectionAttribute(pa)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,i){const s=this.editor,l=s.editing.view,d=s.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(n,i),attributes:d}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(n,i,s,l){this.listenTo(n,i,(...d)=>{this.isEnabled&&s(...d)},l)}_insertParagraphAccordingToFakeCaretPosition(){const s=this.editor.model.document.selection,l=gc(s);if(!l)return!1;const d=s.getSelectedElement();return this._insertParagraph(d,l),!0}_enableTypeAroundUIInjection(){const n=this.editor,i=n.model.schema,s=n.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(d,f,g)=>{const w=g.mapper.toViewElement(f.item);w&&ru(w,f.item,i)&&(ale(g.writer,l,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,i=n.model,s=i.document.selection,l=i.schema,d=n.editing.view;this._listenToIfEnabled(d.document,"arrowKey",(g,w)=>{this._handleArrowKeyPress(g,w)},{context:[Fn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(g,w)=>{w.directChange&&n.model.change(y=>{y.removeSelectionAttribute(pa)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const g=s.getSelectedElement();if(g){const w=n.editing.mapper.toViewElement(g);if(ru(w,g,l))return}n.model.change(w=>{w.removeSelectionAttribute(pa)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(g,w,y)=>{const C=y.writer;if(this._currentFakeCaretModelElement){const H=y.mapper.toViewElement(this._currentFakeCaretModelElement);H&&(C.removeClass(uB.map(f),H),this._currentFakeCaretModelElement=null)}const x=w.selection.getSelectedElement();if(!x)return;const R=y.mapper.toViewElement(x);if(!ru(R,x,l))return;const j=gc(w.selection);j&&(C.addClass(f(j),R),this._currentFakeCaretModelElement=x)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(g,w,y)=>{y||n.model.change(C=>{C.removeSelectionAttribute(pa)})});function f(g){return`ck-widget_type-around_show-fake-caret_${g}`}}_handleArrowKeyPress(n,i){const s=this.editor,l=s.model,d=l.document.selection,f=l.schema,g=s.editing.view,w=i.keyCode,y=HX(w,s.locale.contentLanguageDirection),C=g.document.selection.getSelectedElement(),x=s.editing.mapper.toModelElement(C);let R;ru(C,x,f)?R=this._handleArrowKeyPressOnSelectedWidget(y):d.isCollapsed?R=this._handleArrowKeyPressWhenSelectionNextToAWidget(y):i.shiftKey||(R=this._handleArrowKeyPressWhenNonCollapsedSelection(y)),R&&(i.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const s=this.editor.model,l=s.document.selection,d=gc(l);return s.change(f=>{if(d){if(!(d===(n?"after":"before")))return f.removeSelectionAttribute(pa),!0}else return f.setSelectionAttribute(pa,n?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const i=this.editor,s=i.model,l=s.schema,d=i.plugins.get("Widget"),f=d._getObjectElementNextToSelection(n),g=i.editing.mapper.toViewElement(f);return ru(g,f,l)?(s.change(w=>{d._setSelectionOverElement(f),w.setSelectionAttribute(pa,n?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(n){const i=this.editor,s=i.model,l=s.schema,d=i.editing.mapper,f=s.document.selection,g=n?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter,w=d.toViewElement(g);return ru(w,g,l)?(s.change(y=>{y.setSelection(g,"on"),y.setSelectionAttribute(pa,n?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,i=n.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,l)=>{const d=tle(l.domTarget);if(!d)return;const f=nle(d),g=rle(d,i.domConverter),w=n.editing.mapper.toModelElement(g);this._insertParagraph(w,f),l.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,i=n.model.document.selection,s=n.editing.view;this._listenToIfEnabled(s.document,"enter",(l,d)=>{if(l.eventPhase!="atTarget")return;const f=i.getSelectedElement(),g=n.editing.mapper.toViewElement(f),w=n.model.schema;let y;this._insertParagraphAccordingToFakeCaretPosition()?y=!0:ru(g,f,w)&&(this._insertParagraph(f,d.isSoft?"before":"after"),y=!0),y&&(d.preventDefault(),l.stop())},{context:Fn})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",(s,l)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(l.selection=i.selection)},{priority:"high"}),A.isAndroid?this._listenToIfEnabled(i,"keydown",(s,l)=>{l.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(i,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,i=n.editing.view,s=n.model,l=s.schema;this._listenToIfEnabled(i.document,"delete",(d,f)=>{if(d.eventPhase!="atTarget")return;const g=gc(s.document.selection);if(!g)return;const w=f.direction,y=s.document.selection.getSelectedElement(),C=g==="before",x=w=="forward";if(C===x)n.execute("delete",{selection:s.createSelection(y,"on")});else{const j=l.getNearestSelectionRange(s.createPositionAt(y,g),w);if(j)if(!j.isCollapsed)s.change(H=>{H.setSelection(j),n.execute(x?"deleteForward":"delete")});else{const H=s.createSelection(j.start);if(s.modifySelection(H,{direction:w}),!H.focus.isEqual(j.start))s.change(Z=>{Z.setSelection(j),n.execute(x?"deleteForward":"delete")});else{const Z=ule(l,j.start.parent);s.deleteContent(s.createSelection(Z,"on"),{doNotAutoparagraph:!0})}}}f.preventDefault(),d.stop()},{context:Fn})}_enableInsertContentIntegration(){const n=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(n.model,"insertContent",(l,[d,f])=>{if(f&&!f.is("documentSelection"))return;const g=gc(s);if(g)return l.stop(),i.change(w=>{const y=s.getSelectedElement(),C=i.createPositionAt(y,g),x=w.createSelection(C),R=i.insertContent(d,x);return w.setSelection(x),R})},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(l,d)=>{const[,f,,g={}]=d;if(f&&!f.is("documentSelection"))return;const w=gc(s);w&&(g.findOptimalPosition=w,d[3]=g)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(l,[d])=>{if(d&&!d.is("documentSelection"))return;gc(s)&&l.stop()},{priority:"high"})}}function ale(c,n,i){const s=c.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(l){const d=this.toDomElement(l);return cle(d,n),lle(d),d});c.insert(c.createPositionAt(i,"end"),s)}function cle(c,n){for(const i of uB){const s=new Vi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${i}`],title:n[i],"aria-hidden":"true"},children:[c.ownerDocument.importNode(ole,!0)]});c.appendChild(s.render())}}function lle(c){const n=new Vi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});c.appendChild(n.render())}function ule(c,n){let i=n;for(const s of n.getAncestors({parentFirst:!0})){if(s.childCount>1||c.isLimit(s))break;i=s}return i}function dle(c){const n=c.model;return(i,s)=>{const l=s.keyCode==Rt.arrowup,d=s.keyCode==Rt.arrowdown,f=s.shiftKey,g=n.document.selection;if(!l&&!d)return;const w=d;if(f&&ple(g,w))return;const y=hle(c,g,w);if(y){if(y.isCollapsed){if(g.isCollapsed)return;if(f)return}(y.isCollapsed||fle(c,y,w))&&(n.change(C=>{const x=w?y.end:y.start;if(f){const R=n.createSelection(g.anchor);R.setFocus(x),C.setSelection(R)}else C.setSelection(x)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}function hle(c,n,i){const s=c.model;if(i){const l=n.isCollapsed?n.focus:n.getLastPosition(),d=hB(s,l,"forward");if(!d)return null;const f=s.createRange(l,d),g=fB(s.schema,f,"backward");return g?s.createRange(l,g):null}else{const l=n.isCollapsed?n.focus:n.getFirstPosition(),d=hB(s,l,"backward");if(!d)return null;const f=s.createRange(d,l),g=fB(s.schema,f,"forward");return g?s.createRange(g,l):null}}function hB(c,n,i){const s=c.schema,l=c.createRangeIn(n.root),d=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:g,type:w}of l.getWalker({startPosition:n,direction:i})){if(s.isLimit(g)&&!s.isInline(g))return f;if(w==d&&s.isBlock(g))return null}return null}function fB(c,n,i){const s=i=="backward"?n.end:n.start;if(c.checkChild(s,"$text"))return s;for(const{nextPosition:l}of n.getWalker({direction:i}))if(c.checkChild(l,"$text"))return l;return null}function fle(c,n,i){const s=c.model,l=c.view.domConverter;if(i){const y=s.createSelection(n.start);s.modifySelection(y),!y.focus.isAtEnd&&!n.start.isEqual(y.focus)&&(n=s.createRange(y.focus,n.end))}const d=c.mapper.toViewRange(n),f=l.viewRangeToDom(d),g=dn.getDomRangeRects(f);let w;for(const y of g){if(w===void 0){w=Math.round(y.bottom);continue}if(Math.round(y.top)>=w)return!1;w=Math.max(w,Math.round(y.bottom))}return!0}function ple(c,n){return!c.isCollapsed&&c.isBackward==n}var pB=a(6507),eE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};eE.insert="head",eE.singleton=!0,at()(pB.Z,eE),pB.Z.locals;class Dp extends ge{static get pluginName(){return"Widget"}static get requires(){return[sle,pc]}init(){const n=this.editor,i=n.editing.view,s=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(l,d,f)=>{const g=f.writer,w=d.selection;if(w.isCollapsed)return;const y=w.getSelectedElement();if(!y)return;const C=n.editing.mapper.toViewElement(y);Fn(C)&&f.consumable.consume(w,"selection")&&g.setSelection(g.createRangeOn(C),{fake:!0,label:Jce(C)})}),this.editor.editing.downcastDispatcher.on("selection",(l,d,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const g=f.writer,w=g.document.selection;let y=null;for(const C of w.getRanges())for(const x of C){const R=x.item;Fn(R)&&!gle(R,y)&&(g.addClass(oB,R),this._previouslySelected.add(R),y=R)}},{priority:"low"}),i.addObserver(Hw),this.listenTo(s,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(s,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[Fn,"$text"]}),this.listenTo(s,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(s,"arrowKey",dle(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(l,d)=>{this._handleDelete(d.direction=="forward")&&(d.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(n,i){const s=this.editor,l=s.editing.view,d=l.document;let f=i.target;if(mle(f)){if((A.isSafari||A.isGecko)&&i.domEvent.detail>=3){const w=s.editing.mapper,y=f.is("attributeElement")?f.findAncestor(x=>!x.is("attributeElement")):f,C=w.toModelElement(y);i.preventDefault(),this.editor.model.change(x=>{x.setSelection(C,"in")})}return}if(!Fn(f)&&(f=f.findAncestor(Fn),!f))return;A.isAndroid&&i.preventDefault(),d.isFocused||l.focus();const g=s.editing.mapper.toModelElement(f);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(n,i){const s=i.keyCode,l=this.editor.model,d=l.schema,f=l.document.selection,g=f.getSelectedElement(),w=mC(s,this.editor.locale.contentLanguageDirection),y=w=="down"||w=="right",C=w=="up"||w=="down";if(g&&d.isObject(g)){const R=y?f.getLastPosition():f.getFirstPosition(),j=d.getNearestSelectionRange(R,y?"forward":"backward");j&&(l.change(H=>{H.setSelection(j)}),i.preventDefault(),n.stop());return}if(!f.isCollapsed&&!i.shiftKey){const R=f.getFirstPosition(),j=f.getLastPosition(),H=R.nodeAfter,Z=j.nodeBefore;(H&&d.isObject(H)||Z&&d.isObject(Z))&&(l.change(de=>{de.setSelection(y?j:R)}),i.preventDefault(),n.stop());return}if(!f.isCollapsed)return;const x=this._getObjectElementNextToSelection(y);if(x&&d.isObject(x)){if(d.isInline(x)&&C)return;this._setSelectionOverElement(x),i.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,i){const s=this.editor.model,l=s.schema,d=s.document.selection.getSelectedElement();d&&l.isObject(d)&&(i.preventDefault(),n.stop())}_handleDelete(n){if(this.editor.isReadOnly)return;const s=this.editor.model.document.selection;if(!s.isCollapsed)return;const l=this._getObjectElementNextToSelection(n);if(l)return this.editor.model.change(d=>{let f=s.anchor.parent;for(;f.isEmpty;){const g=f;f=g.parent,d.remove(g)}this._setSelectionOverElement(l)}),!0}_setSelectionOverElement(n){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(n))})}_getObjectElementNextToSelection(n){const i=this.editor.model,s=i.schema,l=i.document.selection,d=i.createSelection(l);if(i.modifySelection(d,{direction:n?"forward":"backward"}),d.isEqual(l))return null;const f=n?d.focus.nodeBefore:d.focus.nodeAfter;return f&&s.isObject(f)?f:null}_clearPreviouslySelectedWidgets(n){for(const i of this._previouslySelected)n.removeClass(oB,i);this._previouslySelected.clear()}}function mle(c){let n=c;for(;n;){if(n.is("editableElement")&&!n.is("rootElement"))return!0;if(Fn(n))return!1;n=n.parent}return!1}function gle(c,n){return n?Array.from(c.getAncestors()).includes(n):!1}class rk extends ge{static get requires(){return[Gw]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const i=n.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{ble(n.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:i,items:s,getRelatedElement:l,balloonClassName:d="ck-toolbar-container"}){if(!s.length){ee("widget-toolbar-no-items",{toolbarId:n});return}const f=this.editor,g=f.t,w=new u1(f.locale);if(w.ariaLabel=i||g("Widget toolbar"),this._toolbarDefinitions.has(n))throw new S("widget-toolbar-duplicated",this,{toolbarId:n});const y={view:w,getRelatedElement:l,balloonClassName:d,itemsConfig:s,initialized:!1};f.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const C=l(f.editing.view.document.selection);C&&this._showToolbar(y,C)},afterBlur:()=>{this._hideToolbar(y)}}),this._toolbarDefinitions.set(n,y)}_updateToolbarsVisibility(){let n=0,i=null,s=null;for(const l of this._toolbarDefinitions.values()){const d=l.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!d)this._isToolbarInBalloon(l)&&this._hideToolbar(l);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(l)&&this._hideToolbar(l);else{const f=d.getAncestors().length;f>n&&(n=f,i=d,s=l)}}s&&this._showToolbar(s,i)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,i){this._isToolbarVisible(n)?mB(this.editor,i):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:gB(this.editor,i),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const l=s.getRelatedElement(this.editor.editing.view.document.selection);mB(this.editor,l)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function mB(c,n){const i=c.plugins.get("ContextualBalloon"),s=gB(c,n);i.updatePosition(s)}function gB(c,n){const i=c.editing.view,s=_i.defaultPositions;return{target:i.domConverter.mapViewToDom(n),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}function ble(c){const n=c.getSelectedElement();return!!(n&&Fn(n))}class wle extends Pe(){constructor(n){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=n,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(n,i,s){const l=new dn(i);this.activeHandlePosition=_le(n),this._referenceCoordinates=vle(i,Ale(this.activeHandlePosition)),this._originalWidth=l.width,this._originalHeight=l.height,this._aspectRatio=l.width/l.height;const d=s.style.width;d&&d.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(d):this._originalWidthPercents=kle(s,l)}update(n){this.proposedWidth=n.width,this.proposedHeight=n.height,this.proposedWidthPercents=n.widthPercents,this.proposedHandleHostWidth=n.handleHostWidth,this.proposedHandleHostHeight=n.handleHostHeight}}function kle(c,n){const i=c.parentElement,s=parseFloat(i.ownerDocument.defaultView.getComputedStyle(i).width);return n.width/s*100}function vle(c,n){const i=new dn(c),s=n.split("-"),l={x:s[1]=="right"?i.right:i.left,y:s[0]=="bottom"?i.bottom:i.top};return l.x+=c.ownerDocument.defaultView.scrollX,l.y+=c.ownerDocument.defaultView.scrollY,l}function yle(c){return`ck-widget__resizer__handle-${c}`}function _le(c){const n=["top-left","top-right","bottom-right","bottom-left"];for(const i of n)if(c.classList.contains(yle(i)))return i}function Ale(c){const n=c.split("-"),i={top:"bottom",bottom:"top",left:"right",right:"left"};return`${i[n[0]]}-${i[n[1]]}`}class Cle extends Tt{constructor(){super();const n=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",n.to("_viewPosition",i=>i?`ck-orientation-${i}`:"")],style:{display:n.if("_isVisible","none",i=>!i)}},children:[{text:n.to("_label")}]})}_bindToState(n,i){this.bind("_isVisible").to(i,"proposedWidth",i,"proposedHeight",(s,l)=>s!==null&&l!==null),this.bind("_label").to(i,"proposedHandleHostWidth",i,"proposedHandleHostHeight",i,"proposedWidthPercents",(s,l,d)=>n.unit==="px"?`${s}${l}`:`${d}%`),this.bind("_viewPosition").to(i,"activeHandlePosition",i,"proposedHandleHostWidth",i,"proposedHandleHostHeight",(s,l,d)=>l<50||d<50?"above-center":s)}_dismiss(){this.unbind(),this._isVisible=!1}}class bB extends Pe(){constructor(n){super(),this._options=n,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(i,s)=>i&&s),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",i=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),i.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(i=>{i.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(i=>{i.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const n=this,i=this._options.viewElement;this._options.editor.editing.view.change(l=>{const d=l.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(f){const g=this.toDomElement(f);return n._appendHandles(g),n._appendSizeUI(g),g});l.insert(l.createPositionAt(i,"end"),d),l.addClass("ck-widget_with-resizer",i),this._viewResizerWrapper=d,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(n){this._state=new wle(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(n,this._getHandleHost(),this._getResizeHost())}updateSize(n){const i=this._proposeNewSize(n);this._options.editor.editing.view.change(y=>{const C=this._options.unit||"%",x=(C==="%"?i.widthPercents:i.width)+C;y.setStyle("width",x,this._options.viewElement)});const l=this._getHandleHost(),d=new dn(l),f=Math.round(d.width),g=Math.round(d.height),w=new dn(l);i.width=Math.round(w.width),i.height=Math.round(w.height),this.redraw(d),this.state.update({...i,handleHostWidth:f,handleHostHeight:g})}commit(){const n=this._options.unit||"%",i=(n==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+n;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(i)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(n){const i=this._domResizerWrapper;if(!Sle(i))return;const s=i.parentElement,l=this._getHandleHost(),d=this._viewResizerWrapper,f=[d.getStyle("width"),d.getStyle("height"),d.getStyle("left"),d.getStyle("top")];let g;if(s.isSameNode(l)){const w=n||new dn(l);g=[w.width+"px",w.height+"px",void 0,void 0]}else g=[l.offsetWidth+"px",l.offsetHeight+"px",l.offsetLeft+"px",l.offsetTop+"px"];Tn(f,g)!=="same"&&this._options.editor.editing.view.change(w=>{w.setStyle({width:g[0],height:g[1],left:g[2],top:g[3]},d)})}containsHandle(n){return this._domResizerWrapper.contains(n)}static isResizeHandle(n){return n.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(i=>{i.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(n){const i=this.state,s=xle(n),l=this._options.isCentered?this._options.isCentered(this):!0,d={x:i._referenceCoordinates.x-(s.x+i.originalWidth),y:s.y-i.originalHeight-i._referenceCoordinates.y};l&&i.activeHandlePosition.endsWith("-right")&&(d.x=s.x-(i._referenceCoordinates.x+i.originalWidth)),l&&(d.x*=2);let f=Math.abs(i.originalWidth+d.x),g=Math.abs(i.originalHeight+d.y);return(f/i.aspectRatio>g?"width":"height")=="width"?g=f/i.aspectRatio:f=g*i.aspectRatio,{width:Math.round(f),height:Math.round(g),widthPercents:Math.min(Math.round(i.originalWidthPercents/i.originalWidth*f*100)/100,100)}}_getResizeHost(){const n=this._domResizerWrapper.parentElement;return this._options.getResizeHost(n)}_getHandleHost(){const n=this._domResizerWrapper.parentElement;return this._options.getHandleHost(n)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(n){const i=["top-left","top-right","bottom-right","bottom-left"];for(const s of i)n.appendChild(new Vi({tag:"div",attributes:{class:`ck-widget__resizer__handle ${Ele(s)}`}}).render())}_appendSizeUI(n){this._sizeView=new Cle,this._sizeView.render(),n.appendChild(this._sizeView.element)}}function Ele(c){return`ck-widget__resizer__handle-${c}`}function xle(c){return{x:c.pageX,y:c.pageY}}function Sle(c){return c&&c.ownerDocument&&c.ownerDocument.contains(c)}var Tle="Expected a function";function Ile(c,n,i){var s=!0,l=!0;if(typeof c!="function")throw new TypeError(Tle);return _e(i)&&(s="leading"in i?!!i.leading:s,l="trailing"in i?!!i.trailing:l),gp(c,n,{leading:s,maxWait:n,trailing:l})}const wB=Ile;var kB=a(2263),tE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tE.insert="head",tE.singleton=!0,at()(kB.Z,tE),kB.Z.locals;class nE extends ge{static get pluginName(){return"WidgetResize"}init(){const n=this.editor.editing,i=St.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),this._resizers=new Map,n.view.addObserver(Hw),this._observer=new(uc()),this.listenTo(n.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(i,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(i,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=wB(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[l,d]of this._resizers)l.isAttached()||(this._resizers.delete(l),d.destroy())},{priority:"lowest"}),this._observer.listenTo(St.window,"resize",this._redrawSelectedResizerThrottled);const s=this.editor.editing.view.document.selection;s.on("change",()=>{const l=s.getSelectedElement(),d=this.getResizerByViewElement(l)||null;d?this.select(d):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const n of this._resizers.values())n.destroy();this._redrawSelectedResizerThrottled.cancel()}select(n){this.deselect(),this.selectedResizer=n,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(n){const i=new bB(n),s=this.editor.plugins;if(i.attach(),s.has("WidgetToolbarRepository")){const f=s.get("WidgetToolbarRepository");i.on("begin",()=>{f.forceDisabled("resize")},{priority:"lowest"}),i.on("cancel",()=>{f.clearForceDisabled("resize")},{priority:"highest"}),i.on("commit",()=>{f.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(n.viewElement,i);const d=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(d)==i&&this.select(i),i}getResizerByViewElement(n){return this._resizers.get(n)}_getResizerByHandle(n){for(const i of this._resizers.values())if(i.containsHandle(n))return i}_mouseDownListener(n,i){const s=i.domTarget;bB.isResizeHandle(s)&&(this._activeResizer=this._getResizerByHandle(s)||null,this._activeResizer&&(this._activeResizer.begin(s),n.stop(),i.preventDefault()))}_mouseMoveListener(n,i){this._activeResizer&&this._activeResizer.updateSize(i)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}var vB=a(390),rE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rE.insert="head",rE.singleton=!0,at()(vB.Z,rE),vB.Z.locals;class Dle extends ge{static get pluginName(){return"DragDrop"}static get requires(){return[Ts,Dp]}init(){const n=this.editor,i=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=wB(s=>this._updateDropMarker(s),40),this._removeDropMarkerDelayed=AB(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=AB(()=>this._clearDraggableAttributes(),40),i.addObserver(Q1),i.addObserver(Hw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(s,l,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,l,d)=>{d||this._finalizeDragging(!1)}),A.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,i=n.model,s=i.document,l=n.editing.view,d=l.document;this.listenTo(d,"dragstart",(f,g)=>{const w=s.selection;if(g.target&&g.target.is("editableElement")){g.preventDefault();return}const y=g.target?CB(g.target):null;if(y){const R=n.editing.mapper.toModelElement(y);this._draggedRange=es.fromRange(i.createRangeOn(R)),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!d.selection.isCollapsed){const R=d.selection.getSelectedElement();(!R||!Fn(R))&&(this._draggedRange=es.fromRange(w.getFirstRange()))}if(!this._draggedRange){g.preventDefault();return}this._draggingUid=pe(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const C=i.createSelection(this._draggedRange.toRange()),x=n.data.toView(i.getSelectedContent(C));d.fire("clipboardOutput",{dataTransfer:g.dataTransfer,content:x,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(d,"dragend",(f,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(d,"dragenter",()=>{this.isEnabled&&l.focus()}),this.listenTo(d,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(d,"dragging",(f,g)=>{if(!this.isEnabled){g.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const w=yB(n,g.targetRanges,g.target);this._draggedRange||(g.dataTransfer.dropEffect="copy"),A.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),w&&this._updateDropMarkerThrottled(w)},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"clipboardInput",(l,d)=>{if(d.method!="drop")return;const f=yB(n,d.targetRanges,d.target);if(this._removeDropMarker(),!f){this._finalizeDragging(!1),l.stop();return}if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),_B(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(f,!0)){this._finalizeDragging(!1),l.stop();return}d.targetRanges=[n.editing.mapper.toViewRange(f)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(Ts);n.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=s.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(l))},{priority:"high"}),n.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=_B(s.dataTransfer)=="move",d=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(d&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,i=n.editing.view,s=i.document;this.listenTo(s,"mousedown",(l,d)=>{if(A.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let f=CB(d.target);if(A.isBlink&&!n.isReadOnly&&!f&&!s.selection.isCollapsed){const g=s.selection.getSelectedElement();(!g||!Fn(g))&&(f=s.selection.editableElement)}f&&(i.change(g=>{g.setAttribute("draggable","true",f)}),this._draggableElement=n.editing.mapper.toModelElement(f))}),this.listenTo(s,"mouseup",()=>{A.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const n=this.editor;n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(n.model.schema.checkChild(i.markerRange.start,"$text"))return s.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const f=this.toDomElement(d);return f.append("",d.createElement("span"),""),f})}})}_updateDropMarker(n){const i=this.editor,s=i.model.markers;i.model.change(l=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(n)||l.updateMarker("drop-target",{range:n}):l.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const n=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),n.markers.has("drop-target")&&n.change(i=>{i.removeMarker("drop-target")})}_finalizeDragging(n){const i=this.editor,s=i.model;this._removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(n&&this.isEnabled&&s.deleteContent(s.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function yB(c,n,i){const s=c.model,l=c.editing.mapper;let d=null;const f=n?n[0].start:null;if(i.is("uiElement")&&(i=i.parent),d=Ple(c,i),d)return d;const g=Ole(c,i),w=f?l.toModelPosition(f):null;return w?(d=Nle(c,w,g),d||(d=s.schema.getNearestSelectionRange(w,A.isGecko?"forward":"backward"),d)?d:Rle(c,w.parent)):Mle(c,g)}function Ple(c,n){const i=c.model,s=c.editing.mapper;if(Fn(n))return i.createRangeOn(s.toModelElement(n));if(!n.is("editableElement")){const l=n.findAncestor(d=>Fn(d)||d.is("editableElement"));if(Fn(l))return i.createRangeOn(s.toModelElement(l))}return null}function Mle(c,n){const i=c.model,s=i.schema,l=i.createPositionAt(n,0);return s.getNearestSelectionRange(l,"forward")}function Nle(c,n,i){const s=c.model;if(!s.schema.checkChild(i,"$block"))return null;const l=s.createPositionAt(i,0),d=n.path.slice(0,l.path.length),g=s.createPositionFromPath(n.root,d).nodeAfter;return g&&s.schema.isObject(g)?s.createRangeOn(g):null}function Rle(c,n){const i=c.model;let s=n;for(;s;){if(i.schema.isObject(s))return i.createRangeOn(s);s=s.parent}return null}function Ole(c,n){const i=c.editing.mapper,s=c.editing.view,l=i.toModelElement(n);if(l)return l;const d=s.createPositionBefore(n),f=i.findMappedViewAncestor(d);return i.toModelElement(f)}function _B(c){return A.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function AB(c,n){let i;function s(...l){s.cancel(),i=setTimeout(()=>c(...l),n)}return s.cancel=()=>{clearTimeout(i)},s}function CB(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(Fn);if(Fn(c))return c;const n=c.findAncestor(i=>Fn(i)||i.is("editableElement"));return Fn(n)?n:null}class Lle extends ge{static get pluginName(){return"PastePlainText"}static get requires(){return[Ts]}init(){const n=this.editor,i=n.model,s=n.editing.view,l=s.document,d=i.document.selection;let f=!1;s.addObserver(Q1),this.listenTo(l,"keydown",(g,w)=>{f=w.shiftKey}),n.plugins.get(Ts).on("contentInsertion",(g,w)=>{!f&&!Ble(w.content,i.schema)||i.change(y=>{const C=Array.from(d.getAttributes()).filter(([R])=>i.schema.getAttributeProperties(R).isFormatting);d.isCollapsed||i.deleteContent(d,{doNotAutoparagraph:!0}),C.push(...d.getAttributes());const x=y.createRangeIn(w.content);for(const R of x.getItems())R.is("$textProxy")&&y.setAttributes(C,R)})})}}function Ble(c,n){if(c.childCount>1)return!1;const i=c.getChild(0);return n.isObject(i)?!1:Array.from(i.getAttributeKeys()).length==0}class EB extends ge{static get pluginName(){return"Clipboard"}static get requires(){return[Ts,Dle,Lle]}}class zle extends vt{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,i=n.document.selection;let s=n.schema.getLimitElement(i);if(i.containsEntireContent(s)||!xB(n.schema,s))do if(s=s.parent,!s)return;while(!xB(n.schema,s));n.change(l=>{l.setSelection(s,"in")})}}function xB(c,n){return c.isLimit(n)&&(c.checkChild(n,"$text")||c.checkChild(n,"paragraph"))}const Fle=pC("Ctrl+A");class jle extends ge{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,s=n.editing.view.document;n.commands.add("selectAll",new zle(n)),this.listenTo(s,"keydown",(l,d)=>{Rd(d)===Fle&&(n.execute("selectAll"),d.preventDefault())})}}const Vle='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class Ule extends ge{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",i=>{const s=n.commands.get("selectAll"),l=new Kt(i),d=i.t;return l.set({label:d("Select all"),icon:Vle,keystroke:"Ctrl+A",tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",()=>{n.execute("selectAll"),n.editing.view.focus()}),l})}}class $le extends ge{static get requires(){return[jle,Ule]}static get pluginName(){return"SelectAll"}}class SB extends vt{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(n.data,"set",(i,s)=>{s[1]={...s[1]};const l=s[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(n){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:n,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,i,s){const l=this.editor.model,d=l.document,f=[],g=n.map(y=>y.getTransformedByOperations(s)),w=g.flat();for(const y of g){const C=y.filter(x=>x.root!=d.graveyard).filter(x=>!qle(x,w));C.length&&(Hle(C),f.push(C[0]))}f.length&&l.change(y=>{y.setSelection(f,{backward:i})})}_undo(n,i){const s=this.editor.model,l=s.document;this._createdBatches.add(i);const d=n.operations.slice().filter(f=>f.isDocumentOperation);d.reverse();for(const f of d){const g=f.baseVersion+1,w=Array.from(l.history.getOperations(g)),C=Roe([f.getReversed()],w,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const x of C)i.addOperation(x),s.applyOperation(x),l.history.setOperationAsUndone(f,x)}}}function Hle(c){c.sort((n,i)=>n.start.isBefore(i.start)?-1:1);for(let n=1;n<c.length;n++){const s=c[n-1].getJoined(c[n],!0);s&&(n--,c.splice(n,2,s))}}function qle(c,n){return n.some(i=>i!==c&&i.containsRange(c,!0))}class Wle extends SB{execute(n=null){const i=n?this._stack.findIndex(d=>d.batch==n):this._stack.length-1,s=this._stack.splice(i,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(s.batch,l);const d=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,d),this.fire("revert",s.batch,l)}),this.refresh()}}class Gle extends SB{execute(){const n=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const l=n.batch.operations[n.batch.operations.length-1].baseVersion+1,d=this.editor.model.document.history.getOperations(l);this._restoreSelection(n.selection.ranges,n.selection.isBackward,d),this._undo(n.batch,i)}),this.refresh()}}class Kle extends ge{static get pluginName(){return"UndoEditing"}constructor(n){super(n),this._batchRegistry=new WeakSet}init(){const n=this.editor;this._undoCommand=new Wle(n),this._redoCommand=new Gle(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(i,s)=>{const l=s[0];if(!l.isDocumentOperation)return;const d=l.batch,f=this._redoCommand._createdBatches.has(d),g=this._undoCommand._createdBatches.has(d);this._batchRegistry.has(d)||(this._batchRegistry.add(d),d.isUndoable&&(f?this._undoCommand.addBatch(d):g||(this._undoCommand.addBatch(d),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,s,l)=>{this._redoCommand.addBatch(l)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo")}}const TB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',IB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Yle extends ge{static get pluginName(){return"UndoUI"}init(){const n=this.editor,i=n.locale,s=n.t,l=i.uiLanguageDirection=="ltr"?TB:IB,d=i.uiLanguageDirection=="ltr"?IB:TB;this._addButton("undo",s("Undo"),"CTRL+Z",l),this._addButton("redo",s("Redo"),"CTRL+Y",d)}_addButton(n,i,s,l){const d=this.editor;d.ui.componentFactory.add(n,f=>{const g=d.commands.get(n),w=new Kt(f);return w.set({label:i,icon:l,keystroke:s,tooltip:!0}),w.bind("isEnabled").to(g,"isEnabled"),this.listenTo(w,"execute",()=>{d.execute(n),d.editing.view.focus()}),w})}}class DB extends ge{static get requires(){return[Kle,Yle]}static get pluginName(){return"Undo"}}class Qle extends ge{static get requires(){return[EB,Xw,$le,B5,kae,DB]}static get pluginName(){return"Essentials"}}class PB extends vt{constructor(n,i){super(n),this.attributeKey=i}refresh(){const n=this.editor.model,i=n.document;this.value=i.selection.getAttribute(this.attributeKey),this.isEnabled=n.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(n={}){const i=this.editor.model,l=i.document.selection,d=n.value;i.change(f=>{if(l.isCollapsed)d?f.setSelectionAttribute(this.attributeKey,d):f.removeSelectionAttribute(this.attributeKey);else{const g=i.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const w of g)d?f.setAttribute(this.attributeKey,d,w):f.removeAttribute(this.attributeKey,w)}})}}class MB extends yi{constructor(n){super(n),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(n,i){this.find(s=>s.color===n.color)||super.add(n,i)}hasColor(n){return!!this.find(i=>i.color===n)}}ae(MB,Pe);var NB=a(2585),iE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};iE.insert="head",iE.singleton=!0,at()(NB.Z,iE),NB.Z.locals;class Zle extends Tt{constructor(n,{colors:i,columns:s,removeButtonLabel:l,documentColorsLabel:d,documentColorsCount:f}){super(n),this.items=this.createCollection(),this.colorDefinitions=i,this.focusTracker=new ji,this.keystrokes=new Ao,this.set("selectedColor"),this.removeButtonLabel=l,this.columns=s,this.documentColors=new MB,this.documentColorsCount=f,this._focusables=new da,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._documentColorsLabel=d,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._createRemoveColorButton())}updateDocumentColors(n,i){const s=n.document,l=this.documentColorsCount;this.documentColors.clear();for(const d of s.getRootNames()){const f=s.getRoot(d),g=n.createRangeIn(f);for(const w of g.getItems())if(w.is("$textProxy")&&w.hasAttribute(i)&&(this._addColorToDocumentColors(w.getAttribute(i)),this.documentColors.length>=l))return}}updateSelectedColors(){const n=this.documentColorsGrid,i=this.staticColorsGrid,s=this.selectedColor;i.selectedColor=s,n&&(n.selectedColor=s)}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid),this.documentColorsCount)){const n=Vi.bind(this.documentColors,this.documentColors),i=new _1(this.locale);i.text=this._documentColorsLabel,i.extendTemplate({attributes:{class:["ck","ck-color-grid__label",n.if("isEmpty","ck-hidden")]}}),this.items.add(i),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid),this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_createRemoveColorButton(){const n=new Kt;return n.set({withText:!0,icon:mn.eraser,label:this.removeButtonLabel}),n.class="ck-color-table__remove-color",n.on("execute",()=>{this.fire("execute",{value:null})}),n.render(),this.focusTracker.add(n.element),this._focusables.add(n),n}_createStaticColorsGrid(){const n=new jR(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return n.delegate("execute").to(this),n}_createDocumentColorsGrid(){const n=Vi.bind(this.documentColors,this.documentColors),i=new jR(this.locale,{columns:this.columns});return i.delegate("execute").to(this),i.extendTemplate({attributes:{class:n.if("isEmpty","ck-hidden")}}),i.items.bindTo(this.documentColors).using(s=>{const l=new zR;return l.set({color:s.color,hasBorder:s.options&&s.options.hasBorder}),s.label&&l.set({label:s.label,tooltip:!0}),l.on("execute",()=>{this.fire("execute",{value:s.color})}),l}),this.documentColors.on("change:isEmpty",(s,l,d)=>{d&&(i.selectedColor=null)}),i}_addColorToDocumentColors(n){const i=this.colorDefinitions.find(s=>s.color===n);i?this.documentColors.add(Object.assign({},i)):this.documentColors.add({color:n,label:n,options:{hasBorder:!1}})}}const so="fontSize",Is="fontColor";function Jle(c,n){const i={model:{key:c,values:[]},view:{},upcastAlso:{}};for(const s of n)i.model.values.push(s.model),i.view[s.model]=s.view,s.upcastAlso&&(i.upcastAlso[s.model]=s.upcastAlso);return i}function Xle(c){return n=>nue(n.getStyle(c))}function eue(c){return(n,{writer:i})=>i.createAttributeElement("span",{style:`${c}:${n}`},{priority:7})}function tue({dropdownView:c,colors:n,columns:i,removeButtonLabel:s,documentColorsLabel:l,documentColorsCount:d}){const f=c.locale,g=new Zle(f,{colors:n,columns:i,removeButtonLabel:s,documentColorsLabel:l,documentColorsCount:d});return c.colorTableView=g,c.panelView.children.add(g),g.delegate("execute").to(c,"execute"),g}function nue(c){return c.replace(/\s/g,"")}class rue extends PB{constructor(n){super(n,Is)}}class iue extends ge{static get pluginName(){return"FontColorEditing"}constructor(n){super(n),n.config.define(Is,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),n.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Is,value:Xle("color")}}),n.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Is,value:i=>i.getAttribute("color")}}),n.conversion.for("downcast").attributeToElement({model:Is,view:eue("color")}),n.commands.add(Is,new rue(n)),n.model.schema.extend("$text",{allowAttributes:Is}),n.model.schema.setAttributeProperties(Is,{isFormatting:!0,copyOnEnter:!0})}}class oue extends ge{constructor(n,{commandName:i,icon:s,componentName:l,dropdownLabel:d}){super(n),this.commandName=i,this.componentName=l,this.icon=s,this.dropdownLabel=d,this.columns=n.config.get(`${this.componentName}.columns`),this.colorTableView=void 0}init(){const n=this.editor,i=n.locale,s=i.t,l=n.commands.get(this.commandName),d=_ee(n.config.get(this.componentName).colors),f=yee(i,d),g=n.config.get(`${this.componentName}.documentColors`);n.ui.componentFactory.add(this.componentName,w=>{const y=xo(w);return this.colorTableView=tue({dropdownView:y,colors:f.map(C=>({label:C.label,color:C.model,options:{hasBorder:C.hasBorder}})),columns:this.columns,removeButtonLabel:s("Remove color"),documentColorsLabel:g!==0?s("Document colors"):void 0,documentColorsCount:g===void 0?this.columns:g}),this.colorTableView.bind("selectedColor").to(l,"value"),y.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),y.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),y.bind("isEnabled").to(l),y.on("execute",(C,x)=>{n.execute(this.commandName,x),n.editing.view.focus()}),y.on("change:isOpen",(C,x,R)=>{y.colorTableView.appendGrids(),R&&(g!==0&&this.colorTableView.updateDocumentColors(n.model,this.componentName),this.colorTableView.updateSelectedColors())}),m1(y,()=>y.colorTableView.staticColorsGrid.items.find(C=>C.isOn)),y})}}const sue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class aue extends oue{constructor(n){const i=n.locale.t;super(n,{commandName:Is,componentName:Is,icon:sue,dropdownLabel:i("Font Color")})}static get pluginName(){return"FontColorUI"}}class cue extends ge{static get requires(){return[iue,aue]}static get pluginName(){return"FontColor"}}class lue extends PB{constructor(n){super(n,so)}}function oE(c){return c.map(n=>uue(n)).filter(n=>!!n)}const RB={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function uue(c){if(fue(c))return sE(c);const n=hue(c);if(n)return sE(n);if(c==="default")return{model:void 0,title:"Default"};if(!pue(c))return due(c)}function due(c){return(typeof c=="number"||typeof c=="string")&&(c={title:String(c),model:`${parseFloat(c)}px`}),c.view={name:"span",styles:{"font-size":c.model}},sE(c)}function sE(c){return c.view.priority||(c.view.priority=7),c}function hue(c){return RB[c]||RB[c.model]}function fue(c){return typeof c=="object"&&c.title&&c.model&&c.view}function pue(c){let n;if(typeof c=="object")if(c.model)n=parseFloat(c.model);else throw new S("font-size-invalid-definition",null,c);else n=parseFloat(c);return isNaN(n)}const OB=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class mue extends ge{static get pluginName(){return"FontSizeEditing"}constructor(n){super(n),n.config.define(so,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:so}),n.model.schema.setAttributeProperties(so,{isFormatting:!0,copyOnEnter:!0});const i=n.config.get("fontSize.supportAllValues"),s=oE(this.editor.config.get("fontSize.options")).filter(d=>d.model),l=Jle(so,s);i?(this._prepareAnyValueConverters(l),this._prepareCompatibilityConverter()):n.conversion.attributeToElement(l),n.commands.add(so,new lue(n))}_prepareAnyValueConverters(n){const i=this.editor,s=n.model.values.filter(l=>!Tse(String(l))&&!Dse(String(l)));if(s.length)throw new S("font-size-invalid-use-of-named-presets",null,{presets:s});i.conversion.for("downcast").attributeToElement({model:so,view:(l,{writer:d})=>{if(l)return d.createAttributeElement("span",{style:"font-size:"+l},{priority:7})}}),i.conversion.for("upcast").elementToAttribute({model:{key:so,value:l=>l.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:so,value:i=>{const s=i.getAttribute("size"),l=s[0]==="-"||s[0]==="+";let d=parseInt(s,10);l&&(d=3+d);const f=OB.length-1,g=Math.min(Math.max(d,0),f);return OB[g]}}})}}const gue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';var LB=a(6203),aE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};aE.insert="head",aE.singleton=!0,at()(LB.Z,aE),LB.Z.locals;class bue extends ge{static get pluginName(){return"FontSizeUI"}init(){const n=this.editor,i=n.t,s=this._getLocalizedOptions(),l=n.commands.get(so);n.ui.componentFactory.add(so,d=>{const f=xo(d);return xp(f,()=>wue(s,l)),f.buttonView.set({label:i("Font Size"),icon:gue,tooltip:!0}),f.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),f.bind("isEnabled").to(l),this.listenTo(f,"execute",g=>{n.execute(g.source.commandName,{value:g.source.commandParam}),n.editing.view.focus()}),f})}_getLocalizedOptions(){const n=this.editor,i=n.t,s={Default:i("Default"),Tiny:i("Tiny"),Small:i("Small"),Big:i("Big"),Huge:i("Huge")};return oE(n.config.get(so).options).map(d=>{const f=s[d.title];return f&&f!=d.title&&(d=Object.assign({},d,{title:f})),d})}}function wue(c,n){const i=new yi;for(const s of c){const l={type:"button",model:new Sp({commandName:so,commandParam:s.model,label:s.title,class:"ck-fontsize-option",withText:!0})};s.view&&s.view.styles&&l.model.set("labelStyle",`font-size:${s.view.styles["font-size"]}`),s.view&&s.view.classes&&l.model.set("class",`${l.model.class} ${s.view.classes}`),l.model.bind("isOn").to(n,"value",d=>d===s.model),i.add(l)}return i}class kue extends ge{static get requires(){return[mue,bue]}static get pluginName(){return"FontSize"}normalizeSizeOptions(n){return oE(n)}}class vue extends vt{refresh(){const n=this.editor.model,i=n.document,s=zn(i.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&BB(s,n.schema)}execute(n={}){const i=this.editor.model,s=i.document;i.change(l=>{const d=(n.selection||s.selection).getSelectedBlocks();for(const f of d)!f.is("element","paragraph")&&BB(f,i.schema)&&l.rename(f,"paragraph")})}}function BB(c,n){return n.checkChild(c.parent,"paragraph")&&!n.isObject(c)}class yue extends vt{execute(n){const i=this.editor.model,s=n.attributes;let l=n.position;i.change(d=>{const f=d.createElement("paragraph");if(s&&i.schema.setAllowedAttributes(f,s,d),!i.schema.checkChild(l.parent,f)){const g=i.schema.findAllowedParent(l,f);if(!g)return;l=d.split(l,g).position}i.insertContent(f,l),d.setSelection(f,"in")})}}class Pp extends ge{static get pluginName(){return"Paragraph"}init(){const n=this.editor,i=n.model;n.commands.add("paragraph",new vue(n)),n.commands.add("insertParagraph",new yue(n)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),n.conversion.elementToElement({model:"paragraph",view:"p"}),n.conversion.for("upcast").elementToElement({model:(s,{writer:l})=>!Pp.paragraphLikeElements.has(s.name)||s.isEmpty?null:l.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Pp.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class _ue extends vt{constructor(n,i){super(n),this.modelElements=i}refresh(){const n=zn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(i=>zB(n,i,this.editor.model.schema))}execute(n){const i=this.editor.model,s=i.document,l=n.value;i.change(d=>{const f=Array.from(s.selection.getSelectedBlocks()).filter(g=>zB(g,l,i.schema));for(const g of f)g.is("element",l)||d.rename(g,l)})}}function zB(c,n,i){return i.checkChild(c.parent,n)&&!i.isObject(c)}const FB="paragraph";class Aue extends ge{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Pp]}init(){const n=this.editor,i=n.config.get("heading.options"),s=[];for(const l of i)l.model!=="paragraph"&&(n.model.schema.register(l.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(l),s.push(l.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new _ue(n,s))}afterInit(){const n=this.editor,i=n.commands.get("enter"),s=n.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(l,d)=>{const f=n.model.document.selection.getFirstPosition().parent;s.some(w=>f.is("element",w.model))&&!f.is("element",FB)&&f.childCount===0&&d.writer.rename(f,FB)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Y.get("low")+1})}}function Cue(c){const n=c.t,i={Paragraph:n("Paragraph"),"Heading 1":n("Heading 1"),"Heading 2":n("Heading 2"),"Heading 3":n("Heading 3"),"Heading 4":n("Heading 4"),"Heading 5":n("Heading 5"),"Heading 6":n("Heading 6")};return c.config.get("heading.options").map(s=>{const l=i[s.title];return l&&l!=s.title&&(s.title=l),s})}var jB=a(3230),cE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};cE.insert="head",cE.singleton=!0,at()(jB.Z,cE),jB.Z.locals;class Eue extends ge{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,i=n.t,s=Cue(n),l=i("Choose heading"),d=i("Heading");n.ui.componentFactory.add("heading",f=>{const g={},w=new yi,y=n.commands.get("heading"),C=n.commands.get("paragraph"),x=[y];for(const j of s){const H={type:"button",model:new Sp({label:j.title,class:j.class,withText:!0})};j.model==="paragraph"?(H.model.bind("isOn").to(C,"value"),H.model.set("commandName","paragraph"),x.push(C)):(H.model.bind("isOn").to(y,"value",Z=>Z===j.model),H.model.set({commandName:"heading",commandValue:j.model})),w.add(H),g[j.model]=j.title}const R=xo(f);return xp(R,w),R.buttonView.set({isOn:!1,withText:!0,tooltip:d}),R.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),R.bind("isEnabled").toMany(x,"isEnabled",(...j)=>j.some(H=>H)),R.buttonView.bind("label").to(y,"value",C,"value",(j,H)=>{const Z=j||H&&"paragraph";return typeof Z=="boolean"||!g[Z]?l:g[Z]}),this.listenTo(R,"execute",j=>{const{commandName:H,commandValue:Z}=j.source;n.execute(H,Z?{value:Z}:void 0),n.editing.view.focus()}),R})}}class xue extends ge{static get requires(){return[Aue,Eue]}static get pluginName(){return"Heading"}}class Sue extends vt{refresh(){const s=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled&&s.hasAttribute("alt")?this.value=s.getAttribute("alt"):this.value=!1}execute(n){const i=this.editor,s=i.plugins.get("ImageUtils"),l=i.model,d=s.getClosestSelectedImageElement(l.document.selection);l.change(f=>{f.setAttribute("alt",n.newValue,d)})}}function Tue(c){return c.createContainerElement("span",{class:"image-inline"},c.createEmptyElement("img"))}function VB(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot()])}function UB(c,n){const i=c.plugins.get("ImageUtils"),s=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return d=>i.isInlineImageView(d)?s&&(d.getStyle("display")=="block"||d.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==n?null:l(d):null;function l(d){const f={name:!0};return d.hasAttribute("src")&&(f.attributes=["src"]),f}}function lE(c,n){const i=zn(n.getSelectedBlocks());return!i||c.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}class So extends ge{static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},i=null,s=null){const l=this.editor,d=l.model,f=d.document.selection;s=$B(l,i||f,s),n={...Object.fromEntries(f.getAttributes()),...n};for(const g in n)d.schema.checkAttribute(s,g)||delete n[g];return d.change(g=>{const w=g.createElement(s,n);return d.insertObject(w,i,null,{setSelection:"on",findOptimalPosition:!i&&s!="imageInline"}),w.parent?w:null})}getClosestSelectedImageWidget(n){const i=n.getFirstPosition();if(!i)return null;const s=n.getSelectedElement();if(s&&this.isImageWidget(s))return s;let l=i.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(n){const i=n.getSelectedElement();return this.isImage(i)?i:n.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const i=this.editor.model.document.selection;return Iue(this.editor,i)&&Due(i)}toImageWidget(n,i,s){return i.setCustomProperty("image",!0,n),J1(n,i,{label:()=>{const f=this.findViewImgElement(n).getAttribute("alt");return f?`${f} ${s}`:s}})}isImageWidget(n){return!!n.getCustomProperty("image")&&Fn(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(n))if(this.isInlineImageView(s))return s}}function Iue(c,n){if($B(c,n)=="imageBlock"){const s=Pue(n,c.model);if(c.model.schema.checkChild(s,"imageBlock"))return!0}else if(c.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}function Due(c){return[...c.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}function Pue(c,n){const s=cB(c,n).start.parent;return s.isEmpty&&!s.is("element","$root")?s.parent:s}function $B(c,n,i){const s=c.model.schema,l=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?i||(l==="inline"?"imageInline":l==="block"?"imageBlock":n.is("selection")?lE(s,n):s.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Mue extends ge{static get requires(){return[So]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Sue(this.editor))}}var HB=a(6831),uE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};uE.insert="head",uE.singleton=!0,at()(HB.Z,uE),HB.Z.locals;var qB=a(1590),dE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dE.insert="head",dE.singleton=!0,at()(qB.Z,dE),qB.Z.locals;class Nue extends Tt{constructor(n){super(n);const i=this.locale.t;this.focusTracker=new ji,this.keystrokes=new Ao,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),mn.cancel,"ck-button-cancel","cancel"),this._focusables=new da,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),p(this)}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,i,s,l){const d=new Kt(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}_createLabeledInputView(){const n=this.locale.t,i=new x1(this.locale,S1);return i.label=n("Text alternative"),i}}function Rue(c){const n=c.plugins.get("ContextualBalloon");if(c.plugins.get("ImageUtils").getClosestSelectedImageWidget(c.editing.view.document.selection)){const i=WB(c);n.updatePosition(i)}}function WB(c){const n=c.editing.view,i=_i.defaultPositions,s=c.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(n.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Oue extends ge{static get requires(){return[Gw]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,i=n.t;n.ui.componentFactory.add("imageTextAlternative",s=>{const l=n.commands.get("imageTextAlternative"),d=new Kt(s);return d.set({label:i("Change image text alternative"),icon:mn.lowVision,tooltip:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",f=>!!f),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const n=this.editor,s=n.editing.view.document,l=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Nue(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,f)=>{this._hideForm(!0),f()}),this.listenTo(n.ui,"update",()=>{l.getClosestSelectedImageWidget(s.selection)?this._isVisible&&Rue(n):this._hideForm(!0)}),h({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,i=n.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:WB(n)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class GB extends ge{static get requires(){return[Mue,Oue]}static get pluginName(){return"ImageTextAlternative"}}function Lue(c){return i=>{i.on("element:figure",n)};function n(i,s,l){if(!l.consumable.test(s.viewItem,{name:!0,classes:"image"}))return;const d=c.findViewImgElement(s.viewItem);if(!d||!l.consumable.test(d,{name:!0}))return;l.consumable.consume(s.viewItem,{name:!0,classes:"image"});const f=l.convertItem(d,s.modelCursor),g=zn(f.modelRange.getItems());if(!g){l.consumable.revert(s.viewItem,{name:!0,classes:"image"});return}l.convertChildren(s.viewItem,g),l.updateConversionResult(g,s)}}function Bue(c){const n=["srcset","media","type","sizes"];return s=>{s.on("element:picture",i)};function i(s,l,d){const f=l.viewItem;if(!d.consumable.test(f,{name:!0}))return;const g=new Map;for(const C of f.getChildren())if(C.is("element","source")){const x={};for(const R of n)C.hasAttribute(R)&&d.consumable.test(C,{attributes:R})&&(x[R]=C.getAttribute(R));Object.keys(x).length&&g.set(C,x)}const w=c.findViewImgElement(f);if(!w)return;let y=l.modelCursor.parent;if(!y.is("element","imageBlock")){const C=d.convertItem(w,l.modelCursor);l.modelRange=C.modelRange,l.modelCursor=C.modelCursor,y=zn(C.modelRange.getItems())}d.consumable.consume(f,{name:!0});for(const[C,x]of g)d.consumable.consume(C,{attributes:Object.keys(x)});g.size&&d.writer.setAttribute("sources",Array.from(g.values()),y),d.convertChildren(f,y)}}function KB(c,n){return s=>{s.on(`attribute:srcset:${n}`,i)};function i(s,l,d){if(!d.consumable.consume(l.item,s.name))return;const f=d.writer,g=d.mapper.toViewElement(l.item),w=c.findViewImgElement(g);if(l.attributeNewValue===null){const y=l.attributeOldValue;y.data&&(f.removeAttribute("srcset",w),f.removeAttribute("sizes",w),y.width&&f.removeAttribute("width",w))}else{const y=l.attributeNewValue;y.data&&(f.setAttribute("srcset",y.data,w),f.setAttribute("sizes","100vw",w),y.width&&f.setAttribute("width",y.width,w))}}}function zue(c){return i=>{i.on("attribute:sources:imageBlock",n),i.on("attribute:sources:imageInline",n)};function n(i,s,l){if(!l.consumable.consume(s.item,i.name))return;const d=l.writer,f=l.mapper.toViewElement(s.item),g=c.findViewImgElement(f);if(s.attributeNewValue&&s.attributeNewValue.length){const w=d.createContainerElement("picture",null,s.attributeNewValue.map(x=>d.createEmptyElement("source",x))),y=[];let C=g.parent;for(;C&&C.is("attributeElement");){const x=C.parent;d.unwrap(d.createRangeOn(g),C),y.unshift(C),C=x}d.insert(d.createPositionBefore(g),w),d.move(d.createRangeOn(g),d.createPositionAt(w,"end"));for(const x of y)d.wrap(d.createRangeOn(w),x)}else if(g.parent.is("element","picture")){const w=g.parent;d.move(d.createRangeOn(g),d.createPositionBefore(w)),d.remove(w)}}}function ik(c,n,i){return l=>{l.on(`attribute:${i}:${n}`,s)};function s(l,d,f){if(!f.consumable.consume(d.item,l.name))return;const g=f.writer,w=f.mapper.toViewElement(d.item),y=c.findViewImgElement(w);g.setAttribute(d.attributeKey,d.attributeNewValue||"",y)}}class YB extends Es{observe(n){this.listenTo(n,"load",(i,s)=>{const l=s.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}class Fue extends vt{constructor(n){super(n);const i=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||i==="block"&&ee("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||i==="inline"&&ee("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(n){const i=Tr(n.source),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(s.getAttributes());i.forEach((f,g)=>{const w=s.getSelectedElement();if(typeof f=="string"&&(f={src:f}),g&&w&&l.isImage(w)){const y=this.editor.model.createPositionAfter(w);l.insertImage({...f,...d},y)}else l.insertImage({...f,...d})})}}class jue extends vt{refresh(){const i=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=i.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(n){const i=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(s=>{s.setAttribute("src",n.source,i),s.removeAttribute("srcset",i),s.removeAttribute("sizes",i)})}}class hE extends ge{static get requires(){return[So]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,i=n.conversion;n.editing.view.addObserver(YB),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:d=>{const f={data:d.getAttribute("srcset")};return d.hasAttribute("width")&&(f.width=d.getAttribute("width")),f}}});const s=new Fue(n),l=new jue(n);n.commands.add("insertImage",s),n.commands.add("replaceImageSource",l),n.commands.add("imageInsert",s)}}class QB extends vt{constructor(n,i){super(n),this._modelElementName=i}refresh(){const i=this.editor.plugins.get("ImageUtils"),s=i.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=i.isInlineImage(s):this.isEnabled=i.isBlockImage(s)}execute(){const n=this.editor,i=this.editor.model,s=n.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(i.document.selection),d=Object.fromEntries(l.getAttributes());return!d.src&&!d.uploadId?null:i.change(f=>{const g=Array.from(i.markers).filter(C=>C.getRange().containsItem(l)),w=s.insertImage(d,i.createSelection(l,"on"),this._modelElementName);if(!w)return null;const y=f.createRangeOn(w);for(const C of g){const x=C.getRange(),R=x.root.rootName!="$graveyard"?x.getJoined(y,!0):y;f.updateMarker(C,{range:R})}return{oldElement:l,newElement:w}})}}class ZB extends ge{static get requires(){return[hE,So,Ts]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new QB(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,s=n.conversion,l=n.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:f})=>VB(f)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:f})=>l.toImageWidget(VB(f),f,i("image widget"))}),s.for("downcast").add(ik(l,"imageBlock","src")).add(ik(l,"imageBlock","alt")).add(KB(l,"imageBlock")),s.for("upcast").elementToElement({view:UB(n,"imageBlock"),model:(d,{writer:f})=>f.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:null)}).add(Lue(l))}_setupClipboardIntegration(){const n=this.editor,i=n.model,s=n.editing.view,l=n.plugins.get("ImageUtils");this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",(d,f)=>{const g=Array.from(f.content.getChildren());let w;if(!g.every(l.isInlineImageView))return;f.targetRanges?w=n.editing.mapper.toModelRange(f.targetRanges[0]):w=i.document.selection.getFirstRange();const y=i.createSelection(w);if(lE(i.schema,y)==="imageBlock"){const C=new Xl(s.document),x=g.map(R=>C.createElement("figure",{class:"image"},R));f.content=C.createDocumentFragment(x)}})}}var JB=a(9048),fE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};fE.insert="head",fE.singleton=!0,at()(JB.Z,fE),JB.Z.locals;class Vue extends ge{static get requires(){return[ZB,Dp,GB]}static get pluginName(){return"ImageBlock"}}class Uue extends ge{static get requires(){return[hE,So,Ts]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,i=n.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,l)=>{if(s.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new QB(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,i=n.t,s=n.conversion,l=n.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:f})=>f.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:f})=>l.toImageWidget(Tue(f),f,i("image widget"))}),s.for("downcast").add(ik(l,"imageInline","src")).add(ik(l,"imageInline","alt")).add(KB(l,"imageInline")),s.for("upcast").elementToElement({view:UB(n,"imageInline"),model:(d,{writer:f})=>f.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:null)})}_setupClipboardIntegration(){const n=this.editor,i=n.model,s=n.editing.view,l=n.plugins.get("ImageUtils");this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",(d,f)=>{const g=Array.from(f.content.getChildren());let w;if(!g.every(l.isBlockImageView))return;f.targetRanges?w=n.editing.mapper.toModelRange(f.targetRanges[0]):w=i.document.selection.getFirstRange();const y=i.createSelection(w);if(lE(i.schema,y)==="imageInline"){const C=new Xl(s.document),x=g.map(R=>R.childCount===1?(Array.from(R.getAttributes()).forEach(j=>C.setAttribute(...j,l.findViewImgElement(R))),R.getChild(0)):R);f.content=C.createDocumentFragment(x)}})}}class $ue extends ge{static get requires(){return[Uue,Dp,GB]}static get pluginName(){return"ImageInline"}}class Hue extends ge{static get requires(){return[Vue,$ue]}static get pluginName(){return"Image"}}class que extends vt{refresh(){const n=this.editor,i=n.plugins.get("ImageCaptionUtils");if(!n.plugins.has(ZB)){this.isEnabled=!1,this.value=!1;return}const s=n.model.document.selection,l=s.getSelectedElement();if(!l){const d=i.getCaptionFromModelSelection(s);this.isEnabled=!!d,this.value=!!d;return}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(l),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(l):this.value=!1}execute(n={}){const{focusCaptionOnShow:i}=n;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(n,i){const l=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing");let f=l.getSelectedElement();const g=d._getSavedCaption(f);this.editor.plugins.get("ImageUtils").isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=l.getSelectedElement());const w=g||n.createElement("caption");n.append(w,f),i&&n.setSelection(w,"in")}_hideImageCaption(n){const i=this.editor,s=i.model.document.selection,l=i.plugins.get("ImageCaptionEditing"),d=i.plugins.get("ImageCaptionUtils");let f=s.getSelectedElement(),g;f?g=d.getCaptionFromImageModelElement(f):(g=d.getCaptionFromModelSelection(s),f=g.parent),l._saveCaption(f,g),n.setSelection(f,"on"),n.remove(g)}}class XB extends ge{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[So]}getCaptionFromImageModelElement(n){for(const i of n.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(n){const i=this.editor.plugins.get("ImageUtils"),s=n.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(n){const i=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&i.isBlockImageView(n.parent)?{name:!0}:null}}class Wue extends ge{static get requires(){return[So,XB]}static get pluginName(){return"ImageCaptionEditing"}constructor(n){super(n),this._savedCaptionsMap=new WeakMap}init(){const n=this.editor,i=n.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new que(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,i=n.editing.view,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils"),d=n.t;n.conversion.for("upcast").elementToElement({view:f=>l.matchImageCaptionViewElement(f),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>s.isBlockImage(f.parent)?g.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>{if(!s.isBlockImage(f.parent))return null;const w=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,w),JR({view:i,element:w,text:d("Enter image caption"),keepOnFocus:!0});const y=f.parent.getAttribute("alt"),C=y?d("Caption for image: %0",[y]):d("Caption for the image");return aB(w,g,{label:C})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,i=n.plugins.get("ImageUtils"),s=n.plugins.get("ImageCaptionUtils"),l=n.commands.get("imageTypeInline"),d=n.commands.get("imageTypeBlock"),f=g=>{if(!g.return)return;const{oldElement:w,newElement:y}=g.return;if(!w)return;if(i.isBlockImage(w)){const x=s.getCaptionFromImageModelElement(w);if(x){this._saveCaption(y,x);return}}const C=this._getSavedCaption(w);C&&this._saveCaption(y,C)};l&&this.listenTo(l,"execute",f,{priority:"low"}),d&&this.listenTo(d,"execute",f,{priority:"low"})}_getSavedCaption(n){const i=this._savedCaptionsMap.get(n);return i?Yt.fromJSON(i):null}_saveCaption(n,i){this._savedCaptionsMap.set(n,i.toJSON())}_registerCaptionReconversion(){const n=this.editor,i=n.model,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const d=i.document.differ.getChanges();for(const f of d){if(f.attributeKey!=="alt")continue;const g=f.range.start.nodeAfter;if(s.isBlockImage(g)){const w=l.getCaptionFromImageModelElement(g);if(!w)return;n.editing.reconvertItem(w)}}})}}class Gue extends ge{static get requires(){return[XB]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,i=n.editing.view,s=n.plugins.get("ImageCaptionUtils"),l=n.t;n.ui.componentFactory.add("toggleImageCaption",d=>{const f=n.commands.get("toggleImageCaption"),g=new Kt(d);return g.set({icon:mn.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),g.bind("label").to(f,"value",w=>l(w?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=s.getCaptionFromModelSelection(n.model.document.selection);if(w){const y=n.editing.mapper.toViewElement(w);i.scrollToTheSelection(),i.change(C=>{C.addClass("image__caption_highlighted",y)})}n.editing.view.focus()}),g})}}var ez=a(8662),pE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};pE.insert="head",pE.singleton=!0,at()(ez.Z,pE),ez.Z.locals;class Kue extends ge{static get requires(){return[Wue,Gue]}static get pluginName(){return"ImageCaption"}}class Yue extends vt{refresh(){const n=this.editor,s=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);this.isEnabled=!!s,!s||!s.hasAttribute("width")?this.value=null:this.value={width:s.getAttribute("width"),height:null}}execute(n){const i=this.editor,s=i.model,d=i.plugins.get("ImageUtils").getClosestSelectedImageElement(s.document.selection);this.value={width:n.width,height:null},d&&s.change(f=>{f.setAttribute("width",n.width,d)})}}class tz extends ge{static get requires(){return[So]}static get pluginName(){return"ImageResizeEditing"}constructor(n){super(n),n.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const n=this.editor,i=new Yue(n);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),n.commands.add("resizeImage",i),n.commands.add("imageResize",i)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(n){const i=this.editor;i.conversion.for("downcast").add(s=>s.on(`attribute:width:${n}`,(l,d,f)=>{if(!f.consumable.consume(d.item,l.name))return;const g=f.writer,w=f.mapper.toViewElement(d.item);d.attributeNewValue!==null?(g.setStyle("width",d.attributeNewValue,w),g.addClass("image_resized",w)):(g.removeStyle("width",w),g.removeClass("image_resized",w))})),i.conversion.for("upcast").attributeToAttribute({view:{name:n==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:s=>s.getStyle("width")}})}}const mE={small:mn.objectSizeSmall,medium:mn.objectSizeMedium,large:mn.objectSizeLarge,original:mn.objectSizeFull};class Que extends ge{static get requires(){return[tz]}static get pluginName(){return"ImageResizeButtons"}constructor(n){super(n),this._resizeUnit=n.config.get("image.resizeUnit")}init(){const n=this.editor,i=n.config.get("image.resizeOptions"),s=n.commands.get("resizeImage");this.bind("isEnabled").to(s);for(const l of i)this._registerImageResizeButton(l);this._registerImageResizeDropdown(i)}_registerImageResizeButton(n){const i=this.editor,{name:s,value:l,icon:d}=n,f=l?l+this._resizeUnit:null;i.ui.componentFactory.add(s,g=>{const w=new Kt(g),y=i.commands.get("resizeImage"),C=this._getOptionLabelValue(n,!0);if(!mE[d])throw new S("imageresizebuttons-missing-icon",i,n);return w.set({label:C,icon:mE[d],tooltip:C,isToggleable:!0}),w.bind("isEnabled").to(this),w.bind("isOn").to(y,"value",nz(f)),this.listenTo(w,"execute",()=>{i.execute("resizeImage",{width:f})}),w})}_registerImageResizeDropdown(n){const i=this.editor,s=i.t,l=n.find(f=>!f.value),d=f=>{const g=i.commands.get("resizeImage"),w=xo(f,$R),y=w.buttonView;return y.set({tooltip:s("Resize image"),commandValue:l.value,icon:mE.medium,isToggleable:!0,label:this._getOptionLabelValue(l),withText:!0,class:"ck-resize-image-button"}),y.bind("label").to(g,"value",C=>C&&C.width?C.width:this._getOptionLabelValue(l)),w.bind("isOn").to(g),w.bind("isEnabled").to(this),xp(w,()=>this._getResizeDropdownListItemDefinitions(n,g),{ariaLabel:s("Image resize list")}),this.listenTo(w,"execute",C=>{i.execute(C.source.commandName,{width:C.source.commandValue}),i.editing.view.focus()}),w};i.ui.componentFactory.add("resizeImage",d),i.ui.componentFactory.add("imageResize",d)}_getOptionLabelValue(n,i){const s=this.editor.t;return n.label?n.label:i?n.value?s("Resize image to %0",n.value+this._resizeUnit):s("Resize image to the original size"):n.value?n.value+this._resizeUnit:s("Original")}_getResizeDropdownListItemDefinitions(n,i){const s=new yi;return n.map(l=>{const d=l.value?l.value+this._resizeUnit:null,f={type:"button",model:new Sp({commandName:"resizeImage",commandValue:d,label:this._getOptionLabelValue(l),withText:!0,icon:null})};f.model.bind("isOn").to(i,"value",nz(d)),s.add(f)}),s}}function nz(c){return n=>c===null&&n===c?!0:n&&n.width===c}const Zue="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",Jue=/(image|image-inline)/,gE="image_resized";class Xue extends ge{static get requires(){return[nE]}static get pluginName(){return"ImageResizeHandles"}init(){const n=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(n),this._setupResizerCreator()}_setupResizerCreator(){const n=this.editor,i=n.editing.view;i.addObserver(YB),this.listenTo(i.document,"imageLoaded",(s,l)=>{if(!l.target.matches(Zue))return;const d=n.editing.view.domConverter,g=d.domToView(l.target).findAncestor({classes:Jue});let w=this.editor.plugins.get(nE).getResizerByViewElement(g);if(w){w.redraw();return}const y=n.editing.mapper,C=y.toModelElement(g);w=n.plugins.get(nE).attachTo({unit:n.config.get("image.resizeUnit"),modelElement:C,viewElement:g,editor:n,getHandleHost(x){return x.querySelector("img")},getResizeHost(){return d.mapViewToDom(y.toViewElement(C.parent))},isCentered(){const x=C.getAttribute("imageStyle");return!x||x=="block"||x=="alignCenter"},onCommit(x){i.change(R=>{R.removeClass(gE,g)}),n.execute("resizeImage",{width:x})}}),w.on("updateSize",()=>{g.hasClass(gE)||i.change(x=>{x.addClass(gE,g)})}),w.bind("isEnabled").to(this)})}}var rz=a(1043),bE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};bE.insert="head",bE.singleton=!0,at()(rz.Z,bE),rz.Z.locals;class ede extends ge{static get requires(){return[tz,Xue,Que]}static get pluginName(){return"ImageResize"}}class tde extends vt{constructor(n,i){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const l of s.modelElements)this._defaultStyles[l]=s.name;return[s.name,s]}))}refresh(){const s=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled?s.hasAttribute("imageStyle")?this.value=s.getAttribute("imageStyle"):this.value=this._defaultStyles[s.name]:this.value=!1}execute(n={}){const i=this.editor,s=i.model,l=i.plugins.get("ImageUtils");s.change(d=>{const f=n.value;let g=l.getClosestSelectedImageElement(s.document.selection);f&&this.shouldConvertImageType(f,g)&&(this.editor.execute(l.isBlockImage(g)?"imageTypeInline":"imageTypeBlock"),g=l.getClosestSelectedImageElement(s.document.selection)),!f||this._styles.get(f).isDefault?d.removeAttribute("imageStyle",g):d.setAttribute("imageStyle",f,g)})}shouldConvertImageType(n,i){return!this._styles.get(n).modelElements.includes(i.name)}}const{objectFullWidth:nde,objectInline:iz,objectLeft:oz,objectRight:wE,objectCenter:kE,objectBlockLeft:sz,objectBlockRight:az}=mn,ok={get inline(){return{name:"inline",title:"In line",icon:iz,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:oz,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:sz,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:kE,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:wE,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:az,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:kE,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:wE,modelElements:["imageBlock"],className:"image-style-side"}}},cz={full:nde,left:sz,right:az,center:kE,inlineLeft:oz,inlineRight:wE,inline:iz},lz=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function rde(c){return(c.configuredStyles.options||[]).map(s=>sde(s)).filter(s=>ade(s,c))}function ide(c,n){return c&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}}function ode(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...lz]:[]}function sde(c){return typeof c=="string"?ok[c]?c={...ok[c]}:c={name:c}:c=cde(ok[c.name],c),typeof c.icon=="string"&&(c.icon=cz[c.icon]||c.icon),c}function ade(c,{isBlockPluginLoaded:n,isInlinePluginLoaded:i}){const{modelElements:s,name:l}=c;if(!s||!s.length||!l)return uz({style:c}),!1;{const d=[n?"imageBlock":null,i?"imageInline":null];if(!s.some(f=>d.includes(f)))return ee("image-style-missing-dependency",{style:c,missingPlugins:s.map(f=>f==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function cde(c,n){const i={...n};for(const s in c)Object.prototype.hasOwnProperty.call(n,s)||(i[s]=c[s]);return i}function uz(c){ee("image-style-configuration-definition-invalid",c)}const vE={normalizeStyles:rde,getDefaultStylesConfiguration:ide,getDefaultDropdownDefinitions:ode,warnInvalidStyle:uz,DEFAULT_OPTIONS:ok,DEFAULT_ICONS:cz,DEFAULT_DROPDOWN_DEFINITIONS:lz};function lde(c){return(n,i,s)=>{if(!s.consumable.consume(i.item,n.name))return;const l=dz(i.attributeNewValue,c),d=dz(i.attributeOldValue,c),f=s.mapper.toViewElement(i.item),g=s.writer;d&&g.removeClass(d.className,f),l&&g.addClass(l.className,f)}}function ude(c){const n={imageInline:c.filter(i=>!i.isDefault&&i.modelElements.includes("imageInline")),imageBlock:c.filter(i=>!i.isDefault&&i.modelElements.includes("imageBlock"))};return(i,s,l)=>{if(!s.modelRange)return;const d=s.viewItem,f=zn(s.modelRange.getItems());if(f&&l.schema.checkAttribute(f,"imageStyle"))for(const g of n[f.name])l.consumable.consume(d,{classes:g.className})&&l.writer.setAttribute("imageStyle",g.name,f)}}function dz(c,n){for(const i of n)if(i.name===c)return i}class hz extends ge{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[So]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:i}=vE,s=this.editor,l=s.plugins.has("ImageBlockEditing"),d=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(l,d)),this.normalizedStyles=n({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:d}),this._setupConversion(l,d),this._setupPostFixer(),s.commands.add("imageStyle",new tde(s,this.normalizedStyles))}_setupConversion(n,i){const s=this.editor,l=s.model.schema,d=lde(this.normalizedStyles),f=ude(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",d),s.data.downcastDispatcher.on("attribute:imageStyle",d),n&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",f,{priority:"low"})),i&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",f,{priority:"low"}))}_setupPostFixer(){const n=this.editor,i=n.model.document,s=n.plugins.get(So),l=new Map(this.normalizedStyles.map(d=>[d.name,d]));i.registerPostFixer(d=>{let f=!1;for(const g of i.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let w=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!s.isImage(w))continue;const y=w.getAttribute("imageStyle");if(!y)continue;const C=l.get(y);(!C||!C.modelElements.includes(w.name))&&(d.removeAttribute("imageStyle",w),f=!0)}return f})}}var fz=a(4622),yE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yE.insert="head",yE.singleton=!0,at()(fz.Z,yE),fz.Z.locals;class dde extends ge{static get requires(){return[hz]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=pz(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of s)this._createButton(d);const l=pz([...i.filter(_e),...vE.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const d of l)this._createDropdown(d,s)}_createDropdown(n,i){const s=this.editor.ui.componentFactory;s.add(n.name,l=>{let d;const{defaultItem:f,items:g,title:w}=n,y=g.filter(j=>i.find(({name:H})=>mz(H)===j)).map(j=>{const H=s.create(j);return j===f&&(d=H),H});g.length!==y.length&&vE.warnInvalidStyle({dropdown:n});const C=xo(l,xw),x=C.buttonView,R=x.arrowView;return p1(C,y,{enableActiveItemFocusOnDropdownOpen:!0}),x.set({label:gz(w,d.label),class:null,tooltip:!0}),R.unbind("label"),R.set({label:w}),x.bind("icon").toMany(y,"isOn",(...j)=>{const H=j.findIndex(ql);return H<0?d.icon:y[H].icon}),x.bind("label").toMany(y,"isOn",(...j)=>{const H=j.findIndex(ql);return gz(w,H<0?d.label:y[H].label)}),x.bind("isOn").toMany(y,"isOn",(...j)=>j.some(ql)),x.bind("class").toMany(y,"isOn",(...j)=>j.some(ql)?"ck-splitbutton_flatten":null),x.on("execute",()=>{y.some(({isOn:j})=>j)?C.isOpen=!C.isOpen:d.fire("execute")}),C.bind("isEnabled").toMany(y,"isEnabled",(...j)=>j.some(ql)),this.listenTo(C,"execute",()=>{this.editor.editing.view.focus()}),C})}_createButton(n){const i=n.name;this.editor.ui.componentFactory.add(mz(i),s=>{const l=this.editor.commands.get("imageStyle"),d=new Kt(s);return d.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",f=>f===i),d.on("execute",this._executeCommand.bind(this,i)),d})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function pz(c,n){for(const i of c)n[i.title]&&(i.title=n[i.title]);return c}function mz(c){return`imageStyle:${c}`}function gz(c,n){return(c?c+": ":"")+n}class hde extends ge{static get requires(){return[hz,dde]}static get pluginName(){return"ImageStyle"}}class fde extends ge{static get requires(){return[rk,So]}static get pluginName(){return"ImageToolbar"}afterInit(){const n=this.editor,i=n.t,s=n.plugins.get(rk),l=n.plugins.get("ImageUtils");s.register("image",{ariaLabel:i("Image toolbar"),items:pde(n.config.get("image.toolbar")||[]),getRelatedElement:d=>l.getClosestSelectedImageWidget(d)})}}function pde(c){return c.map(n=>_e(n)?n.name:n)}function bz(c){const n=c.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function mde(c){return new Promise((n,i)=>{const s=c.getAttribute("src");fetch(s).then(l=>l.blob()).then(l=>{const d=wz(l,s),g=`image.${d.replace("image/","")}`,w=new File([l],g,{type:d});n(w)}).catch(l=>l&&l.name==="TypeError"?bde(s).then(n).catch(i):i(l))})}function gde(c,n){return!c.isInlineImageView(n)||!n.getAttribute("src")?!1:n.getAttribute("src").match(/^data:image\/\w+;base64,/g)||n.getAttribute("src").match(/^blob:/g)}function wz(c,n){return c.type?c.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function bde(c){return wde(c).then(n=>{const i=wz(n,c),l=`image.${i.replace("image/","")}`;return new File([n],l,{type:i})})}function wde(c){return new Promise((n,i)=>{const s=St.document.createElement("img");s.addEventListener("load",()=>{const l=St.document.createElement("canvas");l.width=s.width,l.height=s.height,l.getContext("2d").drawImage(s,0,0),l.toBlob(f=>f?n(f):i())}),s.addEventListener("error",()=>i()),s.src=c})}class kde extends ge{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,i=n.t,s=l=>{const d=new ice(l),f=n.commands.get("uploadImage"),g=n.config.get("image.upload.types"),w=bz(g);return d.set({acceptedType:g.map(y=>`image/${y}`).join(","),allowMultipleFiles:!0}),d.buttonView.set({label:i("Insert image"),icon:mn.image,tooltip:!0}),d.buttonView.bind("isEnabled").to(f),d.on("done",(y,C)=>{const x=Array.from(C).filter(R=>w.test(R.type));x.length&&(n.execute("uploadImage",{file:x}),n.editing.view.focus())}),d};n.ui.componentFactory.add("uploadImage",s),n.ui.componentFactory.add("imageUpload",s)}}var kz=a(5870),_E={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_E.insert="head",_E.singleton=!0,at()(kz.Z,_E),kz.Z.locals;var vz=a(9899),AE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};AE.insert="head",AE.singleton=!0,at()(vz.Z,AE),vz.Z.locals;var yz=a(9825),CE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};CE.insert="head",CE.singleton=!0,at()(yz.Z,CE),yz.Z.locals;class vde extends ge{static get pluginName(){return"ImageUploadProgress"}constructor(n){super(n),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...i)=>this.uploadStatusChange(...i)),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...i)=>this.uploadStatusChange(...i))}uploadStatusChange(n,i,s){const l=this.editor,d=i.item,f=d.getAttribute("uploadId");if(!s.consumable.consume(i.item,n.name))return;const g=l.plugins.get("ImageUtils"),w=l.plugins.get(eu),y=f?i.attributeNewValue:null,C=this.placeholder,x=l.editing.mapper.toViewElement(d),R=s.writer;if(y=="reading"){_z(x,R),Az(g,C,x,R);return}if(y=="uploading"){const j=w.loaders.get(f);_z(x,R),j?(Cz(x,R),_de(x,R,j,l.editing.view),Sde(g,x,R,j)):Az(g,C,x,R);return}y=="complete"&&w.loaders.get(f)&&Cde(x,R,l.editing.view),Ade(x,R),Cz(x,R),yde(x,R)}}function _z(c,n){c.hasClass("ck-appear")||n.addClass("ck-appear",c)}function yde(c,n){n.removeClass("ck-appear",c)}function Az(c,n,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const l=c.findViewImgElement(i);l.getAttribute("src")!==n&&s.setAttribute("src",n,l),Ez(i,"placeholder")||s.insert(s.createPositionAfter(l),xde(s))}function Cz(c,n){c.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",c),xz(c,n,"placeholder")}function _de(c,n,i,s){const l=Ede(n);n.insert(n.createPositionAt(c,"end"),l),i.on("change:uploadedPercent",(d,f,g)=>{s.change(w=>{w.setStyle("width",g+"%",l)})})}function Ade(c,n){xz(c,n,"progressBar")}function Cde(c,n,i){const s=n.createUIElement("div",{class:"ck-image-upload-complete-icon"});n.insert(n.createPositionAt(c,"end"),s),setTimeout(()=>{i.change(l=>l.remove(l.createRangeOn(s)))},3e3)}function Ede(c){const n=c.createUIElement("div",{class:"ck-progress-bar"});return c.setCustomProperty("progressBar",!0,n),n}function xde(c){const n=c.createUIElement("div",{class:"ck-upload-placeholder-loader"});return c.setCustomProperty("placeholder",!0,n),n}function Ez(c,n){for(const i of c.getChildren())if(i.getCustomProperty(n))return i}function xz(c,n,i){const s=Ez(c,i);s&&n.remove(n.createRangeOn(s))}function Sde(c,n,i,s){if(s.data){const l=c.findViewImgElement(n);i.setAttribute("src",s.data,l)}}class Tde extends vt{refresh(){const n=this.editor,i=n.plugins.get("ImageUtils"),s=n.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(n){const i=Tr(n.file),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(s.getAttributes());i.forEach((f,g)=>{const w=s.getSelectedElement();if(g&&w&&l.isImage(w)){const y=this.editor.model.createPositionAfter(w);this._uploadImage(f,d,y)}else this._uploadImage(f,d)})}_uploadImage(n,i,s){const l=this.editor,f=l.plugins.get(eu).createLoader(n),g=l.plugins.get("ImageUtils");f&&g.insertImage({...i,uploadId:f.id},s)}}class Ide extends ge{static get requires(){return[eu,h5,Ts,So]}static get pluginName(){return"ImageUploadEditing"}constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const n=this.editor,i=n.model.document,s=n.conversion,l=n.plugins.get(eu),d=n.plugins.get("ImageUtils"),f=bz(n.config.get("image.upload.types")),g=new Tde(n);n.commands.add("uploadImage",g),n.commands.add("imageUpload",g),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(w,y)=>{if(Dde(y.dataTransfer))return;const C=Array.from(y.dataTransfer.files).filter(x=>x?f.test(x.type):!1);C.length&&(w.stop(),n.model.change(x=>{y.targetRanges&&x.setSelection(y.targetRanges.map(R=>n.editing.mapper.toModelRange(R))),n.model.enqueueChange(()=>{n.execute("uploadImage",{file:C})})}))}),this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",(w,y)=>{const C=Array.from(n.editing.view.createRangeIn(y.content)).filter(R=>gde(d,R.item)&&!R.item.getAttribute("uploadProcessed")).map(R=>({promise:mde(R.item),imageElement:R.item}));if(!C.length)return;const x=new Xl(n.editing.view.document);for(const R of C){x.setAttribute("uploadProcessed",!0,R.imageElement);const j=l.createLoader(R.promise);j&&(x.setAttribute("src","",R.imageElement),x.setAttribute("uploadId",j.id,R.imageElement))}}),n.editing.view.document.on("dragover",(w,y)=>{y.preventDefault()}),i.on("change",()=>{const w=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),y=new Set;for(const C of w)if(C.type=="insert"&&C.name!="$text"){const x=C.position.nodeAfter,R=C.position.root.rootName=="$graveyard";for(const j of Pde(n,x)){const H=j.getAttribute("uploadId");if(!H)continue;const Z=l.loaders.get(H);Z&&(R?y.has(H)||Z.abort():(y.add(H),this._uploadImageElements.set(H,j),Z.status=="idle"&&this._readAndUpload(Z)))}}}),this.on("uploadComplete",(w,{imageElement:y,data:C})=>{const x=C.urls?C.urls:C;this.editor.model.change(R=>{R.setAttribute("src",x.default,y),this._parseAndSetSrcsetAttributeOnImage(x,y,R)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const i=this.editor,s=i.model,l=i.locale.t,d=i.plugins.get(eu),f=i.plugins.get(h5),g=i.plugins.get("ImageUtils"),w=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},C=>{C.setAttribute("uploadStatus","reading",w.get(n.id))}),n.read().then(()=>{const C=n.upload(),x=w.get(n.id);if(A.isSafari){const R=i.editing.mapper.toViewElement(x),j=g.findViewImgElement(R);i.editing.view.once("render",()=>{if(!j.parent)return;const H=i.editing.view.domConverter.mapViewToDom(j.parent);if(!H)return;const Z=H.style.display;H.style.display="none",H._ckHack=H.offsetHeight,H.style.display=Z})}return s.enqueueChange({isUndoable:!1},R=>{R.setAttribute("uploadStatus","uploading",x)}),C}).then(C=>{s.enqueueChange({isUndoable:!1},x=>{const R=w.get(n.id);x.setAttribute("uploadStatus","complete",R),this.fire("uploadComplete",{data:C,imageElement:R})}),y()}).catch(C=>{if(n.status!=="error"&&n.status!=="aborted")throw C;n.status=="error"&&C&&f.showWarning(C,{title:l("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},x=>{x.remove(w.get(n.id))}),y()});function y(){s.enqueueChange({isUndoable:!1},C=>{const x=w.get(n.id);C.removeAttribute("uploadId",x),C.removeAttribute("uploadStatus",x),w.delete(n.id)}),d.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,i,s){let l=0;const d=Object.keys(n).filter(f=>{const g=parseInt(f,10);if(!isNaN(g))return l=Math.max(l,g),!0}).map(f=>`${n[f]} ${f}w`).join(", ");d!=""&&s.setAttribute("srcset",{data:d,width:l},i)}}function Dde(c){return Array.from(c.types).includes("text/html")&&c.getData("text/html")!==""}function Pde(c,n){const i=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(n)).filter(s=>i.isImage(s.item)).map(s=>s.item)}class Mde extends ge{static get pluginName(){return"ImageUpload"}static get requires(){return[Ide,kde,vde]}}class Nde extends ge{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new YR(n)),n.commands.add("outdent",new YR(n))}}const Sz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Tz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Rde extends ge{static get pluginName(){return"IndentUI"}init(){const n=this.editor,i=n.locale,s=n.t,l=i.uiLanguageDirection=="ltr"?Sz:Tz,d=i.uiLanguageDirection=="ltr"?Tz:Sz;this._defineButton("indent",s("Increase indent"),l),this._defineButton("outdent",s("Decrease indent"),d)}_defineButton(n,i,s){const l=this.editor;l.ui.componentFactory.add(n,d=>{const f=l.commands.get(n),g=new Kt(d);return g.set({label:i,icon:s,tooltip:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),this.listenTo(g,"execute",()=>{l.execute(n),l.editing.view.focus()}),g})}}class Ode extends ge{static get pluginName(){return"Indent"}static get requires(){return[Nde,Rde]}}const Yd="italic";class Lde extends ge{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:Yd}),n.model.schema.setAttributeProperties(Yd,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Yd,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Yd,new B1(n,Yd)),n.keystrokes.set("CTRL+I",Yd)}}const Bde='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',EE="italic";class zde extends ge{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,i=n.t;n.ui.componentFactory.add(EE,s=>{const l=n.commands.get(EE),d=new Kt(s);return d.set({label:i("Italic"),icon:Bde,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{n.execute(EE),n.editing.view.focus()}),d})}}class Fde extends ge{static get requires(){return[Lde,zde]}static get pluginName(){return"Italic"}}class jde{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(i=>this._definitions.add(i)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(i,s,l)=>{if(!l.consumable.test(s.item,"attribute:linkHref")||!(s.item.is("selection")||l.schema.isInline(s.item)))return;const d=l.writer,f=d.document.selection;for(const g of this._definitions){const w=d.createAttributeElement("a",g.attributes,{priority:5});g.classes&&d.addClass(g.classes,w);for(const y in g.styles)d.setStyle(y,g.styles[y],w);d.setCustomProperty("link",!0,w),g.callback(s.attributeNewValue)?s.item.is("selection")?d.wrap(f.getFirstRange(),w):d.wrap(l.mapper.toViewRange(s.range),w):d.unwrap(l.mapper.toViewRange(s.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(i,s,{writer:l,mapper:d})=>{const f=d.toViewElement(s.item),g=Array.from(f.getChildren()).find(w=>w.name==="a");for(const w of this._definitions){const y=vs(w.attributes);if(w.callback(s.attributeNewValue)){for(const[C,x]of y)C==="class"?l.addClass(x,g):l.setAttribute(C,x,g);w.classes&&l.addClass(w.classes,g);for(const C in w.styles)l.setStyle(C,w.styles[C],g)}else{for(const[C,x]of y)C==="class"?l.removeClass(x,g):l.removeAttribute(C,g);w.classes&&l.removeClass(w.classes,g);for(const C in w.styles)l.removeStyle(C,g)}}})}}}function Vde(c,n,i){var s=c.length;return i=i===void 0?s:i,!n&&i>=s?c:sO(c,n,i)}const Ude=Vde;var $de="\\ud800-\\udfff",Hde="\\u0300-\\u036f",qde="\\ufe20-\\ufe2f",Wde="\\u20d0-\\u20ff",Gde=Hde+qde+Wde,Kde="\\ufe0e\\ufe0f",Yde="\\u200d",Qde=RegExp("["+Yde+$de+Gde+Kde+"]");function Zde(c){return Qde.test(c)}const Iz=Zde;function Jde(c){return c.split("")}const Xde=Jde;var Dz="\\ud800-\\udfff",ehe="\\u0300-\\u036f",the="\\ufe20-\\ufe2f",nhe="\\u20d0-\\u20ff",rhe=ehe+the+nhe,ihe="\\ufe0e\\ufe0f",ohe="["+Dz+"]",xE="["+rhe+"]",SE="\\ud83c[\\udffb-\\udfff]",she="(?:"+xE+"|"+SE+")",Pz="[^"+Dz+"]",Mz="(?:\\ud83c[\\udde6-\\uddff]){2}",Nz="[\\ud800-\\udbff][\\udc00-\\udfff]",ahe="\\u200d",Rz=she+"?",Oz="["+ihe+"]?",che="(?:"+ahe+"(?:"+[Pz,Mz,Nz].join("|")+")"+Oz+Rz+")*",lhe=Oz+Rz+che,uhe="(?:"+[Pz+xE+"?",xE,Mz,Nz,ohe].join("|")+")",dhe=RegExp(SE+"(?="+SE+")|"+uhe+lhe,"g");function hhe(c){return c.match(dhe)||[]}const fhe=hhe;function phe(c){return Iz(c)?fhe(c):Xde(c)}const mhe=phe;function ghe(c){return function(n){n=PC(n);var i=Iz(n)?mhe(n):void 0,s=i?i[0]:n.charAt(0),l=i?Ude(i,1).join(""):n.slice(1);return s[c]()+l}}var bhe=ghe("toUpperCase");const whe=bhe,khe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,vhe=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,yhe=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,_he=/^((\w+:(\/{2,})?)|(\W))/i,TE="Ctrl+K";function Ahe(c){return c.is("attributeElement")&&!!c.getCustomProperty("link")}function Lz(c,{writer:n}){const i=n.createAttributeElement("a",{href:c},{priority:5});return n.setCustomProperty("link",!0,i),i}function Bz(c){return c=String(c),Che(c)?c:"#"}function Che(c){return c.replace(khe,"").match(vhe)}function Ehe(c,n){const i={"Open in a new tab":c("Open in a new tab"),Downloadable:c("Downloadable")};return n.forEach(s=>(s.label&&i[s.label]&&(s.label=i[s.label]),s)),n}function xhe(c){const n=[];if(c)for(const[i,s]of Object.entries(c)){const l=Object.assign({},s,{id:`link${whe(i)}`});n.push(l)}return n}function IE(c,n){return c?n.checkAttribute(c.name,"linkHref"):!1}function She(c){return yhe.test(c)}function DE(c,n){const i=She(c)?"mailto:":n,s=!!i&&!zz(c);return c&&s?i+c:c}function zz(c){return _he.test(c)}function Fz(c){window.open(c,"_blank","noopener")}class The extends vt{constructor(n){super(n),this.manualDecorators=new yi,this.automaticDecorators=new jde}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,i=n.document.selection,s=i.getSelectedElement()||zn(i.getSelectedBlocks());IE(s,n.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(n,i={}){const s=this.editor.model,l=s.document.selection,d=[],f=[];for(const g in i)i[g]?d.push(g):f.push(g);s.change(g=>{if(l.isCollapsed){const w=l.getFirstPosition();if(l.hasAttribute("linkHref")){const y=Wd(w,"linkHref",l.getAttribute("linkHref"),s);g.setAttribute("linkHref",n,y),d.forEach(C=>{g.setAttribute(C,!0,y)}),f.forEach(C=>{g.removeAttribute(C,y)}),g.setSelection(g.createPositionAfter(y.end.nodeBefore))}else if(n!==""){const y=vs(l.getAttributes());y.set("linkHref",n),d.forEach(x=>{y.set(x,!0)});const{end:C}=s.insertContent(g.createText(n,y),w);g.setSelection(C)}["linkHref",...d,...f].forEach(y=>{g.removeSelectionAttribute(y)})}else{const w=s.schema.getValidRanges(l.getRanges(),"linkHref"),y=[];for(const x of l.getSelectedBlocks())s.schema.checkAttribute(x,"linkHref")&&y.push(g.createRangeOn(x));const C=y.slice();for(const x of w)this._isRangeToUpdate(x,y)&&C.push(x);for(const x of C)g.setAttribute("linkHref",n,x),d.forEach(R=>{g.setAttribute(R,!0,x)}),f.forEach(R=>{g.removeAttribute(R,x)})}})}_getDecoratorStateFromModel(n){const i=this.editor.model,s=i.document.selection,l=s.getSelectedElement();return IE(l,i.schema)?l.getAttribute(n):s.getAttribute(n)}_isRangeToUpdate(n,i){for(const s of i)if(s.containsRange(n))return!1;return!0}}class Ihe extends vt{refresh(){const n=this.editor.model,i=n.document.selection,s=i.getSelectedElement();IE(s,n.schema)?this.isEnabled=n.schema.checkAttribute(s,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(i,"linkHref")}execute(){const n=this.editor,i=this.editor.model,s=i.document.selection,l=n.commands.get("link");i.change(d=>{const f=s.isCollapsed?[Wd(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const g of f)if(d.removeAttribute("linkHref",g),l)for(const w of l.manualDecorators)d.removeAttribute(w.id,g)})}}class jz{constructor({id:n,label:i,attributes:s,classes:l,styles:d,defaultValue:f}){this.id=n,this.set("value"),this.defaultValue=f,this.label=i,this.attributes=s,this.classes=l,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}ae(jz,Pe);var Vz=a(399),PE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};PE.insert="head",PE.singleton=!0,at()(Vz.Z,PE),Vz.Z.locals;const Dhe="ck-link_selected",Uz="automatic",Phe="manual",Mhe=/^(https?:)?\/\//;class Nhe extends ge{static get pluginName(){return"LinkEditing"}static get requires(){return[Yw,v5,Ts]}constructor(n){super(n),n.config.define("link",{addTargetToExternalLinks:!1})}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Lz}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,d)=>Lz(Bz(l),d)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),n.commands.add("link",new The(n)),n.commands.add("unlink",new Ihe(n));const i=Ehe(n.t,xhe(n.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(l=>l.mode===Uz)),this._enableManualDecorators(i.filter(l=>l.mode===Phe)),n.plugins.get(Yw).registerAttribute("linkHref"),P5(n,"linkHref","a",Dhe),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const i=this.editor,l=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&l.add({id:"linkIsExternal",mode:Uz,callback:d=>Mhe.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),l.add(n),l.length&&i.conversion.for("downcast").add(l.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const i=this.editor,l=i.commands.get("link").manualDecorators;n.forEach(d=>{i.model.schema.extend("$text",{allowAttributes:d.id}),d=new jz(d),l.add(d),i.conversion.for("downcast").attributeToElement({model:d.id,view:(f,{writer:g,schema:w},{item:y})=>{if((y.is("selection")||w.isInline(y))&&f){const C=g.createAttributeElement("a",d.attributes,{priority:5});d.classes&&g.addClass(d.classes,C);for(const x in d.styles)g.setStyle(x,d.styles[x],C);return g.setCustomProperty("link",!0,C),C}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",...d._createPattern()},model:{key:d.id}})})}_enableLinkOpen(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"click",(l,d)=>{if(!(A.isMac?d.domEvent.metaKey:d.domEvent.ctrlKey))return;let g=d.domTarget;if(g.tagName.toLowerCase()!="a"&&(g=g.closest("a")),!g)return;const w=g.getAttribute("href");w&&(l.stop(),d.preventDefault(),Fz(w))},{context:"$capture"}),this.listenTo(s,"keydown",(l,d)=>{const f=n.commands.get("link").value;f&&d.keyCode===Rt.enter&&d.altKey&&(l.stop(),Fz(f))})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,s=i.document.selection;this.listenTo(i,"insertContent",()=>{const l=s.anchor.nodeBefore,d=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&l&&l.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||i.change(f=>{ME(f,NE(i.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const n=this.editor,i=n.model;n.editing.view.addObserver(Hw);let s=!1;this.listenTo(n.editing.view.document,"mousedown",()=>{s=!0}),this.listenTo(n.editing.view.document,"selectionChange",()=>{if(!s)return;s=!1;const l=i.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const d=l.getFirstPosition(),f=Wd(d,"linkHref",l.getAttribute("linkHref"),i);(d.isTouching(f.start)||d.isTouching(f.end))&&i.change(g=>{ME(g,NE(i.schema))})})}_enableTypingOverLink(){const n=this.editor,i=n.editing.view;let s,l;this.listenTo(i.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(n.model,"deleteContent",()=>{const d=n.model.document.selection;if(!d.isCollapsed){if(l){l=!1;return}$z(n)&&Rhe(n.model)&&(s=d.getAttributes())}},{priority:"high"}),this.listenTo(n.model,"insertContent",(d,[f])=>{l=!1,$z(n)&&s&&(n.model.change(g=>{for(const[w,y]of s)g.setAttribute(w,y,f)}),s=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const n=this.editor,i=n.model,s=i.document.selection,l=n.editing.view;let d=!1,f=!1;this.listenTo(l.document,"delete",(g,w)=>{f=w.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{d=!1;const g=s.getFirstPosition(),w=s.getAttribute("linkHref");if(!w)return;const y=Wd(g,"linkHref",w,i);d=y.containsPosition(g)||y.end.isEqual(g)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{f&&(f=!1,!d&&n.model.enqueueChange(g=>{ME(g,NE(i.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const n=this.editor,i=n.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(l,d)=>{i.change(f=>{const g=f.createRangeIn(d.content);for(const w of g.getItems())if(w.hasAttribute("linkHref")){const y=DE(w.getAttribute("linkHref"),s);f.setAttribute("linkHref",y,w)}})})}}function ME(c,n){c.removeSelectionAttribute("linkHref");for(const i of n)c.removeSelectionAttribute(i)}function Rhe(c){const n=c.document.selection,i=n.getFirstPosition(),s=n.getLastPosition(),l=i.nodeAfter;if(!l||!l.is("$text")||!l.hasAttribute("linkHref"))return!1;const d=s.textNode||s.nodeBefore;return l===d?!0:Wd(i,"linkHref",l.getAttribute("linkHref"),c).containsRange(c.createRange(i,s),!0)}function $z(c){return c.model.change(i=>i.batch).isTyping}function NE(c){return c.getDefinition("$text").allowAttributes.filter(i=>i.startsWith("link"))}var Hz=a(4827),RE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};RE.insert="head",RE.singleton=!0,at()(Hz.Z,RE),Hz.Z.locals;class Ohe extends Tt{constructor(n,i){super(n);const s=n.t;this.focusTracker=new ji,this.keystrokes=new Ao,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),mn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusables=new da,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children}),p(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,i)=>(n[i.name]=i.isOn,n),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const n=this.locale.t,i=new x1(this.locale,S1);return i.label=n("Link URL"),i}_createButton(n,i,s,l){const d=new Kt(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}_createManualDecoratorSwitches(n){const i=this.createCollection();for(const s of n.manualDecorators){const l=new Ew(this.locale);l.set({name:s.id,label:s.label,withText:!0}),l.bind("isOn").toMany([s,n],"value",(d,f)=>f===void 0&&d===void 0?s.defaultValue:d),l.on("execute",()=>{s.set("value",!l.isOn)}),i.add(l)}return i}_createFormChildren(n){const i=this.createCollection();if(i.add(this.urlInputView),n.length){const s=new Tt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var qz=a(9465),OE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};OE.insert="head",OE.singleton=!0,at()(qz.Z,OE),qz.Z.locals;const Lhe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class Bhe extends Tt{constructor(n){super(n);const i=n.t;this.focusTracker=new ji,this.keystrokes=new Ao,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),Lhe,"unlink"),this.editButtonView=this._createButton(i("Edit link"),mn.pencil,"edit"),this.set("href"),this._focusables=new da,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,i,s){const l=new Kt(this.locale);return l.set({label:n,icon:i,tooltip:!0}),l.delegate("execute").to(this,s),l}_createPreviewButton(){const n=new Kt(this.locale),i=this.bindTemplate,s=this.t;return n.set({withText:!0,tooltip:s("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",l=>l&&Bz(l)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",l=>l||s("This link has no URL")),n.bind("isEnabled").to(this,"href",l=>!!l),n.template.tag="a",n.template.eventListeners={},n}}const zhe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Ds="link-ui";class Fhe extends ge{static get requires(){return[Gw]}static get pluginName(){return"LinkUI"}init(){const n=this.editor;n.editing.view.addObserver(xse),this.actionsView=null,this.formView=null,this._balloon=n.plugins.get(Gw),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:Ds,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:Ds,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,i=new Bhe(n.locale),s=n.commands.get("link"),l=n.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{n.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(d,f)=>{this._hideUI(),f()}),i.keystrokes.set(TE,(d,f)=>{this._addFormView(),f()}),i}_createFormView(){const n=this.editor,i=n.commands.get("link"),s=n.config.get("link.defaultProtocol"),l=new Ohe(n.locale,i);return l.urlInputView.fieldView.bind("value").to(i,"value"),l.urlInputView.bind("isReadOnly").to(i,"isEnabled",d=>!d),l.saveButtonView.bind("isEnabled").to(i),this.listenTo(l,"submit",()=>{const{value:d}=l.urlInputView.fieldView.element,f=DE(d,s);n.execute("link",f,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(d,f)=>{this._closeFormView(),f()}),l}_createToolbarLinkButton(){const n=this.editor,i=n.commands.get("link"),s=n.t;n.ui.componentFactory.add("link",l=>{const d=new Kt(l);return d.isEnabled=!0,d.label=s("Link"),d.icon=zhe,d.keystroke=TE,d.tooltip=!0,d.isToggleable=!0,d.bind("isEnabled").to(i,"isEnabled"),d.bind("isOn").to(i,"value",f=>!!f),this.listenTo(d,"execute",()=>this._showUI(!0)),d})}_enableBalloonActivators(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(TE,(s,l)=>{l(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,i)=>{this._isUIVisible&&(this._hideUI(),i())}),h({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=i.value||""}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,i=n.editing.view.document;let s=this._getSelectedLinkElement(),l=f();const d=()=>{const g=this._getSelectedLinkElement(),w=f();s&&!g||!s&&w!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=g,l=w};function f(){return i.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(n.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,i=this.editor.model,s=n.document;let l=null;if(i.markers.has(Ds)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(Ds)),f=n.createRange(n.createPositionBefore(d[0]),n.createPositionAfter(d[d.length-1]));l=n.domConverter.viewRangeToDom(f)}else l=()=>{const d=this._getSelectedLinkElement();return d?n.domConverter.mapViewToDom(d):n.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const n=this.editor.editing.view,i=n.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&Fn(s))return LE(i.getFirstPosition());{const l=i.getFirstRange().getTrimmed(),d=LE(l.start),f=LE(l.end);return!d||d!=f?null:n.createRangeIn(d).getTrimmed().isEqual(l)?d:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(i=>{const s=n.document.selection.getFirstRange();if(n.markers.has(Ds))i.updateMarker(Ds,{range:s});else if(s.start.isAtEnd){const l=s.start.getLastMatchingPosition(({item:d})=>!n.schema.isContent(d),{boundaries:s});i.addMarker(Ds,{usingOperation:!1,affectsData:!1,range:i.createRange(l,s.end)})}else i.addMarker(Ds,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(Ds)&&n.change(i=>{i.removeMarker(Ds)})}}function LE(c){return c.getAncestors().find(n=>Ahe(n))}const jhe=4,Vhe=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),Uhe=2;class $he extends ge{static get requires(){return[pc]}static get pluginName(){return"AutoLink"}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const n=this.editor,i=new x5(n.model,s=>{if(!Hhe(s))return;const l=Wz(s.substr(0,s.length-1));if(l)return{url:l}});i.on("matched:data",(s,l)=>{const{batch:d,range:f,url:g}=l;if(!d.isTyping)return;const w=f.end.getShiftedBy(-1),y=w.getShiftedBy(-g.length),C=n.model.createRange(y,w);this._applyAutoLink(g,C)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,i=n.model,s=n.commands.get("enter");s&&s.on("execute",()=>{const l=i.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const d=i.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const n=this.editor,i=n.model,s=n.commands.get("shiftEnter");s&&s.on("execute",()=>{const l=i.document.selection.getFirstPosition(),d=i.createRange(i.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(n){const i=this.editor.model,{text:s,range:l}=E5(n,i),d=Wz(s);if(d){const f=i.createRange(l.end.getShiftedBy(-d.length),l.end);this._applyAutoLink(d,f)}}_applyAutoLink(n,i){const s=this.editor.model,l=this.editor.config.get("link.defaultProtocol"),d=DE(n,l);!this.isEnabled||!qhe(i,s)||!zz(d)||Whe(i)||this._persistAutoLink(d,i)}_persistAutoLink(n,i){const s=this.editor.model,l=this.editor.plugins.get("Delete");s.enqueueChange(d=>{d.setAttribute("linkHref",n,i),s.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function Hhe(c){return c.length>jhe&&c[c.length-1]===" "&&c[c.length-2]!==" "}function Wz(c){const n=Vhe.exec(c);return n?n[Uhe]:null}function qhe(c,n){return n.schema.checkAttributeInSelection(n.createSelection(c),"linkHref")}function Whe(c){const n=c.start.nodeAfter;return n&&n.hasAttribute("linkHref")}class Ghe extends ge{static get requires(){return[Nhe,Fhe,$he]}static get pluginName(){return"Link"}}class Gz extends vt{constructor(n,i){super(n),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const i=this.editor.model,s=i.document,l=Array.from(s.selection.getSelectedBlocks()).filter(f=>Yz(f,i.schema)),d=n.forceValue!==void 0?!n.forceValue:this.value;i.change(f=>{if(d){let g=l[l.length-1].nextSibling,w=Number.POSITIVE_INFINITY,y=[];for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")!==0;){const C=g.getAttribute("listIndent");C<w&&(w=C);const x=C-w;y.push({element:g,listIndent:x}),g=g.nextSibling}y=y.reverse();for(const C of y)f.setAttribute("listIndent",C.listIndent,C.element)}if(!d){let g=Number.POSITIVE_INFINITY;for(const w of l)w.is("element","listItem")&&w.getAttribute("listIndent")<g&&(g=w.getAttribute("listIndent"));g=g===0?1:g,Kz(l,!0,g),Kz(l,!1,g)}for(const g of l.reverse())d&&g.name=="listItem"?f.rename(g,"paragraph"):!d&&g.name!="listItem"?(f.setAttributes({listType:this.type,listIndent:0},g),f.rename(g,"listItem")):!d&&g.name=="listItem"&&g.getAttribute("listType")!=this.type&&f.setAttribute("listType",this.type,g);this.fire("_executeCleanup",l)})}_getValue(){const n=zn(this.editor.model.document.selection.getSelectedBlocks());return!!n&&n.is("element","listItem")&&n.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,i=this.editor.model.schema,s=zn(n.getSelectedBlocks());return s?Yz(s,i):!1}}function Kz(c,n,i){const s=n?c[0]:c[c.length-1];if(s.is("element","listItem")){let l=s[n?"previousSibling":"nextSibling"],d=s.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;)d>l.getAttribute("listIndent")&&(d=l.getAttribute("listIndent")),l.getAttribute("listIndent")==d&&c[n?"unshift":"push"](l),l=l[n?"previousSibling":"nextSibling"]}}function Yz(c,n){return n.checkChild(c.parent,"listItem")&&!n.isObject(c)}class Qz extends vt{constructor(n,i){super(n),this._indentBy=i=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,i=n.document;let s=Array.from(i.selection.getSelectedBlocks());n.change(l=>{const d=s[s.length-1];let f=d.nextSibling;for(;f&&f.name=="listItem"&&f.getAttribute("listIndent")>d.getAttribute("listIndent");)s.push(f),f=f.nextSibling;this._indentBy<0&&(s=s.reverse());for(const g of s){const w=g.getAttribute("listIndent")+this._indentBy;w<0?l.rename(g,"paragraph"):l.setAttribute("listIndent",w,g)}this.fire("_executeCleanup",s)})}_checkEnabled(){const n=zn(this.editor.model.document.selection.getSelectedBlocks());if(!n||!n.is("element","listItem"))return!1;if(this._indentBy>0){const i=n.getAttribute("listIndent"),s=n.getAttribute("listType");let l=n.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;){if(l.getAttribute("listIndent")==i)return l.getAttribute("listType")==s;l=l.previousSibling}return!1}return!0}}function Khe(c){const n=c.createContainerElement("li");return n.getFillerOffset=tfe,n}function Yhe(c,n){const i=n.mapper,s=n.writer,l=c.getAttribute("listType")=="numbered"?"ol":"ul",d=Khe(s),f=s.createContainerElement(l,null);return s.insert(s.createPositionAt(f,0),d),i.bindElements(c,d),d}function Zz(c,n,i,s){const l=n.parent,d=i.mapper,f=i.writer;let g=d.toViewPosition(s.createPositionBefore(c));const w=Xz(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),y=c.previousSibling;if(w&&w.getAttribute("listIndent")==c.getAttribute("listIndent")){const C=d.toViewElement(w);g=f.breakContainer(f.createPositionAfter(C))}else if(y&&y.name=="listItem"){g=d.toViewPosition(s.createPositionAt(y,"end"));const C=d.findMappedViewAncestor(g),x=Qhe(C);x?g=f.createPositionBefore(x):g=f.createPositionAt(C,"end")}else g=d.toViewPosition(s.createPositionBefore(c));if(g=Jz(g),f.insert(g,l),y&&y.name=="listItem"){const C=d.toViewElement(y),R=f.createRange(f.createPositionAt(C,0),g).getWalker({ignoreElementEnd:!0});for(const j of R)if(j.item.is("element","li")){const H=f.breakContainer(f.createPositionBefore(j.item)),Z=j.item.parent,de=f.createPositionAt(n,"end");To(f,de.nodeBefore,de.nodeAfter),f.move(f.createRangeOn(Z),de),R.position=H}}else{const C=l.nextSibling;if(C&&(C.is("element","ul")||C.is("element","ol"))){let x=null;for(const R of C.getChildren()){const j=d.toModelElement(R);if(j&&j.getAttribute("listIndent")>c.getAttribute("listIndent"))x=R;else break}x&&(f.breakContainer(f.createPositionAfter(x)),f.move(f.createRangeOn(x.parent),f.createPositionAt(n,"end")))}}To(f,l,l.nextSibling),To(f,l.previousSibling,l)}function To(c,n,i){return!n||!i||n.name!="ul"&&n.name!="ol"||n.name!=i.name||n.getAttribute("class")!==i.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(n))}function Jz(c){return c.getLastMatchingPosition(n=>n.item.is("uiElement"))}function Xz(c,n){const i=!!n.sameIndent,s=!!n.smallerIndent,l=n.listIndent;let d=c;for(;d&&d.name=="listItem";){const f=d.getAttribute("listIndent");if(i&&l==f||s&&l>f)return d;n.direction==="forward"?d=d.nextSibling:d=d.previousSibling}return null}function eF(c,n,i,s){c.ui.componentFactory.add(n,l=>{const d=c.commands.get(n),f=new Kt(l);return f.set({label:i,icon:s,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(d,"value","isEnabled"),f.on("execute",()=>{c.execute(n),c.editing.view.focus()}),f})}function Qhe(c){for(const n of c.getChildren())if(n.name=="ul"||n.name=="ol")return n;return null}function BE(c,n){const i=[],s=c.parent,l={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:n},d=s.getAttribute("listIndent"),f=[...new xs(l)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of f){if(!g.is("element","listItem")||g.getAttribute("listIndent")<d)break;if(!(g.getAttribute("listIndent")>d)){if(g.getAttribute("listType")!==s.getAttribute("listType")||g.getAttribute("listStyle")!==s.getAttribute("listStyle")||g.getAttribute("listReversed")!==s.getAttribute("listReversed")||g.getAttribute("listStart")!==s.getAttribute("listStart"))break;n==="backward"?i.unshift(g):i.push(g)}}return i}function Zhe(c){let i=[...c.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const l=c.change(d=>d.createPositionAt(s,0));return[...BE(l,"backward"),...BE(l,"forward")]}).flat();return i=[...new Set(i)],i}const Jhe=["disc","circle","square"],Xhe=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function efe(c){return Jhe.includes(c)?"bulleted":Xhe.includes(c)?"numbered":null}function tfe(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:hO.call(this)}class nfe extends ge{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(n){return efe(n)}getSelectedListItems(n){return Zhe(n)}getSiblingNodes(n,i){return BE(n,i)}}function tF(c){return(n,i,s)=>{const l=s.consumable;if(!l.test(i.item,"insert")||!l.test(i.item,"attribute:listType")||!l.test(i.item,"attribute:listIndent"))return;l.consume(i.item,"insert"),l.consume(i.item,"attribute:listType"),l.consume(i.item,"attribute:listIndent");const d=i.item,f=Yhe(d,s);Zz(d,f,s,c)}}function rfe(c){return(n,i,s)=>{const f=s.mapper.toViewPosition(i.position).getLastMatchingPosition(j=>!j.item.is("element","li")).nodeAfter,g=s.writer;g.breakContainer(g.createPositionBefore(f)),g.breakContainer(g.createPositionAfter(f));const w=f.parent,y=w.previousSibling,C=g.createRangeOn(w),x=g.remove(C);y&&y.nextSibling&&To(g,y,y.nextSibling);const R=s.mapper.toModelElement(f);oF(R.getAttribute("listIndent")+1,i.position,C.start,f,s,c);for(const j of g.createRangeIn(x).getItems())s.mapper.unbindViewElement(j);n.stop()}}const ife=(c,n,i)=>{if(!i.consumable.test(n.item,c.name))return;const s=i.mapper.toViewElement(n.item),l=i.writer;l.breakContainer(l.createPositionBefore(s)),l.breakContainer(l.createPositionAfter(s));const d=s.parent,f=n.attributeNewValue=="numbered"?"ol":"ul";l.rename(f,d)},ofe=(c,n,i)=>{i.consumable.consume(n.item,c.name);const l=i.mapper.toViewElement(n.item).parent,d=i.writer;To(d,l,l.nextSibling),To(d,l.previousSibling,l)};function sfe(c){return(n,i,s)=>{if(!s.consumable.consume(i.item,"attribute:listIndent"))return;const l=s.mapper.toViewElement(i.item),d=s.writer;d.breakContainer(d.createPositionBefore(l)),d.breakContainer(d.createPositionAfter(l));const f=l.parent,g=f.previousSibling,w=d.createRangeOn(f);d.remove(w),g&&g.nextSibling&&To(d,g,g.nextSibling),oF(i.attributeOldValue+1,i.range.start,w.start,l,s,c),Zz(i.item,l,s,c);for(const y of i.item.getChildren())s.consumable.consume(y,"insert")}}const nF=(c,n,i)=>{if(i.consumable.test(n.item,c.name)&&n.item.name!="listItem"){let s=i.mapper.toViewPosition(n.range.start);const l=i.writer,d=[];for(;(s.parent.name=="ul"||s.parent.name=="ol")&&(s=l.breakContainer(s),s.parent.name=="li");){const f=s,g=l.createPositionAt(s.parent,"end");if(!f.isEqual(g)){const w=l.remove(l.createRange(f,g));d.push(w)}s=l.createPositionAfter(s.parent)}if(d.length>0){for(let f=0;f<d.length;f++){const g=s.nodeBefore;if(s=l.insert(s,d[f]).end,f>0){const y=To(l,g,g.nextSibling);y&&y.parent==g&&s.offset--}}To(l,s.nodeBefore,s.nodeAfter)}}},afe=(c,n,i)=>{const s=i.mapper.toViewPosition(n.position),l=s.nodeBefore,d=s.nodeAfter;To(i.writer,l,d)},cfe=(c,n,i)=>{if(i.consumable.consume(n.viewItem,{name:!0})){const s=i.writer,l=s.createElement("listItem"),d=mfe(n.viewItem);s.setAttribute("listIndent",d,l);const f=n.viewItem.parent&&n.viewItem.parent.name=="ol"?"numbered":"bulleted";if(s.setAttribute("listType",f,l),!i.safeInsert(l,n.modelCursor))return;const g=ffe(l,n.viewItem.getChildren(),i);n.modelRange=s.createRange(n.modelCursor,g),i.updateConversionResult(l,n)}},rF=(c,n,i)=>{if(i.consumable.test(n.viewItem,{name:!0})){const s=Array.from(n.viewItem.getChildren());for(const l of s)!(l.is("element","li")||Qd(l))&&l._remove()}},lfe=(c,n,i)=>{if(i.consumable.test(n.viewItem,{name:!0})){if(n.viewItem.childCount===0)return;const s=[...n.viewItem.getChildren()];let l=!1;for(const d of s)l&&!Qd(d)&&d._remove(),Qd(d)&&(l=!0)}};function iF(c){return(n,i)=>{if(i.isPhantom)return;const s=i.modelPosition.nodeBefore;if(s&&s.is("element","listItem")){const l=i.mapper.toViewElement(s),d=l.getAncestors().find(Qd),f=c.createPositionAt(l,0).getWalker();for(const g of f)if(g.type=="elementStart"&&g.item.is("element","li")){i.viewPosition=g.previousPosition;break}else if(g.type=="elementEnd"&&g.item==d){i.viewPosition=g.nextPosition;break}}}}function ufe(c){return(n,i)=>{const s=i.viewPosition,l=s.parent,d=i.mapper;if(l.name=="ul"||l.name=="ol"){if(s.isAtEnd){const f=d.toModelElement(s.nodeBefore),g=d.getModelLength(s.nodeBefore);i.modelPosition=c.createPositionBefore(f).getShiftedBy(g)}else{const f=d.toModelElement(s.nodeAfter);i.modelPosition=c.createPositionBefore(f)}n.stop()}else if(l.name=="li"&&s.nodeBefore&&(s.nodeBefore.name=="ul"||s.nodeBefore.name=="ol")){const f=d.toModelElement(l);let g=1,w=s.nodeBefore;for(;w&&Qd(w);)g+=d.getModelLength(w),w=w.previousSibling;i.modelPosition=c.createPositionBefore(f).getShiftedBy(g),n.stop()}}}function dfe(c,n){const i=c.document.differ.getChanges(),s=new Map;let l=!1;for(const w of i)if(w.type=="insert"&&w.name=="listItem")d(w.position);else if(w.type=="insert"&&w.name!="listItem"){if(w.name!="$text"){const C=w.position.nodeAfter;C.hasAttribute("listIndent")&&(n.removeAttribute("listIndent",C),l=!0),C.hasAttribute("listType")&&(n.removeAttribute("listType",C),l=!0),C.hasAttribute("listStyle")&&(n.removeAttribute("listStyle",C),l=!0),C.hasAttribute("listReversed")&&(n.removeAttribute("listReversed",C),l=!0),C.hasAttribute("listStart")&&(n.removeAttribute("listStart",C),l=!0);for(const x of Array.from(c.createRangeIn(C)).filter(R=>R.item.is("element","listItem")))d(x.previousPosition)}const y=w.position.getShiftedBy(w.length);d(y)}else w.type=="remove"&&w.name=="listItem"?d(w.position):(w.type=="attribute"&&w.attributeKey=="listIndent"||w.type=="attribute"&&w.attributeKey=="listType")&&d(w.range.start);for(const w of s.values())f(w),g(w);return l;function d(w){const y=w.nodeBefore;if(!y||!y.is("element","listItem")){const C=w.nodeAfter;C&&C.is("element","listItem")&&s.set(C,C)}else{let C=y;if(s.has(C))return;for(let x=C.previousSibling;x&&x.is("element","listItem");x=C.previousSibling)if(C=x,s.has(C))return;s.set(y,C)}}function f(w){let y=0,C=null;for(;w&&w.is("element","listItem");){const x=w.getAttribute("listIndent");if(x>y){let R;C===null?(C=x-y,R=y):(C>x&&(C=x),R=x-C),n.setAttribute("listIndent",R,w),l=!0}else C=null,y=w.getAttribute("listIndent")+1;w=w.nextSibling}}function g(w){let y=[],C=null;for(;w&&w.is("element","listItem");){const x=w.getAttribute("listIndent");if(C&&C.getAttribute("listIndent")>x&&(y=y.slice(0,x+1)),x!=0)if(y[x]){const R=y[x];w.getAttribute("listType")!=R&&(n.setAttribute("listType",R,w),l=!0)}else y[x]=w.getAttribute("listType");C=w,w=w.nextSibling}}}const hfe=function(c,[n,i,s]){const l=this;let d=n.is("documentFragment")?n.getChild(0):n,f;if(i?f=l.createSelection(i,s):f=l.document.selection,d&&d.is("element","listItem")){const g=f.getFirstPosition();let w=null;if(g.parent.is("element","listItem")?w=g.parent:g.nodeBefore&&g.nodeBefore.is("element","listItem")&&(w=g.nodeBefore),w){const y=w.getAttribute("listIndent");if(y>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+y),d=d.nextSibling}}};function ffe(c,n,i){const{writer:s,schema:l}=i;let d=s.createPositionAfter(c);for(const f of n)if(f.name=="ul"||f.name=="ol")d=i.convertItem(f,d).modelCursor;else{const g=i.convertItem(f,s.createPositionAt(c,"end")),w=g.modelRange.start.nodeAfter;w&&w.is("element")&&!l.checkChild(c,w.name)&&(g.modelCursor.parent.is("element","listItem")?c=g.modelCursor.parent:c=pfe(g.modelCursor),d=s.createPositionAfter(c))}return d}function pfe(c){const n=new xs({startPosition:c});let i;do i=n.next();while(!i.value.item.is("element","listItem"));return i.value.item}function oF(c,n,i,s,l,d){const f=Xz(n.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),g=l.mapper,w=l.writer,y=f?f.getAttribute("listIndent"):null;let C;if(!f)C=i;else if(y==c){const x=g.toViewElement(f).parent;C=w.createPositionAfter(x)}else{const x=d.createPositionAt(f,"end");C=g.toViewPosition(x)}C=Jz(C);for(const x of[...s.getChildren()])Qd(x)&&(C=w.move(w.createRangeOn(x),C).end,To(w,x,x.nextSibling),To(w,x.previousSibling,x))}function Qd(c){return c.is("element","ol")||c.is("element","ul")}function mfe(c){let n=0,i=c.parent;for(;i;){if(i.is("element","li"))n++;else{const s=i.previousSibling;s&&s.is("element","li")&&n++}i=i.parent}return n}var sF=a(9989),zE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zE.insert="head",zE.singleton=!0,at()(sF.Z,zE),sF.Z.locals;class gfe extends ge{static get pluginName(){return"ListEditing"}static get requires(){return[Xw,pc,nfe]}init(){const n=this.editor;n.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const i=n.data,s=n.editing;n.model.document.registerPostFixer(d=>dfe(n.model,d)),s.mapper.registerViewToModelLength("li",FE),i.mapper.registerViewToModelLength("li",FE),s.mapper.on("modelToViewPosition",iF(s.view)),s.mapper.on("viewToModelPosition",ufe(n.model)),i.mapper.on("modelToViewPosition",iF(s.view)),n.conversion.for("editingDowncast").add(d=>{d.on("insert",nF,{priority:"high"}),d.on("insert:listItem",tF(n.model)),d.on("attribute:listType:listItem",ife,{priority:"high"}),d.on("attribute:listType:listItem",ofe,{priority:"low"}),d.on("attribute:listIndent:listItem",sfe(n.model)),d.on("remove:listItem",rfe(n.model)),d.on("remove",afe,{priority:"low"})}),n.conversion.for("dataDowncast").add(d=>{d.on("insert",nF,{priority:"high"}),d.on("insert:listItem",tF(n.model))}),n.conversion.for("upcast").add(d=>{d.on("element:ul",rF,{priority:"high"}),d.on("element:ol",rF,{priority:"high"}),d.on("element:li",lfe,{priority:"high"}),d.on("element:li",cfe)}),n.model.on("insertContent",hfe,{priority:"high"}),n.commands.add("numberedList",new Gz(n,"numbered")),n.commands.add("bulletedList",new Gz(n,"bulleted")),n.commands.add("indentList",new Qz(n,"forward")),n.commands.add("outdentList",new Qz(n,"backward"));const l=s.view.document;this.listenTo(l,"enter",(d,f)=>{const g=this.editor.model.document,w=g.selection.getLastPosition().parent;g.selection.isCollapsed&&w.name=="listItem"&&w.isEmpty&&(this.editor.execute("outdentList"),f.preventDefault(),d.stop())},{context:"li"}),this.listenTo(l,"delete",(d,f)=>{if(f.direction!=="backward")return;const g=this.editor.model.document.selection;if(!g.isCollapsed)return;const w=g.getFirstPosition();if(!w.isAtStart)return;const y=w.parent;y.name!=="listItem"||y.previousSibling&&y.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),f.preventDefault(),d.stop())},{context:"li"}),this.listenTo(n.editing.view.document,"tab",(d,f)=>{const g=f.shiftKey?"outdentList":"indentList";this.editor.commands.get(g).isEnabled&&(n.execute(g),f.stopPropagation(),f.preventDefault(),d.stop())},{context:"li"})}afterInit(){const n=this.editor.commands,i=n.get("indent"),s=n.get("outdent");i&&i.registerChildCommand(n.get("indentList")),s&&s.registerChildCommand(n.get("outdentList"))}}function FE(c){let n=1;for(const i of c.getChildren())if(i.name=="ul"||i.name=="ol")for(const s of i.getChildren())n+=FE(s);return n}const bfe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',wfe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class kfe extends ge{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;eF(this.editor,"numberedList",n("Numbered List"),bfe),eF(this.editor,"bulletedList",n("Bulleted List"),wfe)}}class vfe extends ge{static get requires(){return[gfe,kfe]}static get pluginName(){return"List"}}function aF(c,n){return s=>{s.on("attribute:url:media",i)};function i(s,l,d){if(!d.consumable.consume(l.item,s.name))return;const f=l.attributeNewValue,g=d.writer,w=d.mapper.toViewElement(l.item),y=[...w.getChildren()].find(x=>x.getCustomProperty("media-content"));g.remove(y);const C=c.getMediaViewElement(g,f,n);g.insert(g.createPositionAt(w,0),C)}}function yfe(c,n,i){return n.setCustomProperty("media",!0,c),J1(c,n,{label:i})}function cF(c,n,i,s){return c.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(c,i,s),c.createSlot()])}function lF(c){const n=c.getSelectedElement();return n&&n.is("element","media")?n:null}function uF(c,n,i,s){c.change(l=>{const d=l.createElement("media",{url:n});c.insertObject(d,i,null,{setSelection:"on",findOptimalPosition:s})})}class _fe extends vt{refresh(){const n=this.editor.model,i=n.document.selection,s=lF(i);this.value=s?s.getAttribute("url"):null,this.isEnabled=Cfe(i)||Afe(i,n)}execute(n){const i=this.editor.model,s=i.document.selection,l=lF(s);l?i.change(d=>{d.setAttribute("url",n,l)}):uF(i,n,s,!0)}}function Afe(c,n){let s=cB(c,n).start.parent;return s.isEmpty&&!n.schema.isLimit(s)&&(s=s.parent),n.schema.checkChild(s,"media")}function Cfe(c){const n=c.getSelectedElement();return!!n&&n.name==="media"}const Efe='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',xfe="0 0 64 42";class Sfe{constructor(n,i){const s=i.providers,l=i.extraProviders||[],d=new Set(i.removeProviders),f=s.concat(l).filter(g=>{const w=g.name;return w?!d.has(w):(ee("media-embed-no-provider-name",{provider:g}),!1)});this.locale=n,this.providerDefinitions=f}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,i,s){return this._getMedia(i).getViewElement(n,s)}_getMedia(n){if(!n)return new dF(this.locale);n=n.trim();for(const i of this.providerDefinitions){const s=i.html,l=Tr(i.url);for(const d of l){const f=this._getUrlMatches(n,d);if(f)return new dF(this.locale,n,f,s)}}return null}_getUrlMatches(n,i){let s=n.match(i);if(s)return s;let l=n.replace(/^https?:\/\//,"");return s=l.match(i),s||(l=l.replace(/^www\./,""),s=l.match(i),s)?s:null}}class dF{constructor(n,i,s,l){this.url=this._getValidUrl(i),this._locale=n,this._match=s,this._previewRenderer=l}getViewElement(n,i){const s={};let l;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const d=this._getPreviewHtml(i);l=n.createRawElement("div",s,(f,g)=>{g.setContentOf(f,d)})}else this.url&&(s.url=this.url),l=n.createEmptyElement(i.elementName,s);return n.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new Vl,i=this._locale.t;return n.content=Efe,n.viewBox=xfe,new Vi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var hF=a(952),jE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jE.insert="head",jE.singleton=!0,at()(hF.Z,jE),hF.Z.locals;class sk extends ge{static get pluginName(){return"MediaEmbedEditing"}constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],l=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Sfe(n.locale,n.config.get("mediaEmbed"))}init(){const n=this.editor,i=n.model.schema,s=n.t,l=n.conversion,d=n.config.get("mediaEmbed.previewsInData"),f=n.config.get("mediaEmbed.elementName"),g=this.registry;n.commands.add("mediaEmbed",new _fe(n)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:y})=>{const C=w.getAttribute("url");return cF(y,g,C,{elementName:f,renderMediaPreview:C&&d})}}),l.for("dataDowncast").add(aF(g,{elementName:f,renderMediaPreview:d})),l.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:y})=>{const C=w.getAttribute("url"),x=cF(y,g,C,{elementName:f,renderForEditingView:!0});return yfe(x,y,s("media widget"))}}),l.for("editingDowncast").add(aF(g,{elementName:f,renderForEditingView:!0})),l.for("upcast").elementToElement({view:w=>["oembed",f].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:y})=>{const C=w.getAttribute("url");if(g.hasMedia(C))return y.createElement("media",{url:C})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:y})=>{const C=w.getAttribute("data-oembed-url");if(g.hasMedia(C))return y.createElement("media",{url:C})}}).add(w=>{w.on("element:figure",y);function y(C,x,R){if(!R.consumable.consume(x.viewItem,{name:!0,classes:"media"}))return;const{modelRange:j,modelCursor:H}=R.convertChildren(x.viewItem,x.modelCursor);x.modelRange=j,x.modelCursor=H,zn(j.getItems())||R.consumable.revert(x.viewItem,{name:!0,classes:"media"})}})}}const Tfe=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Ife extends ge{static get requires(){return[EB,pc,DB]}static get pluginName(){return"AutoMediaEmbed"}constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}init(){const n=this.editor,i=n.model.document;this.listenTo(n.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const s=i.selection.getFirstRange(),l=Gr.fromPosition(s.start);l.stickiness="toPrevious";const d=Gr.fromPosition(s.end);d.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(l,d),l.detach(),d.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(St.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,i){const s=this.editor,l=s.plugins.get(sk).registry,d=new es(n,i),f=d.getWalker({ignoreElementEnd:!0});let g="";for(const y of f)y.item.is("$textProxy")&&(g+=y.item.data);if(g=g.trim(),!g.match(Tfe)){d.detach();return}if(!l.hasMedia(g)){d.detach();return}if(!s.commands.get("mediaEmbed").isEnabled){d.detach();return}this._positionToInsert=Gr.fromPosition(n),this._timeoutId=St.window.setTimeout(()=>{s.model.change(y=>{this._timeoutId=null,y.remove(d),d.detach();let C;this._positionToInsert.root.rootName!=="$graveyard"&&(C=this._positionToInsert),uF(s.model,g,C,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get("Delete").requestUndoOnBackspace()},100)}}var fF=a(3525),VE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};VE.insert="head",VE.singleton=!0,at()(fF.Z,VE),fF.Z.locals;class Dfe extends Tt{constructor(n,i){super(i);const s=i.t;this.focusTracker=new ji,this.keystrokes=new Ao,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(s("Cancel"),mn.cancel,"ck-button-cancel","cancel"),this._focusables=new da,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),p(this)}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const i=s=>s.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",(s,l)=>{l.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const i=n(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,i=new x1(this.locale,S1),s=i.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),i.label=n("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(n,i,s,l){const d=new Kt(this.locale);return d.set({label:n,icon:i,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}}const Pfe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class Mfe extends ge{static get requires(){return[sk]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,i=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",s=>{const l=xo(s);return this._setUpDropdown(l,i),l})}_setUpDropdown(n,i){const s=this.editor,l=s.t,d=n.buttonView,f=s.plugins.get(sk).registry;n.once("change:isOpen",()=>{const g=new Dfe(Nfe(s.t,f),s.locale);n.panelView.children.add(g),d.on("open",()=>{g.disableCssTransitions(),g.url=i.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{g.isValid()&&(s.execute("mediaEmbed",g.url),s.editing.view.focus())}),n.on("change:isOpen",()=>g.resetFormStatus()),n.on("cancel",()=>{s.editing.view.focus()}),g.delegate("submit","cancel").to(n),g.urlInputView.bind("value").to(i,"value"),g.urlInputView.bind("isReadOnly").to(i,"isEnabled",w=>!w)}),n.bind("isEnabled").to(i),d.set({label:l("Insert media"),icon:Pfe,tooltip:!0})}}function Nfe(c,n){return[i=>{if(!i.url.length)return c("The URL must not be empty.")},i=>{if(!n.hasMedia(i.url))return c("This media URL is not supported.")}]}var pF=a(5777),UE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};UE.insert="head",UE.singleton=!0,at()(pF.Z,UE),pF.Z.locals;class Rfe extends ge{static get requires(){return[sk,Mfe,Ife,Dp]}static get pluginName(){return"MediaEmbed"}}function Ofe(c,n){for(const i of c.getChildren())if(i.is("element","b")&&i.getStyle("font-weight")==="normal"){const s=c.getChildIndex(i);n.remove(i),n.insertChild(s,i.getChildren(),c)}}function Lfe(c,n){const i=new Nw(n.document.stylesProcessor),s=new Bw(i,{renderingMode:"data"}),l=s.blockElements,d=s.inlineObjectElements,f=[];for(const g of n.createRangeIn(c)){const w=g.item;if(w.is("element","br")){const y=mF(w,"forward",n,{blockElements:l,inlineObjectElements:d}),C=mF(w,"backward",n,{blockElements:l,inlineObjectElements:d}),x=gF(y,l);(gF(C,l)||x)&&f.push(w)}}for(const g of f)g.hasClass("Apple-interchange-newline")?n.remove(g):n.replace(g,n.createElement("p"))}function mF(c,n,i,{blockElements:s,inlineObjectElements:l}){let d=i.createPositionAt(c,n=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:f})=>f.is("element")&&!s.includes(f.name)&&!l.includes(f.name),{direction:n}),n=="forward"?d.nodeAfter:d.nodeBefore}function gF(c,n){return!!c&&c.is("element")&&n.includes(c.name)}function Bfe(c,n){if(!c.childCount)return;const i=new Xl(c.document),s=Ffe(c,i);if(!s.length)return;let l=null,d=1;s.forEach((f,g)=>{const w=Gfe(s[g-1],f),y=w?null:s[g-1],C=Yfe(y,f);if(w&&(l=null,d=1),!l||C!==0){const R=jfe(f,n);if(!l)l=bF(R,f.element,i);else if(f.indent>d){const j=l.getChild(l.childCount-1),H=j.getChild(j.childCount-1);l=bF(R,H,i),d+=1}else if(f.indent<d){const j=d-f.indent;l=Qfe(l,j),d=f.indent}f.indent<=d&&(l.is("element",R.type)||(l=i.rename(R.type,l)))}const x=Hfe(f.element,i);i.appendChild(x,l)})}function zfe(c,n){for(const i of n.createRangeIn(c)){const s=i.item;if(s.is("element","li")){const l=s.getChild(0);l&&l.is("element","p")&&n.unwrapElement(l)}}}function Ffe(c,n){const i=n.createRangeIn(c),s=new _s({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),l=[];for(const d of i)if(d.type==="elementStart"&&s.match(d.item)){const f=qfe(d.item);l.push({element:d.item,id:f.id,order:f.order,indent:f.indent})}return l}function jfe(c,n){const i=new RegExp(`@list l${c.id}:level${c.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,d=i.exec(n);let f="decimal",g="ol",w=null;if(d&&d[1]){const y=s.exec(d[1]);if(y&&y[1]&&(f=y[1].trim(),g=f!=="bullet"&&f!=="image"?"ol":"ul"),f==="bullet"){const C=Vfe(c.element);C&&(f=C)}else{const C=l.exec(d[1]);C&&C[1]&&(w=parseInt(C[1]))}}return{type:g,startIndex:w,style:$fe(f)}}function Vfe(c){const n=Ufe(c);if(!n)return null;const i=n._data;return i==="o"?"circle":i===""?"disc":i===""?"square":null}function Ufe(c){if(c.getChild(0).is("$text"))return null;for(const n of c.getChildren()){if(!n.is("element","span"))continue;const i=n.getChild(0);return i.is("$text")?i:i.getChild(0)}return null}function $fe(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function bF(c,n,i){const s=n.parent,l=i.createElement(c.type),d=s.getChildIndex(n)+1;return i.insertChild(d,l,s),c.style&&i.setStyle("list-style-type",c.style,l),c.startIndex&&c.startIndex>1&&i.setAttribute("start",c.startIndex,l),l}function Hfe(c,n){return Wfe(c,n),n.rename("li",c)}function qfe(c){const n={},i=c.getStyle("mso-list");if(i){const s=i.match(/(^|\s{1,100})l(\d+)/i),l=i.match(/\s{0,100}lfo(\d+)/i),d=i.match(/\s{0,100}level(\d+)/i);s&&l&&d&&(n.id=s[2],n.order=l[1],n.indent=parseInt(d[1]))}return n}function Wfe(c,n){const i=new _s({name:"span",styles:{"mso-list":"Ignore"}}),s=n.createRangeIn(c);for(const l of s)l.type==="elementStart"&&i.match(l.item)&&n.remove(l.item)}function Gfe(c,n){if(!c)return!0;if(c.id!==n.id)return n.indent-c.indent!==1;const i=n.element.previousSibling;return i?!Kfe(i):!0}function Kfe(c){return c.is("element","ol")||c.is("element","ul")}function Yfe(c,n){return c?n.indent-c.indent:n.indent-1}function Qfe(c,n){const i=c.getAncestors({parentFirst:!0});let s=null,l=0;for(const d of i)if((d.is("element","ul")||d.is("element","ol"))&&l++,l===n){s=d;break}return s}const Zfe=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Jfe{constructor(n){this.document=n}isActive(n){return Zfe.test(n)}execute(n){const i=new Xl(this.document),{body:s}=n._parsedData;Ofe(s,i),zfe(s,i),Lfe(s,i),n.content=s}}function Xfe(c,n){if(!c.childCount)return;const i=new Xl(c.document),s=tpe(c,i);npe(s,c,i),ipe(s,c,i),rpe(c,i);const l=ope(c,i);l.length&&ape(l,spe(n),i)}function epe(c){return btoa(c.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}function tpe(c,n){const i=n.createRangeIn(c),s=new _s({name:/v:(.+)/}),l=[];for(const d of i){if(d.type!="elementStart")continue;const f=d.item,g=f.previousSibling,w=g&&g.is("element")?g.name:null;s.match(f)&&f.getAttribute("o:gfxdata")&&w!=="v:shapetype"&&l.push(d.item.getAttribute("id"))}return l}function npe(c,n,i){const s=i.createRangeIn(n),l=new _s({name:"img"}),d=[];for(const f of s)if(f.item.is("element")&&l.match(f.item)){const g=f.item,w=g.getAttribute("v:shapes")?g.getAttribute("v:shapes").split(" "):[];w.length&&w.every(y=>c.indexOf(y)>-1)?d.push(g):g.getAttribute("src")||d.push(g)}for(const f of d)i.remove(f)}function rpe(c,n){const i=n.createRangeIn(c),s=new _s({name:/v:(.+)/}),l=[];for(const d of i)d.type=="elementStart"&&s.match(d.item)&&l.push(d.item);for(const d of l)n.remove(d)}function ipe(c,n,i){const s=i.createRangeIn(n),l=[];for(const g of s)if(g.type=="elementStart"&&g.item.is("element","v:shape")){const w=g.item.getAttribute("id");if(c.includes(w))continue;d(g.item.parent.getChildren(),w)||l.push(g.item)}for(const g of l){const w={src:f(g)};g.hasAttribute("alt")&&(w.alt=g.getAttribute("alt"));const y=i.createElement("img",w);i.insertChild(g.index+1,y,g.parent)}function d(g,w){for(const y of g)if(y.is("element")&&(y.name=="img"&&y.getAttribute("v:shapes")==w||d(y.getChildren(),w)))return!0;return!1}function f(g){for(const w of g.getChildren())if(w.is("element")&&w.getAttribute("src"))return w.getAttribute("src")}}function ope(c,n){const i=n.createRangeIn(c),s=new _s({name:"img"}),l=[];for(const d of i)d.item.is("element")&&s.match(d.item)&&d.item.getAttribute("src").startsWith("file://")&&l.push(d.item);return l}function spe(c){if(!c)return[];const n=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,i=new RegExp("(?:("+n.source+"))([\\da-fA-F\\s]+)\\}","g"),s=c.match(i),l=[];if(s)for(const d of s){let f=!1;d.includes("\\pngblip")?f="image/png":d.includes("\\jpegblip")&&(f="image/jpeg"),f&&l.push({hex:d.replace(n,"").replace(/[^\da-fA-F]/g,""),type:f})}return l}function ape(c,n,i){if(c.length===n.length)for(let s=0;s<c.length;s++){const l=`data:${n[s].type};base64,${epe(n[s].hex)}`;i.setAttribute("src",l,c[s])}}const cpe=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,lpe=/xmlns:o="urn:schemas-microsoft-com/i;class upe{constructor(n){this.document=n}isActive(n){return cpe.test(n)||lpe.test(n)}execute(n){const{body:i,stylesString:s}=n._parsedData;Bfe(i,s),Xfe(i,n.dataTransfer.getData("text/rtf")),n.content=i}}function dpe(c){return wF(wF(c)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function hpe(c){c.querySelectorAll("span[style*=spacerun]").forEach(n=>{const i=n,s=i.innerText.length||0;i.innerText=Array(s+1).join(" ").substr(0,s)})}function wF(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function fpe(c,n){const i=new DOMParser;c=c.replace(/<!--\[if gte vml 1]>/g,"");const s=dpe(gpe(c)),l=i.parseFromString(s,"text/html");hpe(l);const d=l.body.innerHTML,f=ppe(l,n),g=mpe(l);return{body:f,bodyString:d,styles:g.styles,stylesString:g.stylesString}}function ppe(c,n){const i=new Nw(n),s=new Bw(i,{renderingMode:"data"}),l=c.createDocumentFragment(),d=c.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);return s.domToView(l,{skipComments:!0})}function mpe(c){const n=[],i=[],s=Array.from(c.getElementsByTagName("style"));for(const l of s)l.sheet&&l.sheet.cssRules&&l.sheet.cssRules.length&&(n.push(l.sheet),i.push(l.innerHTML));return{styles:n,stylesString:i.join(" ")}}function gpe(c){const n="</body>",i="</html>",s=c.indexOf(n);if(s<0)return c;const l=c.indexOf(i,s+n.length);return c.substring(0,s+n.length)+(l>=0?c.substring(l):"")}class bpe extends ge{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ts]}init(){const n=this.editor,i=n.editing.view.document,s=[];s.push(new upe(i)),s.push(new Jfe(i)),n.plugins.get("ClipboardPipeline").on("inputTransformation",(l,d)=>{if(d._isTransformedWithPasteFromOffice||n.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const g=d.dataTransfer.getData("text/html"),w=s.find(y=>y.isActive(g));w&&(d._parsedData=fpe(g,i.stylesProcessor),w.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}class wpe extends ge{static get requires(){return[hE,So]}static get pluginName(){return"PictureEditing"}afterInit(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),n.plugins.has("ImageInlineEditing")&&n.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const n=this.editor,i=n.conversion,s=n.plugins.get("ImageUtils");i.for("upcast").add(Bue(s)),i.for("downcast").add(zue(s))}_setupImageUploadEditingIntegration(){const n=this.editor;n.plugins.has("ImageUploadEditing")&&this.listenTo(n.plugins.get("ImageUploadEditing"),"uploadComplete",(i,{imageElement:s,data:l})=>{const d=l.sources;d&&n.model.change(f=>{f.setAttributes({sources:d},s)})})}}function Qn(c,n,i,s,l=1){n>l?s.setAttribute(c,n,i):s.removeAttribute(c,i)}function iu(c,n,i={}){const s=c.createElement("tableCell",i);return c.insertElement("paragraph",s),c.insert(s,n),s}function $E(c,n){const i=n.parent.parent,s=parseInt(i.getAttribute("headingColumns")||0),{column:l}=c.getCellLocation(n);return!!s&&l<s}function kpe(){return c=>{c.on("element:figure",(n,i,s)=>{if(!s.consumable.test(i.viewItem,{name:!0,classes:"table"}))return;const l=_pe(i.viewItem);if(!l||!s.consumable.test(l,{name:!0}))return;s.consumable.consume(i.viewItem,{name:!0,classes:"table"});const d=s.convertItem(l,i.modelCursor),f=zn(d.modelRange.getItems());if(!f){s.consumable.revert(i.viewItem,{name:!0,classes:"table"});return}s.convertChildren(i.viewItem,s.writer.createPositionAt(f,"end")),s.updateConversionResult(f,i)})}}function vpe(){return c=>{c.on("element:table",(n,i,s)=>{const l=i.viewItem;if(!s.consumable.test(l,{name:!0}))return;const{rows:d,headingRows:f,headingColumns:g}=Ape(l),w={};g&&(w.headingColumns=g),f&&(w.headingRows=f);const y=s.writer.createElement("table",w);if(s.safeInsert(y,i.modelCursor)){if(s.consumable.consume(l,{name:!0}),d.forEach(C=>s.convertItem(C,s.writer.createPositionAt(y,"end"))),s.convertChildren(l,s.writer.createPositionAt(y,"end")),y.isEmpty){const C=s.writer.createElement("tableRow");s.writer.insert(C,s.writer.createPositionAt(y,"end")),iu(s.writer,s.writer.createPositionAt(C,"end"))}s.updateConversionResult(y,i)}})}}function ype(){return c=>{c.on("element:tr",(n,i)=>{i.viewItem.isEmpty&&i.modelCursor.index==0&&n.stop()},{priority:"high"})}}function kF(c){return n=>{n.on(`element:${c}`,(i,s,{writer:l})=>{if(!s.modelRange)return;const d=s.modelRange.start.nodeAfter,f=l.createPositionAt(d,0);if(s.viewItem.isEmpty){l.insertElement("paragraph",f);return}const g=Array.from(d.getChildren());if(g.every(w=>w.is("element","$marker"))){const w=l.createElement("paragraph");l.insert(w,l.createPositionAt(d,0));for(const y of g)l.move(l.createRangeOn(y),l.createPositionAt(w,"end"))}},{priority:"low"})}}function _pe(c){for(const n of c.getChildren())if(n.is("element","table"))return n}function Ape(c){const n={headingRows:0,headingColumns:0},i=[],s=[];let l;for(const d of Array.from(c.getChildren()))if(d.name==="tbody"||d.name==="thead"||d.name==="tfoot"){d.name==="thead"&&!l&&(l=d);const f=Array.from(d.getChildren()).filter(g=>g.is("element","tr"));for(const g of f)if(g.parent.name==="thead"&&g.parent===l)n.headingRows++,i.push(g);else{s.push(g);const w=Cpe(g);w>n.headingColumns&&(n.headingColumns=w)}}return n.rows=[...i,...s],n}function Cpe(c){let n=0,i=0;const s=Array.from(c.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;i<s.length&&s[i].name==="th";){const l=s[i],d=parseInt(l.getAttribute("colspan")||1);n=n+d,i++}return n}class Qt{constructor(n,i={}){this._table=n,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const l=n.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const d=parseInt(l.getAttribute("colspan")||1),f=parseInt(l.getAttribute("rowspan")||1);(d>1||f>1)&&this._recordSpans(l,f,d),this._shouldSkipSlot()||(i=this._formatOutValue(l)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,i=this._row,s=this._column){return{done:!1,value:new Epe(this,n,i,s)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),i=this._row<this._startRow,s=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return n||i||s||l}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,i,s){const l={cell:n,row:this._row,column:this._column};for(let d=this._row;d<this._row+i;d++)for(let f=this._column;f<this._column+s;f++)(d!=this._row||f!=this._column)&&this._markSpannedCell(d,f,l)}_markSpannedCell(n,i,s){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(i,s)}}class Epe{constructor(n,i,s,l){this.cell=i,this.row=n._row,this.column=n._column,this.cellAnchorRow=s,this.cellAnchorColumn=l,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function vF(c,n={}){return(i,{writer:s})=>{const l=i.getAttribute("headingRows")||0,d=[];l>0&&d.push(s.createContainerElement("thead",null,s.createSlot(g=>g.is("element","tableRow")&&g.index<l))),l<c.getRows(i)&&d.push(s.createContainerElement("tbody",null,s.createSlot(g=>g.is("element","tableRow")&&g.index>=l)));const f=s.createContainerElement("figure",{class:"table"},[s.createContainerElement("table",null,d),s.createSlot(g=>!g.is("element","tableRow"))]);return n.asWidget?Spe(f,s):f}}function xpe(){return(c,{writer:n})=>c.isEmpty?n.createEmptyElement("tr"):n.createContainerElement("tr")}function yF(c={}){return(n,{writer:i})=>{const s=n.parent,l=s.parent,d=l.getChildIndex(s),f=new Qt(l,{row:d}),g=l.getAttribute("headingRows")||0,w=l.getAttribute("headingColumns")||0;for(const y of f)if(y.cell==n){const x=y.row<g||y.column<w?"th":"td";return c.asWidget?aB(i.createEditableElement(x),i):i.createContainerElement(x)}}}function _F(c={}){return(n,{writer:i})=>{if(n.parent.is("element","tableCell")&&AF(n)){if(c.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}}function AF(c){return c.parent.childCount==1&&!Tpe(c)}function Spe(c,n){return n.setCustomProperty("table",!0,c),J1(c,n,{hasSelectionHandle:!0})}function Tpe(c){return!![...c.getAttributeKeys()].length}class Ipe extends vt{refresh(){const n=this.editor.model,i=n.document.selection,s=n.schema;this.isEnabled=Dpe(i,s)}execute(n={}){const i=this.editor.model,s=this.editor.plugins.get("TableUtils"),l=this.editor.config.get("table"),d=l.defaultHeadings.rows,f=l.defaultHeadings.columns;n.headingRows===void 0&&d&&(n.headingRows=d),n.headingColumns===void 0&&f&&(n.headingColumns=f),i.change(g=>{const w=s.createTable(g,n);i.insertObject(w,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}function Dpe(c,n){const i=c.getFirstPosition().parent,s=i===i.root?i:i.parent;return n.checkChild(s,"table")}class CF extends vt{constructor(n,i={}){super(n),this.order=i.order||"below"}refresh(){const n=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=s}execute(){const n=this.editor,i=n.model.document.selection,s=n.plugins.get("TableUtils"),l=this.order==="above",d=s.getSelectionAffectedTableCells(i),f=s.getRowIndexes(d),g=l?f.first:f.last,w=d[0].findAncestor("table");s.insertRows(w,{at:l?g:g+1,copyStructureFromAbove:!l})}}class EF extends vt{constructor(n,i={}){super(n),this.order=i.order||"right"}refresh(){const n=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=s}execute(){const n=this.editor,i=n.model.document.selection,s=n.plugins.get("TableUtils"),l=this.order==="left",d=s.getSelectionAffectedTableCells(i),f=s.getColumnIndexes(d),g=l?f.first:f.last,w=d[0].findAncestor("table");s.insertColumns(w,{columns:1,at:l?g:g+1})}}class xF extends vt{constructor(n,i={}){super(n),this.direction=i.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(i,2):n.splitCellVertically(i,2)}}function SF(c,n,i){const{startRow:s,startColumn:l,endRow:d,endColumn:f}=n,g=i.createElement("table"),w=d-s+1;for(let C=0;C<w;C++)i.insertElement("tableRow",g,"end");const y=[...new Qt(c,{startRow:s,endRow:d,startColumn:l,endColumn:f,includeAllSlots:!0})];for(const{row:C,column:x,cell:R,isAnchor:j,cellAnchorRow:H,cellAnchorColumn:Z}of y){const de=C-s,Me=g.getChild(de);if(!j)(H<s||Z<l)&&iu(i,i.createPositionAt(Me,"end"));else{const je=i.cloneElement(R);i.append(je,Me),MF(je,C,x,d,f,i)}}return Ppe(g,c,s,l,i),g}function TF(c,n,i=0){const s=[],l=new Qt(c,{startRow:i,endRow:n-1});for(const d of l){const{row:f,cellHeight:g}=d,w=f+g-1;f<n&&n<=w&&s.push(d)}return s}function IF(c,n,i){const s=c.parent,l=s.parent,d=s.index,f=parseInt(c.getAttribute("rowspan")),g=n-d,w={},y=f-g;y>1&&(w.rowspan=y);const C=parseInt(c.getAttribute("colspan")||1);C>1&&(w.colspan=C);const x=d,R=x+g,j=[...new Qt(l,{startRow:x,endRow:R,includeAllSlots:!0})];let H=null,Z;for(const de of j){const{row:Me,column:je,cell:Ot}=de;Ot===c&&Z===void 0&&(Z=je),Z!==void 0&&Z===je&&Me===R&&(H=iu(i,de.getPositionBefore(),w))}return Qn("rowspan",g,c,i),H}function DF(c,n){const i=[],s=new Qt(c);for(const l of s){const{column:d,cellWidth:f}=l,g=d+f-1;d<n&&n<=g&&i.push(l)}return i}function PF(c,n,i,s){const l=parseInt(c.getAttribute("colspan")),d=i-n,f={},g=l-d;g>1&&(f.colspan=g);const w=parseInt(c.getAttribute("rowspan")||1);w>1&&(f.rowspan=w);const y=iu(s,s.createPositionAfter(c),f);return Qn("colspan",d,c,s),y}function MF(c,n,i,s,l,d){const f=parseInt(c.getAttribute("colspan")||1),g=parseInt(c.getAttribute("rowspan")||1);if(i+f-1>l){const C=l-i+1;Qn("colspan",C,c,d,1)}if(n+g-1>s){const C=s-n+1;Qn("rowspan",C,c,d,1)}}function Ppe(c,n,i,s,l){const d=parseInt(n.getAttribute("headingRows")||0);if(d>0){const g=d-i;Qn("headingRows",g,c,l,0)}const f=parseInt(n.getAttribute("headingColumns")||0);if(f>0){const g=f-s;Qn("headingColumns",g,c,l,0)}}function HE(c,n){const i=n.getColumns(c),s=new Array(i).fill(0);for(const{column:d}of new Qt(c))s[d]++;const l=s.reduce((d,f,g)=>f?d:[...d,g],[]);if(l.length>0){const d=l[l.length-1];return n.removeColumns(c,{at:d}),!0}return!1}function qE(c,n){const i=[],s=n.getRows(c);for(let l=0;l<s;l++)c.getChild(l).isEmpty&&i.push(l);if(i.length>0){const l=i[i.length-1];return n.removeRows(c,{at:l}),!0}return!1}function WE(c,n){HE(c,n)||qE(c,n)}function NF(c,n){const i=Array.from(new Qt(c,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(i.every(({cellHeight:d})=>d===1))return n.lastRow;const l=i[0].cellHeight-1;return n.lastRow+l}function RF(c,n){const i=Array.from(new Qt(c,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(i.every(({cellWidth:d})=>d===1))return n.lastColumn;const l=i[0].cellWidth-1;return n.lastColumn+l}class ak extends vt{constructor(n,i){super(n),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,i=n.document,l=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],d=this.value,f=this.direction;n.change(g=>{const w=f=="right"||f=="down",y=w?l:d,C=w?d:l,x=C.parent;Rpe(C,y,g);const R=this.isHorizontal?"colspan":"rowspan",j=parseInt(l.getAttribute(R)||1),H=parseInt(d.getAttribute(R)||1);g.setAttribute(R,j+H,y),g.setSelection(g.createRangeIn(y));const Z=this.editor.plugins.get("TableUtils"),de=x.findAncestor("table");WE(de,Z)})}_getMergeableCell(){const i=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),l=s.getTableCellsContainingSelection(i.selection)[0];if(!l)return;const d=this.isHorizontal?Mpe(l,this.direction,s):Npe(l,this.direction,s);if(!d)return;const f=this.isHorizontal?"rowspan":"colspan",g=parseInt(l.getAttribute(f)||1);if(parseInt(d.getAttribute(f)||1)===g)return d}}function Mpe(c,n,i){const l=c.parent.parent,d=n=="right"?c.nextSibling:c.previousSibling,f=(l.getAttribute("headingColumns")||0)>0;if(!d)return;const g=n=="right"?c:d,w=n=="right"?d:c,{column:y}=i.getCellLocation(g),{column:C}=i.getCellLocation(w),x=parseInt(g.getAttribute("colspan")||1),R=$E(i,g),j=$E(i,w);return f&&R!=j?void 0:y+x===C?d:void 0}function Npe(c,n,i){const s=c.parent,l=s.parent,d=l.getChildIndex(s);if(n=="down"&&d===i.getRows(l)-1||n=="up"&&d===0)return;const f=parseInt(c.getAttribute("rowspan")||1),g=l.getAttribute("headingRows")||0,w=n=="down"&&d+f===g,y=n=="up"&&d===g;if(g&&(w||y))return;const C=parseInt(c.getAttribute("rowspan")||1),x=n=="down"?d+C:d,R=[...new Qt(l,{endRow:x})],H=R.find(de=>de.cell===c).column,Z=R.find(({row:de,cellHeight:Me,column:je})=>je!==H?!1:n=="down"?de===x:x===de+Me);return Z&&Z.cell}function Rpe(c,n,i){OF(c)||(OF(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(c),i.createPositionAt(n,"end"))),i.remove(c)}function OF(c){return c.childCount==1&&c.getChild(0).is("element","paragraph")&&c.getChild(0).isEmpty}class Ope extends vt{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const l=s.findAncestor("table"),f=this.editor.plugins.get("TableUtils").getRows(l)-1,g=n.getRowIndexes(i),w=g.first===0&&g.last===f;this.isEnabled=!w}else this.isEnabled=!1}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=i.getRowIndexes(s),d=s[0],f=d.findAncestor("table"),g=i.getCellLocation(d).column;n.change(w=>{const y=l.last-l.first+1;i.removeRows(f,{at:l.first,rows:y});const C=Lpe(f,l.first,g,i.getRows(f));w.setSelection(w.createPositionAt(C,0))})}}function Lpe(c,n,i,s){const l=c.getChild(Math.min(n,s-1));let d=l.getChild(0),f=0;for(const g of l.getChildren()){if(f>i)return d;d=g,f+=parseInt(g.getAttribute("colspan")||1)}return d}class Bpe extends vt{refresh(){const n=this.editor.plugins.get("TableUtils"),i=n.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const l=s.findAncestor("table"),d=n.getColumns(l),{first:f,last:g}=n.getColumnIndexes(i);this.isEnabled=g-f<d-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[i,s]=Fpe(this.editor.model.document.selection,n),l=i.parent.parent,d=[...new Qt(l)],f={first:d.find(w=>w.cell===i).column,last:d.find(w=>w.cell===s).column},g=zpe(d,i,s,f);this.editor.model.change(w=>{const y=f.last-f.first+1;this.editor.plugins.get("TableUtils").removeColumns(l,{at:f.first,columns:y}),w.setSelection(w.createPositionAt(g,0))})}}function zpe(c,n,i,s){return parseInt(i.getAttribute("colspan")||1)>1?i:n.previousSibling||i.nextSibling?i.nextSibling||n.previousSibling:s.first?c.reverse().find(({column:d})=>d<s.first).cell:c.reverse().find(({column:d})=>d>s.last).cell}function Fpe(c,n){const i=n.getSelectionAffectedTableCells(c),s=i[0],l=i.pop(),d=[s,l];return s.isBefore(l)?d:d.reverse()}class jpe extends vt{refresh(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=n.getSelectionAffectedTableCells(i.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(d=>this._isInHeading(d,d.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=i.getSelectionAffectedTableCells(s.document.selection),d=l[0].findAncestor("table"),{first:f,last:g}=i.getRowIndexes(l),w=this.value?f:g+1,y=d.getAttribute("headingRows")||0;s.change(C=>{if(w){const x=w>y?y:0,R=TF(d,w,x);for(const{cell:j}of R)IF(j,w,C)}Qn("headingRows",w,d,C,0)})}_isInHeading(n,i){const s=parseInt(i.getAttribute("headingRows")||0);return!!s&&n.parent.index<s}}class Vpe extends vt{refresh(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(d=>$E(i,d))}execute(n={}){if(n.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=i.getSelectionAffectedTableCells(s.document.selection),d=l[0].findAncestor("table"),{first:f,last:g}=i.getColumnIndexes(l),w=this.value?f:g+1;s.change(y=>{if(w){const C=DF(d,w);for(const{cell:x,column:R}of C)PF(x,R,w,y)}Qn("headingColumns",w,d,y,0)})}}class Kr extends ge{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const i=n.parent,s=i.parent,l=s.getChildIndex(i),d=new Qt(s,{row:l});for(const{cell:f,row:g,column:w}of d)if(f===n)return{row:g,column:w}}createTable(n,i){const s=n.createElement("table"),l=parseInt(i.rows)||2,d=parseInt(i.columns)||2;return GE(n,s,0,l,d),i.headingRows&&Qn("headingRows",Math.min(i.headingRows,l),s,n,0),i.headingColumns&&Qn("headingColumns",Math.min(i.headingColumns,d),s,n,0),s}insertRows(n,i={}){const s=this.editor.model,l=i.at||0,d=i.rows||1,f=i.copyStructureFromAbove!==void 0,g=i.copyStructureFromAbove?l-1:l,w=this.getRows(n),y=this.getColumns(n);if(l>w)throw new S("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(C=>{const x=n.getAttribute("headingRows")||0;if(x>l&&Qn("headingRows",x+d,n,C,0),!f&&(l===0||l===w)){GE(C,n,l,d,y);return}const R=f?Math.max(l,g):l,j=new Qt(n,{endRow:R}),H=new Array(y).fill(1);for(const{row:Z,column:de,cellHeight:Me,cellWidth:je,cell:Ot}of j){const gn=Z+Me-1,Zn=Z<l&&l<=gn,Qe=Z<=g&&g<=gn;Zn?(C.setAttribute("rowspan",Me+d,Ot),H[de]=-je):f&&Qe&&(H[de]=je)}for(let Z=0;Z<d;Z++){const de=C.createElement("tableRow");C.insert(de,n,l);for(let Me=0;Me<H.length;Me++){const je=H[Me],Ot=C.createPositionAt(de,"end");je>0&&iu(C,Ot,je>1?{colspan:je}:null),Me+=Math.abs(je)-1}}})}insertColumns(n,i={}){const s=this.editor.model,l=i.at||0,d=i.columns||1;s.change(f=>{const g=n.getAttribute("headingColumns");l<g&&f.setAttribute("headingColumns",g+d,n);const w=this.getColumns(n);if(l===0||w===l){for(const C of n.getChildren())C.is("element","tableRow")&&Zd(d,f,f.createPositionAt(C,l?"end":0));return}const y=new Qt(n,{column:l,includeAllSlots:!0});for(const C of y){const{row:x,cell:R,cellAnchorColumn:j,cellAnchorRow:H,cellWidth:Z,cellHeight:de}=C;if(j<l){f.setAttribute("colspan",Z+d,R);const Me=H+de-1;for(let je=x;je<=Me;je++)y.skipRow(je)}else Zd(d,f,C.getPositionBefore())}})}removeRows(n,i){const s=this.editor.model,l=i.rows||1,d=this.getRows(n),f=i.at,g=f+l-1;if(g>d-1)throw new S("tableutils-removerows-row-index-out-of-range",this,{table:n,options:i});s.change(w=>{const{cellsToMove:y,cellsToTrim:C}=Hpe(n,f,g);if(y.size){const x=g+1;qpe(n,x,y,w)}for(let x=g;x>=f;x--)w.remove(n.getChild(x));for(const{rowspan:x,cell:R}of C)Qn("rowspan",x,R,w);$pe(n,f,g,w),HE(n,this)||qE(n,this)})}removeColumns(n,i){const s=this.editor.model,l=i.at,d=i.columns||1,f=i.at+d-1;s.change(g=>{Upe(n,{first:l,last:f},g);for(let w=f;w>=l;w--)for(const{cell:y,column:C,cellWidth:x}of[...new Qt(n)])C<=w&&x>1&&C+x>w?Qn("colspan",x-1,y,g):C===w&&g.remove(y);qE(n,this)||HE(n,this)})}splitCellVertically(n,i=2){const s=this.editor.model,d=n.parent.parent,f=parseInt(n.getAttribute("rowspan")||1),g=parseInt(n.getAttribute("colspan")||1);s.change(w=>{if(g>1){const{newCellsSpan:y,updatedSpan:C}=LF(g,i);Qn("colspan",C,n,w);const x={};y>1&&(x.colspan=y),f>1&&(x.rowspan=f);const R=g>i?i-1:g-1;Zd(R,w,w.createPositionAfter(n),x)}if(g<i){const y=i-g,C=[...new Qt(d)],{column:x}=C.find(({cell:Z})=>Z===n),R=C.filter(({cell:Z,cellWidth:de,column:Me})=>{const je=Z!==n&&Me===x,Ot=Me<x&&Me+de>x;return je||Ot});for(const{cell:Z,cellWidth:de}of R)w.setAttribute("colspan",de+y,Z);const j={};f>1&&(j.rowspan=f),Zd(y,w,w.createPositionAfter(n),j);const H=d.getAttribute("headingColumns")||0;H>x&&Qn("headingColumns",H+y,d,w)}})}splitCellHorizontally(n,i=2){const s=this.editor.model,l=n.parent,d=l.parent,f=d.getChildIndex(l),g=parseInt(n.getAttribute("rowspan")||1),w=parseInt(n.getAttribute("colspan")||1);s.change(y=>{if(g>1){const C=[...new Qt(d,{startRow:f,endRow:f+g-1,includeAllSlots:!0})],{newCellsSpan:x,updatedSpan:R}=LF(g,i);Qn("rowspan",R,n,y);const{column:j}=C.find(({cell:Z})=>Z===n),H={};x>1&&(H.rowspan=x),w>1&&(H.colspan=w);for(const Z of C){const{column:de,row:Me}=Z,je=Me>=f+R,Ot=de===j,gn=(Me+f+R)%x===0;je&&Ot&&gn&&Zd(1,y,Z.getPositionBefore(),H)}}if(g<i){const C=i-g,x=[...new Qt(d,{startRow:0,endRow:f})];for(const{cell:H,cellHeight:Z,row:de}of x)if(H!==n&&de+Z>f){const Me=Z+C;y.setAttribute("rowspan",Me,H)}const R={};w>1&&(R.colspan=w),GE(y,d,f+1,C,1,R);const j=d.getAttribute("headingRows")||0;j>f&&Qn("headingRows",j+C,d,y)}})}getColumns(n){return[...n.getChild(0).getChildren()].reduce((s,l)=>{const d=parseInt(l.getAttribute("colspan")||1);return s+d},0)}getRows(n){return Array.from(n.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(n,i={}){return new Qt(n,i)}getSelectedTableCells(n){const i=[];for(const s of this.sortRanges(n.getRanges())){const l=s.getContainedElement();l&&l.is("element","tableCell")&&i.push(l)}return i}getTableCellsContainingSelection(n){const i=[];for(const s of n.getRanges()){const l=s.start.findAncestor("tableCell");l&&i.push(l)}return i}getSelectionAffectedTableCells(n){const i=this.getSelectedTableCells(n);return i.length?i:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const i=n.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(n){const i=n[0].findAncestor("table"),l=[...new Qt(i)].filter(d=>n.includes(d.cell)).map(d=>d.column);return this._getFirstLastIndexesObject(l)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const i=new Set,s=new Set;let l=0;for(const f of n){const{row:g,column:w}=this.getCellLocation(f),y=parseInt(f.getAttribute("rowspan")||1),C=parseInt(f.getAttribute("colspan")||1);i.add(g),s.add(w),y>1&&i.add(g+y-1),C>1&&s.add(w+C-1),l+=y*C}return Gpe(i,s)==l}sortRanges(n){return Array.from(n).sort(Wpe)}_getFirstLastIndexesObject(n){const i=n.sort((d,f)=>d-f),s=i[0],l=i[i.length-1];return{first:s,last:l}}_areCellInTheSameTableSection(n){const i=n[0].findAncestor("table"),s=this.getRowIndexes(n),l=parseInt(i.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(s,l))return!1;const d=parseInt(i.getAttribute("headingColumns")||0),f=this.getColumnIndexes(n);return this._areIndexesInSameSection(f,d)}_areIndexesInSameSection({first:n,last:i},s){const l=n<s,d=i<s;return l===d}}function GE(c,n,i,s,l,d={}){for(let f=0;f<s;f++){const g=c.createElement("tableRow");c.insert(g,n,i),Zd(l,c,c.createPositionAt(g,"end"),d)}}function Zd(c,n,i,s={}){for(let l=0;l<c;l++)iu(n,i,s)}function LF(c,n){if(c<n)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(c/n),s=c-i*n+i;return{newCellsSpan:i,updatedSpan:s}}function Upe(c,n,i){const s=c.getAttribute("headingColumns")||0;if(s&&n.first<s){const l=Math.min(s-1,n.last)-n.first+1;i.setAttribute("headingColumns",s-l,c)}}function $pe(c,n,i,s){const l=c.getAttribute("headingRows")||0;if(n<l){const d=i<l?l-(i-n+1):n;Qn("headingRows",d,c,s,0)}}function Hpe(c,n,i){const s=new Map,l=[];for(const{row:d,column:f,cellHeight:g,cell:w}of new Qt(c,{endRow:i})){const y=d+g-1;if(d>=n&&d<=i&&y>i){const R=i-d+1,j=g-R;s.set(f,{cell:w,rowspan:j})}if(d<n&&y>=n){let R;y>=i?R=i-n+1:R=y-n+1,l.push({cell:w,rowspan:g-R})}}return{cellsToMove:s,cellsToTrim:l}}function qpe(c,n,i,s){const d=[...new Qt(c,{includeAllSlots:!0,row:n})],f=c.getChild(n);let g;for(const{column:w,cell:y,isAnchor:C}of d)if(i.has(w)){const{cell:x,rowspan:R}=i.get(w),j=g?s.createPositionAfter(g):s.createPositionAt(f,0);s.move(s.createRangeOn(x),j),Qn("rowspan",R,x,s),g=x}else C&&(g=y)}function Wpe(c,n){const i=c.start,s=n.start;return i.isBefore(s)?-1:1}function Gpe(c,n){const i=Array.from(c.values()),s=Array.from(n.values()),l=Math.max(...i),d=Math.min(...i),f=Math.max(...s),g=Math.min(...s);return(l-d+1)*(f-g+1)}class Kpe extends vt{refresh(){const n=this.editor.plugins.get(Kr),i=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(i,this.editor.plugins.get(Kr))}execute(){const n=this.editor.model,i=this.editor.plugins.get(Kr);n.change(s=>{const l=i.getSelectedTableCells(n.document.selection),d=l.shift(),{mergeWidth:f,mergeHeight:g}=Qpe(d,l,i);Qn("colspan",f,d,s),Qn("rowspan",g,d,s);for(const y of l)Ype(y,d,s);const w=d.findAncestor("table");WE(w,i),s.setSelection(d,"in")})}}function Ype(c,n,i){BF(c)||(BF(n)&&i.remove(i.createRangeIn(n)),i.move(i.createRangeIn(c),i.createPositionAt(n,"end"))),i.remove(c)}function BF(c){return c.childCount==1&&c.getChild(0).is("element","paragraph")&&c.getChild(0).isEmpty}function Qpe(c,n,i){let s=0,l=0;for(const y of n){const{row:C,column:x}=i.getCellLocation(y);s=zF(y,x,s,"colspan"),l=zF(y,C,l,"rowspan")}const{row:d,column:f}=i.getCellLocation(c),g=s-f,w=l-d;return{mergeWidth:g,mergeHeight:w}}function zF(c,n,i,s){const l=parseInt(c.getAttribute(s)||1);return Math.max(i,n+l)}class Zpe extends vt{constructor(n){super(n),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const n=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(n.document.selection),l=i.getRowIndexes(s),d=s[0].findAncestor("table"),f=[];for(let g=l.first;g<=l.last;g++)for(const w of d.getChild(g).getChildren())f.push(n.createRangeOn(w));n.change(g=>{g.setSelection(f)})}}class Jpe extends vt{constructor(n){super(n),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=n.getSelectionAffectedTableCells(i.document.selection),l=s[0],d=s.pop(),f=l.findAncestor("table"),g=n.getCellLocation(l),w=n.getCellLocation(d),y=Math.min(g.column,w.column),C=Math.max(g.column,w.column),x=[];for(const R of new Qt(f,{startColumn:y,endColumn:C}))x.push(i.createRangeOn(R.cell));i.change(R=>{R.setSelection(x)})}}function Xpe(c){c.document.registerPostFixer(n=>eme(n,c))}function eme(c,n){const i=n.document.differ.getChanges();let s=!1;const l=new Set;for(const d of i){let f;d.name=="table"&&d.type=="insert"&&(f=d.position.nodeAfter),(d.name=="tableRow"||d.name=="tableCell")&&(f=d.position.findAncestor("table")),ome(d)&&(f=d.range.start.findAncestor("table")),f&&!l.has(f)&&(s=tme(f,c)||s,s=nme(f,c)||s,l.add(f))}return s}function tme(c,n){let i=!1;const s=rme(c);if(s.length){i=!0;for(const l of s)Qn("rowspan",l.rowspan,l.cell,n,1)}return i}function nme(c,n){let i=!1;const s=ime(c),l=[];for(const[w,y]of s.entries())!y&&c.getChild(w).is("element","tableRow")&&l.push(w);if(l.length){i=!0;for(const w of l.reverse())n.remove(c.getChild(w)),s.splice(w,1)}const d=s.filter((w,y)=>c.getChild(y).is("element","tableRow")),f=d[0];if(!d.every(w=>w===f)){const w=d.reduce((y,C)=>C>y?C:y,0);for(const[y,C]of d.entries()){const x=w-C;if(x){for(let R=0;R<x;R++)iu(n,n.createPositionAt(c.getChild(y),"end"));i=!0}}}return i}function rme(c){const n=parseInt(c.getAttribute("headingRows")||0),i=Array.from(c.getChildren()).reduce((l,d)=>d.is("element","tableRow")?l+1:l,0),s=[];for(const{row:l,cell:d,cellHeight:f}of new Qt(c)){if(f<2)continue;const w=l<n?n:i;if(l+f>w){const y=w-l;s.push({cell:d,rowspan:y})}}return s}function ime(c){const n=new Array(c.childCount).fill(0);for(const{rowIndex:i}of new Qt(c,{includeAllSlots:!0}))n[i]++;return n}function ome(c){const n=c.type==="attribute",i=c.attributeKey;return n&&(i==="headingRows"||i==="colspan"||i==="rowspan")}function sme(c){c.document.registerPostFixer(n=>ame(n,c))}function ame(c,n){const i=n.document.differ.getChanges();let s=!1;for(const l of i)l.type=="insert"&&l.name=="table"&&(s=cme(l.position.nodeAfter,c)||s),l.type=="insert"&&l.name=="tableRow"&&(s=FF(l.position.nodeAfter,c)||s),l.type=="insert"&&l.name=="tableCell"&&(s=KE(l.position.nodeAfter,c)||s),lme(l)&&(s=KE(l.position.parent,c)||s);return s}function cme(c,n){let i=!1;for(const s of c.getChildren())s.is("element","tableRow")&&(i=FF(s,n)||i);return i}function FF(c,n){let i=!1;for(const s of c.getChildren())i=KE(s,n)||i;return i}function KE(c,n){if(c.childCount==0)return n.insertElement("paragraph",c),!0;const i=Array.from(c.getChildren()).filter(s=>s.is("$text"));for(const s of i)n.wrap(n.createRangeOn(s),"paragraph");return!!i.length}function lme(c){return!c.position||!c.position.parent.is("element","tableCell")?!1:c.type=="insert"&&c.name=="$text"||c.type=="remove"}function ume(c,n){const i=c.document.differ;for(const s of i.getChanges()){let l,d=!1;if(s.type=="attribute"){const y=s.range.start.nodeAfter;if(!y||!y.is("element","table")||s.attributeKey!="headingRows"&&s.attributeKey!="headingColumns")continue;l=y,d=s.attributeKey=="headingRows"}else(s.name=="tableRow"||s.name=="tableCell")&&(l=s.position.findAncestor("table"),d=s.name=="tableRow");if(!l)continue;const f=l.getAttribute("headingRows")||0,g=l.getAttribute("headingColumns")||0,w=new Qt(l);for(const y of w){const x=y.row<f||y.column<g?"th":"td",R=n.mapper.toViewElement(y.cell);R&&R.is("element")&&R.name!=x&&n.reconvertItem(d?y.cell.parent:y.cell)}}}function dme(c,n){const i=c.document.differ,s=new Set;for(const l of i.getChanges()){const d=l.type=="attribute"?l.range.start.parent:l.position.parent;d.is("element","tableCell")&&s.add(d)}for(const l of s.values()){const d=Array.from(l.getChildren()).filter(f=>hme(f,n.mapper));for(const f of d)n.reconvertItem(f)}}function hme(c,n){if(!c.is("element","paragraph"))return!1;const i=n.toViewElement(c);return i?AF(c)!==i.is("element","span"):!1}var jF=a(4777),YE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};YE.insert="head",YE.singleton=!0,at()(jF.Z,YE),jF.Z.locals;class fme extends ge{static get pluginName(){return"TableEditing"}static get requires(){return[Kr]}init(){const n=this.editor,i=n.model,s=i.schema,l=n.conversion,d=n.plugins.get(Kr);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(kpe()),l.for("upcast").add(vpe()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:vF(d,{asWidget:!0})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:vF(d)}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(ype()),l.for("downcast").elementToElement({model:"tableRow",view:xpe()}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(kF("td")),l.for("upcast").add(kF("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:yF({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:yF()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:_F({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:_F(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:VF("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:VF("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new Ipe(n)),n.commands.add("insertTableRowAbove",new CF(n,{order:"above"})),n.commands.add("insertTableRowBelow",new CF(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new EF(n,{order:"left"})),n.commands.add("insertTableColumnRight",new EF(n,{order:"right"})),n.commands.add("removeTableRow",new Ope(n)),n.commands.add("removeTableColumn",new Bpe(n)),n.commands.add("splitTableCellVertically",new xF(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new xF(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Kpe(n)),n.commands.add("mergeTableCellRight",new ak(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new ak(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new ak(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new ak(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new Vpe(n)),n.commands.add("setTableRowHeader",new jpe(n)),n.commands.add("selectTableRow",new Zpe(n)),n.commands.add("selectTableColumn",new Jpe(n)),Xpe(i),sme(i),this.listenTo(i.document,"change:data",()=>{ume(i,n.editing),dme(i,n.editing)})}}function VF(c){return n=>{const i=parseInt(n.getAttribute(c));return Number.isNaN(i)||i<=0?null:i}}var UF=a(8085),QE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};QE.insert="head",QE.singleton=!0,at()(UF.Z,QE),UF.Z.locals;class pme extends Tt{constructor(n){super(n);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Ao,this.focusTracker=new ji,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,l)=>`${l}  ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,l)=>{const{row:d,column:f}=l.target.dataset;this.items.get((parseInt(d,10)-1)*10+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,l,d)=>{if(!d)return;const{row:f,column:g}=d.dataset;this.set({rows:parseInt(f),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),b({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,i=this.columns;this.items.map((s,l)=>{const d=Math.floor(l/10),f=l%10,g=d<n&&f<i;s.set("isOn",g)})}_createGridButton(n,i,s,l){const d=new Kt(n);return d.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":i,"data-column":s}}),d}_createGridCollection(){const n=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),l=i%10,d=`${s+1}  ${l+1}`;n.push(this._createGridButton(this.locale,s+1,l+1,d))}return this.createCollection(n)}}const mme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',gme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',bme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',wme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class kme extends ge{static get pluginName(){return"TableUI"}init(){const n=this.editor,i=this.editor.t,l=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",d=>{const f=n.commands.get("insertTable"),g=xo(d);g.bind("isEnabled").to(f),g.buttonView.set({icon:mme,label:i("Insert table"),tooltip:!0});let w;return g.on("change:isOpen",()=>{w||(w=new pme(d),g.panelView.children.add(w),w.delegate("execute").to(g),g.on("execute",()=>{n.execute("insertTable",{rows:w.rows,columns:w.columns}),n.editing.view.focus()}))}),g}),n.ui.componentFactory.add("tableColumn",d=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:l?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:l?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),gme,f,d)}),n.ui.componentFactory.add("tableRow",d=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),bme,f,d)}),n.ui.componentFactory.add("mergeTableCells",d=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:l?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:l?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),wme,f,d)})}_prepareDropdown(n,i,s,l){const d=this.editor,f=xo(l),g=this._fillDropdownWithListOptions(f,s);return f.buttonView.set({label:n,icon:i,tooltip:!0}),f.bind("isEnabled").toMany(g,"isEnabled",(...w)=>w.some(y=>y)),this.listenTo(f,"execute",w=>{d.execute(w.source.commandName),w.source instanceof Ew||d.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(n,i,s,l){const d=this.editor,f=xo(l,xw),g="mergeTableCells",w=d.commands.get(g),y=this._fillDropdownWithListOptions(f,s);return f.buttonView.set({label:n,icon:i,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([w,...y],"isEnabled",(...C)=>C.some(x=>x)),this.listenTo(f.buttonView,"execute",()=>{d.execute(g),d.editing.view.focus()}),this.listenTo(f,"execute",C=>{d.execute(C.source.commandName),d.editing.view.focus()}),f}_fillDropdownWithListOptions(n,i){const s=this.editor,l=[],d=new yi;for(const f of i)vme(f,s,l,d);return xp(n,d),l}}function vme(c,n,i,s){const l=c.model=new Sp(c.model),{commandName:d,bindIsOn:f}=c.model;if(c.type==="button"||c.type==="switchbutton"){const g=n.commands.get(d);i.push(g),l.set({commandName:d}),l.bind("isEnabled").to(g),f&&l.bind("isOn").to(g,"value")}l.set({withText:!0}),s.add(c)}var $F=a(5593),ZE={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ZE.insert="head",ZE.singleton=!0,at()($F.Z,ZE),$F.Z.locals;class ou extends ge{static get pluginName(){return"TableSelection"}static get requires(){return[Kr,Kr]}init(){const n=this.editor,i=n.model,s=n.editing.view;this.listenTo(i,"deleteContent",(l,d)=>this._handleDeleteContent(l,d),{priority:"high"}),this.listenTo(s.document,"insertText",(l,d)=>this._handleInsertTextEvent(l,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(Kr),i=this.editor.model.document.selection,s=n.getSelectedTableCells(i);return s.length==0?null:s}getSelectionAsFragment(){const n=this.editor.plugins.get(Kr),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const l=s.createDocumentFragment(),{first:d,last:f}=n.getColumnIndexes(i),{first:g,last:w}=n.getRowIndexes(i),y=i[0].findAncestor("table");let C=w,x=f;if(n.isSelectionRectangular(i)){const H={firstColumn:d,lastColumn:f,firstRow:g,lastRow:w};C=NF(y,H),x=RF(y,H)}const j=SF(y,{startRow:g,startColumn:d,endRow:C,endColumn:x},s);return s.insert(j,l,0),l}):null}setCellSelection(n,i){const s=this._getCellsToSelect(n,i);this.editor.model.change(l=>{l.setSelection(s.cells.map(d=>l.createRangeOn(d)),{backward:s.backward})})}getFocusCell(){const s=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return s&&s.is("element","tableCell")?s:null}getAnchorCell(){const n=this.editor.model.document.selection,s=zn(n.getRanges()).getContainedElement();return s&&s.is("element","tableCell")?s:null}_defineSelectionConverter(){const n=this.editor,i=new Set;n.conversion.for("editingDowncast").add(l=>l.on("selection",(d,f,g)=>{const w=g.writer;s(w);const y=this.getSelectedTableCells();if(!y)return;for(const x of y){const R=g.mapper.toViewElement(x);w.addClass("ck-editor__editable_selected",R),i.add(R)}const C=g.mapper.toViewElement(y[y.length-1]);w.setSelection(C,0)},{priority:"lowest"}));function s(l){for(const d of i)l.removeClass("ck-editor__editable_selected",d);i.clear()}}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;n.model.change(s=>{const l=s.createPositionAt(i[0],0),d=n.model.schema.getNearestSelectionRange(l);s.setSelection(d)})}})}_handleDeleteContent(n,i){const s=this.editor.plugins.get(Kr),[l,d]=i,f=this.editor.model,g=!d||d.direction=="backward",w=s.getSelectedTableCells(l);w.length&&(n.stop(),f.change(y=>{const C=w[g?w.length-1:0];f.change(R=>{for(const j of w)f.deleteContent(R.createSelection(j,"in"))});const x=f.schema.getNearestSelectionRange(y.createPositionAt(C,0));l.is("documentSelection")?y.setSelection(x):l.setTo(x)}))}_handleInsertTextEvent(n,i){const s=this.editor,d=s.model.document.selection,f=this.getSelectedTableCells(d);if(!f)return;const g=s.editing.view,w=s.editing.mapper,y=f.map(C=>g.createRangeOn(w.toViewElement(C)));i.selection=g.createSelection(y)}_getCellsToSelect(n,i){const s=this.editor.plugins.get("TableUtils"),l=s.getCellLocation(n),d=s.getCellLocation(i),f=Math.min(l.row,d.row),g=Math.max(l.row,d.row),w=Math.min(l.column,d.column),y=Math.max(l.column,d.column),C=new Array(g-f+1).fill(null).map(()=>[]),x={startRow:f,endRow:g,startColumn:w,endColumn:y};for(const{row:H,cell:Z}of new Qt(n.findAncestor("table"),x))C[H-f].push(Z);const R=d.row<l.row,j=d.column<l.column;return R&&C.reverse(),j&&C.forEach(H=>H.reverse()),{cells:C.flat(),backward:R||j}}}class yme extends ge{static get pluginName(){return"TableClipboard"}static get requires(){return[ou,Kr]}init(){const n=this.editor,i=n.editing.view.document;this.listenTo(i,"copy",(s,l)=>this._onCopyCut(s,l)),this.listenTo(i,"cut",(s,l)=>this._onCopyCut(s,l)),this.listenTo(n.model,"insertContent",(s,l)=>this._onInsertContent(s,...l),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,i){const s=this.editor.plugins.get(ou);if(!s.getSelectedTableCells()||n.name=="cut"&&this.editor.isReadOnly)return;i.preventDefault(),n.stop();const l=this.editor.data,d=this.editor.editing.view.document,f=l.toView(s.getSelectionAsFragment());d.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:f,method:n.name})}_onInsertContent(n,i,s){if(s&&!s.is("documentSelection"))return;const l=this.editor.model,d=this.editor.plugins.get(Kr);let f=HF(i,l);if(!f)return;const g=d.getSelectionAffectedTableCells(l.document.selection);if(!g.length){WE(f,d);return}n.stop(),l.change(w=>{const y={width:d.getColumns(f),height:d.getRows(f)},C=_me(g,y,w,d),x=C.lastRow-C.firstRow+1,R=C.lastColumn-C.firstColumn+1,j={startRow:0,startColumn:0,endRow:Math.min(x,y.height)-1,endColumn:Math.min(R,y.width)-1};f=SF(f,j,w);const H=g[0].findAncestor("table"),Z=this._replaceSelectedCellsWithPasted(f,y,H,C,w);if(this.editor.plugins.get("TableSelection").isEnabled){const de=d.sortRanges(Z.map(Me=>w.createRangeOn(Me)));w.setSelection(de)}else w.setSelection(Z[0],0)})}_replaceSelectedCellsWithPasted(n,i,s,l,d){const{width:f,height:g}=i,w=Cme(n,f,g),y=[...new Qt(s,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],C=[];let x;for(const de of y){const{row:Me,column:je}=de;je===l.firstColumn&&(x=de.getPositionBefore());const Ot=Me-l.firstRow,gn=je-l.firstColumn,Zn=w[Ot%g][gn%f],Qe=Zn?d.cloneElement(Zn):null,gt=this._replaceTableSlotCell(de,Qe,x,d);gt&&(MF(gt,Me,je,l.lastRow,l.lastColumn,d),C.push(gt),x=d.createPositionAfter(gt))}const R=parseInt(s.getAttribute("headingRows")||0),j=parseInt(s.getAttribute("headingColumns")||0),H=l.firstRow<R&&R<=l.lastRow,Z=l.firstColumn<j&&j<=l.lastColumn;if(H){const de={first:l.firstColumn,last:l.lastColumn},Me=JE(s,R,de,d,l.firstRow);C.push(...Me)}if(Z){const de={first:l.firstRow,last:l.lastRow},Me=XE(s,j,de,d);C.push(...Me)}return C}_replaceTableSlotCell(n,i,s,l){const{cell:d,isAnchor:f}=n;return f&&l.remove(d),i?(l.insert(i,s),i):null}getTableIfOnlyTableInContent(n,i){return HF(n,i)}}function HF(c,n){if(!c.is("documentFragment")&&!c.is("element"))return null;if(c.is("element","table"))return c;if(c.childCount==1&&c.getChild(0).is("element","table"))return c.getChild(0);const i=n.createRangeIn(c);for(const s of i.getItems())if(s.is("element","table")){const l=n.createRange(i.start,n.createPositionBefore(s));if(n.hasContent(l,{ignoreWhitespaces:!0}))return null;const d=n.createRange(n.createPositionAfter(s),i.end);return n.hasContent(d,{ignoreWhitespaces:!0})?null:s}return null}function _me(c,n,i,s){const l=c[0].findAncestor("table"),d=s.getColumnIndexes(c),f=s.getRowIndexes(c),g={firstColumn:d.first,lastColumn:d.last,firstRow:f.first,lastRow:f.last},w=c.length===1;return w&&(g.lastRow+=n.height-1,g.lastColumn+=n.width-1,Ame(l,g.lastRow+1,g.lastColumn+1,s)),w||!s.isSelectionRectangular(c)?Eme(l,g,i):(g.lastRow=NF(l,g),g.lastColumn=RF(l,g)),g}function Ame(c,n,i,s){const l=s.getColumns(c),d=s.getRows(c);i>l&&s.insertColumns(c,{at:l,columns:i-l}),n>d&&s.insertRows(c,{at:d,rows:n-d})}function Cme(c,n,i){const s=new Array(i).fill(null).map(()=>new Array(n).fill(null));for(const{column:l,row:d,cell:f}of new Qt(c))s[d][l]=f;return s}function Eme(c,n,i){const{firstRow:s,lastRow:l,firstColumn:d,lastColumn:f}=n,g={first:s,last:l},w={first:d,last:f};XE(c,d,g,i),XE(c,f+1,g,i),JE(c,s,w,i),JE(c,l+1,w,i,s)}function JE(c,n,i,s,l=0){return n<1?void 0:TF(c,n,l).filter(({column:g,cellWidth:w})=>qF(g,w,i)).map(({cell:g})=>IF(g,n,s))}function XE(c,n,i,s){return n<1?void 0:DF(c,n).filter(({row:f,cellHeight:g})=>qF(f,g,i)).map(({cell:f,column:g})=>PF(f,g,n,s))}function qF(c,n,i){const s=c+n-1,{first:l,last:d}=i,f=c>=l&&c<=d,g=c<l&&s>=l;return f||g}class xme extends ge{static get pluginName(){return"TableKeyboard"}static get requires(){return[ou,Kr]}init(){const i=this.editor.editing.view.document;this.listenTo(i,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(i,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(i,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(n,i){const s=this.editor,d=s.model.document.selection.getSelectedElement();!d||!d.is("element","table")||(i.preventDefault(),i.stopPropagation(),n.stop(),s.model.change(f=>{f.setSelection(f.createRangeIn(d.getChild(0).getChild(0)))}))}_handleTab(n,i){const s=this.editor,l=this.editor.plugins.get(Kr),d=s.model.document.selection,f=!i.shiftKey;let g=l.getTableCellsContainingSelection(d)[0];if(g||(g=this.editor.plugins.get("TableSelection").getFocusCell()),!g)return;i.preventDefault(),i.stopPropagation(),n.stop();const w=g.parent,y=w.parent,C=y.getChildIndex(w),x=w.getChildIndex(g),R=x===0;if(!f&&R&&C===0){s.model.change(de=>{de.setSelection(de.createRangeOn(y))});return}const j=x===w.childCount-1,H=C===l.getRows(y)-1;if(f&&H&&j&&(s.execute("insertTableRowBelow"),C===l.getRows(y)-1)){s.model.change(de=>{de.setSelection(de.createRangeOn(y))});return}let Z;if(f&&j)Z=y.getChild(C+1).getChild(0);else if(!f&&R){const de=y.getChild(C-1);Z=de.getChild(de.childCount-1)}else Z=w.getChild(x+(f?1:-1));s.model.change(de=>{de.setSelection(de.createRangeIn(Z))})}_onArrowKey(n,i){const s=this.editor,l=i.keyCode,d=mC(l,s.locale.contentLanguageDirection);this._handleArrowKeys(d,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),n.stop())}_handleArrowKeys(n,i){const s=this.editor.plugins.get(Kr),l=this.editor.model,d=l.document.selection,f=["right","down"].includes(n),g=s.getSelectedTableCells(d);if(g.length){let y;return i?y=this.editor.plugins.get("TableSelection").getFocusCell():y=f?g[g.length-1]:g[0],this._navigateFromCellInDirection(y,n,i),!0}const w=d.focus.findAncestor("tableCell");if(!w)return!1;if(!d.isCollapsed)if(i){if(d.isBackward==f&&!d.containsEntireContent(w))return!1}else{const y=d.getSelectedElement();if(!y||!l.schema.isObject(y))return!1}return this._isSelectionAtCellEdge(d,w,f)?(this._navigateFromCellInDirection(w,n,i),!0):!1}_isSelectionAtCellEdge(n,i,s){const l=this.editor.model,d=this.editor.model.schema,f=s?n.getLastPosition():n.getFirstPosition();if(!d.getLimitElement(f).is("element","tableCell"))return l.createPositionAt(i,s?"end":0).isTouching(f);const g=l.createSelection(f);return l.modifySelection(g,{direction:s?"forward":"backward"}),f.isEqual(g.focus)}_navigateFromCellInDirection(n,i,s=!1){const l=this.editor.model,d=n.findAncestor("table"),f=[...new Qt(d,{includeAllSlots:!0})],{row:g,column:w}=f[f.length-1],y=f.find(({cell:je})=>je==n);let{row:C,column:x}=y;switch(i){case"left":x--;break;case"up":C--;break;case"right":x+=y.cellWidth;break;case"down":C+=y.cellHeight;break}const R=C<0||C>g,j=x<0&&C<=0,H=x>w&&C>=g;if(R||j||H){l.change(je=>{je.setSelection(je.createRangeOn(d))});return}x<0?(x=s?0:w,C--):x>w&&(x=s?w:0,C++);const Z=f.find(je=>je.row==C&&je.column==x).cell,de=["right","down"].includes(i),Me=this.editor.plugins.get("TableSelection");if(s&&Me.isEnabled){const je=Me.getAnchorCell()||n;Me.setCellSelection(je,Z)}else{const je=l.createPositionAt(Z,de?0:"end");l.change(Ot=>{Ot.setSelection(je)})}}}class Sme extends dc{constructor(n){super(n),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class Tme extends ge{static get pluginName(){return"TableMouse"}static get requires(){return[ou,Kr]}init(){this.editor.editing.view.addObserver(Sme),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,i=n.plugins.get(Kr);let s=!1;const l=n.plugins.get(ou);this.listenTo(n.editing.view.document,"mousedown",(d,f)=>{const g=n.model.document.selection;if(!this.isEnabled||!l.isEnabled||!f.domEvent.shiftKey)return;const w=l.getAnchorCell()||i.getTableCellsContainingSelection(g)[0];if(!w)return;const y=this._getModelTableCellFromDomEvent(f);y&&WF(w,y)&&(s=!0,l.setCellSelection(w,y),f.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(n.editing.view.document,"selectionChange",d=>{s&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let i,s,l=!1,d=!1;const f=n.plugins.get(ou);this.listenTo(n.editing.view.document,"mousedown",(g,w)=>{!this.isEnabled||!f.isEnabled||w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(w))}),this.listenTo(n.editing.view.document,"mousemove",(g,w)=>{if(!w.domEvent.buttons||!i)return;const y=this._getModelTableCellFromDomEvent(w);y&&WF(i,y)&&(s=y,!l&&s!=i&&(l=!0)),l&&(d=!0,f.setCellSelection(i,s),w.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{l=!1,d=!1,i=null,s=null}),this.listenTo(n.editing.view.document,"selectionChange",g=>{d&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const i=n.target,s=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function WF(c,n){return c.parent.parent==n.parent.parent}var GF=a(4104),ex={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ex.insert="head",ex.singleton=!0,at()(GF.Z,ex),GF.Z.locals;class Ime extends ge{static get requires(){return[fme,kme,ou,Tme,xme,yme,Dp]}static get pluginName(){return"Table"}}function Dme(c){const n=c.getSelectedElement();return n&&KF(n)?n:null}function Pme(c){const n=c.getFirstPosition();if(!n)return null;let i=n.parent;for(;i;){if(i.is("element")&&KF(i))return i;i=i.parent}return null}function KF(c){return!!c.getCustomProperty("table")&&Fn(c)}class Mme extends ge{static get requires(){return[rk]}static get pluginName(){return"TableToolbar"}afterInit(){const n=this.editor,i=n.t,s=n.plugins.get(rk),l=n.config.get("table.contentToolbar"),d=n.config.get("table.tableToolbar");l&&s.register("tableContent",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:Pme}),d&&s.register("table",{ariaLabel:i("Table toolbar"),items:d,getRelatedElement:Dme})}}class tx extends dae{}tx.builtinPlugins=[Mae,Vae,Hae,hce,kce,Cce,Vce,Qle,cue,kue,xue,Hue,Kue,ede,hde,fde,Mde,Ode,Fde,Ghe,vfe,Rfe,Pp,bpe,wpe,Ime,Mme,Eae],tx.defaultConfig={toolbar:{items:["heading","|","bold","italic","fontColor","fontSize","link","bulletedList","numberedList","|","outdent","indent","|","code","codeBlock","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},language:"ko",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};const Nme=tx})(),u=u.default,u})())})(TBe,i_);const IBe=o_(i_);function DBe({content:t,SetUploading:e}){const r=u=>new Promise((h,p)=>{const m=new FileReader;m.onload=()=>{h(m.result)},m.onerror=p,m.readAsDataURL(u)});function o(u){return e(!0),{abort(){},upload:()=>{const h=fQ();return new Promise((p,m)=>{let b="";u.file.then(async k=>{const v=await r(k);b=await(await YDe.ref().child(h).putString(v,"data_url")).ref.getDownloadURL()}).then(()=>{p({default:b}),e(!1)}).catch(k=>{m(k),e(!1)})})}}}function a(u){u.plugins.get("FileRepository").createUploadAdapter=h=>o(h)}return Oe(r_.CKEditor,{editor:IBe,config:{extraPlugins:[a]},data:t.value,onChange:(u,h)=>{const p=h.getData();t.onChange(p)},onReady:u=>{u.editing.view.change(h=>{h.setStyle("height","500px",u.editing.view.document.getRoot())})}})}function PBe(t){const{field:e}=SS({name:"title",control:t,rules:{required:!0}}),{field:r}=SS({name:"content",control:t}),{field:o}=SS({name:"tag",control:t,rules:{required:!0}});return{title:e,content:r,tag:o}}function T$(){var N;const[t,e]=G.useState(!1),{blogReducer:r,categoryReducer:o,authReducer:a}=ul(T=>T),{handleSubmit:u,control:h,reset:p}=xBe({defaultValues:{title:"",content:"",tag:""}}),{id:m}=EN(),b=JY(r.blog,m),k=localStorage.getItem("page"),v=yd(),{title:_,content:A,tag:E}=PBe(h),I=()=>p({title:"",content:"",tag:""}),L=async({title:T,content:D,tag:O})=>{if(e(!0),T&&O)if(b){const V={...b,title:T,content:D,time:{updatedAt:Date.now(),updated:!0}};await Uu.doc(`blog/${m}`).update(V)}else{const V=fQ(),U={id:V,title:T,content:D,tag:O,time:{updatedAt:Date.now(),updated:!1}};await Uu.doc(`blog/${V}`).set(U)}I(),e(!1),v("/")};return G.useEffect(()=>{b&&p({title:b.title,content:b.content,tag:b.tag}),m||I()},[m,b]),G.useEffect(()=>{var T,D;((D=(T=a.auth.data)==null?void 0:T.providerData[0])==null?void 0:D.uid)!=="98078731"&&v("/")},[a.auth.data]),wn("form",{className:"write-flex",onSubmit:u(L),children:[wn("div",{className:"write-input",children:[Oe("input",{placeholder:" ",value:_.value,onChange:T=>_.onChange(T.target.value)}),!b&&wn("select",{value:E.value,onChange:T=>E.onChange(T.target.value),children:[!E.value&&Oe("option",{value:"",children:" "}),(N=o.categories)==null?void 0:N.map((T,D)=>Oe("option",{value:T.id,children:T.id},D))]})]}),Oe("div",{className:"write-editor",children:Oe(DBe,{content:A,SetUploading:e})}),wn("div",{className:"write-submit",children:[Oe("button",{disabled:t,type:"submit",children:"Enter"}),Oe("button",{type:"button",onClick:()=>v(`/page/${k}`),children:"Close"})]})]})}function MBe(){var p;const[t,e]=G.useState([]),{categoryReducer:r,blogReducer:o}=ul(m=>m),a=yd(),u=(m,b)=>{m.currentTarget.className==="category-active"?(m.currentTarget.classList.remove("category-active"),e(k=>k.filter(v=>v!==b))):(m.currentTarget.classList.add("category-active"),e(k=>[...k,b]))},h=m=>{a(`/blog/${m}`)};return Oe($u,{children:r.loading?Oe("div",{children:"Loading..."}):wn($u,{children:[Oe("ul",{className:"category-flex",children:(p=r.categories)==null?void 0:p.map(m=>Oe("li",{onClick:b=>u(b,m.id),children:Oe("span",{children:m.id})},m.id))}),Oe("div",{className:"category-current",children:Oe(QY,{children:t.map(m=>{var b;return(b=o.blog)==null?void 0:b.map(k=>k).filter(k=>k.tag===m).map(k=>wn(Yc.div,{initial:{opacity:0,x:-300},animate:{opacity:1,x:0},transition:{type:"spring",duration:.4},exit:{opacity:0,x:-300},onClick:()=>h(k.id),children:[wn("span",{children:["[ ",k.tag," ]"]}),Oe("span",{children:k.title})]},k.id))})})})]})})}/*! @license DOMPurify 3.0.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.0/LICENSE */function Nu(t){return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function hD(t,e){return hD=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},hD(t,e)}function NBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dv(t,e,r){return NBe()?Dv=Reflect.construct:Dv=function(a,u,h){var p=[null];p.push.apply(p,u);var m=Function.bind.apply(a,p),b=new m;return h&&hD(b,h.prototype),b},Dv.apply(null,arguments)}function RBe(t,e){return LBe(t)||zBe(t,e)||w2(t,e)||jBe()}function is(t){return OBe(t)||BBe(t)||w2(t)||FBe()}function OBe(t){if(Array.isArray(t))return fD(t)}function LBe(t){if(Array.isArray(t))return t}function BBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o=[],a=!0,u=!1,h,p;try{for(r=r.call(t);!(a=(h=r.next()).done)&&(o.push(h.value),!(e&&o.length===e));a=!0);}catch(m){u=!0,p=m}finally{try{!a&&r.return!=null&&r.return()}finally{if(u)throw p}}return o}}function w2(t,e){if(t){if(typeof t=="string")return fD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(t,e)}}function fD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function FBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=w2(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,p;return{s:function(){r=r.call(t)},n:function(){var m=r.next();return u=m.done,m},e:function(m){h=!0,p=m},f:function(){try{!u&&r.return!=null&&r.return()}finally{if(h)throw p}}}}var pQ=Object.entries,I$=Object.setPrototypeOf,UBe=Object.isFrozen,$Be=Object.getPrototypeOf,HBe=Object.getOwnPropertyDescriptor,Ni=Object.freeze,ms=Object.seal,qBe=Object.create,mQ=typeof Reflect<"u"&&Reflect,pD=mQ.apply,mD=mQ.construct;pD||(pD=function(e,r,o){return e.apply(r,o)});Ni||(Ni=function(e){return e});ms||(ms=function(e){return e});mD||(mD=function(e,r){return Dv(e,is(r))});var WBe=Ho(Array.prototype.forEach),D$=Ho(Array.prototype.pop),rm=Ho(Array.prototype.push),Pv=Ho(String.prototype.toLowerCase),MS=Ho(String.prototype.toString),GBe=Ho(String.prototype.match),rs=Ho(String.prototype.replace),KBe=Ho(String.prototype.indexOf),YBe=Ho(String.prototype.trim),ao=Ho(RegExp.prototype.test),NS=QBe(TypeError);function Ho(t){return function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return pD(t,e,o)}}function QBe(t){return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return mD(t,r)}}function xt(t,e,r){r=r||Pv,I$&&I$(t,null);for(var o=e.length;o--;){var a=e[o];if(typeof a=="string"){var u=r(a);u!==a&&(UBe(e)||(e[o]=u),a=u)}t[a]=!0}return t}function ih(t){var e=qBe(null),r=VBe(pQ(t)),o;try{for(r.s();!(o=r.n()).done;){var a=RBe(o.value,2),u=a[0],h=a[1];e[u]=h}}catch(p){r.e(p)}finally{r.f()}return e}function Zk(t,e){for(;t!==null;){var r=HBe(t,e);if(r){if(r.get)return Ho(r.get);if(typeof r.value=="function")return Ho(r.value)}t=$Be(t)}function o(a){return console.warn("fallback value for",a),null}return o}var P$=Ni(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),RS=Ni(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),OS=Ni(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZBe=Ni(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),LS=Ni(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),JBe=Ni(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M$=Ni(["#text"]),N$=Ni(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),BS=Ni(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R$=Ni(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jk=Ni(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XBe=ms(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eze=ms(/<%[\w\W]*|[\w\W]*%>/gm),tze=ms(/\${[\w\W]*}/gm),nze=ms(/^data-[\-\w.\u00B7-\uFFFF]/),rze=ms(/^aria-[\-\w]+$/),ize=ms(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oze=ms(/^(?:\w+script|data):/i),sze=ms(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aze=ms(/^html$/i),cze=function(){return typeof window>"u"?null:window},lze=function(e,r){if(Nu(e)!=="object"||typeof e.createPolicy!="function")return null;var o=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(o=r.currentScript.getAttribute(a));var u="dompurify"+(o?"#"+o:"");try{return e.createPolicy(u,{createHTML:function(p){return p},createScriptURL:function(p){return p}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function gQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cze(),e=function(W){return gQ(W)};if(e.version="3.0.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,o=t.document,a=t.DocumentFragment,u=t.HTMLTemplateElement,h=t.Node,p=t.Element,m=t.NodeFilter,b=t.NamedNodeMap,k=b===void 0?t.NamedNodeMap||t.MozNamedAttrMap:b,v=t.HTMLFormElement,_=t.DOMParser,A=t.trustedTypes,E=p.prototype,I=Zk(E,"cloneNode"),L=Zk(E,"nextSibling"),N=Zk(E,"childNodes"),T=Zk(E,"parentNode");if(typeof u=="function"){var D=o.createElement("template");D.content&&D.content.ownerDocument&&(o=D.content.ownerDocument)}var O=lze(A,r),V=O?O.createHTML(""):"",U=o,q=U.implementation,te=U.createNodeIterator,ce=U.createDocumentFragment,fe=U.getElementsByTagName,Be=r.importNode,re={};e.isSupported=typeof pQ=="function"&&typeof T=="function"&&q&&typeof q.createHTMLDocument<"u";var ae=XBe,Ce=eze,xe=tze,Ke=nze,ze=rze,pe=oze,le=sze,Y=ize,z=null,$=xt({},[].concat(is(P$),is(RS),is(OS),is(LS),is(M$))),S=null,ee=xt({},[].concat(is(N$),is(BS),is(R$),is(Jk))),we=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,$e=null,it=!0,Gt=!0,Dt=!1,Ct=!0,pt=!1,lt=!1,nt=!1,B=!1,Q=!1,K=!1,ve=!1,Te=!0,ue=!1,Ve="user-content-",mt=!0,Et=!1,hn={},ne=null,oe=xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),me=null,_e=xt({},["audio","video","img","source","image","track"]),De=null,Xe=xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",ut="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml",zt=Ue,Pe=!1,Nt=null,$r=xt({},[Je,ut,Ue],MS),Ln,Wo=["application/xhtml+xml","text/html"],Go="text/html",un,Hr=null,Li=o.createElement("form"),kn=function(W){return W instanceof RegExp||W instanceof Function},Cr=function(W){Hr&&Hr===W||((!W||Nu(W)!=="object")&&(W={}),W=ih(W),Ln=Wo.indexOf(W.PARSER_MEDIA_TYPE)===-1?Ln=Go:Ln=W.PARSER_MEDIA_TYPE,un=Ln==="application/xhtml+xml"?MS:Pv,z="ALLOWED_TAGS"in W?xt({},W.ALLOWED_TAGS,un):$,S="ALLOWED_ATTR"in W?xt({},W.ALLOWED_ATTR,un):ee,Nt="ALLOWED_NAMESPACES"in W?xt({},W.ALLOWED_NAMESPACES,MS):$r,De="ADD_URI_SAFE_ATTR"in W?xt(ih(Xe),W.ADD_URI_SAFE_ATTR,un):Xe,me="ADD_DATA_URI_TAGS"in W?xt(ih(_e),W.ADD_DATA_URI_TAGS,un):_e,ne="FORBID_CONTENTS"in W?xt({},W.FORBID_CONTENTS,un):oe,Re="FORBID_TAGS"in W?xt({},W.FORBID_TAGS,un):{},$e="FORBID_ATTR"in W?xt({},W.FORBID_ATTR,un):{},hn="USE_PROFILES"in W?W.USE_PROFILES:!1,it=W.ALLOW_ARIA_ATTR!==!1,Gt=W.ALLOW_DATA_ATTR!==!1,Dt=W.ALLOW_UNKNOWN_PROTOCOLS||!1,Ct=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pt=W.SAFE_FOR_TEMPLATES||!1,lt=W.WHOLE_DOCUMENT||!1,Q=W.RETURN_DOM||!1,K=W.RETURN_DOM_FRAGMENT||!1,ve=W.RETURN_TRUSTED_TYPE||!1,B=W.FORCE_BODY||!1,Te=W.SANITIZE_DOM!==!1,ue=W.SANITIZE_NAMED_PROPS||!1,mt=W.KEEP_CONTENT!==!1,Et=W.IN_PLACE||!1,Y=W.ALLOWED_URI_REGEXP||Y,zt=W.NAMESPACE||Ue,W.CUSTOM_ELEMENT_HANDLING&&kn(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(we.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&kn(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(we.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(we.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pt&&(Gt=!1),K&&(Q=!0),hn&&(z=xt({},is(M$)),S=[],hn.html===!0&&(xt(z,P$),xt(S,N$)),hn.svg===!0&&(xt(z,RS),xt(S,BS),xt(S,Jk)),hn.svgFilters===!0&&(xt(z,OS),xt(S,BS),xt(S,Jk)),hn.mathMl===!0&&(xt(z,LS),xt(S,R$),xt(S,Jk))),W.ADD_TAGS&&(z===$&&(z=ih(z)),xt(z,W.ADD_TAGS,un)),W.ADD_ATTR&&(S===ee&&(S=ih(S)),xt(S,W.ADD_ATTR,un)),W.ADD_URI_SAFE_ATTR&&xt(De,W.ADD_URI_SAFE_ATTR,un),W.FORBID_CONTENTS&&(ne===oe&&(ne=ih(ne)),xt(ne,W.FORBID_CONTENTS,un)),mt&&(z["#text"]=!0),lt&&xt(z,["html","head","body"]),z.table&&(xt(z,["tbody"]),delete Re.tbody),Ni&&Ni(W),Hr=W)},Bi=xt({},["mi","mo","mn","ms","mtext"]),ai=xt({},["foreignobject","desc","title","annotation-xml"]),Tn=xt({},["title","style","font","a","script"]),Gn=xt({},RS);xt(Gn,OS),xt(Gn,ZBe);var ia=xt({},LS);xt(ia,JBe);var ci=function(W){var Ae=T(W);(!Ae||!Ae.tagName)&&(Ae={namespaceURI:zt,tagName:"template"});var Fe=Pv(W.tagName),Ht=Pv(Ae.tagName);return Nt[W.namespaceURI]?W.namespaceURI===ut?Ae.namespaceURI===Ue?Fe==="svg":Ae.namespaceURI===Je?Fe==="svg"&&(Ht==="annotation-xml"||Bi[Ht]):Boolean(Gn[Fe]):W.namespaceURI===Je?Ae.namespaceURI===Ue?Fe==="math":Ae.namespaceURI===ut?Fe==="math"&&ai[Ht]:Boolean(ia[Fe]):W.namespaceURI===Ue?Ae.namespaceURI===ut&&!ai[Ht]||Ae.namespaceURI===Je&&!Bi[Ht]?!1:!ia[Fe]&&(Tn[Fe]||!Gn[Fe]):!!(Ln==="application/xhtml+xml"&&Nt[W.namespaceURI]):!1},lr=function(W){rm(e.removed,{element:W});try{W.parentNode.removeChild(W)}catch{W.remove()}},bs=function(W,Ae){try{rm(e.removed,{attribute:Ae.getAttributeNode(W),from:Ae})}catch{rm(e.removed,{attribute:null,from:Ae})}if(Ae.removeAttribute(W),W==="is"&&!S[W])if(Q||K)try{lr(Ae)}catch{}else try{Ae.setAttribute(W,"")}catch{}},Er=function(W){var Ae,Fe;if(B)W="<remove></remove>"+W;else{var Ht=GBe(W,/^[\r\n\t ]+/);Fe=Ht&&Ht[0]}Ln==="application/xhtml+xml"&&zt===Ue&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");var In=O?O.createHTML(W):W;if(zt===Ue)try{Ae=new _().parseFromString(In,Ln)}catch{}if(!Ae||!Ae.documentElement){Ae=q.createDocument(zt,"template",null);try{Ae.documentElement.innerHTML=Pe?V:In}catch{}}var li=Ae.body||Ae.documentElement;return W&&Fe&&li.insertBefore(o.createTextNode(Fe),li.childNodes[0]||null),zt===Ue?fe.call(Ae,lt?"html":"body")[0]:lt?Ae.documentElement:li},Ko=function(W){return te.call(W.ownerDocument||W,W,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},zi=function(W){return W instanceof v&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof k)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},oa=function(W){return Nu(h)==="object"?W instanceof h:W&&Nu(W)==="object"&&typeof W.nodeType=="number"&&typeof W.nodeName=="string"},Fi=function(W,Ae,Fe){re[W]&&WBe(re[W],function(Ht){Ht.call(e,Ae,Fe,Hr)})},Dl=function(W){var Ae;if(Fi("beforeSanitizeElements",W,null),zi(W))return lr(W),!0;var Fe=un(W.nodeName);if(Fi("uponSanitizeElement",W,{tagName:Fe,allowedTags:z}),W.hasChildNodes()&&!oa(W.firstElementChild)&&(!oa(W.content)||!oa(W.content.firstElementChild))&&ao(/<[/\w]/g,W.innerHTML)&&ao(/<[/\w]/g,W.textContent))return lr(W),!0;if(!z[Fe]||Re[Fe]){if(!Re[Fe]&&Pl(Fe)&&(we.tagNameCheck instanceof RegExp&&ao(we.tagNameCheck,Fe)||we.tagNameCheck instanceof Function&&we.tagNameCheck(Fe)))return!1;if(mt&&!ne[Fe]){var Ht=T(W)||W.parentNode,In=N(W)||W.childNodes;if(In&&Ht)for(var li=In.length,tn=li-1;tn>=0;--tn)Ht.insertBefore(I(In[tn],!0),L(W))}return lr(W),!0}return W instanceof p&&!ci(W)||(Fe==="noscript"||Fe==="noembed")&&ao(/<\/no(script|embed)/i,W.innerHTML)?(lr(W),!0):(pt&&W.nodeType===3&&(Ae=W.textContent,Ae=rs(Ae,ae," "),Ae=rs(Ae,Ce," "),Ae=rs(Ae,xe," "),W.textContent!==Ae&&(rm(e.removed,{element:W.cloneNode()}),W.textContent=Ae)),Fi("afterSanitizeElements",W,null),!1)},ws=function(W,Ae,Fe){if(Te&&(Ae==="id"||Ae==="name")&&(Fe in o||Fe in Li))return!1;if(!(Gt&&!$e[Ae]&&ao(Ke,Ae))){if(!(it&&ao(ze,Ae))){if(!S[Ae]||$e[Ae]){if(!(Pl(W)&&(we.tagNameCheck instanceof RegExp&&ao(we.tagNameCheck,W)||we.tagNameCheck instanceof Function&&we.tagNameCheck(W))&&(we.attributeNameCheck instanceof RegExp&&ao(we.attributeNameCheck,Ae)||we.attributeNameCheck instanceof Function&&we.attributeNameCheck(Ae))||Ae==="is"&&we.allowCustomizedBuiltInElements&&(we.tagNameCheck instanceof RegExp&&ao(we.tagNameCheck,Fe)||we.tagNameCheck instanceof Function&&we.tagNameCheck(Fe))))return!1}else if(!De[Ae]){if(!ao(Y,rs(Fe,le,""))){if(!((Ae==="src"||Ae==="xlink:href"||Ae==="href")&&W!=="script"&&KBe(Fe,"data:")===0&&me[W])){if(!(Dt&&!ao(pe,rs(Fe,le,"")))){if(Fe)return!1}}}}}}return!0},Pl=function(W){return W.indexOf("-")>0},sa=function(W){var Ae,Fe,Ht,In;Fi("beforeSanitizeAttributes",W,null);var li=W.attributes;if(li){var tn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S};for(In=li.length;In--;){Ae=li[In];var xr=Ae,fn=xr.name,rc=xr.namespaceURI;if(Fe=fn==="value"?Ae.value:YBe(Ae.value),Ht=un(fn),tn.attrName=Ht,tn.attrValue=Fe,tn.keepAttr=!0,tn.forceKeepAttr=void 0,Fi("uponSanitizeAttribute",W,tn),Fe=tn.attrValue,!tn.forceKeepAttr&&(bs(fn,W),!!tn.keepAttr)){if(!Ct&&ao(/\/>/i,Fe)){bs(fn,W);continue}pt&&(Fe=rs(Fe,ae," "),Fe=rs(Fe,Ce," "),Fe=rs(Fe,xe," "));var qr=un(W.nodeName);if(ws(qr,Ht,Fe)){if(ue&&(Ht==="id"||Ht==="name")&&(bs(fn,W),Fe=Ve+Fe),O&&Nu(A)==="object"&&typeof A.getAttributeType=="function"&&!rc)switch(A.getAttributeType(qr,Ht)){case"TrustedHTML":Fe=O.createHTML(Fe);break;case"TrustedScriptURL":Fe=O.createScriptURL(Fe);break}try{rc?W.setAttributeNS(rc,fn,Fe):W.setAttribute(fn,Fe),D$(e.removed)}catch{}}}}Fi("afterSanitizeAttributes",W,null)}},qf=function st(W){var Ae,Fe=Ko(W);for(Fi("beforeSanitizeShadowDOM",W,null);Ae=Fe.nextNode();)Fi("uponSanitizeShadowNode",Ae,null),!Dl(Ae)&&(Ae.content instanceof a&&st(Ae.content),sa(Ae));Fi("afterSanitizeShadowDOM",W,null)};return e.sanitize=function(st){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ae,Fe,Ht,In;if(Pe=!st,Pe&&(st="<!-->"),typeof st!="string"&&!oa(st)){if(typeof st.toString!="function")throw NS("toString is not a function");if(st=st.toString(),typeof st!="string")throw NS("dirty is not a string, aborting")}if(!e.isSupported)return st;if(nt||Cr(W),e.removed=[],typeof st=="string"&&(Et=!1),Et){if(st.nodeName){var li=un(st.nodeName);if(!z[li]||Re[li])throw NS("root node is forbidden and cannot be sanitized in-place")}}else if(st instanceof h)Ae=Er("<!---->"),Fe=Ae.ownerDocument.importNode(st,!0),Fe.nodeType===1&&Fe.nodeName==="BODY"||Fe.nodeName==="HTML"?Ae=Fe:Ae.appendChild(Fe);else{if(!Q&&!pt&&!lt&&st.indexOf("<")===-1)return O&&ve?O.createHTML(st):st;if(Ae=Er(st),!Ae)return Q?null:ve?V:""}Ae&&B&&lr(Ae.firstChild);for(var tn=Ko(Et?st:Ae);Ht=tn.nextNode();)Dl(Ht)||(Ht.content instanceof a&&qf(Ht.content),sa(Ht));if(Et)return st;if(Q){if(K)for(In=ce.call(Ae.ownerDocument);Ae.firstChild;)In.appendChild(Ae.firstChild);else In=Ae;return(S.shadowroot||S.shadowrootmod)&&(In=Be.call(r,In,!0)),In}var xr=lt?Ae.outerHTML:Ae.innerHTML;return lt&&z["!doctype"]&&Ae.ownerDocument&&Ae.ownerDocument.doctype&&Ae.ownerDocument.doctype.name&&ao(aze,Ae.ownerDocument.doctype.name)&&(xr="<!DOCTYPE "+Ae.ownerDocument.doctype.name+`>
`+xr),pt&&(xr=rs(xr,ae," "),xr=rs(xr,Ce," "),xr=rs(xr,xe," ")),O&&ve?O.createHTML(xr):xr},e.setConfig=function(st){Cr(st),nt=!0},e.clearConfig=function(){Hr=null,nt=!1},e.isValidAttribute=function(st,W,Ae){Hr||Cr({});var Fe=un(st),Ht=un(W);return ws(Fe,Ht,Ae)},e.addHook=function(st,W){typeof W=="function"&&(re[st]=re[st]||[],rm(re[st],W))},e.removeHook=function(st){if(re[st])return D$(re[st])},e.removeHooks=function(st){re[st]&&(re[st]=[])},e.removeAllHooks=function(){re={}},e}var uze=gQ();function dze(){const{id:t}=EN(),{blog:e,loading:r}=ul(m=>m.blogReducer),o=JY(e,t),a=localStorage.getItem("page"),u=yd(),h=m=>{u(m)},p=async m=>{window.confirm("  ")&&(await Uu.doc(`blog/${m}`).delete(),u("/"))};if(G.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[window.history.state]),o){const m=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return Oe($u,{children:r?Oe("div",{children:"Loading.."}):wn("div",{className:"blog-flex",onWheel:b=>{const k=b.deltaY;if(b.pageY>=800){const v=document.querySelector(".blog-btn");v.style.opacity=k>0?"0":"1",v.style.visibility=k>0?"hidden":"visible"}},children:[wn("div",{className:"blog-title",children:[Oe("h1",{className:"root-overflow",children:o.title}),wn("div",{className:"blog-time",children:[Oe("span",{children:m.format(o.time.updatedAt)}),o.time.updated&&Oe("span",{children:"(  )"})]})]}),wn("div",{className:"blog-btn",children:[Oe("button",{onClick:()=>h(`/write/${t}`),children:""}),Oe("button",{onClick:()=>p(t),children:""}),Oe("button",{onClick:()=>h(`/page/${a}`),children:" "})]}),Oe("div",{className:"blog-inner ck-content",dangerouslySetInnerHTML:{__html:uze.sanitize(o.content)}})]})})}else return Oe("div",{children:"    "})}const hze=[{path:"/",element:Oe(sBe,{}),children:[{path:"",element:Oe(k$,{})},{path:"page/:page",element:Oe(k$,{})},{path:"blog/:id",element:Oe(dze,{})},{path:"write",element:Oe(T$,{})},{path:"write/:id",element:Oe(T$,{})},{path:"tag",element:Oe(MBe,{})}]},{path:"*",loader:()=>VPe("/")}];const fze=LMe(hze,{basename:"/react-blog_v2/"});FS.createRoot(document.getElementById("root")).render(Oe(Qwe,{store:mPe,children:Oe(SMe,{router:fze})}));
